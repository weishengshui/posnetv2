2012-06-26 09:16:58,723 [main            ] [INFO ] c.c.q.m.BootStrap           - Home directory: D:\posnetv2
2012-06-26 09:16:58,738 [main            ] [DEBUG] c.c.q.c.ConfigReader        - Home directory is set to D:\posnetv2
2012-06-26 09:16:58,738 [main            ] [DEBUG] c.c.q.c.ConfigReader        - Configuration subdirectory is set to conf
2012-06-26 09:16:58,738 [main            ] [DEBUG] c.c.q.c.ConfigReader        - Configuration directory is set to D:\posnetv2\conf
2012-06-26 09:16:58,738 [main            ] [DEBUG] c.c.q.c.ConfigReader        - Config file: D:\posnetv2\conf\posnet.ini
2012-06-26 09:16:58,738 [main            ] [DEBUG] c.c.q.c.ConfigReader        - Reading configuration file D:\posnetv2\conf\posnet.ini
2012-06-26 09:16:58,738 [main            ] [DEBUG] c.c.q.c.ConfigReader        - - D:\posnetv2\conf\posnet.ini is an .ini file, load using PropertiesConfiguration.
2012-06-26 09:16:58,770 [main            ] [DEBUG] c.c.PropertiesConfiguration - FileName set to posnet.ini
2012-06-26 09:16:58,770 [main            ] [DEBUG] c.c.PropertiesConfiguration - Base path set to D:\posnetv2\conf
2012-06-26 09:16:58,770 [main            ] [DEBUG] o.a.c.c.ConfigurationUtils  - ConfigurationUtils.locate(): base is D:\posnetv2\conf, name is posnet.ini
2012-06-26 09:16:58,770 [main            ] [DEBUG] o.a.c.c.DefaultFileSystem   - Could not locate file posnet.ini at D:\posnetv2\conf: unknown protocol: d
2012-06-26 09:16:58,770 [main            ] [DEBUG] o.a.c.c.ConfigurationUtils  - Loading configuration from the path D:\posnetv2\conf\posnet.ini
2012-06-26 09:16:58,816 [main            ] [DEBUG] o.a.c.c.ConfigurationUtils  - ConfigurationUtils.locate(): base is D:\posnetv2\conf, name is dispatcher.ini
2012-06-26 09:16:58,816 [main            ] [DEBUG] o.a.c.c.DefaultFileSystem   - Could not locate file dispatcher.ini at D:\posnetv2\conf: unknown protocol: d
2012-06-26 09:16:58,816 [main            ] [DEBUG] o.a.c.c.ConfigurationUtils  - Loading configuration from the path D:\posnetv2\conf\dispatcher.ini
2012-06-26 09:16:58,832 [main            ] [DEBUG] c.c.q.m.BootStrap           - System configuration:
2012-06-26 09:16:58,832 [main            ] [DEBUG] c.c.q.m.BootStrap           - - server.port: 1234
2012-06-26 09:16:58,832 [main            ] [DEBUG] c.c.q.m.BootStrap           - - server.client_max_idle_time: 20
2012-06-26 09:16:58,832 [main            ] [DEBUG] c.c.q.m.BootStrap           - - server.session.timeout_check_interval: 10
2012-06-26 09:16:58,832 [main            ] [DEBUG] c.c.q.m.BootStrap           - - server.session.client_timeout: 210
2012-06-26 09:16:58,832 [main            ] [DEBUG] c.c.q.m.BootStrap           - - server.disable_checksum_check: 0
2012-06-26 09:16:58,832 [main            ] [DEBUG] c.c.q.m.BootStrap           - - server.service_handler.thread_pool_size: 20
2012-06-26 09:16:58,832 [main            ] [DEBUG] c.c.q.m.BootStrap           - - firmware.location: D:\posnetv2\posnet2-mgmtui\firmware
2012-06-26 09:16:58,832 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.hibernate.show_sql: [true, true]
2012-06-26 09:16:58,832 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.hibernate.hbm2ddl.auto: false
2012-06-26 09:16:58,832 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.ext.hibernate.dialect: org.hibernate.dialect.MySQL5Dialect
2012-06-26 09:16:58,832 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.user: root
2012-06-26 09:16:58,832 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.password: 167118
2012-06-26 09:16:58,832 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.driver: com.mysql.jdbc.Driver
2012-06-26 09:16:58,832 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.url: jdbc:mysql://localhost/posnet?autoReconnect=true&useUnicode=true&characterEncoding=UTF-8
2012-06-26 09:16:58,832 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.ext.hibernate.connection.provider_class: org.hibernate.connection.C3P0ConnectionProvider
2012-06-26 09:16:58,832 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.ext.hibernate.c3p0.minPoolSize: 5
2012-06-26 09:16:58,832 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.ext.hibernate.c3p0.maxPoolSize: 20
2012-06-26 09:16:58,832 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.ext.hibernate.c3p0.maxIdleTime: 1800
2012-06-26 09:16:58,832 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.ext.hibernate.c3p0.testConnectionOnCheckout: true
2012-06-26 09:16:58,832 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.ext.hibernate.c3p0.maxStatements: 50
2012-06-26 09:16:58,832 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.ext.hibernate.c3p0.maxStatementsPerConnection: 10
2012-06-26 09:16:58,832 [main            ] [DEBUG] c.c.q.m.BootStrap           - - qq.groupbuy.url.groupBuyingSearchGroupon: http://localhost:7070/testdata/TuanSearchListVO.xml
2012-06-26 09:16:58,832 [main            ] [DEBUG] c.c.q.m.BootStrap           - - qq.groupbuy.url.groupBuyingValidationUrl: http://localhost:7070/testdata/TuanValidateResultVO.xml
2012-06-26 09:16:58,832 [main            ] [DEBUG] c.c.q.m.BootStrap           - - qq.groupbuy.url.groupBuyingUnbindPosUrl: http://localhost:7070/testdata/TuanUnbindVO.xml
2012-06-26 09:16:58,832 [main            ] [DEBUG] c.c.q.m.BootStrap           - - txserver.key: JXTPOS
2012-06-26 09:16:58,832 [main            ] [DEBUG] c.c.q.m.BootStrap           - - qq.meishi.wsapi.host: localhost:7070
2012-06-26 09:16:58,832 [main            ] [DEBUG] c.c.q.m.BootStrap           - - qq.meishi.wsapi.url: http://localhost:7070/qq-meishi/data
2012-06-26 09:16:58,832 [main            ] [DEBUG] c.c.q.m.BootStrap           - - qq.meishi.wsapi.secretKey: NDA2ZTkwOTExZjlkZDY3ZTIxMTU1OTY0NmVlYzVmY2Q=
2012-06-26 09:16:58,832 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.1.handler: com.chinarewards.qqgbvpn.main.protocol.handler.SearchCommandHandler
2012-06-26 09:16:58,832 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.1.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.SearchBodyMessageCodec
2012-06-26 09:16:58,832 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.2.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.SearchBodyMessageResponseCodec
2012-06-26 09:16:58,832 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.3.handler: com.chinarewards.qqgbvpn.main.protocol.handler.ValidateCommandHandler
2012-06-26 09:16:58,832 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.3.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.ValidateBodyMessageCodec
2012-06-26 09:16:58,832 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.4.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.ValidateBodyMessageResponseCodec
2012-06-26 09:16:58,832 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.5.handler: com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler
2012-06-26 09:16:58,832 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.5.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageCodec
2012-06-26 09:16:58,832 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.6.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageResponseCodec
2012-06-26 09:16:58,832 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.7.handler: com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler
2012-06-26 09:16:58,832 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.7.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageCodec
2012-06-26 09:16:58,832 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.8.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageResponseCodec
2012-06-26 09:16:58,832 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.9.handler: com.chinarewards.qqgbvpn.main.protocol.handler.BindCommandHandler
2012-06-26 09:16:58,832 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.9.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageCodec
2012-06-26 09:16:58,832 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.10.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageResponseCodec
2012-06-26 09:16:58,832 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.11.handler: com.chinarewards.qqgbvpn.main.protocol.handler.ValidationCallbackHandler
2012-06-26 09:16:58,832 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.11.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.ValidationCallbackCodec
2012-06-26 09:16:58,848 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.12.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.ValidationCallbackResponseCodec
2012-06-26 09:16:58,848 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.13.handler: com.chinarewards.qqgbvpn.main.protocol.handler.FirmwareUpgradeRequestCommandHandler
2012-06-26 09:16:58,848 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.13.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.FirmwareRequestMessageCodec
2012-06-26 09:16:58,848 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.14.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.FirmwareResponseMessageCodec
2012-06-26 09:16:58,848 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.15.handler: com.chinarewards.qqgbvpn.main.protocol.handler.GetFirmwareFragmentHandler
2012-06-26 09:16:58,848 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.15.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.GetFirmwareFragmentRequestMessageCodec
2012-06-26 09:16:58,848 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.16.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.GetFirmwareFragmentResponseMessageCodec
2012-06-26 09:16:58,848 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.17.handler: com.chinarewards.qqgbvpn.main.protocol.handler.FirmwareUpDoneHandler
2012-06-26 09:16:58,848 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.17.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.FirmwareUpDoneRequestCodec
2012-06-26 09:16:58,848 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.18.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.FirmwareUpDoneResponseCodec
2012-06-26 09:16:58,848 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.19.handler: com.chinarewards.qqgbvpn.main.protocol.handler.HuaxiaSearchCommandHandler
2012-06-26 09:16:58,848 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.19.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.HuaxiaSearchBodyMessageCodec
2012-06-26 09:16:58,848 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.20.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.HuaxiaSearchBodyMessageResponseCodec
2012-06-26 09:16:58,848 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.21.handler: com.chinarewards.qqgbvpn.main.protocol.handler.HuaxiaConfirmCommandHandler
2012-06-26 09:16:58,848 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.21.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.HuaxiaConfirmBodyMessageCodec
2012-06-26 09:16:58,848 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.22.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.HuaxiaConfirmBodyMessageResponseCodec
2012-06-26 09:16:58,848 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.23.handler: com.chinarewards.qqgbvpn.main.protocol.handler.HuaxiaAckCommandHandler
2012-06-26 09:16:58,848 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.23.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.HuaxiaAckBodyMessageCodec
2012-06-26 09:16:58,848 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.24.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.HuaxiaAckBodyMessageResponseCodec
2012-06-26 09:16:58,848 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.25.handler: com.chinarewards.qqgbvpn.main.protocol.handler.PosEchoCommandHandler
2012-06-26 09:16:58,848 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.25.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.PosEchoCommandRequestMessageCodec
2012-06-26 09:16:58,848 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.26.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.PosEchoCommandResponseMessageCodec
2012-06-26 09:16:58,848 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.27.handler: com.chinarewards.qqgbvpn.main.protocol.handler.ValidateCommandHandler2
2012-06-26 09:16:58,848 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.27.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.ValidateBodyMessageCodec2
2012-06-26 09:16:58,848 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.28.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.ValidateBodyMessageResponseCodec2
2012-06-26 09:16:58,848 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.101.handler: com.chinarewards.qqgbvpn.main.protocol.handler.QQMeishiCommandHandler
2012-06-26 09:16:58,848 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.101.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.QQMeishiBodyMessageCodec
2012-06-26 09:16:58,848 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.102.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.QQMeishiBodyMessageResponseCodec
2012-06-26 09:16:58,848 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.201.handler: com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler
2012-06-26 09:16:58,848 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.201.codec: com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftMessageCodec
2012-06-26 09:16:58,848 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.202.codec: com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftResponseMessageCodec
2012-06-26 09:16:58,848 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.110.handler: com.chinarewards.timeserver.main.protocol.handler.TimeServerHandler
2012-06-26 09:16:58,848 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.110.codec: com.chinarewards.timeserver.main.protocol.socket.mina.codec.TimeServerMessageCodec
2012-06-26 09:16:58,848 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.111.codec: com.chinarewards.timeserver.main.protocol.socket.mina.codec.TimeServerMessageResponseCodec
2012-06-26 09:16:58,848 [main            ] [DEBUG] c.c.q.m.BootStrap           - - qq.vip.adidas.des.secretkey: qqadidas
2012-06-26 09:16:58,848 [main            ] [INFO ] c.c.q.m.BootStrap           - Bootstrapping...
2012-06-26 09:16:58,848 [main            ] [INFO ] c.c.q.m.BootStrap           - Initializing dependency injection environment...
2012-06-26 09:16:58,941 [main            ] [INFO ] c.c.q.m.BootStrap           - Creating Guice injector. If it is stucked, there is a chance the database is down.
2012-06-26 09:16:59,082 [main            ] [DEBUG] .q.m.p.ServiceHandlerModule - Finished configuration
2012-06-26 09:16:59,082 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.SearchCommandHandler to Guice
2012-06-26 09:16:59,082 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.QQMeishiCommandHandler to Guice
2012-06-26 09:16:59,082 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.ValidateCommandHandler to Guice
2012-06-26 09:16:59,082 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler to Guice
2012-06-26 09:16:59,082 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler to Guice
2012-06-26 09:16:59,082 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler to Guice
2012-06-26 09:16:59,082 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.timeserver.main.protocol.handler.TimeServerHandler to Guice
2012-06-26 09:16:59,082 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.BindCommandHandler to Guice
2012-06-26 09:16:59,082 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.ValidationCallbackHandler to Guice
2012-06-26 09:16:59,082 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.FirmwareUpgradeRequestCommandHandler to Guice
2012-06-26 09:16:59,082 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.GetFirmwareFragmentHandler to Guice
2012-06-26 09:16:59,097 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.FirmwareUpDoneHandler to Guice
2012-06-26 09:16:59,097 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.HuaxiaSearchCommandHandler to Guice
2012-06-26 09:16:59,097 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.HuaxiaConfirmCommandHandler to Guice
2012-06-26 09:16:59,097 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.HuaxiaAckCommandHandler to Guice
2012-06-26 09:16:59,097 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.PosEchoCommandHandler to Guice
2012-06-26 09:16:59,097 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.ValidateCommandHandler2 to Guice
2012-06-26 09:16:59,097 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Configuration completed
2012-06-26 09:16:59,425 [main            ] [INFO ] c.c.q.m.BootStrap           - Bootstrapping completed
2012-06-26 09:16:59,425 [main            ] [DEBUG] dule$ServiceMappingProvider - Returning ServiceMapping
2012-06-26 09:16:59,425 [main            ] [DEBUG] $$EnhancerByGuice$$97046352 - ServiceHandlerObjectFactory is com.chinarewards.qqgbvpn.main.protocol.guice.GuiceServiceHandlerObjectFactory@992bae
2012-06-26 09:17:01,845 [main            ] [DEBUG] c.c.q.m.PosServer           - idleTime=20
2012-06-26 09:17:01,891 [main            ] [DEBUG] c.c.q.m.PosServer           -  monitor port =9999
2012-06-26 09:17:01,891 [main            ] [DEBUG] c.c.q.m.PosServer           -  JMXServiceURL =service:jmx:rmi:///jndi/rmi://localhost:9999/jmxrmi
2012-06-26 09:17:01,907 [main            ] [INFO ] c.c.q.m.PosServer           - Client idle timeout set to 20 seconds
2012-06-26 09:17:01,923 [main            ] [DEBUG] c.c.q.m.PosServer           - config server.session.timeout_check_interval=10
2012-06-26 09:17:01,923 [main            ] [INFO ] c.c.q.m.PosServer           - Server running, listening on 1234
2012-06-26 09:17:01,954 [main            ] [INFO ] c.c.q.m.r.RMIRegistry       - Start listener rmi server, port=9999
2012-06-26 09:17:03,234 [main            ] [INFO ] c.c.q.m.r.RMIRegistry       - no existing RMI registry found on port 9999, creating...
2012-06-26 09:17:03,234 [main            ] [INFO ] c.c.q.m.r.RMIRegistry       - RMI server create success.
2012-06-26 09:17:11,943 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:17:11,943 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:17:11,943 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 09:17:11,943 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 09:17:11,943 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:17:15,206 [NioProcessor-2  ] [INFO ] c.c.q.m.p.f.LoggingFilter   - incoming connection from remote address: 127.0.0.1:1854, Mina session ID: 1
2012-06-26 09:17:15,206 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - Currently managed session count: 1
2012-06-26 09:17:15,206 [NioProcessor-2  ] [INFO ] o.a.m.f.l.LoggingFilter     - CREATED
2012-06-26 09:17:15,206 [NioProcessor-2  ] [INFO ] o.a.m.f.l.LoggingFilter     - OPENED
2012-06-26 09:17:15,206 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:1854, Mina session ID 1, identified POS ID null
2012-06-26 09:17:15,206 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 09:17:15,237 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=32 cap=2048: 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20...]
2012-06-26 09:17:15,237 [NioProcessor-2  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 1
2012-06-26 09:17:15,237 [NioProcessor-2  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 09:17:15,237 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 09:17:15,237 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 1
2012-06-26 09:17:15,237 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =32
2012-06-26 09:17:15,237 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 09:17:15,237 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 32, current position: 0
2012-06-26 09:17:15,237 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 09:17:15,237 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}
2012-06-26 09:17:15,237 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 16
2012-06-26 09:17:15,237 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=16, in.remaining=16
2012-06-26 09:17:15,237 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 09:17:15,237 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 5
2012-06-26 09:17:15,237 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 5: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageCodec@b3c24f
2012-06-26 09:17:15,237 [NioProcessor-2  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - init request message decode
2012-06-26 09:17:15,237 [NioProcessor-2  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - in.remaining()=16
2012-06-26 09:17:15,237 [NioProcessor-2  ] [TRACE] .m.p.s.m.c.InitMessageCodec - InitRequestMessage: [cmdId=5, posId=pos-0002]
2012-06-26 09:17:15,237 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 09:17:15,237 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 09:17:15,237 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 09:17:15,237 [NioProcessor-2  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 09:17:15,237 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 09:17:15,237 [NioProcessor-2  ] [DEBUG] p.f.SessionKeyMessageFilter - Mina session ID 1: created session key 4a07088f4bff495aa62df0b20edec517
2012-06-26 09:17:15,237 [NioProcessor-2  ] [DEBUG] p.f.SessionKeyMessageFilter - creating session for mina session ID 1 using session ID 4a07088f4bff495aa62df0b20edec517
2012-06-26 09:17:15,237 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 09:17:15,237 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 09:17:15,237 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 09:17:15,237 [NioProcessor-2  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:1854, Mina session ID 1, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 09:17:15,237 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 09:17:15,237 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 09:17:15,237 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 09:17:15,237 [NioProcessor-2  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 09:17:15,237 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 09:17:15,252 [pool-4-thread-1 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 09:17:15,284 [pool-4-thread-1 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 09:17:15,299 [pool-4-thread-1 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@1d9e5ad obtained for command ID 5
2012-06-26 09:17:15,299 [pool-4-thread-1 ] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 5 is com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@1d9e5ad
2012-06-26 09:17:15,299 [pool-4-thread-1 ] [DEBUG] .q.m.p.h.InitCommandHandler - InitCommandHandler======execute==bodyMessage=:  [cmdId=5, posId=pos-0002]
2012-06-26 09:17:15,299 [pool-4-thread-1 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - InitResponse() invoke
2012-06-26 09:17:15,299 [pool-4-thread-1 ] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:ALLOWED
2012-06-26 09:17:15,299 [pool-4-thread-1 ] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId AND p.ostatus = :ostatus
2012-06-26 09:17:15,611 [pool-4-thread-1 ] [WARN ] .q.m.l.l.i.LoginManagerImpl - No usable POS machine found. POS ID not exists or not assigned.
2012-06-26 09:17:15,908 [pool-4-thread-1 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 09:17:15,939 [pool-4-thread-1 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 09:17:15,939 [pool-4-thread-1 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 09:17:15,939 [pool-4-thread-1 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 09:17:15,939 [pool-4-thread-1 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 1
2012-06-26 09:17:15,939 [pool-4-thread-1 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (6)
2012-06-26 09:17:15,939 [pool-4-thread-1 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageResponseCodec@80669d
2012-06-26 09:17:15,939 [pool-4-thread-1 ] [DEBUG] .c.InitMessageResponseCodec - init response message encode
2012-06-26 09:17:15,939 [pool-4-thread-1 ] [TRACE] .c.InitMessageResponseCodec - InitResponseMessage: [cmdId=6, result=3, challenge=[102, 105, 90, 106, 52, 70, 109, 73]]
2012-06-26 09:17:15,939 [pool-4-thread-1 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0x9d74
2012-06-26 09:17:15,939 [pool-4-thread-1 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 09:17:15,939 [pool-4-thread-1 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 9D 74 00 00 00 1E ...........t....
00000010 00 00 00 06 00 03 66 69 5A 6A 34 46 6D 49       ......fiZj4FmI

2012-06-26 09:17:15,939 [pool-4-thread-1 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 09:17:15,939 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 09:17:15,939 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 09:17:15,939 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 1: not mark to return session ID to client
2012-06-26 09:17:15,939 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 09:17:15,939 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 09:17:15,939 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 09:17:15,939 [NioProcessor-2  ] [INFO ] o.a.m.f.l.LoggingFilter     - CLOSED
2012-06-26 09:17:15,939 [NioProcessor-2  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 09:17:15,986 [NioProcessor-3  ] [INFO ] c.c.q.m.p.f.LoggingFilter   - incoming connection from remote address: 127.0.0.1:1855, Mina session ID: 2
2012-06-26 09:17:15,986 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - Currently managed session count: 1
2012-06-26 09:17:15,986 [NioProcessor-3  ] [INFO ] o.a.m.f.l.LoggingFilter     - CREATED
2012-06-26 09:17:15,986 [NioProcessor-3  ] [INFO ] o.a.m.f.l.LoggingFilter     - OPENED
2012-06-26 09:17:15,986 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:1855, Mina session ID 2, identified POS ID null
2012-06-26 09:17:15,986 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 09:17:15,986 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=32 cap=2048: 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20...]
2012-06-26 09:17:15,986 [NioProcessor-3  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 2
2012-06-26 09:17:15,986 [NioProcessor-3  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 09:17:15,986 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 09:17:15,986 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 2
2012-06-26 09:17:15,986 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =32
2012-06-26 09:17:15,986 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 09:17:15,986 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 32, current position: 0
2012-06-26 09:17:15,986 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 09:17:15,986 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}
2012-06-26 09:17:15,986 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 16
2012-06-26 09:17:15,986 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=16, in.remaining=16
2012-06-26 09:17:15,986 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 09:17:15,986 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 5
2012-06-26 09:17:15,986 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 5: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageCodec@aa559d
2012-06-26 09:17:15,986 [NioProcessor-3  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - init request message decode
2012-06-26 09:17:15,986 [NioProcessor-3  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - in.remaining()=16
2012-06-26 09:17:15,986 [NioProcessor-3  ] [TRACE] .m.p.s.m.c.InitMessageCodec - InitRequestMessage: [cmdId=5, posId=pos-0002]
2012-06-26 09:17:15,986 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 09:17:15,986 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 09:17:15,986 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 09:17:15,986 [NioProcessor-3  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 09:17:15,986 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 09:17:15,986 [NioProcessor-3  ] [DEBUG] p.f.SessionKeyMessageFilter - Mina session ID 2: created session key 8f6d29fdeea5457d9f1a6f4f75d5c5ca
2012-06-26 09:17:15,986 [NioProcessor-3  ] [DEBUG] p.f.SessionKeyMessageFilter - creating session for mina session ID 2 using session ID 8f6d29fdeea5457d9f1a6f4f75d5c5ca
2012-06-26 09:17:15,986 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 09:17:15,986 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 09:17:15,986 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 09:17:15,986 [NioProcessor-3  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:1855, Mina session ID 2, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 09:17:15,986 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 09:17:15,986 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 09:17:15,986 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 09:17:15,986 [NioProcessor-3  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 09:17:15,986 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 09:17:15,986 [pool-4-thread-2 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 09:17:16,002 [pool-4-thread-2 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 09:17:16,002 [pool-4-thread-2 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@edbca8 obtained for command ID 5
2012-06-26 09:17:16,002 [pool-4-thread-2 ] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 5 is com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@edbca8
2012-06-26 09:17:16,002 [pool-4-thread-2 ] [DEBUG] .q.m.p.h.InitCommandHandler - InitCommandHandler======execute==bodyMessage=:  [cmdId=5, posId=pos-0002]
2012-06-26 09:17:16,002 [pool-4-thread-2 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - InitResponse() invoke
2012-06-26 09:17:16,002 [pool-4-thread-2 ] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:ALLOWED
2012-06-26 09:17:16,002 [pool-4-thread-2 ] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId AND p.ostatus = :ostatus
2012-06-26 09:17:16,002 [pool-4-thread-2 ] [WARN ] .q.m.l.l.i.LoginManagerImpl - No usable POS machine found. POS ID not exists or not assigned.
2012-06-26 09:17:16,002 [pool-4-thread-2 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 09:17:16,017 [pool-4-thread-2 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 09:17:16,017 [pool-4-thread-2 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 09:17:16,017 [pool-4-thread-2 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 09:17:16,017 [pool-4-thread-2 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 2
2012-06-26 09:17:16,017 [pool-4-thread-2 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (6)
2012-06-26 09:17:16,017 [pool-4-thread-2 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageResponseCodec@b6f7f5
2012-06-26 09:17:16,017 [pool-4-thread-2 ] [DEBUG] .c.InitMessageResponseCodec - init response message encode
2012-06-26 09:17:16,017 [pool-4-thread-2 ] [TRACE] .c.InitMessageResponseCodec - InitResponseMessage: [cmdId=6, result=3, challenge=[115, 69, 72, 73, 97, 114, 106, 121]]
2012-06-26 09:17:16,017 [pool-4-thread-2 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0x785d
2012-06-26 09:17:16,017 [pool-4-thread-2 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 09:17:16,017 [pool-4-thread-2 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 78 5D 00 00 00 1E ..........x]....
00000010 00 00 00 06 00 03 73 45 48 49 61 72 6A 79       ......sEHIarjy

2012-06-26 09:17:16,017 [pool-4-thread-2 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 09:17:16,017 [NioProcessor-3  ] [INFO ] o.a.m.f.l.LoggingFilter     - CLOSED
2012-06-26 09:17:16,017 [NioProcessor-3  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 09:17:16,048 [NioProcessor-1  ] [INFO ] c.c.q.m.p.f.LoggingFilter   - incoming connection from remote address: 127.0.0.1:1856, Mina session ID: 3
2012-06-26 09:17:16,048 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - Currently managed session count: 1
2012-06-26 09:17:16,048 [NioProcessor-1  ] [INFO ] o.a.m.f.l.LoggingFilter     - CREATED
2012-06-26 09:17:16,048 [NioProcessor-1  ] [INFO ] o.a.m.f.l.LoggingFilter     - OPENED
2012-06-26 09:17:16,048 [NioProcessor-1  ] [INFO ] o.a.m.f.l.LoggingFilter     - CLOSED
2012-06-26 09:17:16,048 [NioProcessor-1  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 09:17:16,080 [NioProcessor-2  ] [INFO ] c.c.q.m.p.f.LoggingFilter   - incoming connection from remote address: 127.0.0.1:1857, Mina session ID: 4
2012-06-26 09:17:16,080 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - Currently managed session count: 1
2012-06-26 09:17:16,080 [NioProcessor-2  ] [INFO ] o.a.m.f.l.LoggingFilter     - CREATED
2012-06-26 09:17:16,080 [NioProcessor-2  ] [INFO ] o.a.m.f.l.LoggingFilter     - OPENED
2012-06-26 09:17:16,080 [NioProcessor-2  ] [INFO ] o.a.m.f.l.LoggingFilter     - CLOSED
2012-06-26 09:17:16,080 [NioProcessor-2  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 09:17:21,980 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:17:21,980 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:17:21,980 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 09:17:21,980 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 09:17:21,980 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:17:31,985 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:17:31,985 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:17:31,985 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 09:17:31,985 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 09:17:31,985 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:17:41,990 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:17:41,990 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:17:41,990 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 09:17:41,990 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 09:17:41,990 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:17:51,995 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:17:51,995 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:17:51,995 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 09:17:51,995 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 09:17:51,995 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:18:02,000 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:18:02,000 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:18:02,000 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 09:18:02,000 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 09:18:02,000 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:18:12,005 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:18:12,005 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:18:12,005 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 09:18:12,005 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 09:18:12,005 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:18:22,010 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:18:22,010 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:18:22,010 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 09:18:22,010 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 09:18:22,010 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:18:32,015 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:18:32,015 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:18:32,015 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 09:18:32,015 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 09:18:32,015 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:18:42,021 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:18:42,021 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:18:42,021 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 09:18:42,021 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 09:18:42,021 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:18:52,026 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:18:52,026 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:18:52,026 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 09:18:52,026 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 09:18:52,026 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:19:02,031 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:19:02,031 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:19:02,031 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 09:19:02,031 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 09:19:02,031 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:19:12,036 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:19:12,036 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:19:12,036 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 09:19:12,036 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 09:19:12,036 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:19:22,041 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:19:22,041 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:19:22,041 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 09:19:22,041 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 09:19:22,041 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:19:32,046 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:19:32,046 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:19:32,046 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 09:19:32,046 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 09:19:32,046 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:19:36,448 [NioProcessor-3  ] [INFO ] c.c.q.m.p.f.LoggingFilter   - incoming connection from remote address: 127.0.0.1:1864, Mina session ID: 5
2012-06-26 09:19:36,448 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - Currently managed session count: 1
2012-06-26 09:19:36,448 [NioProcessor-3  ] [INFO ] o.a.m.f.l.LoggingFilter     - CREATED
2012-06-26 09:19:36,448 [NioProcessor-3  ] [INFO ] o.a.m.f.l.LoggingFilter     - OPENED
2012-06-26 09:19:36,448 [NioProcessor-3  ] [INFO ] o.a.m.f.l.LoggingFilter     - CLOSED
2012-06-26 09:19:36,448 [NioProcessor-3  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 09:19:42,067 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:19:42,067 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:19:42,067 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 09:19:42,067 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 09:19:42,067 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:19:52,073 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:19:52,073 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:19:52,073 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 09:19:52,073 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 09:19:52,073 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:20:02,083 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:20:02,083 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:20:02,083 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 09:20:02,083 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 09:20:02,083 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:20:12,094 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:20:12,094 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:20:12,094 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 09:20:12,094 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 09:20:12,094 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:20:22,105 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:20:22,105 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:20:22,105 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 09:20:22,105 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 09:20:22,105 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:20:32,116 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:20:32,116 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:20:32,116 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 09:20:32,116 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 09:20:32,116 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:20:42,126 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:20:42,126 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:20:42,126 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 09:20:42,126 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 09:20:42,126 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:20:52,137 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:20:52,137 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:20:52,137 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 09:20:52,137 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 09:20:52,137 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:21:02,148 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:21:02,148 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:21:02,148 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 09:21:02,148 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 09:21:02,148 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:21:12,158 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:21:12,158 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:21:12,158 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 09:21:12,158 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 09:21:12,158 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:21:22,169 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:21:22,169 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:21:22,169 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 09:21:22,169 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 09:21:22,169 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:21:32,180 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:21:32,180 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:21:32,180 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 09:21:32,180 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 09:21:32,180 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:21:40,629 [NioProcessor-1  ] [INFO ] c.c.q.m.p.f.LoggingFilter   - incoming connection from remote address: 127.0.0.1:1867, Mina session ID: 6
2012-06-26 09:21:40,629 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - Currently managed session count: 1
2012-06-26 09:21:40,629 [NioProcessor-1  ] [INFO ] o.a.m.f.l.LoggingFilter     - CREATED
2012-06-26 09:21:40,629 [NioProcessor-1  ] [INFO ] o.a.m.f.l.LoggingFilter     - OPENED
2012-06-26 09:21:40,629 [NioProcessor-1  ] [INFO ] o.a.m.f.l.LoggingFilter     - CLOSED
2012-06-26 09:21:40,629 [NioProcessor-1  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 09:21:42,206 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:21:42,206 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:21:42,206 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 09:21:42,206 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 09:21:42,206 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:21:52,139 [NioProcessor-2  ] [INFO ] c.c.q.m.p.f.LoggingFilter   - incoming connection from remote address: 127.0.0.1:1870, Mina session ID: 7
2012-06-26 09:21:52,139 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - Currently managed session count: 1
2012-06-26 09:21:52,139 [NioProcessor-2  ] [INFO ] o.a.m.f.l.LoggingFilter     - CREATED
2012-06-26 09:21:52,139 [NioProcessor-2  ] [INFO ] o.a.m.f.l.LoggingFilter     - OPENED
2012-06-26 09:21:52,139 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:1870, Mina session ID 7, identified POS ID null
2012-06-26 09:21:52,139 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 09:21:52,139 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=32 cap=2048: 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20...]
2012-06-26 09:21:52,154 [NioProcessor-2  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 7
2012-06-26 09:21:52,170 [NioProcessor-2  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 09:21:52,170 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 09:21:52,170 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 7
2012-06-26 09:21:52,170 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =32
2012-06-26 09:21:52,170 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 09:21:52,170 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 32, current position: 0
2012-06-26 09:21:52,170 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 09:21:52,170 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}
2012-06-26 09:21:52,170 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 16
2012-06-26 09:21:52,170 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=16, in.remaining=16
2012-06-26 09:21:52,170 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 09:21:52,170 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 5
2012-06-26 09:21:52,170 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 5: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageCodec@1b14530
2012-06-26 09:21:52,170 [NioProcessor-2  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - init request message decode
2012-06-26 09:21:52,170 [NioProcessor-2  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - in.remaining()=16
2012-06-26 09:21:52,170 [NioProcessor-2  ] [TRACE] .m.p.s.m.c.InitMessageCodec - InitRequestMessage: [cmdId=5, posId=pos-0002]
2012-06-26 09:21:52,170 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 09:21:52,170 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 09:21:52,170 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 09:21:52,170 [NioProcessor-2  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 09:21:52,170 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 09:21:52,170 [NioProcessor-2  ] [DEBUG] p.f.SessionKeyMessageFilter - Mina session ID 7: created session key f73d690df19a48feb2be066f201fc939
2012-06-26 09:21:52,170 [NioProcessor-2  ] [DEBUG] p.f.SessionKeyMessageFilter - creating session for mina session ID 7 using session ID f73d690df19a48feb2be066f201fc939
2012-06-26 09:21:52,170 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 09:21:52,170 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 09:21:52,170 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 09:21:52,170 [NioProcessor-2  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:1870, Mina session ID 7, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 09:21:52,170 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 09:21:52,170 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 09:21:52,170 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 09:21:52,170 [NioProcessor-2  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 09:21:52,170 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 09:21:52,170 [pool-4-thread-3 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 09:21:52,170 [pool-4-thread-3 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 09:21:52,170 [pool-4-thread-3 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@c3d062 obtained for command ID 5
2012-06-26 09:21:52,170 [pool-4-thread-3 ] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 5 is com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@c3d062
2012-06-26 09:21:52,170 [pool-4-thread-3 ] [DEBUG] .q.m.p.h.InitCommandHandler - InitCommandHandler======execute==bodyMessage=:  [cmdId=5, posId=pos-0002]
2012-06-26 09:21:52,170 [pool-4-thread-3 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - InitResponse() invoke
2012-06-26 09:21:52,170 [pool-4-thread-3 ] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:ALLOWED
2012-06-26 09:21:52,170 [pool-4-thread-3 ] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId AND p.ostatus = :ostatus
2012-06-26 09:21:52,170 [pool-4-thread-3 ] [WARN ] .q.m.l.l.i.LoginManagerImpl - No usable POS machine found. POS ID not exists or not assigned.
2012-06-26 09:21:52,170 [pool-4-thread-3 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 09:21:52,185 [pool-4-thread-3 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 09:21:52,185 [pool-4-thread-3 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 09:21:52,201 [pool-4-thread-3 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 09:21:52,201 [pool-4-thread-3 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 7
2012-06-26 09:21:52,201 [pool-4-thread-3 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (6)
2012-06-26 09:21:52,201 [pool-4-thread-3 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageResponseCodec@73bc22
2012-06-26 09:21:52,201 [pool-4-thread-3 ] [DEBUG] .c.InitMessageResponseCodec - init response message encode
2012-06-26 09:21:52,201 [pool-4-thread-3 ] [TRACE] .c.InitMessageResponseCodec - InitResponseMessage: [cmdId=6, result=3, challenge=[119, 98, 66, 89, 110, 102, 112, 109]]
2012-06-26 09:21:52,201 [pool-4-thread-3 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0x6748
2012-06-26 09:21:52,201 [pool-4-thread-3 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 09:21:52,201 [pool-4-thread-3 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 67 48 00 00 00 1E ..........gH....
00000010 00 00 00 06 00 03 77 62 42 59 6E 66 70 6D       ......wbBYnfpm

2012-06-26 09:21:52,201 [pool-4-thread-3 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 09:21:52,201 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 09:21:52,201 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 09:21:52,201 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 7: not mark to return session ID to client
2012-06-26 09:21:52,201 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 09:21:52,201 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 09:21:52,201 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 09:21:52,201 [NioProcessor-2  ] [INFO ] o.a.m.f.l.LoggingFilter     - CLOSED
2012-06-26 09:21:52,201 [NioProcessor-2  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 09:21:52,217 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:21:52,217 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:21:52,217 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 09:21:52,217 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 09:21:52,217 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:22:02,227 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:22:02,227 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:22:02,227 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 09:22:02,227 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 09:22:02,227 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:22:12,238 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:22:12,238 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:22:12,238 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 09:22:12,238 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 09:22:12,238 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:22:22,249 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:22:22,249 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:22:22,249 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 09:22:22,249 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 09:22:22,249 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:22:32,259 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:22:32,259 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:22:32,259 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 09:22:32,259 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 09:22:32,259 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:22:42,270 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:22:42,270 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:22:42,270 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 09:22:42,270 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 09:22:42,270 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:22:52,281 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:22:52,281 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:22:52,281 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 09:22:52,281 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 09:22:52,281 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:23:02,291 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:23:02,291 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:23:02,291 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 09:23:02,291 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 09:23:02,291 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:23:10,631 [NioProcessor-3  ] [INFO ] c.c.q.m.p.f.LoggingFilter   - incoming connection from remote address: 127.0.0.1:1888, Mina session ID: 8
2012-06-26 09:23:10,631 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - Currently managed session count: 1
2012-06-26 09:23:10,631 [NioProcessor-3  ] [INFO ] o.a.m.f.l.LoggingFilter     - CREATED
2012-06-26 09:23:10,631 [NioProcessor-3  ] [INFO ] o.a.m.f.l.LoggingFilter     - OPENED
2012-06-26 09:23:10,678 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:1888, Mina session ID 8, identified POS ID null
2012-06-26 09:23:10,678 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 09:23:10,678 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=32 cap=2048: 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20...]
2012-06-26 09:23:10,678 [NioProcessor-3  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 8
2012-06-26 09:23:10,678 [NioProcessor-3  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 09:23:10,678 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 09:23:10,678 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 8
2012-06-26 09:23:10,678 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =32
2012-06-26 09:23:10,678 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 09:23:10,678 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 32, current position: 0
2012-06-26 09:23:10,678 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 09:23:10,678 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}
2012-06-26 09:23:10,678 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 16
2012-06-26 09:23:10,678 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=16, in.remaining=16
2012-06-26 09:23:10,678 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 09:23:10,678 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 5
2012-06-26 09:23:10,678 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 5: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageCodec@883644
2012-06-26 09:23:10,678 [NioProcessor-3  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - init request message decode
2012-06-26 09:23:10,678 [NioProcessor-3  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - in.remaining()=16
2012-06-26 09:23:10,678 [NioProcessor-3  ] [TRACE] .m.p.s.m.c.InitMessageCodec - InitRequestMessage: [cmdId=5, posId=pos-0002]
2012-06-26 09:23:10,678 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 09:23:10,678 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 09:23:10,678 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 09:23:10,678 [NioProcessor-3  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 09:23:10,678 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 09:23:10,678 [NioProcessor-3  ] [DEBUG] p.f.SessionKeyMessageFilter - Mina session ID 8: created session key f13c599eac464b08aeef1da4e1c2c22e
2012-06-26 09:23:10,678 [NioProcessor-3  ] [DEBUG] p.f.SessionKeyMessageFilter - creating session for mina session ID 8 using session ID f13c599eac464b08aeef1da4e1c2c22e
2012-06-26 09:23:10,678 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 09:23:10,678 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 09:23:10,678 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 09:23:10,678 [NioProcessor-3  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:1888, Mina session ID 8, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 09:23:10,678 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 09:23:10,678 [pool-4-thread-4 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 09:23:10,678 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 09:23:10,678 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 09:23:10,694 [NioProcessor-3  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 09:23:10,694 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 09:23:10,694 [pool-4-thread-4 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 09:23:10,694 [pool-4-thread-4 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@1cb374f obtained for command ID 5
2012-06-26 09:23:10,694 [pool-4-thread-4 ] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 5 is com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@1cb374f
2012-06-26 09:23:10,694 [pool-4-thread-4 ] [DEBUG] .q.m.p.h.InitCommandHandler - InitCommandHandler======execute==bodyMessage=:  [cmdId=5, posId=pos-0002]
2012-06-26 09:23:10,694 [pool-4-thread-4 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - InitResponse() invoke
2012-06-26 09:23:10,694 [pool-4-thread-4 ] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:ALLOWED
2012-06-26 09:23:10,694 [pool-4-thread-4 ] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId AND p.ostatus = :ostatus
2012-06-26 09:23:10,694 [pool-4-thread-4 ] [WARN ] .q.m.l.l.i.LoginManagerImpl - No usable POS machine found. POS ID not exists or not assigned.
2012-06-26 09:23:10,694 [pool-4-thread-4 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 09:23:10,709 [pool-4-thread-4 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 09:23:10,709 [pool-4-thread-4 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 09:23:10,709 [pool-4-thread-4 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 09:23:10,709 [pool-4-thread-4 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 8
2012-06-26 09:23:10,709 [pool-4-thread-4 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (6)
2012-06-26 09:23:10,709 [pool-4-thread-4 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageResponseCodec@1eda64e
2012-06-26 09:23:10,709 [pool-4-thread-4 ] [DEBUG] .c.InitMessageResponseCodec - init response message encode
2012-06-26 09:23:10,709 [pool-4-thread-4 ] [TRACE] .c.InitMessageResponseCodec - InitResponseMessage: [cmdId=6, result=3, challenge=[118, 105, 82, 104, 113, 82, 51, 90]]
2012-06-26 09:23:10,709 [pool-4-thread-4 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0x9259
2012-06-26 09:23:10,709 [pool-4-thread-4 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 09:23:10,709 [pool-4-thread-4 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 92 59 00 00 00 1E ...........Y....
00000010 00 00 00 06 00 03 76 69 52 68 71 52 33 5A       ......viRhqR3Z

2012-06-26 09:23:10,709 [pool-4-thread-4 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 09:23:10,709 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 09:23:10,709 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 09:23:10,709 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 8: not mark to return session ID to client
2012-06-26 09:23:10,709 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 09:23:10,709 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 09:23:10,709 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 09:23:10,725 [NioProcessor-3  ] [INFO ] o.a.m.f.l.LoggingFilter     - CLOSED
2012-06-26 09:23:10,725 [NioProcessor-3  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 09:23:12,349 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:23:12,349 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:23:12,349 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 09:23:12,349 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 09:23:12,349 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:23:22,360 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:23:22,360 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:23:22,360 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 09:23:22,360 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 09:23:22,360 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:23:32,370 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:23:32,370 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:23:32,370 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 09:23:32,370 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 09:23:32,370 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:23:42,381 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:23:42,381 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:23:42,381 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 09:23:42,381 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 09:23:42,381 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:23:52,392 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:23:52,392 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:23:52,392 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 09:23:52,392 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 09:23:52,392 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:23:56,499 [NioProcessor-1  ] [INFO ] c.c.q.m.p.f.LoggingFilter   - incoming connection from remote address: 127.0.0.1:1891, Mina session ID: 9
2012-06-26 09:23:56,499 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - Currently managed session count: 1
2012-06-26 09:23:56,499 [NioProcessor-1  ] [INFO ] o.a.m.f.l.LoggingFilter     - CREATED
2012-06-26 09:23:56,499 [NioProcessor-1  ] [INFO ] o.a.m.f.l.LoggingFilter     - OPENED
2012-06-26 09:23:56,546 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:1891, Mina session ID 9, identified POS ID null
2012-06-26 09:23:56,546 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 09:23:56,546 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=32 cap=2048: 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20...]
2012-06-26 09:23:56,546 [NioProcessor-1  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 9
2012-06-26 09:23:56,546 [NioProcessor-1  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 09:23:56,546 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 09:23:56,546 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 9
2012-06-26 09:23:56,546 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =32
2012-06-26 09:23:56,546 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 09:23:56,546 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 32, current position: 0
2012-06-26 09:23:56,546 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 09:23:56,546 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}
2012-06-26 09:23:56,546 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 16
2012-06-26 09:23:56,546 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=16, in.remaining=16
2012-06-26 09:23:56,546 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 09:23:56,546 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 5
2012-06-26 09:23:56,546 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 5: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageCodec@105fa26
2012-06-26 09:23:56,546 [NioProcessor-1  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - init request message decode
2012-06-26 09:23:56,546 [NioProcessor-1  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - in.remaining()=16
2012-06-26 09:23:56,546 [NioProcessor-1  ] [TRACE] .m.p.s.m.c.InitMessageCodec - InitRequestMessage: [cmdId=5, posId=pos-0002]
2012-06-26 09:23:56,546 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 09:23:56,546 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 09:23:56,546 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 09:23:56,546 [NioProcessor-1  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 09:23:56,546 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 09:23:56,546 [NioProcessor-1  ] [DEBUG] p.f.SessionKeyMessageFilter - Mina session ID 9: created session key 867760964f68440b941e020e56971bbc
2012-06-26 09:23:56,546 [NioProcessor-1  ] [DEBUG] p.f.SessionKeyMessageFilter - creating session for mina session ID 9 using session ID 867760964f68440b941e020e56971bbc
2012-06-26 09:23:56,546 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 09:23:56,546 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 09:23:56,546 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 09:23:56,546 [NioProcessor-1  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:1891, Mina session ID 9, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 09:23:56,546 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 09:23:56,546 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 09:23:56,546 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 09:23:56,546 [NioProcessor-1  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 09:23:56,546 [pool-4-thread-5 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 09:23:56,546 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 09:23:56,546 [pool-4-thread-5 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 09:23:56,546 [pool-4-thread-5 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@c6a3a0 obtained for command ID 5
2012-06-26 09:23:56,546 [pool-4-thread-5 ] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 5 is com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@c6a3a0
2012-06-26 09:23:56,546 [pool-4-thread-5 ] [DEBUG] .q.m.p.h.InitCommandHandler - InitCommandHandler======execute==bodyMessage=:  [cmdId=5, posId=pos-0002]
2012-06-26 09:23:56,546 [pool-4-thread-5 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - InitResponse() invoke
2012-06-26 09:23:56,546 [pool-4-thread-5 ] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:ALLOWED
2012-06-26 09:23:56,546 [pool-4-thread-5 ] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId AND p.ostatus = :ostatus
2012-06-26 09:23:56,546 [pool-4-thread-5 ] [WARN ] .q.m.l.l.i.LoginManagerImpl - No usable POS machine found. POS ID not exists or not assigned.
2012-06-26 09:23:56,546 [pool-4-thread-5 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 09:23:56,577 [pool-4-thread-5 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 09:23:56,577 [pool-4-thread-5 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 09:23:56,577 [pool-4-thread-5 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 09:23:56,577 [pool-4-thread-5 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 9
2012-06-26 09:23:56,577 [pool-4-thread-5 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (6)
2012-06-26 09:23:56,577 [pool-4-thread-5 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageResponseCodec@1c4a198
2012-06-26 09:23:56,577 [pool-4-thread-5 ] [DEBUG] .c.InitMessageResponseCodec - init response message encode
2012-06-26 09:23:56,577 [pool-4-thread-5 ] [TRACE] .c.InitMessageResponseCodec - InitResponseMessage: [cmdId=6, result=3, challenge=[98, 74, 72, 90, 49, 103, 85, 48]]
2012-06-26 09:23:56,577 [pool-4-thread-5 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0xce9b
2012-06-26 09:23:56,577 [pool-4-thread-5 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 09:23:56,577 [pool-4-thread-5 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 CE 9B 00 00 00 1E ................
00000010 00 00 00 06 00 03 62 4A 48 5A 31 67 55 30       ......bJHZ1gU0

2012-06-26 09:23:56,577 [pool-4-thread-5 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 09:23:56,577 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 09:23:56,577 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 09:23:56,577 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 9: not mark to return session ID to client
2012-06-26 09:23:56,577 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 09:23:56,577 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 09:23:56,577 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 09:23:56,577 [NioProcessor-1  ] [INFO ] o.a.m.f.l.LoggingFilter     - CLOSED
2012-06-26 09:23:56,577 [NioProcessor-1  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 09:24:02,434 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:24:02,434 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:24:02,434 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 09:24:02,434 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=3
2012-06-26 09:24:02,434 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:24:12,444 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:24:12,444 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:24:12,444 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 09:24:12,444 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=3
2012-06-26 09:24:12,444 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:24:22,455 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:24:22,455 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:24:22,455 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 09:24:22,455 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=3
2012-06-26 09:24:22,455 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:24:32,466 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:24:32,466 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:24:32,466 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 09:24:32,466 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=3
2012-06-26 09:24:32,466 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:24:42,476 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:24:42,476 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:24:42,476 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 09:24:42,476 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=3
2012-06-26 09:24:42,476 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:24:52,503 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:24:52,503 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:24:52,503 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 09:24:52,503 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=3
2012-06-26 09:24:52,503 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:25:02,516 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:25:02,516 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:25:02,516 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 09:25:02,516 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=3
2012-06-26 09:25:02,516 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:25:12,528 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:25:12,528 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:25:12,528 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 09:25:12,528 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=3
2012-06-26 09:25:12,528 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:25:22,541 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:25:22,541 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:25:22,541 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 09:25:22,541 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 09:25:22,541 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:25:32,554 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:25:32,554 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:25:32,554 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 09:25:32,554 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 09:25:32,554 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:25:42,566 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:25:42,566 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:25:42,566 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 09:25:42,566 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 09:25:42,566 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:25:51,235 [NioProcessor-2  ] [INFO ] c.c.q.m.p.f.LoggingFilter   - incoming connection from remote address: 127.0.0.1:1895, Mina session ID: 10
2012-06-26 09:25:51,235 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - Currently managed session count: 1
2012-06-26 09:25:51,235 [NioProcessor-2  ] [INFO ] o.a.m.f.l.LoggingFilter     - CREATED
2012-06-26 09:25:51,235 [NioProcessor-2  ] [INFO ] o.a.m.f.l.LoggingFilter     - OPENED
2012-06-26 09:25:51,282 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:1895, Mina session ID 10, identified POS ID null
2012-06-26 09:25:51,282 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 09:25:51,282 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=32 cap=2048: 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20...]
2012-06-26 09:25:51,282 [NioProcessor-2  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 10
2012-06-26 09:25:51,282 [NioProcessor-2  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 09:25:51,282 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 09:25:51,282 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 10
2012-06-26 09:25:51,282 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =32
2012-06-26 09:25:51,282 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 09:25:51,282 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 32, current position: 0
2012-06-26 09:25:51,282 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 09:25:51,282 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}
2012-06-26 09:25:51,282 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 16
2012-06-26 09:25:51,282 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=16, in.remaining=16
2012-06-26 09:25:51,282 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 09:25:51,282 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 5
2012-06-26 09:25:51,282 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 5: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageCodec@13816e0
2012-06-26 09:25:51,282 [NioProcessor-2  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - init request message decode
2012-06-26 09:25:51,282 [NioProcessor-2  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - in.remaining()=16
2012-06-26 09:25:51,282 [NioProcessor-2  ] [TRACE] .m.p.s.m.c.InitMessageCodec - InitRequestMessage: [cmdId=5, posId=pos-0002]
2012-06-26 09:25:51,282 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 09:25:51,282 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 09:25:51,282 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 09:25:51,282 [NioProcessor-2  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 09:25:51,282 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 09:25:51,282 [NioProcessor-2  ] [DEBUG] p.f.SessionKeyMessageFilter - Mina session ID 10: created session key 1ad4047206614fa999db6c29e0b372b3
2012-06-26 09:25:51,282 [NioProcessor-2  ] [DEBUG] p.f.SessionKeyMessageFilter - creating session for mina session ID 10 using session ID 1ad4047206614fa999db6c29e0b372b3
2012-06-26 09:25:51,282 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 09:25:51,282 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 09:25:51,282 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 09:25:51,282 [NioProcessor-2  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:1895, Mina session ID 10, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 09:25:51,282 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 09:25:51,282 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 09:25:51,282 [pool-4-thread-6 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 09:25:51,282 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 09:25:51,282 [NioProcessor-2  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 09:25:51,282 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 09:25:51,282 [pool-4-thread-6 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 09:25:51,282 [pool-4-thread-6 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@3e53cf obtained for command ID 5
2012-06-26 09:25:51,282 [pool-4-thread-6 ] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 5 is com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@3e53cf
2012-06-26 09:25:51,282 [pool-4-thread-6 ] [DEBUG] .q.m.p.h.InitCommandHandler - InitCommandHandler======execute==bodyMessage=:  [cmdId=5, posId=pos-0002]
2012-06-26 09:25:51,282 [pool-4-thread-6 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - InitResponse() invoke
2012-06-26 09:25:51,282 [pool-4-thread-6 ] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:ALLOWED
2012-06-26 09:25:51,282 [pool-4-thread-6 ] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId AND p.ostatus = :ostatus
2012-06-26 09:25:51,282 [pool-4-thread-6 ] [WARN ] .q.m.l.l.i.LoginManagerImpl - No usable POS machine found. POS ID not exists or not assigned.
2012-06-26 09:25:51,282 [pool-4-thread-6 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 09:25:51,298 [pool-4-thread-6 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 09:25:51,298 [pool-4-thread-6 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 09:25:51,298 [pool-4-thread-6 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 09:25:51,298 [pool-4-thread-6 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 10
2012-06-26 09:25:51,298 [pool-4-thread-6 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (6)
2012-06-26 09:25:51,298 [pool-4-thread-6 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageResponseCodec@1f4cf6f
2012-06-26 09:25:51,298 [pool-4-thread-6 ] [DEBUG] .c.InitMessageResponseCodec - init response message encode
2012-06-26 09:25:51,298 [pool-4-thread-6 ] [TRACE] .c.InitMessageResponseCodec - InitResponseMessage: [cmdId=6, result=3, challenge=[112, 76, 120, 52, 113, 79, 65, 104]]
2012-06-26 09:25:51,298 [pool-4-thread-6 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0x649f
2012-06-26 09:25:51,298 [pool-4-thread-6 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 09:25:51,298 [pool-4-thread-6 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 64 9F 00 00 00 1E ..........d.....
00000010 00 00 00 06 00 03 70 4C 78 34 71 4F 41 68       ......pLx4qOAh

2012-06-26 09:25:51,298 [pool-4-thread-6 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 09:25:51,298 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 09:25:51,298 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 09:25:51,298 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 10: not mark to return session ID to client
2012-06-26 09:25:51,298 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 09:25:51,298 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 09:25:51,298 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 09:25:51,298 [NioProcessor-2  ] [INFO ] o.a.m.f.l.LoggingFilter     - CLOSED
2012-06-26 09:25:51,314 [NioProcessor-2  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 09:25:52,610 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:25:52,610 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:25:52,610 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 09:25:52,610 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=3
2012-06-26 09:25:52,610 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:26:02,623 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:26:02,623 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:26:02,623 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 09:26:02,623 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=3
2012-06-26 09:26:02,623 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:26:12,635 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:26:12,635 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:26:12,635 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 09:26:12,635 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=3
2012-06-26 09:26:12,635 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:26:22,648 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:26:22,648 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:26:22,648 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 09:26:22,648 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=3
2012-06-26 09:26:22,648 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:26:32,660 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:26:32,660 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:26:32,660 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 09:26:32,660 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=3
2012-06-26 09:26:32,660 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:26:35,878 [NioProcessor-3  ] [INFO ] c.c.q.m.p.f.LoggingFilter   - incoming connection from remote address: 127.0.0.1:1898, Mina session ID: 11
2012-06-26 09:26:35,878 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - Currently managed session count: 1
2012-06-26 09:26:35,878 [NioProcessor-3  ] [INFO ] o.a.m.f.l.LoggingFilter     - CREATED
2012-06-26 09:26:35,878 [NioProcessor-3  ] [INFO ] o.a.m.f.l.LoggingFilter     - OPENED
2012-06-26 09:26:35,910 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:1898, Mina session ID 11, identified POS ID null
2012-06-26 09:26:35,910 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 09:26:35,910 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=32 cap=2048: 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20...]
2012-06-26 09:26:35,910 [NioProcessor-3  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 11
2012-06-26 09:26:35,910 [NioProcessor-3  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 09:26:35,910 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 09:26:35,910 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 11
2012-06-26 09:26:35,910 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =32
2012-06-26 09:26:35,910 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 09:26:35,910 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 32, current position: 0
2012-06-26 09:26:35,910 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 09:26:35,910 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}
2012-06-26 09:26:35,910 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 16
2012-06-26 09:26:35,910 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=16, in.remaining=16
2012-06-26 09:26:35,910 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 09:26:35,910 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 5
2012-06-26 09:26:35,910 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 5: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageCodec@a34b91
2012-06-26 09:26:35,910 [NioProcessor-3  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - init request message decode
2012-06-26 09:26:35,910 [NioProcessor-3  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - in.remaining()=16
2012-06-26 09:26:35,910 [NioProcessor-3  ] [TRACE] .m.p.s.m.c.InitMessageCodec - InitRequestMessage: [cmdId=5, posId=pos-0002]
2012-06-26 09:26:35,910 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 09:26:35,910 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 09:26:35,910 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 09:26:35,910 [NioProcessor-3  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 09:26:35,910 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 09:26:35,910 [NioProcessor-3  ] [DEBUG] p.f.SessionKeyMessageFilter - Mina session ID 11: created session key 8792dd33935844b383609a09dc782c61
2012-06-26 09:26:35,910 [NioProcessor-3  ] [DEBUG] p.f.SessionKeyMessageFilter - creating session for mina session ID 11 using session ID 8792dd33935844b383609a09dc782c61
2012-06-26 09:26:35,910 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 09:26:35,910 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 09:26:35,910 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 09:26:35,910 [NioProcessor-3  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:1898, Mina session ID 11, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 09:26:35,910 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 09:26:35,910 [pool-4-thread-7 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 09:26:35,910 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 09:26:35,910 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 09:26:35,910 [NioProcessor-3  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 09:26:35,910 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 09:26:35,910 [pool-4-thread-7 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 09:26:35,910 [pool-4-thread-7 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@1408325 obtained for command ID 5
2012-06-26 09:26:35,910 [pool-4-thread-7 ] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 5 is com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@1408325
2012-06-26 09:26:35,910 [pool-4-thread-7 ] [DEBUG] .q.m.p.h.InitCommandHandler - InitCommandHandler======execute==bodyMessage=:  [cmdId=5, posId=pos-0002]
2012-06-26 09:26:35,910 [pool-4-thread-7 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - InitResponse() invoke
2012-06-26 09:26:35,910 [pool-4-thread-7 ] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:ALLOWED
2012-06-26 09:26:35,910 [pool-4-thread-7 ] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId AND p.ostatus = :ostatus
2012-06-26 09:26:35,910 [pool-4-thread-7 ] [WARN ] .q.m.l.l.i.LoginManagerImpl - No usable POS machine found. POS ID not exists or not assigned.
2012-06-26 09:26:35,925 [pool-4-thread-7 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 09:26:35,941 [pool-4-thread-7 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 09:26:35,941 [pool-4-thread-7 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 09:26:35,941 [pool-4-thread-7 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 09:26:35,941 [pool-4-thread-7 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 11
2012-06-26 09:26:35,941 [pool-4-thread-7 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (6)
2012-06-26 09:26:35,941 [pool-4-thread-7 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageResponseCodec@126aaca
2012-06-26 09:26:35,941 [pool-4-thread-7 ] [DEBUG] .c.InitMessageResponseCodec - init response message encode
2012-06-26 09:26:35,941 [pool-4-thread-7 ] [TRACE] .c.InitMessageResponseCodec - InitResponseMessage: [cmdId=6, result=3, challenge=[68, 52, 122, 101, 54, 66, 86, 50]]
2012-06-26 09:26:35,941 [pool-4-thread-7 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0xb4c9
2012-06-26 09:26:35,941 [pool-4-thread-7 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 09:26:35,941 [pool-4-thread-7 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 B4 C9 00 00 00 1E ................
00000010 00 00 00 06 00 03 44 34 7A 65 36 42 56 32       ......D4ze6BV2

2012-06-26 09:26:35,941 [pool-4-thread-7 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 09:26:35,941 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 09:26:35,941 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 09:26:35,956 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 11: not mark to return session ID to client
2012-06-26 09:26:35,956 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 09:26:35,956 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 09:26:35,956 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 09:26:35,956 [NioProcessor-3  ] [INFO ] o.a.m.f.l.LoggingFilter     - CLOSED
2012-06-26 09:26:35,956 [NioProcessor-3  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 09:26:42,680 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:26:42,680 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:26:42,680 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=4
2012-06-26 09:26:42,680 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=3
2012-06-26 09:26:42,680 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:26:52,663 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:26:52,663 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:26:52,663 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 09:26:52,663 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=3
2012-06-26 09:26:52,663 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:27:02,663 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:27:02,663 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:27:02,663 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 09:27:02,663 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=3
2012-06-26 09:27:02,663 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:27:12,646 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:27:12,646 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:27:12,646 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 09:27:12,646 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=3
2012-06-26 09:27:12,646 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:27:20,574 [NioProcessor-1  ] [INFO ] c.c.q.m.p.f.LoggingFilter   - incoming connection from remote address: 127.0.0.1:1903, Mina session ID: 12
2012-06-26 09:27:20,589 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - Currently managed session count: 1
2012-06-26 09:27:20,589 [NioProcessor-1  ] [INFO ] o.a.m.f.l.LoggingFilter     - CREATED
2012-06-26 09:27:20,589 [NioProcessor-1  ] [INFO ] o.a.m.f.l.LoggingFilter     - OPENED
2012-06-26 09:27:20,589 [NioProcessor-1  ] [INFO ] o.a.m.f.l.LoggingFilter     - CLOSED
2012-06-26 09:27:20,589 [NioProcessor-1  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 09:27:22,630 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:27:22,630 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:27:22,630 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 09:27:22,630 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=3
2012-06-26 09:27:22,630 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:27:32,613 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:27:32,613 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:27:32,613 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 09:27:32,613 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 09:27:32,613 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:27:42,597 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:27:42,597 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:27:42,597 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 09:27:42,597 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 09:27:42,597 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:27:52,580 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:27:52,580 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:27:52,580 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 09:27:52,580 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 09:27:52,580 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:28:02,564 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:28:02,564 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:28:02,564 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 09:28:02,564 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 09:28:02,564 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:28:12,547 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:28:12,547 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:28:12,547 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 09:28:12,547 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 09:28:12,547 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:28:22,531 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:28:22,531 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:28:22,531 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 09:28:22,531 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 09:28:22,531 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:28:26,144 [NioProcessor-2  ] [INFO ] c.c.q.m.p.f.LoggingFilter   - incoming connection from remote address: 127.0.0.1:1906, Mina session ID: 13
2012-06-26 09:28:26,144 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - Currently managed session count: 1
2012-06-26 09:28:26,144 [NioProcessor-2  ] [INFO ] o.a.m.f.l.LoggingFilter     - CREATED
2012-06-26 09:28:26,144 [NioProcessor-2  ] [INFO ] o.a.m.f.l.LoggingFilter     - OPENED
2012-06-26 09:28:26,144 [NioProcessor-2  ] [INFO ] o.a.m.f.l.LoggingFilter     - CLOSED
2012-06-26 09:28:26,144 [NioProcessor-2  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 09:28:32,561 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:28:32,561 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:28:32,561 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 09:28:32,561 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 09:28:32,561 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:28:42,544 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:28:42,544 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:28:42,544 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 09:28:42,544 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 09:28:42,544 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:28:44,460 [NioProcessor-3  ] [INFO ] c.c.q.m.p.f.LoggingFilter   - incoming connection from remote address: 127.0.0.1:1909, Mina session ID: 14
2012-06-26 09:28:44,460 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - Currently managed session count: 1
2012-06-26 09:28:44,460 [NioProcessor-3  ] [INFO ] o.a.m.f.l.LoggingFilter     - CREATED
2012-06-26 09:28:44,460 [NioProcessor-3  ] [INFO ] o.a.m.f.l.LoggingFilter     - OPENED
2012-06-26 09:28:44,491 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:1909, Mina session ID 14, identified POS ID null
2012-06-26 09:28:44,491 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 09:28:44,491 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=32 cap=2048: 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20...]
2012-06-26 09:28:44,491 [NioProcessor-3  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 14
2012-06-26 09:28:44,491 [NioProcessor-3  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 09:28:44,491 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 09:28:44,491 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 14
2012-06-26 09:28:44,491 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =32
2012-06-26 09:28:44,491 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 09:28:44,491 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 32, current position: 0
2012-06-26 09:28:44,491 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 09:28:44,491 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}
2012-06-26 09:28:44,491 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 16
2012-06-26 09:28:44,491 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=16, in.remaining=16
2012-06-26 09:28:44,491 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 09:28:44,491 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 5
2012-06-26 09:28:44,491 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 5: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageCodec@6c08b2
2012-06-26 09:28:44,491 [NioProcessor-3  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - init request message decode
2012-06-26 09:28:44,491 [NioProcessor-3  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - in.remaining()=16
2012-06-26 09:28:44,491 [NioProcessor-3  ] [TRACE] .m.p.s.m.c.InitMessageCodec - InitRequestMessage: [cmdId=5, posId=pos-0002]
2012-06-26 09:28:44,491 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 09:28:44,491 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 09:28:44,491 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 09:28:44,491 [NioProcessor-3  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 09:28:44,491 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 09:28:44,491 [NioProcessor-3  ] [DEBUG] p.f.SessionKeyMessageFilter - Mina session ID 14: created session key 33f1ef1296aa4a32b59338c6965d368e
2012-06-26 09:28:44,491 [NioProcessor-3  ] [DEBUG] p.f.SessionKeyMessageFilter - creating session for mina session ID 14 using session ID 33f1ef1296aa4a32b59338c6965d368e
2012-06-26 09:28:44,491 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 09:28:44,491 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 09:28:44,491 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 09:28:44,491 [NioProcessor-3  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:1909, Mina session ID 14, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 09:28:44,491 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 09:28:44,491 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 09:28:44,491 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 09:28:44,491 [NioProcessor-3  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 09:28:44,491 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 09:28:44,491 [pool-4-thread-8 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 09:28:44,491 [pool-4-thread-8 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 09:28:44,491 [pool-4-thread-8 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@10aa282 obtained for command ID 5
2012-06-26 09:28:44,491 [pool-4-thread-8 ] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 5 is com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@10aa282
2012-06-26 09:28:44,491 [pool-4-thread-8 ] [DEBUG] .q.m.p.h.InitCommandHandler - InitCommandHandler======execute==bodyMessage=:  [cmdId=5, posId=pos-0002]
2012-06-26 09:28:44,491 [pool-4-thread-8 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - InitResponse() invoke
2012-06-26 09:28:44,491 [pool-4-thread-8 ] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:ALLOWED
2012-06-26 09:28:44,491 [pool-4-thread-8 ] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId AND p.ostatus = :ostatus
2012-06-26 09:28:44,491 [pool-4-thread-8 ] [WARN ] .q.m.l.l.i.LoginManagerImpl - No usable POS machine found. POS ID not exists or not assigned.
2012-06-26 09:28:44,491 [pool-4-thread-8 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 09:28:44,522 [pool-4-thread-8 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 09:28:44,522 [pool-4-thread-8 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 09:28:44,522 [pool-4-thread-8 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 09:28:44,522 [pool-4-thread-8 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 14
2012-06-26 09:28:44,522 [pool-4-thread-8 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (6)
2012-06-26 09:28:44,522 [pool-4-thread-8 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageResponseCodec@15c458c
2012-06-26 09:28:44,522 [pool-4-thread-8 ] [DEBUG] .c.InitMessageResponseCodec - init response message encode
2012-06-26 09:28:44,522 [pool-4-thread-8 ] [TRACE] .c.InitMessageResponseCodec - InitResponseMessage: [cmdId=6, result=3, challenge=[108, 77, 108, 109, 120, 77, 97, 121]]
2012-06-26 09:28:44,522 [pool-4-thread-8 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0x4d56
2012-06-26 09:28:44,522 [pool-4-thread-8 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 09:28:44,522 [pool-4-thread-8 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 4D 56 00 00 00 1E ..........MV....
00000010 00 00 00 06 00 03 6C 4D 6C 6D 78 4D 61 79       ......lMlmxMay

2012-06-26 09:28:44,522 [pool-4-thread-8 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 09:28:44,522 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 09:28:44,538 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 09:28:44,538 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 14: not mark to return session ID to client
2012-06-26 09:28:44,538 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 09:28:44,538 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 09:28:44,538 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 09:28:44,538 [NioProcessor-3  ] [INFO ] o.a.m.f.l.LoggingFilter     - CLOSED
2012-06-26 09:28:44,538 [NioProcessor-3  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 09:28:52,559 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:28:52,559 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:28:52,559 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 09:28:52,559 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=3
2012-06-26 09:28:52,559 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:29:02,543 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:29:02,543 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:29:02,543 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 09:29:02,543 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=3
2012-06-26 09:29:02,543 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:29:10,906 [NioProcessor-1  ] [INFO ] c.c.q.m.p.f.LoggingFilter   - incoming connection from remote address: 127.0.0.1:1912, Mina session ID: 15
2012-06-26 09:29:10,906 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - Currently managed session count: 1
2012-06-26 09:29:10,906 [NioProcessor-1  ] [INFO ] o.a.m.f.l.LoggingFilter     - CREATED
2012-06-26 09:29:10,906 [NioProcessor-1  ] [INFO ] o.a.m.f.l.LoggingFilter     - OPENED
2012-06-26 09:29:10,937 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:1912, Mina session ID 15, identified POS ID null
2012-06-26 09:29:10,937 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 09:29:10,937 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=32 cap=2048: 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20...]
2012-06-26 09:29:10,937 [NioProcessor-1  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 15
2012-06-26 09:29:10,937 [NioProcessor-1  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 09:29:10,937 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 09:29:10,937 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 15
2012-06-26 09:29:10,937 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =32
2012-06-26 09:29:10,937 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 09:29:10,937 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 32, current position: 0
2012-06-26 09:29:10,937 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 09:29:10,937 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}
2012-06-26 09:29:10,937 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 16
2012-06-26 09:29:10,937 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=16, in.remaining=16
2012-06-26 09:29:10,937 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 09:29:10,937 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 5
2012-06-26 09:29:10,937 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 5: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageCodec@c7cadf
2012-06-26 09:29:10,937 [NioProcessor-1  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - init request message decode
2012-06-26 09:29:10,937 [NioProcessor-1  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - in.remaining()=16
2012-06-26 09:29:10,937 [NioProcessor-1  ] [TRACE] .m.p.s.m.c.InitMessageCodec - InitRequestMessage: [cmdId=5, posId=pos-0002]
2012-06-26 09:29:10,937 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 09:29:10,937 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 09:29:10,937 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 09:29:10,937 [NioProcessor-1  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 09:29:10,937 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 09:29:10,937 [NioProcessor-1  ] [DEBUG] p.f.SessionKeyMessageFilter - Mina session ID 15: created session key 9dfb16c536d04f47a74feee22f95dfed
2012-06-26 09:29:10,937 [NioProcessor-1  ] [DEBUG] p.f.SessionKeyMessageFilter - creating session for mina session ID 15 using session ID 9dfb16c536d04f47a74feee22f95dfed
2012-06-26 09:29:10,937 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 09:29:10,937 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 09:29:10,937 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 09:29:10,937 [NioProcessor-1  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:1912, Mina session ID 15, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 09:29:10,937 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 09:29:10,937 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 09:29:10,937 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 09:29:10,937 [NioProcessor-1  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 09:29:10,937 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 09:29:10,937 [pool-4-thread-9 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 09:29:10,937 [pool-4-thread-9 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 09:29:10,937 [pool-4-thread-9 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@10c6406 obtained for command ID 5
2012-06-26 09:29:10,937 [pool-4-thread-9 ] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 5 is com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@10c6406
2012-06-26 09:29:10,937 [pool-4-thread-9 ] [DEBUG] .q.m.p.h.InitCommandHandler - InitCommandHandler======execute==bodyMessage=:  [cmdId=5, posId=pos-0002]
2012-06-26 09:29:10,937 [pool-4-thread-9 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - InitResponse() invoke
2012-06-26 09:29:10,937 [pool-4-thread-9 ] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:ALLOWED
2012-06-26 09:29:10,937 [pool-4-thread-9 ] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId AND p.ostatus = :ostatus
2012-06-26 09:29:10,937 [pool-4-thread-9 ] [WARN ] .q.m.l.l.i.LoginManagerImpl - No usable POS machine found. POS ID not exists or not assigned.
2012-06-26 09:29:10,937 [pool-4-thread-9 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 09:29:10,969 [pool-4-thread-9 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 09:29:10,969 [pool-4-thread-9 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 09:29:10,969 [pool-4-thread-9 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 09:29:10,969 [pool-4-thread-9 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 15
2012-06-26 09:29:10,969 [pool-4-thread-9 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (6)
2012-06-26 09:29:10,969 [pool-4-thread-9 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageResponseCodec@aae8a
2012-06-26 09:29:10,969 [pool-4-thread-9 ] [DEBUG] .c.InitMessageResponseCodec - init response message encode
2012-06-26 09:29:10,969 [pool-4-thread-9 ] [TRACE] .c.InitMessageResponseCodec - InitResponseMessage: [cmdId=6, result=3, challenge=[67, 109, 53, 103, 80, 83, 86, 115]]
2012-06-26 09:29:10,969 [pool-4-thread-9 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0xe03c
2012-06-26 09:29:10,969 [pool-4-thread-9 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 09:29:10,969 [pool-4-thread-9 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 E0 3C 00 00 00 1E ...........<....
00000010 00 00 00 06 00 03 43 6D 35 67 50 53 56 73       ......Cm5gPSVs

2012-06-26 09:29:10,969 [pool-4-thread-9 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 09:29:10,969 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 09:29:10,969 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 09:29:10,969 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 15: not mark to return session ID to client
2012-06-26 09:29:10,969 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 09:29:10,969 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 09:29:10,969 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 09:29:10,969 [NioProcessor-1  ] [INFO ] o.a.m.f.l.LoggingFilter     - CLOSED
2012-06-26 09:29:10,969 [NioProcessor-1  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 09:29:12,557 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:29:12,557 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:29:12,557 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=4
2012-06-26 09:29:12,557 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=4
2012-06-26 09:29:12,557 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:29:22,541 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:29:22,541 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:29:22,541 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=4
2012-06-26 09:29:22,541 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=3
2012-06-26 09:29:22,541 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:29:32,540 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:29:32,540 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:29:32,540 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 09:29:32,540 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=3
2012-06-26 09:29:32,540 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:29:37,929 [NioProcessor-2  ] [INFO ] c.c.q.m.p.f.LoggingFilter   - incoming connection from remote address: 127.0.0.1:1915, Mina session ID: 16
2012-06-26 09:29:37,929 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - Currently managed session count: 1
2012-06-26 09:29:37,929 [NioProcessor-2  ] [INFO ] o.a.m.f.l.LoggingFilter     - CREATED
2012-06-26 09:29:37,929 [NioProcessor-2  ] [INFO ] o.a.m.f.l.LoggingFilter     - OPENED
2012-06-26 09:29:37,960 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:1915, Mina session ID 16, identified POS ID null
2012-06-26 09:29:37,960 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 09:29:37,960 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=32 cap=2048: 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20...]
2012-06-26 09:29:37,960 [NioProcessor-2  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 16
2012-06-26 09:29:37,960 [NioProcessor-2  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 09:29:37,960 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 09:29:37,960 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 16
2012-06-26 09:29:37,960 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =32
2012-06-26 09:29:37,960 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 09:29:37,960 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 32, current position: 0
2012-06-26 09:29:37,960 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 09:29:37,960 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}
2012-06-26 09:29:37,960 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 16
2012-06-26 09:29:37,960 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=16, in.remaining=16
2012-06-26 09:29:37,960 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 09:29:37,960 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 5
2012-06-26 09:29:37,960 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 5: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageCodec@eebf17
2012-06-26 09:29:37,960 [NioProcessor-2  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - init request message decode
2012-06-26 09:29:37,960 [NioProcessor-2  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - in.remaining()=16
2012-06-26 09:29:37,960 [NioProcessor-2  ] [TRACE] .m.p.s.m.c.InitMessageCodec - InitRequestMessage: [cmdId=5, posId=pos-0002]
2012-06-26 09:29:37,960 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 09:29:37,960 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 09:29:37,960 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 09:29:37,960 [NioProcessor-2  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 09:29:37,960 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 09:29:37,960 [NioProcessor-2  ] [DEBUG] p.f.SessionKeyMessageFilter - Mina session ID 16: created session key 2db7d8630e3e444eb07a8215dcd4a774
2012-06-26 09:29:37,960 [NioProcessor-2  ] [DEBUG] p.f.SessionKeyMessageFilter - creating session for mina session ID 16 using session ID 2db7d8630e3e444eb07a8215dcd4a774
2012-06-26 09:29:37,960 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 09:29:37,960 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 09:29:37,960 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 09:29:37,960 [NioProcessor-2  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:1915, Mina session ID 16, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 09:29:37,960 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 09:29:37,960 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 09:29:37,960 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 09:29:37,960 [NioProcessor-2  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 09:29:37,960 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 09:29:37,960 [pool-4-thread-10] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 09:29:37,960 [pool-4-thread-10] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 09:29:37,960 [pool-4-thread-10] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@1a8bd74 obtained for command ID 5
2012-06-26 09:29:37,960 [pool-4-thread-10] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 5 is com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@1a8bd74
2012-06-26 09:29:37,960 [pool-4-thread-10] [DEBUG] .q.m.p.h.InitCommandHandler - InitCommandHandler======execute==bodyMessage=:  [cmdId=5, posId=pos-0002]
2012-06-26 09:29:37,960 [pool-4-thread-10] [DEBUG] .q.m.l.l.i.LoginManagerImpl - InitResponse() invoke
2012-06-26 09:29:37,960 [pool-4-thread-10] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:ALLOWED
2012-06-26 09:29:37,960 [pool-4-thread-10] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId AND p.ostatus = :ostatus
2012-06-26 09:29:37,960 [pool-4-thread-10] [WARN ] .q.m.l.l.i.LoginManagerImpl - No usable POS machine found. POS ID not exists or not assigned.
2012-06-26 09:29:37,960 [pool-4-thread-10] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 09:29:37,991 [pool-4-thread-10] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 09:29:37,991 [pool-4-thread-10] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 09:29:37,991 [pool-4-thread-10] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 09:29:37,991 [pool-4-thread-10] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 16
2012-06-26 09:29:37,991 [pool-4-thread-10] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (6)
2012-06-26 09:29:37,991 [pool-4-thread-10] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageResponseCodec@19d794d
2012-06-26 09:29:37,991 [pool-4-thread-10] [DEBUG] .c.InitMessageResponseCodec - init response message encode
2012-06-26 09:29:37,991 [pool-4-thread-10] [TRACE] .c.InitMessageResponseCodec - InitResponseMessage: [cmdId=6, result=3, challenge=[68, 121, 86, 114, 71, 108, 66, 85]]
2012-06-26 09:29:37,991 [pool-4-thread-10] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0xdb2a
2012-06-26 09:29:37,991 [pool-4-thread-10] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 09:29:37,991 [pool-4-thread-10] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 DB 2A 00 00 00 1E ...........*....
00000010 00 00 00 06 00 03 44 79 56 72 47 6C 42 55       ......DyVrGlBU

2012-06-26 09:29:37,991 [pool-4-thread-10] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 09:29:37,991 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 09:29:37,991 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 09:29:37,991 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 16: not mark to return session ID to client
2012-06-26 09:29:37,991 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 09:29:37,991 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 09:29:37,991 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 09:29:37,991 [NioProcessor-2  ] [INFO ] o.a.m.f.l.LoggingFilter     - CLOSED
2012-06-26 09:29:37,991 [NioProcessor-2  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 09:29:42,539 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:29:42,539 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:29:42,539 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=4
2012-06-26 09:29:42,539 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=4
2012-06-26 09:29:42,539 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:29:52,522 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:29:52,522 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:29:52,522 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=4
2012-06-26 09:29:52,522 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=4
2012-06-26 09:29:52,522 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:30:02,506 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:30:02,506 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:30:02,506 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=4
2012-06-26 09:30:02,506 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=4
2012-06-26 09:30:02,506 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:30:12,489 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:30:12,489 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:30:12,489 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=4
2012-06-26 09:30:12,489 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=3
2012-06-26 09:30:12,489 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:30:22,473 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:30:22,473 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:30:22,473 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 09:30:22,473 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=3
2012-06-26 09:30:22,473 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:30:32,456 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:30:32,456 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:30:32,456 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 09:30:32,456 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=3
2012-06-26 09:30:32,456 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:30:42,440 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:30:42,440 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:30:42,440 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 09:30:42,440 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=3
2012-06-26 09:30:42,440 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:30:52,423 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:30:52,423 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:30:52,423 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 09:30:52,423 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=3
2012-06-26 09:30:52,423 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:31:02,407 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:31:02,407 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:31:02,407 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 09:31:02,407 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=3
2012-06-26 09:31:02,407 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:31:12,391 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:31:12,391 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:31:12,391 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 09:31:12,391 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=3
2012-06-26 09:31:12,391 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:31:22,390 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:31:22,390 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:31:22,390 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 09:31:22,390 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=3
2012-06-26 09:31:22,390 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:31:32,373 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:31:32,373 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:31:32,373 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 09:31:32,373 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=3
2012-06-26 09:31:32,373 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:31:42,363 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:31:42,363 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:31:42,363 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 09:31:42,363 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=3
2012-06-26 09:31:42,363 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:31:52,364 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:31:52,364 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:31:52,364 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 09:31:52,364 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=3
2012-06-26 09:31:52,364 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:32:02,365 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:32:02,365 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:32:02,365 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 09:32:02,365 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=3
2012-06-26 09:32:02,365 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:32:12,365 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:32:12,365 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:32:12,365 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 09:32:12,365 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=3
2012-06-26 09:32:12,365 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:32:22,366 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:32:22,366 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:32:22,366 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 09:32:22,366 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 09:32:22,366 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:32:32,367 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:32:32,367 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:32:32,367 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 09:32:32,367 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 09:32:32,367 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:32:42,368 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:32:42,368 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:32:42,368 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 09:32:42,368 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 09:32:42,368 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:32:52,369 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:32:52,369 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:32:52,369 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 09:32:52,369 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 09:32:52,369 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:33:02,369 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:33:02,369 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:33:02,369 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 09:33:02,369 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 09:33:02,369 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:33:04,850 [NioProcessor-3  ] [INFO ] c.c.q.m.p.f.LoggingFilter   - incoming connection from remote address: 127.0.0.1:1923, Mina session ID: 17
2012-06-26 09:33:04,850 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - Currently managed session count: 1
2012-06-26 09:33:04,850 [NioProcessor-3  ] [INFO ] o.a.m.f.l.LoggingFilter     - CREATED
2012-06-26 09:33:04,850 [NioProcessor-3  ] [INFO ] o.a.m.f.l.LoggingFilter     - OPENED
2012-06-26 09:33:04,897 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:1923, Mina session ID 17, identified POS ID null
2012-06-26 09:33:04,897 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 09:33:04,897 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=32 cap=2048: 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20...]
2012-06-26 09:33:04,897 [NioProcessor-3  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 17
2012-06-26 09:33:04,897 [NioProcessor-3  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 09:33:04,897 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 09:33:04,897 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 17
2012-06-26 09:33:04,897 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =32
2012-06-26 09:33:04,897 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 09:33:04,897 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 32, current position: 0
2012-06-26 09:33:04,897 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 09:33:04,897 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}
2012-06-26 09:33:04,897 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 16
2012-06-26 09:33:04,897 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=16, in.remaining=16
2012-06-26 09:33:04,897 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 09:33:04,897 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 5
2012-06-26 09:33:04,897 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 5: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageCodec@58d7c2
2012-06-26 09:33:04,897 [NioProcessor-3  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - init request message decode
2012-06-26 09:33:04,897 [NioProcessor-3  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - in.remaining()=16
2012-06-26 09:33:04,897 [NioProcessor-3  ] [TRACE] .m.p.s.m.c.InitMessageCodec - InitRequestMessage: [cmdId=5, posId=pos-0002]
2012-06-26 09:33:04,897 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 09:33:04,897 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 09:33:04,897 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 09:33:04,897 [NioProcessor-3  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 09:33:04,897 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 09:33:04,897 [NioProcessor-3  ] [DEBUG] p.f.SessionKeyMessageFilter - Mina session ID 17: created session key 1044a71b79034451b8f07aa2b58065cf
2012-06-26 09:33:04,897 [NioProcessor-3  ] [DEBUG] p.f.SessionKeyMessageFilter - creating session for mina session ID 17 using session ID 1044a71b79034451b8f07aa2b58065cf
2012-06-26 09:33:04,897 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 09:33:04,897 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 09:33:04,897 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 09:33:04,897 [NioProcessor-3  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:1923, Mina session ID 17, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 09:33:04,897 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 09:33:04,897 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 09:33:04,897 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 09:33:04,897 [NioProcessor-3  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 09:33:04,897 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 09:33:04,897 [pool-4-thread-11] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 09:33:04,897 [pool-4-thread-11] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 09:33:04,897 [pool-4-thread-11] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@b6b2a5 obtained for command ID 5
2012-06-26 09:33:04,897 [pool-4-thread-11] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 5 is com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@b6b2a5
2012-06-26 09:33:04,897 [pool-4-thread-11] [DEBUG] .q.m.p.h.InitCommandHandler - InitCommandHandler======execute==bodyMessage=:  [cmdId=5, posId=pos-0002]
2012-06-26 09:33:04,897 [pool-4-thread-11] [DEBUG] .q.m.l.l.i.LoginManagerImpl - InitResponse() invoke
2012-06-26 09:33:04,897 [pool-4-thread-11] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:ALLOWED
2012-06-26 09:33:04,897 [pool-4-thread-11] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId AND p.ostatus = :ostatus
2012-06-26 09:33:04,897 [pool-4-thread-11] [WARN ] .q.m.l.l.i.LoginManagerImpl - No usable POS machine found. POS ID not exists or not assigned.
2012-06-26 09:33:04,897 [pool-4-thread-11] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 09:33:04,913 [pool-4-thread-11] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 09:33:04,913 [pool-4-thread-11] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 09:33:04,913 [pool-4-thread-11] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 09:33:04,913 [pool-4-thread-11] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 17
2012-06-26 09:33:04,913 [pool-4-thread-11] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (6)
2012-06-26 09:33:04,913 [pool-4-thread-11] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageResponseCodec@dbb83a
2012-06-26 09:33:04,913 [pool-4-thread-11] [DEBUG] .c.InitMessageResponseCodec - init response message encode
2012-06-26 09:33:04,913 [pool-4-thread-11] [TRACE] .c.InitMessageResponseCodec - InitResponseMessage: [cmdId=6, result=3, challenge=[55, 75, 53, 101, 83, 77, 55, 74]]
2012-06-26 09:33:04,913 [pool-4-thread-11] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0x890
2012-06-26 09:33:04,913 [pool-4-thread-11] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 09:33:04,913 [pool-4-thread-11] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 08 90 00 00 00 1E ................
00000010 00 00 00 06 00 03 37 4B 35 65 53 4D 37 4A       ......7K5eSM7J

2012-06-26 09:33:04,913 [pool-4-thread-11] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 09:33:04,913 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 09:33:04,913 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 09:33:04,913 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 17: not mark to return session ID to client
2012-06-26 09:33:04,913 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 09:33:04,913 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 09:33:04,913 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 09:33:04,913 [NioProcessor-3  ] [INFO ] o.a.m.f.l.LoggingFilter     - CLOSED
2012-06-26 09:33:04,913 [NioProcessor-3  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 09:33:12,401 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:33:12,401 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:33:12,401 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 09:33:12,401 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 09:33:12,401 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:33:22,402 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:33:22,402 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:33:22,402 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 09:33:22,402 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 09:33:22,402 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:33:32,403 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:33:32,403 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:33:32,403 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 09:33:32,403 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 09:33:32,403 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:33:42,404 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:33:42,404 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:33:42,404 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 09:33:42,404 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 09:33:42,404 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:33:52,405 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:33:52,405 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:33:52,405 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 09:33:52,405 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 09:33:52,405 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:33:53,076 [NioProcessor-1  ] [INFO ] c.c.q.m.p.f.LoggingFilter   - incoming connection from remote address: 127.0.0.1:1927, Mina session ID: 18
2012-06-26 09:33:53,076 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - Currently managed session count: 1
2012-06-26 09:33:53,076 [NioProcessor-1  ] [INFO ] o.a.m.f.l.LoggingFilter     - CREATED
2012-06-26 09:33:53,076 [NioProcessor-1  ] [INFO ] o.a.m.f.l.LoggingFilter     - OPENED
2012-06-26 09:33:53,091 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:1927, Mina session ID 18, identified POS ID null
2012-06-26 09:33:53,091 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 09:33:53,091 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=32 cap=2048: 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20...]
2012-06-26 09:33:53,091 [NioProcessor-1  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 18
2012-06-26 09:33:53,091 [NioProcessor-1  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 09:33:53,091 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 09:33:53,091 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 18
2012-06-26 09:33:53,091 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =32
2012-06-26 09:33:53,091 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 09:33:53,091 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 32, current position: 0
2012-06-26 09:33:53,091 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 09:33:53,091 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}
2012-06-26 09:33:53,091 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 16
2012-06-26 09:33:53,091 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=16, in.remaining=16
2012-06-26 09:33:53,091 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 09:33:53,091 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 5
2012-06-26 09:33:53,091 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 5: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageCodec@9c87c1
2012-06-26 09:33:53,091 [NioProcessor-1  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - init request message decode
2012-06-26 09:33:53,091 [NioProcessor-1  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - in.remaining()=16
2012-06-26 09:33:53,091 [NioProcessor-1  ] [TRACE] .m.p.s.m.c.InitMessageCodec - InitRequestMessage: [cmdId=5, posId=pos-0002]
2012-06-26 09:33:53,091 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 09:33:53,091 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 09:33:53,091 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 09:33:53,091 [NioProcessor-1  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 09:33:53,091 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 09:33:53,091 [NioProcessor-1  ] [DEBUG] p.f.SessionKeyMessageFilter - Mina session ID 18: created session key 6294dc22876640058680dbde5ce57525
2012-06-26 09:33:53,091 [NioProcessor-1  ] [DEBUG] p.f.SessionKeyMessageFilter - creating session for mina session ID 18 using session ID 6294dc22876640058680dbde5ce57525
2012-06-26 09:33:53,091 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 09:33:53,091 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 09:33:53,091 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 09:33:53,091 [NioProcessor-1  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:1927, Mina session ID 18, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 09:33:53,091 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 09:33:53,091 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 09:33:53,091 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 09:33:53,091 [NioProcessor-1  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 09:33:53,091 [pool-4-thread-12] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 09:33:53,091 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 09:33:53,091 [pool-4-thread-12] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 09:33:53,091 [pool-4-thread-12] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@1713b42 obtained for command ID 5
2012-06-26 09:33:53,091 [pool-4-thread-12] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 5 is com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@1713b42
2012-06-26 09:33:53,091 [pool-4-thread-12] [DEBUG] .q.m.p.h.InitCommandHandler - InitCommandHandler======execute==bodyMessage=:  [cmdId=5, posId=pos-0002]
2012-06-26 09:33:53,091 [pool-4-thread-12] [DEBUG] .q.m.l.l.i.LoginManagerImpl - InitResponse() invoke
2012-06-26 09:33:53,091 [pool-4-thread-12] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:ALLOWED
2012-06-26 09:33:53,091 [pool-4-thread-12] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId AND p.ostatus = :ostatus
2012-06-26 09:33:53,091 [pool-4-thread-12] [WARN ] .q.m.l.l.i.LoginManagerImpl - No usable POS machine found. POS ID not exists or not assigned.
2012-06-26 09:33:53,091 [pool-4-thread-12] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 09:33:53,154 [pool-4-thread-12] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 09:33:53,154 [pool-4-thread-12] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 09:33:53,154 [pool-4-thread-12] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 09:33:53,154 [pool-4-thread-12] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 18
2012-06-26 09:33:53,154 [pool-4-thread-12] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (6)
2012-06-26 09:33:53,154 [pool-4-thread-12] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageResponseCodec@1b0c08
2012-06-26 09:33:53,154 [pool-4-thread-12] [DEBUG] .c.InitMessageResponseCodec - init response message encode
2012-06-26 09:33:53,154 [pool-4-thread-12] [TRACE] .c.InitMessageResponseCodec - InitResponseMessage: [cmdId=6, result=3, challenge=[116, 98, 84, 110, 119, 108, 116, 67]]
2012-06-26 09:33:53,154 [pool-4-thread-12] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0x4b57
2012-06-26 09:33:53,154 [pool-4-thread-12] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 09:33:53,154 [pool-4-thread-12] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 4B 57 00 00 00 1E ..........KW....
00000010 00 00 00 06 00 03 74 62 54 6E 77 6C 74 43       ......tbTnwltC

2012-06-26 09:33:53,154 [pool-4-thread-12] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 09:33:53,154 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 09:33:53,154 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 09:33:53,154 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 18: not mark to return session ID to client
2012-06-26 09:33:53,154 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 09:33:53,154 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 09:33:53,154 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 09:33:53,154 [NioProcessor-1  ] [INFO ] o.a.m.f.l.LoggingFilter     - CLOSED
2012-06-26 09:33:53,154 [NioProcessor-1  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 09:34:02,437 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:34:02,437 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:34:02,437 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 09:34:02,437 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 09:34:02,437 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:34:12,438 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:34:12,438 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:34:12,438 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 09:34:12,438 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 09:34:12,438 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:34:22,438 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:34:22,438 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:34:22,438 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 09:34:22,438 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 09:34:22,438 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:34:32,439 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:34:32,439 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:34:32,439 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 09:34:32,439 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 09:34:32,439 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:34:42,440 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:34:42,440 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:34:42,440 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 09:34:42,440 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 09:34:42,440 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:34:52,441 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:34:52,441 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:34:52,441 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 09:34:52,441 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 09:34:52,441 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:35:02,457 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:35:02,457 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:35:02,457 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 09:35:02,457 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 09:35:02,457 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:35:12,458 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:35:12,458 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:35:12,458 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 09:35:12,458 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 09:35:12,458 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:35:22,459 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:35:22,459 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:35:22,459 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 09:35:22,459 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 09:35:22,459 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:35:32,460 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:35:32,460 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:35:32,460 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 09:35:32,460 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 09:35:32,460 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:35:39,169 [main            ] [INFO ] c.c.q.m.BootStrap           - Home directory: D:\posnetv2
2012-06-26 09:35:39,184 [main            ] [DEBUG] c.c.q.c.ConfigReader        - Home directory is set to D:\posnetv2
2012-06-26 09:35:39,184 [main            ] [DEBUG] c.c.q.c.ConfigReader        - Configuration subdirectory is set to conf
2012-06-26 09:35:39,184 [main            ] [DEBUG] c.c.q.c.ConfigReader        - Configuration directory is set to D:\posnetv2\conf
2012-06-26 09:35:39,184 [main            ] [DEBUG] c.c.q.c.ConfigReader        - Config file: D:\posnetv2\conf\posnet.ini
2012-06-26 09:35:39,184 [main            ] [DEBUG] c.c.q.c.ConfigReader        - Reading configuration file D:\posnetv2\conf\posnet.ini
2012-06-26 09:35:39,184 [main            ] [DEBUG] c.c.q.c.ConfigReader        - - D:\posnetv2\conf\posnet.ini is an .ini file, load using PropertiesConfiguration.
2012-06-26 09:35:39,200 [main            ] [DEBUG] c.c.PropertiesConfiguration - FileName set to posnet.ini
2012-06-26 09:35:39,200 [main            ] [DEBUG] c.c.PropertiesConfiguration - Base path set to D:\posnetv2\conf
2012-06-26 09:35:39,215 [main            ] [DEBUG] o.a.c.c.ConfigurationUtils  - ConfigurationUtils.locate(): base is D:\posnetv2\conf, name is posnet.ini
2012-06-26 09:35:39,215 [main            ] [DEBUG] o.a.c.c.DefaultFileSystem   - Could not locate file posnet.ini at D:\posnetv2\conf: unknown protocol: d
2012-06-26 09:35:39,215 [main            ] [DEBUG] o.a.c.c.ConfigurationUtils  - Loading configuration from the path D:\posnetv2\conf\posnet.ini
2012-06-26 09:35:39,247 [main            ] [DEBUG] o.a.c.c.ConfigurationUtils  - ConfigurationUtils.locate(): base is D:\posnetv2\conf, name is dispatcher.ini
2012-06-26 09:35:39,247 [main            ] [DEBUG] o.a.c.c.DefaultFileSystem   - Could not locate file dispatcher.ini at D:\posnetv2\conf: unknown protocol: d
2012-06-26 09:35:39,247 [main            ] [DEBUG] o.a.c.c.ConfigurationUtils  - Loading configuration from the path D:\posnetv2\conf\dispatcher.ini
2012-06-26 09:35:39,262 [main            ] [DEBUG] c.c.q.m.BootStrap           - System configuration:
2012-06-26 09:35:39,262 [main            ] [DEBUG] c.c.q.m.BootStrap           - - server.port: 1234
2012-06-26 09:35:39,262 [main            ] [DEBUG] c.c.q.m.BootStrap           - - server.client_max_idle_time: 20
2012-06-26 09:35:39,262 [main            ] [DEBUG] c.c.q.m.BootStrap           - - server.session.timeout_check_interval: 10
2012-06-26 09:35:39,262 [main            ] [DEBUG] c.c.q.m.BootStrap           - - server.session.client_timeout: 210
2012-06-26 09:35:39,262 [main            ] [DEBUG] c.c.q.m.BootStrap           - - server.disable_checksum_check: 0
2012-06-26 09:35:39,262 [main            ] [DEBUG] c.c.q.m.BootStrap           - - server.service_handler.thread_pool_size: 20
2012-06-26 09:35:39,262 [main            ] [DEBUG] c.c.q.m.BootStrap           - - firmware.location: D:\posnetv2\posnet2-mgmtui\firmware
2012-06-26 09:35:39,262 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.hibernate.show_sql: [true, true]
2012-06-26 09:35:39,262 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.hibernate.hbm2ddl.auto: false
2012-06-26 09:35:39,262 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.ext.hibernate.dialect: org.hibernate.dialect.MySQL5Dialect
2012-06-26 09:35:39,262 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.user: root
2012-06-26 09:35:39,262 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.password: 167118
2012-06-26 09:35:39,262 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.driver: com.mysql.jdbc.Driver
2012-06-26 09:35:39,262 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.url: jdbc:mysql://localhost/posnet?autoReconnect=true&useUnicode=true&characterEncoding=UTF-8
2012-06-26 09:35:39,262 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.ext.hibernate.connection.provider_class: org.hibernate.connection.C3P0ConnectionProvider
2012-06-26 09:35:39,262 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.ext.hibernate.c3p0.minPoolSize: 5
2012-06-26 09:35:39,262 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.ext.hibernate.c3p0.maxPoolSize: 20
2012-06-26 09:35:39,262 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.ext.hibernate.c3p0.maxIdleTime: 1800
2012-06-26 09:35:39,262 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.ext.hibernate.c3p0.testConnectionOnCheckout: true
2012-06-26 09:35:39,262 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.ext.hibernate.c3p0.maxStatements: 50
2012-06-26 09:35:39,262 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.ext.hibernate.c3p0.maxStatementsPerConnection: 10
2012-06-26 09:35:39,262 [main            ] [DEBUG] c.c.q.m.BootStrap           - - qq.groupbuy.url.groupBuyingSearchGroupon: http://localhost:7070/testdata/TuanSearchListVO.xml
2012-06-26 09:35:39,262 [main            ] [DEBUG] c.c.q.m.BootStrap           - - qq.groupbuy.url.groupBuyingValidationUrl: http://localhost:7070/testdata/TuanValidateResultVO.xml
2012-06-26 09:35:39,262 [main            ] [DEBUG] c.c.q.m.BootStrap           - - qq.groupbuy.url.groupBuyingUnbindPosUrl: http://localhost:7070/testdata/TuanUnbindVO.xml
2012-06-26 09:35:39,262 [main            ] [DEBUG] c.c.q.m.BootStrap           - - txserver.key: JXTPOS
2012-06-26 09:35:39,262 [main            ] [DEBUG] c.c.q.m.BootStrap           - - qq.meishi.wsapi.host: localhost:7070
2012-06-26 09:35:39,262 [main            ] [DEBUG] c.c.q.m.BootStrap           - - qq.meishi.wsapi.url: http://localhost:7070/qq-meishi/data
2012-06-26 09:35:39,262 [main            ] [DEBUG] c.c.q.m.BootStrap           - - qq.meishi.wsapi.secretKey: NDA2ZTkwOTExZjlkZDY3ZTIxMTU1OTY0NmVlYzVmY2Q=
2012-06-26 09:35:39,262 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.1.handler: com.chinarewards.qqgbvpn.main.protocol.handler.SearchCommandHandler
2012-06-26 09:35:39,262 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.1.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.SearchBodyMessageCodec
2012-06-26 09:35:39,262 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.2.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.SearchBodyMessageResponseCodec
2012-06-26 09:35:39,262 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.3.handler: com.chinarewards.qqgbvpn.main.protocol.handler.ValidateCommandHandler
2012-06-26 09:35:39,262 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.3.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.ValidateBodyMessageCodec
2012-06-26 09:35:39,262 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.4.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.ValidateBodyMessageResponseCodec
2012-06-26 09:35:39,262 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.5.handler: com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler
2012-06-26 09:35:39,262 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.5.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageCodec
2012-06-26 09:35:39,262 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.6.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageResponseCodec
2012-06-26 09:35:39,262 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.7.handler: com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler
2012-06-26 09:35:39,262 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.7.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageCodec
2012-06-26 09:35:39,262 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.8.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageResponseCodec
2012-06-26 09:35:39,262 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.9.handler: com.chinarewards.qqgbvpn.main.protocol.handler.BindCommandHandler
2012-06-26 09:35:39,262 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.9.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageCodec
2012-06-26 09:35:39,262 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.10.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageResponseCodec
2012-06-26 09:35:39,262 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.11.handler: com.chinarewards.qqgbvpn.main.protocol.handler.ValidationCallbackHandler
2012-06-26 09:35:39,262 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.11.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.ValidationCallbackCodec
2012-06-26 09:35:39,262 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.12.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.ValidationCallbackResponseCodec
2012-06-26 09:35:39,262 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.13.handler: com.chinarewards.qqgbvpn.main.protocol.handler.FirmwareUpgradeRequestCommandHandler
2012-06-26 09:35:39,262 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.13.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.FirmwareRequestMessageCodec
2012-06-26 09:35:39,262 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.14.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.FirmwareResponseMessageCodec
2012-06-26 09:35:39,262 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.15.handler: com.chinarewards.qqgbvpn.main.protocol.handler.GetFirmwareFragmentHandler
2012-06-26 09:35:39,262 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.15.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.GetFirmwareFragmentRequestMessageCodec
2012-06-26 09:35:39,262 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.16.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.GetFirmwareFragmentResponseMessageCodec
2012-06-26 09:35:39,262 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.17.handler: com.chinarewards.qqgbvpn.main.protocol.handler.FirmwareUpDoneHandler
2012-06-26 09:35:39,262 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.17.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.FirmwareUpDoneRequestCodec
2012-06-26 09:35:39,262 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.18.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.FirmwareUpDoneResponseCodec
2012-06-26 09:35:39,262 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.19.handler: com.chinarewards.qqgbvpn.main.protocol.handler.HuaxiaSearchCommandHandler
2012-06-26 09:35:39,262 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.19.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.HuaxiaSearchBodyMessageCodec
2012-06-26 09:35:39,262 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.20.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.HuaxiaSearchBodyMessageResponseCodec
2012-06-26 09:35:39,262 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.21.handler: com.chinarewards.qqgbvpn.main.protocol.handler.HuaxiaConfirmCommandHandler
2012-06-26 09:35:39,262 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.21.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.HuaxiaConfirmBodyMessageCodec
2012-06-26 09:35:39,262 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.22.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.HuaxiaConfirmBodyMessageResponseCodec
2012-06-26 09:35:39,262 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.23.handler: com.chinarewards.qqgbvpn.main.protocol.handler.HuaxiaAckCommandHandler
2012-06-26 09:35:39,262 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.23.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.HuaxiaAckBodyMessageCodec
2012-06-26 09:35:39,262 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.24.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.HuaxiaAckBodyMessageResponseCodec
2012-06-26 09:35:39,262 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.25.handler: com.chinarewards.qqgbvpn.main.protocol.handler.PosEchoCommandHandler
2012-06-26 09:35:39,262 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.25.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.PosEchoCommandRequestMessageCodec
2012-06-26 09:35:39,262 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.26.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.PosEchoCommandResponseMessageCodec
2012-06-26 09:35:39,262 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.27.handler: com.chinarewards.qqgbvpn.main.protocol.handler.ValidateCommandHandler2
2012-06-26 09:35:39,262 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.27.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.ValidateBodyMessageCodec2
2012-06-26 09:35:39,262 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.28.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.ValidateBodyMessageResponseCodec2
2012-06-26 09:35:39,262 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.101.handler: com.chinarewards.qqgbvpn.main.protocol.handler.QQMeishiCommandHandler
2012-06-26 09:35:39,262 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.101.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.QQMeishiBodyMessageCodec
2012-06-26 09:35:39,262 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.102.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.QQMeishiBodyMessageResponseCodec
2012-06-26 09:35:39,262 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.201.handler: com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler
2012-06-26 09:35:39,262 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.201.codec: com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftMessageCodec
2012-06-26 09:35:39,278 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.202.codec: com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftResponseMessageCodec
2012-06-26 09:35:39,278 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.110.handler: com.chinarewards.timeserver.main.protocol.handler.TimeServerHandler
2012-06-26 09:35:39,278 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.110.codec: com.chinarewards.timeserver.main.protocol.socket.mina.codec.TimeServerMessageCodec
2012-06-26 09:35:39,278 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.111.codec: com.chinarewards.timeserver.main.protocol.socket.mina.codec.TimeServerMessageResponseCodec
2012-06-26 09:35:39,278 [main            ] [DEBUG] c.c.q.m.BootStrap           - - qq.vip.adidas.des.secretkey: qqadidas
2012-06-26 09:35:39,278 [main            ] [INFO ] c.c.q.m.BootStrap           - Bootstrapping...
2012-06-26 09:35:39,278 [main            ] [INFO ] c.c.q.m.BootStrap           - Initializing dependency injection environment...
2012-06-26 09:35:39,309 [main            ] [INFO ] c.c.q.m.BootStrap           - Creating Guice injector. If it is stucked, there is a chance the database is down.
2012-06-26 09:35:39,449 [main            ] [DEBUG] .q.m.p.ServiceHandlerModule - Finished configuration
2012-06-26 09:35:39,449 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.SearchCommandHandler to Guice
2012-06-26 09:35:39,449 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.QQMeishiCommandHandler to Guice
2012-06-26 09:35:39,449 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.ValidateCommandHandler to Guice
2012-06-26 09:35:39,449 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler to Guice
2012-06-26 09:35:39,449 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler to Guice
2012-06-26 09:35:39,449 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler to Guice
2012-06-26 09:35:39,449 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.timeserver.main.protocol.handler.TimeServerHandler to Guice
2012-06-26 09:35:39,449 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.BindCommandHandler to Guice
2012-06-26 09:35:39,449 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.ValidationCallbackHandler to Guice
2012-06-26 09:35:39,449 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.FirmwareUpgradeRequestCommandHandler to Guice
2012-06-26 09:35:39,449 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.GetFirmwareFragmentHandler to Guice
2012-06-26 09:35:39,449 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.FirmwareUpDoneHandler to Guice
2012-06-26 09:35:39,449 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.HuaxiaSearchCommandHandler to Guice
2012-06-26 09:35:39,449 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.HuaxiaConfirmCommandHandler to Guice
2012-06-26 09:35:39,449 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.HuaxiaAckCommandHandler to Guice
2012-06-26 09:35:39,449 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.PosEchoCommandHandler to Guice
2012-06-26 09:35:39,449 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.ValidateCommandHandler2 to Guice
2012-06-26 09:35:39,449 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Configuration completed
2012-06-26 09:35:39,793 [main            ] [INFO ] c.c.q.m.BootStrap           - Bootstrapping completed
2012-06-26 09:35:39,793 [main            ] [DEBUG] dule$ServiceMappingProvider - Returning ServiceMapping
2012-06-26 09:35:39,793 [main            ] [DEBUG] $$EnhancerByGuice$$97046352 - ServiceHandlerObjectFactory is com.chinarewards.qqgbvpn.main.protocol.guice.GuiceServiceHandlerObjectFactory@992bae
2012-06-26 09:35:41,134 [main            ] [DEBUG] c.c.q.m.PosServer           - idleTime=20
2012-06-26 09:35:41,181 [main            ] [DEBUG] c.c.q.m.PosServer           -  monitor port =9999
2012-06-26 09:35:41,181 [main            ] [DEBUG] c.c.q.m.PosServer           -  JMXServiceURL =service:jmx:rmi:///jndi/rmi://localhost:9999/jmxrmi
2012-06-26 09:35:41,197 [main            ] [INFO ] c.c.q.m.PosServer           - Client idle timeout set to 20 seconds
2012-06-26 09:35:41,212 [main            ] [DEBUG] c.c.q.m.PosServer           - config server.session.timeout_check_interval=10
2012-06-26 09:35:41,212 [main            ] [INFO ] c.c.q.m.PosServer           - Server running, listening on 1234
2012-06-26 09:35:41,212 [main            ] [INFO ] c.c.q.m.r.RMIRegistry       - Start listener rmi server, port=9999
2012-06-26 09:35:42,367 [main            ] [INFO ] c.c.q.m.r.RMIRegistry       - no existing RMI registry found on port 9999, creating...
2012-06-26 09:35:42,367 [main            ] [INFO ] c.c.q.m.r.RMIRegistry       - RMI server create success.
2012-06-26 09:35:51,213 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:35:51,213 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:35:51,213 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 09:35:51,213 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 09:35:51,213 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:36:00,684 [NioProcessor-2  ] [INFO ] c.c.q.m.p.f.LoggingFilter   - incoming connection from remote address: 127.0.0.1:1948, Mina session ID: 1
2012-06-26 09:36:00,684 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - Currently managed session count: 1
2012-06-26 09:36:00,684 [NioProcessor-2  ] [INFO ] o.a.m.f.l.LoggingFilter     - CREATED
2012-06-26 09:36:00,684 [NioProcessor-2  ] [INFO ] o.a.m.f.l.LoggingFilter     - OPENED
2012-06-26 09:36:00,715 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:1948, Mina session ID 1, identified POS ID null
2012-06-26 09:36:00,715 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 09:36:00,715 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=32 cap=2048: 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20...]
2012-06-26 09:36:00,715 [NioProcessor-2  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 1
2012-06-26 09:36:00,715 [NioProcessor-2  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 09:36:00,715 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 09:36:00,715 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 1
2012-06-26 09:36:00,715 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =32
2012-06-26 09:36:00,715 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 09:36:00,715 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 32, current position: 0
2012-06-26 09:36:00,715 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 09:36:00,715 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}
2012-06-26 09:36:00,715 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 16
2012-06-26 09:36:00,715 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=16, in.remaining=16
2012-06-26 09:36:00,715 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 09:36:00,715 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 5
2012-06-26 09:36:00,715 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 5: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageCodec@151dcd6
2012-06-26 09:36:00,715 [NioProcessor-2  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - init request message decode
2012-06-26 09:36:00,715 [NioProcessor-2  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - in.remaining()=16
2012-06-26 09:36:00,715 [NioProcessor-2  ] [TRACE] .m.p.s.m.c.InitMessageCodec - InitRequestMessage: [cmdId=5, posId=pos-0002]
2012-06-26 09:36:00,715 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 09:36:00,715 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 09:36:00,715 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 09:36:00,715 [NioProcessor-2  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 09:36:00,715 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 09:36:00,715 [NioProcessor-2  ] [DEBUG] p.f.SessionKeyMessageFilter - Mina session ID 1: created session key 0de33ef96e2e4758aed10584db6dde6a
2012-06-26 09:36:00,715 [NioProcessor-2  ] [DEBUG] p.f.SessionKeyMessageFilter - creating session for mina session ID 1 using session ID 0de33ef96e2e4758aed10584db6dde6a
2012-06-26 09:36:00,715 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 09:36:00,715 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 09:36:00,715 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 09:36:00,715 [NioProcessor-2  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:1948, Mina session ID 1, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 09:36:00,715 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 09:36:00,715 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 09:36:00,715 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 09:36:00,715 [NioProcessor-2  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 09:36:00,715 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 09:36:00,715 [pool-4-thread-1 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 09:36:00,762 [pool-4-thread-1 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 09:36:00,762 [pool-4-thread-1 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@1da2737 obtained for command ID 5
2012-06-26 09:36:00,762 [pool-4-thread-1 ] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 5 is com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@1da2737
2012-06-26 09:36:00,762 [pool-4-thread-1 ] [DEBUG] .q.m.p.h.InitCommandHandler - InitCommandHandler======execute==bodyMessage=:  [cmdId=5, posId=pos-0002]
2012-06-26 09:36:00,762 [pool-4-thread-1 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - InitResponse() invoke
2012-06-26 09:36:00,762 [pool-4-thread-1 ] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:ALLOWED
2012-06-26 09:36:00,762 [pool-4-thread-1 ] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId AND p.ostatus = :ostatus
2012-06-26 09:36:00,933 [pool-4-thread-1 ] [WARN ] .q.m.l.l.i.LoginManagerImpl - No usable POS machine found. POS ID not exists or not assigned.
2012-06-26 09:36:01,136 [pool-4-thread-1 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 09:36:01,183 [pool-4-thread-1 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 09:36:01,183 [pool-4-thread-1 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 09:36:01,183 [pool-4-thread-1 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 09:36:01,183 [pool-4-thread-1 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 1
2012-06-26 09:36:01,183 [pool-4-thread-1 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (6)
2012-06-26 09:36:01,183 [pool-4-thread-1 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageResponseCodec@1f93ace
2012-06-26 09:36:01,183 [pool-4-thread-1 ] [DEBUG] .c.InitMessageResponseCodec - init response message encode
2012-06-26 09:36:01,183 [pool-4-thread-1 ] [TRACE] .c.InitMessageResponseCodec - InitResponseMessage: [cmdId=6, result=3, challenge=[66, 112, 108, 97, 103, 66, 81, 116]]
2012-06-26 09:36:01,183 [pool-4-thread-1 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0x984f
2012-06-26 09:36:01,183 [pool-4-thread-1 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 09:36:01,183 [pool-4-thread-1 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 98 4F 00 00 00 1E ...........O....
00000010 00 00 00 06 00 03 42 70 6C 61 67 42 51 74       ......BplagBQt

2012-06-26 09:36:01,183 [pool-4-thread-1 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 09:36:01,183 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 09:36:01,183 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 09:36:01,183 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 1: not mark to return session ID to client
2012-06-26 09:36:01,183 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 09:36:01,183 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 09:36:01,183 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 09:36:01,183 [NioProcessor-2  ] [INFO ] o.a.m.f.l.LoggingFilter     - CLOSED
2012-06-26 09:36:01,183 [NioProcessor-2  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 09:36:01,214 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:36:01,214 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:36:01,214 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 09:36:01,214 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 09:36:01,214 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:36:11,230 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:36:11,230 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:36:11,230 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 09:36:11,230 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 09:36:11,230 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:36:21,231 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:36:21,231 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:36:21,231 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 09:36:21,231 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 09:36:21,231 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:36:29,485 [NioProcessor-3  ] [INFO ] c.c.q.m.p.f.LoggingFilter   - incoming connection from remote address: 127.0.0.1:1951, Mina session ID: 2
2012-06-26 09:36:29,485 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - Currently managed session count: 1
2012-06-26 09:36:29,485 [NioProcessor-3  ] [INFO ] o.a.m.f.l.LoggingFilter     - CREATED
2012-06-26 09:36:29,485 [NioProcessor-3  ] [INFO ] o.a.m.f.l.LoggingFilter     - OPENED
2012-06-26 09:36:29,500 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:1951, Mina session ID 2, identified POS ID null
2012-06-26 09:36:29,500 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 09:36:29,500 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=32 cap=2048: 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20...]
2012-06-26 09:36:29,531 [NioProcessor-3  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 2
2012-06-26 09:36:29,531 [NioProcessor-3  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 09:36:29,531 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 09:36:29,531 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 2
2012-06-26 09:36:29,531 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =32
2012-06-26 09:36:29,531 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 09:36:29,531 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 32, current position: 0
2012-06-26 09:36:29,531 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 09:36:29,531 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}
2012-06-26 09:36:29,531 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 16
2012-06-26 09:36:29,531 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=16, in.remaining=16
2012-06-26 09:36:29,531 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 09:36:29,531 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 5
2012-06-26 09:36:29,531 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 5: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageCodec@87cd5c
2012-06-26 09:36:29,531 [NioProcessor-3  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - init request message decode
2012-06-26 09:36:29,531 [NioProcessor-3  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - in.remaining()=16
2012-06-26 09:36:29,531 [NioProcessor-3  ] [TRACE] .m.p.s.m.c.InitMessageCodec - InitRequestMessage: [cmdId=5, posId=pos-0002]
2012-06-26 09:36:29,531 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 09:36:29,531 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 09:36:29,531 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 09:36:29,531 [NioProcessor-3  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 09:36:29,531 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 09:36:29,531 [NioProcessor-3  ] [DEBUG] p.f.SessionKeyMessageFilter - Mina session ID 2: created session key 0f99b914d5c64e7682993a738b1a62a4
2012-06-26 09:36:29,531 [NioProcessor-3  ] [DEBUG] p.f.SessionKeyMessageFilter - creating session for mina session ID 2 using session ID 0f99b914d5c64e7682993a738b1a62a4
2012-06-26 09:36:29,531 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 09:36:29,531 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 09:36:29,531 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 09:36:29,531 [NioProcessor-3  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:1951, Mina session ID 2, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 09:36:29,531 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 09:36:29,531 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 09:36:29,531 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 09:36:29,531 [NioProcessor-3  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 09:36:29,531 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 09:36:29,531 [pool-4-thread-2 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 09:36:29,531 [pool-4-thread-2 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 09:36:29,531 [pool-4-thread-2 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@508be obtained for command ID 5
2012-06-26 09:36:29,531 [pool-4-thread-2 ] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 5 is com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@508be
2012-06-26 09:36:29,531 [pool-4-thread-2 ] [DEBUG] .q.m.p.h.InitCommandHandler - InitCommandHandler======execute==bodyMessage=:  [cmdId=5, posId=pos-0002]
2012-06-26 09:36:29,531 [pool-4-thread-2 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - InitResponse() invoke
2012-06-26 09:36:29,531 [pool-4-thread-2 ] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:ALLOWED
2012-06-26 09:36:29,531 [pool-4-thread-2 ] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId AND p.ostatus = :ostatus
2012-06-26 09:36:29,531 [pool-4-thread-2 ] [WARN ] .q.m.l.l.i.LoginManagerImpl - No usable POS machine found. POS ID not exists or not assigned.
2012-06-26 09:36:29,531 [pool-4-thread-2 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 09:36:29,563 [pool-4-thread-2 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 09:36:29,563 [pool-4-thread-2 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 09:36:29,563 [pool-4-thread-2 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 09:36:29,563 [pool-4-thread-2 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 2
2012-06-26 09:36:29,563 [pool-4-thread-2 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (6)
2012-06-26 09:36:29,563 [pool-4-thread-2 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageResponseCodec@13f5841
2012-06-26 09:36:29,563 [pool-4-thread-2 ] [DEBUG] .c.InitMessageResponseCodec - init response message encode
2012-06-26 09:36:29,563 [pool-4-thread-2 ] [TRACE] .c.InitMessageResponseCodec - InitResponseMessage: [cmdId=6, result=3, challenge=[71, 71, 98, 103, 122, 122, 84, 86]]
2012-06-26 09:36:29,563 [pool-4-thread-2 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0x8758
2012-06-26 09:36:29,563 [pool-4-thread-2 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 09:36:29,563 [pool-4-thread-2 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 87 58 00 00 00 1E ...........X....
00000010 00 00 00 06 00 03 47 47 62 67 7A 7A 54 56       ......GGbgzzTV

2012-06-26 09:36:29,563 [pool-4-thread-2 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 09:36:29,563 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 09:36:29,563 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 09:36:29,563 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 2: not mark to return session ID to client
2012-06-26 09:36:29,563 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 09:36:29,563 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 09:36:29,563 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 09:36:29,563 [NioProcessor-3  ] [INFO ] o.a.m.f.l.LoggingFilter     - CLOSED
2012-06-26 09:36:29,563 [NioProcessor-3  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 09:36:31,263 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:36:31,263 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:36:31,263 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 09:36:31,263 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 09:36:31,263 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:36:41,266 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:36:41,266 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:36:41,266 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 09:36:41,266 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 09:36:41,266 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:36:51,273 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:36:51,273 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:36:51,273 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 09:36:51,273 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 09:36:51,273 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:37:01,280 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:37:01,280 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:37:01,280 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 09:37:01,280 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 09:37:01,280 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:37:11,287 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:37:11,287 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:37:11,287 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 09:37:11,287 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 09:37:11,287 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:37:21,294 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:37:21,294 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:37:21,294 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 09:37:21,294 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 09:37:21,294 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:37:31,052 [NioProcessor-1  ] [INFO ] c.c.q.m.p.f.LoggingFilter   - incoming connection from remote address: 127.0.0.1:1958, Mina session ID: 3
2012-06-26 09:37:31,052 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - Currently managed session count: 1
2012-06-26 09:37:31,052 [NioProcessor-1  ] [INFO ] o.a.m.f.l.LoggingFilter     - CREATED
2012-06-26 09:37:31,052 [NioProcessor-1  ] [INFO ] o.a.m.f.l.LoggingFilter     - OPENED
2012-06-26 09:37:31,052 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:1958, Mina session ID 3, identified POS ID null
2012-06-26 09:37:31,052 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 09:37:31,052 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=32 cap=2048: 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20...]
2012-06-26 09:37:31,083 [NioProcessor-1  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 3
2012-06-26 09:37:31,083 [NioProcessor-1  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 09:37:31,099 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 09:37:31,099 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 3
2012-06-26 09:37:31,099 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =32
2012-06-26 09:37:31,099 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 09:37:31,099 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 32, current position: 0
2012-06-26 09:37:31,099 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 09:37:31,099 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}
2012-06-26 09:37:31,099 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 16
2012-06-26 09:37:31,099 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=16, in.remaining=16
2012-06-26 09:37:31,099 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 09:37:31,099 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 5
2012-06-26 09:37:31,099 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 5: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageCodec@3c9616
2012-06-26 09:37:31,099 [NioProcessor-1  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - init request message decode
2012-06-26 09:37:31,099 [NioProcessor-1  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - in.remaining()=16
2012-06-26 09:37:31,099 [NioProcessor-1  ] [TRACE] .m.p.s.m.c.InitMessageCodec - InitRequestMessage: [cmdId=5, posId=pos-0002]
2012-06-26 09:37:31,099 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 09:37:31,099 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 09:37:31,099 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 09:37:31,099 [NioProcessor-1  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 09:37:31,099 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 09:37:31,099 [NioProcessor-1  ] [DEBUG] p.f.SessionKeyMessageFilter - Mina session ID 3: created session key f8f378f9ad554e6cad464ae156749a5f
2012-06-26 09:37:31,099 [NioProcessor-1  ] [DEBUG] p.f.SessionKeyMessageFilter - creating session for mina session ID 3 using session ID f8f378f9ad554e6cad464ae156749a5f
2012-06-26 09:37:31,099 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 09:37:31,099 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 09:37:31,099 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 09:37:31,099 [NioProcessor-1  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:1958, Mina session ID 3, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 09:37:31,099 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 09:37:31,099 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 09:37:31,099 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 09:37:31,099 [NioProcessor-1  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 09:37:31,099 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 09:37:31,099 [pool-4-thread-3 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 09:37:31,099 [pool-4-thread-3 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 09:37:31,099 [pool-4-thread-3 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@5113f0 obtained for command ID 5
2012-06-26 09:37:31,099 [pool-4-thread-3 ] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 5 is com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@5113f0
2012-06-26 09:37:31,099 [pool-4-thread-3 ] [DEBUG] .q.m.p.h.InitCommandHandler - InitCommandHandler======execute==bodyMessage=:  [cmdId=5, posId=pos-0002]
2012-06-26 09:37:31,099 [pool-4-thread-3 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - InitResponse() invoke
2012-06-26 09:37:31,099 [pool-4-thread-3 ] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:ALLOWED
2012-06-26 09:37:31,099 [pool-4-thread-3 ] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId AND p.ostatus = :ostatus
2012-06-26 09:37:31,099 [pool-4-thread-3 ] [WARN ] .q.m.l.l.i.LoginManagerImpl - No usable POS machine found. POS ID not exists or not assigned.
2012-06-26 09:37:31,099 [pool-4-thread-3 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 09:37:31,130 [pool-4-thread-3 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 09:37:31,145 [pool-4-thread-3 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 09:37:31,145 [pool-4-thread-3 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 09:37:31,145 [pool-4-thread-3 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 3
2012-06-26 09:37:31,145 [pool-4-thread-3 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (6)
2012-06-26 09:37:31,145 [pool-4-thread-3 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageResponseCodec@1092447
2012-06-26 09:37:31,145 [pool-4-thread-3 ] [DEBUG] .c.InitMessageResponseCodec - init response message encode
2012-06-26 09:37:31,145 [pool-4-thread-3 ] [TRACE] .c.InitMessageResponseCodec - InitResponseMessage: [cmdId=6, result=3, challenge=[113, 117, 120, 88, 111, 89, 68, 72]]
2012-06-26 09:37:31,145 [pool-4-thread-3 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0x6268
2012-06-26 09:37:31,145 [pool-4-thread-3 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 09:37:31,145 [pool-4-thread-3 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 62 68 00 00 00 1E ..........bh....
00000010 00 00 00 06 00 03 71 75 78 58 6F 59 44 48       ......quxXoYDH

2012-06-26 09:37:31,145 [pool-4-thread-3 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 09:37:31,145 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 09:37:31,145 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 09:37:31,145 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 3: not mark to return session ID to client
2012-06-26 09:37:31,145 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 09:37:31,145 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 09:37:31,145 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 09:37:31,145 [NioProcessor-1  ] [INFO ] o.a.m.f.l.LoggingFilter     - CLOSED
2012-06-26 09:37:31,145 [NioProcessor-1  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 09:37:31,348 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:37:31,348 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:37:31,348 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 09:37:31,348 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=3
2012-06-26 09:37:31,348 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:37:41,340 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:37:41,340 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:37:41,340 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 09:37:41,340 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=3
2012-06-26 09:37:41,340 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:37:51,347 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:37:51,347 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:37:51,347 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 09:37:51,347 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=3
2012-06-26 09:37:51,347 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:38:01,354 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:38:01,354 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:38:01,354 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 09:38:01,354 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=3
2012-06-26 09:38:01,354 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:38:11,361 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:38:11,361 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:38:11,361 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 09:38:11,361 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=3
2012-06-26 09:38:11,361 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:38:13,797 [NioProcessor-2  ] [INFO ] c.c.q.m.p.f.LoggingFilter   - incoming connection from remote address: 127.0.0.1:1961, Mina session ID: 4
2012-06-26 09:38:13,797 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - Currently managed session count: 1
2012-06-26 09:38:13,797 [NioProcessor-2  ] [INFO ] o.a.m.f.l.LoggingFilter     - CREATED
2012-06-26 09:38:13,797 [NioProcessor-2  ] [INFO ] o.a.m.f.l.LoggingFilter     - OPENED
2012-06-26 09:38:13,828 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:1961, Mina session ID 4, identified POS ID null
2012-06-26 09:38:13,828 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 09:38:13,828 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=32 cap=2048: 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20...]
2012-06-26 09:38:13,828 [NioProcessor-2  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 4
2012-06-26 09:38:13,828 [NioProcessor-2  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 09:38:13,828 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 09:38:13,828 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 4
2012-06-26 09:38:13,828 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =32
2012-06-26 09:38:13,828 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 09:38:13,828 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 32, current position: 0
2012-06-26 09:38:13,828 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 09:38:13,828 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}
2012-06-26 09:38:13,828 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 16
2012-06-26 09:38:13,828 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=16, in.remaining=16
2012-06-26 09:38:13,828 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 09:38:13,828 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 5
2012-06-26 09:38:13,828 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 5: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageCodec@34f445
2012-06-26 09:38:13,828 [NioProcessor-2  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - init request message decode
2012-06-26 09:38:13,828 [NioProcessor-2  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - in.remaining()=16
2012-06-26 09:38:13,828 [NioProcessor-2  ] [TRACE] .m.p.s.m.c.InitMessageCodec - InitRequestMessage: [cmdId=5, posId=pos-0002]
2012-06-26 09:38:13,828 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 09:38:13,828 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 09:38:13,828 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 09:38:13,828 [NioProcessor-2  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 09:38:13,828 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 09:38:13,828 [NioProcessor-2  ] [DEBUG] p.f.SessionKeyMessageFilter - Mina session ID 4: created session key 19642aa0928941d5ab341af503cb92ea
2012-06-26 09:38:13,828 [NioProcessor-2  ] [DEBUG] p.f.SessionKeyMessageFilter - creating session for mina session ID 4 using session ID 19642aa0928941d5ab341af503cb92ea
2012-06-26 09:38:13,828 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 09:38:13,828 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 09:38:13,828 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 09:38:13,828 [NioProcessor-2  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:1961, Mina session ID 4, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 09:38:13,828 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 09:38:13,828 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 09:38:13,828 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 09:38:13,828 [NioProcessor-2  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 09:38:13,828 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 09:38:13,828 [pool-4-thread-4 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 09:38:13,828 [pool-4-thread-4 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 09:38:13,828 [pool-4-thread-4 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@f12b72 obtained for command ID 5
2012-06-26 09:38:13,828 [pool-4-thread-4 ] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 5 is com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@f12b72
2012-06-26 09:38:13,828 [pool-4-thread-4 ] [DEBUG] .q.m.p.h.InitCommandHandler - InitCommandHandler======execute==bodyMessage=:  [cmdId=5, posId=pos-0002]
2012-06-26 09:38:13,828 [pool-4-thread-4 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - InitResponse() invoke
2012-06-26 09:38:13,828 [pool-4-thread-4 ] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:ALLOWED
2012-06-26 09:38:13,828 [pool-4-thread-4 ] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId AND p.ostatus = :ostatus
2012-06-26 09:38:13,828 [pool-4-thread-4 ] [WARN ] .q.m.l.l.i.LoginManagerImpl - No usable POS machine found. POS ID not exists or not assigned.
2012-06-26 09:38:13,828 [pool-4-thread-4 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 09:38:13,859 [pool-4-thread-4 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 09:38:13,859 [pool-4-thread-4 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 09:38:13,859 [pool-4-thread-4 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 09:38:13,859 [pool-4-thread-4 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 4
2012-06-26 09:38:13,859 [pool-4-thread-4 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (6)
2012-06-26 09:38:13,859 [pool-4-thread-4 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageResponseCodec@152b6f5
2012-06-26 09:38:13,859 [pool-4-thread-4 ] [DEBUG] .c.InitMessageResponseCodec - init response message encode
2012-06-26 09:38:13,859 [pool-4-thread-4 ] [TRACE] .c.InitMessageResponseCodec - InitResponseMessage: [cmdId=6, result=3, challenge=[73, 99, 55, 97, 98, 113, 84, 71]]
2012-06-26 09:38:13,859 [pool-4-thread-4 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0xc85a
2012-06-26 09:38:13,859 [pool-4-thread-4 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 09:38:13,859 [pool-4-thread-4 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 C8 5A 00 00 00 1E ...........Z....
00000010 00 00 00 06 00 03 49 63 37 61 62 71 54 47       ......Ic7abqTG

2012-06-26 09:38:13,859 [pool-4-thread-4 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 09:38:13,859 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 09:38:13,859 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 09:38:13,859 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 4: not mark to return session ID to client
2012-06-26 09:38:13,859 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 09:38:13,859 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 09:38:13,859 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 09:38:13,859 [NioProcessor-2  ] [INFO ] o.a.m.f.l.LoggingFilter     - CLOSED
2012-06-26 09:38:13,859 [NioProcessor-2  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 09:38:21,399 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:38:21,399 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:38:21,399 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=4
2012-06-26 09:38:21,399 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=4
2012-06-26 09:38:21,399 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:38:31,407 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:38:31,407 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:38:31,407 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=4
2012-06-26 09:38:31,407 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=4
2012-06-26 09:38:31,407 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:38:38,260 [NioProcessor-3  ] [INFO ] c.c.q.m.p.f.LoggingFilter   - incoming connection from remote address: 127.0.0.1:1964, Mina session ID: 5
2012-06-26 09:38:38,260 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - Currently managed session count: 1
2012-06-26 09:38:38,260 [NioProcessor-3  ] [INFO ] o.a.m.f.l.LoggingFilter     - CREATED
2012-06-26 09:38:38,260 [NioProcessor-3  ] [INFO ] o.a.m.f.l.LoggingFilter     - OPENED
2012-06-26 09:38:38,291 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:1964, Mina session ID 5, identified POS ID null
2012-06-26 09:38:38,291 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 09:38:38,291 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=32 cap=2048: 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20...]
2012-06-26 09:38:38,291 [NioProcessor-3  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 5
2012-06-26 09:38:38,291 [NioProcessor-3  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 09:38:38,291 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 09:38:38,291 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 5
2012-06-26 09:38:38,291 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =32
2012-06-26 09:38:38,291 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 09:38:38,291 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 32, current position: 0
2012-06-26 09:38:38,291 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 09:38:38,291 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}
2012-06-26 09:38:38,291 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 16
2012-06-26 09:38:38,291 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=16, in.remaining=16
2012-06-26 09:38:38,291 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 09:38:38,291 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 5
2012-06-26 09:38:38,291 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 5: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageCodec@c3d062
2012-06-26 09:38:38,291 [NioProcessor-3  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - init request message decode
2012-06-26 09:38:38,291 [NioProcessor-3  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - in.remaining()=16
2012-06-26 09:38:38,291 [NioProcessor-3  ] [TRACE] .m.p.s.m.c.InitMessageCodec - InitRequestMessage: [cmdId=5, posId=pos-0002]
2012-06-26 09:38:38,291 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 09:38:38,291 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 09:38:38,291 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 09:38:38,291 [NioProcessor-3  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 09:38:38,291 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 09:38:38,291 [NioProcessor-3  ] [DEBUG] p.f.SessionKeyMessageFilter - Mina session ID 5: created session key efd2603afacc479789d92f71334489b6
2012-06-26 09:38:38,291 [NioProcessor-3  ] [DEBUG] p.f.SessionKeyMessageFilter - creating session for mina session ID 5 using session ID efd2603afacc479789d92f71334489b6
2012-06-26 09:38:38,307 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 09:38:38,307 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 09:38:38,307 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 09:38:38,307 [NioProcessor-3  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:1964, Mina session ID 5, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 09:38:38,307 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 09:38:38,307 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 09:38:38,307 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 09:38:38,307 [NioProcessor-3  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 09:38:38,307 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 09:38:38,307 [pool-4-thread-5 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 09:38:38,307 [pool-4-thread-5 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 09:38:38,307 [pool-4-thread-5 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@84de3c obtained for command ID 5
2012-06-26 09:38:38,307 [pool-4-thread-5 ] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 5 is com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@84de3c
2012-06-26 09:38:38,307 [pool-4-thread-5 ] [DEBUG] .q.m.p.h.InitCommandHandler - InitCommandHandler======execute==bodyMessage=:  [cmdId=5, posId=pos-0002]
2012-06-26 09:38:38,307 [pool-4-thread-5 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - InitResponse() invoke
2012-06-26 09:38:38,307 [pool-4-thread-5 ] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:ALLOWED
2012-06-26 09:38:38,307 [pool-4-thread-5 ] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId AND p.ostatus = :ostatus
2012-06-26 09:38:38,307 [pool-4-thread-5 ] [WARN ] .q.m.l.l.i.LoginManagerImpl - No usable POS machine found. POS ID not exists or not assigned.
2012-06-26 09:38:38,307 [pool-4-thread-5 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 09:38:38,323 [pool-4-thread-5 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 09:38:38,323 [pool-4-thread-5 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 09:38:38,323 [pool-4-thread-5 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 09:38:38,323 [pool-4-thread-5 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 5
2012-06-26 09:38:38,323 [pool-4-thread-5 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (6)
2012-06-26 09:38:38,323 [pool-4-thread-5 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageResponseCodec@6e56ae
2012-06-26 09:38:38,323 [pool-4-thread-5 ] [DEBUG] .c.InitMessageResponseCodec - init response message encode
2012-06-26 09:38:38,323 [pool-4-thread-5 ] [TRACE] .c.InitMessageResponseCodec - InitResponseMessage: [cmdId=6, result=3, challenge=[53, 88, 77, 76, 66, 105, 98, 109]]
2012-06-26 09:38:38,323 [pool-4-thread-5 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0xd85c
2012-06-26 09:38:38,323 [pool-4-thread-5 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 09:38:38,323 [pool-4-thread-5 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 D8 5C 00 00 00 1E ...........\....
00000010 00 00 00 06 00 03 35 58 4D 4C 42 69 62 6D       ......5XMLBibm

2012-06-26 09:38:38,323 [pool-4-thread-5 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 09:38:38,323 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 09:38:38,323 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 09:38:38,323 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 5: not mark to return session ID to client
2012-06-26 09:38:38,323 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 09:38:38,323 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 09:38:38,323 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 09:38:38,323 [NioProcessor-3  ] [INFO ] o.a.m.f.l.LoggingFilter     - CLOSED
2012-06-26 09:38:38,323 [NioProcessor-3  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 09:38:41,445 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:38:41,445 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:38:41,445 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=5
2012-06-26 09:38:41,445 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=5
2012-06-26 09:38:41,445 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:38:51,483 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:38:51,483 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:38:51,483 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=5
2012-06-26 09:38:51,483 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=5
2012-06-26 09:38:51,483 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:39:01,521 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:39:01,521 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:39:01,521 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=5
2012-06-26 09:39:01,521 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=5
2012-06-26 09:39:01,521 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:39:11,560 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:39:11,560 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:39:11,560 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=5
2012-06-26 09:39:11,560 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=5
2012-06-26 09:39:11,560 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:39:21,551 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:39:21,551 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:39:21,551 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=5
2012-06-26 09:39:21,551 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=5
2012-06-26 09:39:21,551 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:39:26,953 [NioProcessor-1  ] [INFO ] c.c.q.m.p.f.LoggingFilter   - incoming connection from remote address: 127.0.0.1:1987, Mina session ID: 6
2012-06-26 09:39:26,953 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - Currently managed session count: 1
2012-06-26 09:39:26,953 [NioProcessor-1  ] [INFO ] o.a.m.f.l.LoggingFilter     - CREATED
2012-06-26 09:39:26,953 [NioProcessor-1  ] [INFO ] o.a.m.f.l.LoggingFilter     - OPENED
2012-06-26 09:39:26,984 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:1987, Mina session ID 6, identified POS ID null
2012-06-26 09:39:26,984 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 09:39:26,984 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=32 cap=2048: 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20...]
2012-06-26 09:39:26,984 [NioProcessor-1  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 6
2012-06-26 09:39:26,984 [NioProcessor-1  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 09:39:26,984 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 09:39:26,984 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 6
2012-06-26 09:39:26,984 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =32
2012-06-26 09:39:26,984 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 09:39:26,984 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 32, current position: 0
2012-06-26 09:39:26,984 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 09:39:26,984 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}
2012-06-26 09:39:26,984 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 16
2012-06-26 09:39:26,984 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=16, in.remaining=16
2012-06-26 09:39:26,984 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 09:39:26,984 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 5
2012-06-26 09:39:26,984 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 5: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageCodec@4dd014
2012-06-26 09:39:26,984 [NioProcessor-1  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - init request message decode
2012-06-26 09:39:26,984 [NioProcessor-1  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - in.remaining()=16
2012-06-26 09:39:26,984 [NioProcessor-1  ] [TRACE] .m.p.s.m.c.InitMessageCodec - InitRequestMessage: [cmdId=5, posId=pos-0002]
2012-06-26 09:39:26,984 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 09:39:26,984 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 09:39:26,984 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 09:39:26,984 [NioProcessor-1  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 09:39:26,984 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 09:39:26,984 [NioProcessor-1  ] [DEBUG] p.f.SessionKeyMessageFilter - Mina session ID 6: created session key e25ddf38d3414c4d921d5e39ccafdcd0
2012-06-26 09:39:26,984 [NioProcessor-1  ] [DEBUG] p.f.SessionKeyMessageFilter - creating session for mina session ID 6 using session ID e25ddf38d3414c4d921d5e39ccafdcd0
2012-06-26 09:39:26,984 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 09:39:26,984 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 09:39:26,984 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 09:39:26,984 [NioProcessor-1  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:1987, Mina session ID 6, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 09:39:26,984 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 09:39:26,984 [pool-4-thread-6 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 09:39:26,984 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 09:39:26,984 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 09:39:26,984 [NioProcessor-1  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 09:39:26,984 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 09:39:26,984 [pool-4-thread-6 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 09:39:26,984 [pool-4-thread-6 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@131f919 obtained for command ID 5
2012-06-26 09:39:26,984 [pool-4-thread-6 ] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 5 is com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@131f919
2012-06-26 09:39:26,984 [pool-4-thread-6 ] [DEBUG] .q.m.p.h.InitCommandHandler - InitCommandHandler======execute==bodyMessage=:  [cmdId=5, posId=pos-0002]
2012-06-26 09:39:26,984 [pool-4-thread-6 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - InitResponse() invoke
2012-06-26 09:39:26,984 [pool-4-thread-6 ] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:ALLOWED
2012-06-26 09:39:26,984 [pool-4-thread-6 ] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId AND p.ostatus = :ostatus
2012-06-26 09:39:26,984 [pool-4-thread-6 ] [WARN ] .q.m.l.l.i.LoginManagerImpl - No usable POS machine found. POS ID not exists or not assigned.
2012-06-26 09:39:26,984 [pool-4-thread-6 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 09:39:27,000 [pool-4-thread-6 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 09:39:27,000 [pool-4-thread-6 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 09:39:27,000 [pool-4-thread-6 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 09:39:27,000 [pool-4-thread-6 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 6
2012-06-26 09:39:27,000 [pool-4-thread-6 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (6)
2012-06-26 09:39:27,000 [pool-4-thread-6 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageResponseCodec@bdd2e7
2012-06-26 09:39:27,000 [pool-4-thread-6 ] [DEBUG] .c.InitMessageResponseCodec - init response message encode
2012-06-26 09:39:27,000 [pool-4-thread-6 ] [TRACE] .c.InitMessageResponseCodec - InitResponseMessage: [cmdId=6, result=3, challenge=[86, 70, 87, 65, 56, 109, 74, 74]]
2012-06-26 09:39:27,000 [pool-4-thread-6 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0xcf98
2012-06-26 09:39:27,000 [pool-4-thread-6 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 09:39:27,015 [pool-4-thread-6 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 CF 98 00 00 00 1E ................
00000010 00 00 00 06 00 03 56 46 57 41 38 6D 4A 4A       ......VFWA8mJJ

2012-06-26 09:39:27,015 [pool-4-thread-6 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 09:39:27,015 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 09:39:27,015 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 09:39:27,015 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 6: not mark to return session ID to client
2012-06-26 09:39:27,015 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 09:39:27,015 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 09:39:27,015 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 09:39:27,234 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:1987, Mina session ID 6, identified POS ID pos-0002
2012-06-26 09:39:27,234 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 A9 93 00 00 00 30 ...............0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 EA 7A 89 06 C9 14 83 F9 1C AB E4 7E F9 87 56 F3 .z.........~..V.

2012-06-26 09:39:27,234 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=48 cap=2048: 00 00 00 01 00 00 00 00 00 00 A9 93 00 00 00 30...]
2012-06-26 09:39:27,234 [NioProcessor-1  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 6
2012-06-26 09:39:27,234 [NioProcessor-1  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 09:39:27,234 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 09:39:27,234 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 6
2012-06-26 09:39:27,234 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =48
2012-06-26 09:39:27,234 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 A9 93 00 00 00 30 ...............0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 EA 7A 89 06 C9 14 83 F9 1C AB E4 7E F9 87 56 F3 .z.........~..V.

2012-06-26 09:39:27,234 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 48, current position: 0
2012-06-26 09:39:27,234 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 09:39:27,234 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xa993} messageSize:{0x30} sessionKey:{null}
2012-06-26 09:39:27,234 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 32
2012-06-26 09:39:27,234 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=32, in.remaining=32
2012-06-26 09:39:27,234 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 09:39:27,234 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 7
2012-06-26 09:39:27,234 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 7: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageCodec@6a4d1a
2012-06-26 09:39:27,234 [NioProcessor-1  ] [DEBUG] m.p.s.m.c.LoginMessageCodec - login/bind message decode
2012-06-26 09:39:27,234 [NioProcessor-1  ] [TRACE] m.p.s.m.c.LoginMessageCodec - LoginRequestMessage: [cmdId=7, posId=pos-0002, challengeResponse=[-22, 122, -119, 6, -55, 20, -125, -7, 28, -85, -28, 126, -7, -121, 86, -13]]
2012-06-26 09:39:27,234 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 09:39:27,234 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xa993} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[-22, 122, -119, 6, -55, 20, -125, -7, 28, -85, -28, 126, -7, -121, 86, -13]]
2012-06-26 09:39:27,234 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 09:39:27,234 [NioProcessor-1  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 09:39:27,234 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 09:39:27,234 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 09:39:27,234 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 09:39:27,234 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 09:39:27,234 [NioProcessor-1  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:1987, Mina session ID 6, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xa993} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[-22, 122, -119, 6, -55, 20, -125, -7, 28, -85, -28, 126, -7, -121, 86, -13]]
2012-06-26 09:39:27,234 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 09:39:27,234 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 09:39:27,234 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 09:39:27,234 [NioProcessor-1  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 09:39:27,234 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 09:39:27,234 [pool-4-thread-7 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 09:39:27,234 [pool-4-thread-7 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 09:39:27,234 [pool-4-thread-7 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@c0fc8e obtained for command ID 7
2012-06-26 09:39:27,234 [pool-4-thread-7 ] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 7 is com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@c0fc8e
2012-06-26 09:39:27,234 [pool-4-thread-7 ] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==bodyMessage=: [cmdId=7, posId=pos-0002, challengeResponse=[-22, 122, -119, 6, -55, 20, -125, -7, 28, -85, -28, 126, -7, -121, 86, -13]]
2012-06-26 09:39:27,234 [pool-4-thread-7 ] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:null
2012-06-26 09:39:27,234 [pool-4-thread-7 ] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId
2012-06-26 09:39:27,250 [pool-4-thread-7 ] [WARN ] .q.m.l.l.i.LoginManagerImpl - POS ID 'pos-0002' not found in DB
2012-06-26 09:39:27,250 [pool-4-thread-7 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 09:39:27,265 [pool-4-thread-7 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 09:39:27,281 [pool-4-thread-7 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 09:39:27,281 [pool-4-thread-7 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 09:39:27,281 [pool-4-thread-7 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 6
2012-06-26 09:39:27,281 [pool-4-thread-7 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (8)
2012-06-26 09:39:27,281 [pool-4-thread-7 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageResponseCodec@8420ae
2012-06-26 09:39:27,281 [pool-4-thread-7 ] [DEBUG] c.LoginMessageResponseCodec - login/bind message encode
2012-06-26 09:39:27,281 [pool-4-thread-7 ] [TRACE] c.LoginMessageResponseCodec - LoginResponseMessage: [cmdId=8, result=2, challenge=[88, 77, 88, 85, 97, 121, 116, 51]]
2012-06-26 09:39:27,281 [pool-4-thread-7 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0x7987
2012-06-26 09:39:27,281 [pool-4-thread-7 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 09:39:27,281 [pool-4-thread-7 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 79 87 00 00 00 1E ..........y.....
00000010 00 00 00 08 00 02 58 4D 58 55 61 79 74 33       ......XMXUayt3

2012-06-26 09:39:27,281 [pool-4-thread-7 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 09:39:27,281 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 09:39:27,281 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 09:39:27,281 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 6: not mark to return session ID to client
2012-06-26 09:39:27,281 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 09:39:27,281 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 09:39:27,281 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 09:39:27,281 [NioProcessor-1  ] [INFO ] o.a.m.f.l.LoggingFilter     - CLOSED
2012-06-26 09:39:27,281 [NioProcessor-1  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 09:39:31,590 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:39:31,590 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:39:31,590 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=6
2012-06-26 09:39:31,590 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=5
2012-06-26 09:39:31,590 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:39:41,612 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:39:41,612 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:39:41,612 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=5
2012-06-26 09:39:41,612 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=5
2012-06-26 09:39:41,612 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:39:51,619 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:39:51,619 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:39:51,619 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=5
2012-06-26 09:39:51,619 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=5
2012-06-26 09:39:51,619 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:39:52,306 [NioProcessor-2  ] [INFO ] c.c.q.m.p.f.LoggingFilter   - incoming connection from remote address: 127.0.0.1:1990, Mina session ID: 7
2012-06-26 09:39:52,306 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - Currently managed session count: 1
2012-06-26 09:39:52,306 [NioProcessor-2  ] [INFO ] o.a.m.f.l.LoggingFilter     - CREATED
2012-06-26 09:39:52,306 [NioProcessor-2  ] [INFO ] o.a.m.f.l.LoggingFilter     - OPENED
2012-06-26 09:39:52,322 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:1990, Mina session ID 7, identified POS ID null
2012-06-26 09:39:52,322 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 09:39:52,322 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=32 cap=2048: 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20...]
2012-06-26 09:39:52,322 [NioProcessor-2  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 7
2012-06-26 09:39:52,322 [NioProcessor-2  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 09:39:52,322 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 09:39:52,322 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 7
2012-06-26 09:39:52,322 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =32
2012-06-26 09:39:52,322 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 09:39:52,322 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 32, current position: 0
2012-06-26 09:39:52,322 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 09:39:52,322 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}
2012-06-26 09:39:52,322 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 16
2012-06-26 09:39:52,322 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=16, in.remaining=16
2012-06-26 09:39:52,322 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 09:39:52,322 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 5
2012-06-26 09:39:52,322 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 5: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageCodec@1d688e2
2012-06-26 09:39:52,322 [NioProcessor-2  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - init request message decode
2012-06-26 09:39:52,322 [NioProcessor-2  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - in.remaining()=16
2012-06-26 09:39:52,322 [NioProcessor-2  ] [TRACE] .m.p.s.m.c.InitMessageCodec - InitRequestMessage: [cmdId=5, posId=pos-0002]
2012-06-26 09:39:52,322 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 09:39:52,322 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 09:39:52,322 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 09:39:52,322 [NioProcessor-2  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 09:39:52,322 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 09:39:52,322 [NioProcessor-2  ] [DEBUG] p.f.SessionKeyMessageFilter - Mina session ID 7: created session key d77b28c46160408c8a05b4958fa36c62
2012-06-26 09:39:52,322 [NioProcessor-2  ] [DEBUG] p.f.SessionKeyMessageFilter - creating session for mina session ID 7 using session ID d77b28c46160408c8a05b4958fa36c62
2012-06-26 09:39:52,322 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 09:39:52,322 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 09:39:52,322 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 09:39:52,322 [NioProcessor-2  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:1990, Mina session ID 7, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 09:39:52,322 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 09:39:52,322 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 09:39:52,322 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 09:39:52,322 [NioProcessor-2  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 09:39:52,322 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 09:39:52,322 [pool-4-thread-8 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 09:39:52,338 [pool-4-thread-8 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 09:39:52,338 [pool-4-thread-8 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@165e55e obtained for command ID 5
2012-06-26 09:39:52,338 [pool-4-thread-8 ] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 5 is com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@165e55e
2012-06-26 09:39:52,338 [pool-4-thread-8 ] [DEBUG] .q.m.p.h.InitCommandHandler - InitCommandHandler======execute==bodyMessage=:  [cmdId=5, posId=pos-0002]
2012-06-26 09:39:52,338 [pool-4-thread-8 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - InitResponse() invoke
2012-06-26 09:39:52,338 [pool-4-thread-8 ] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:ALLOWED
2012-06-26 09:39:52,338 [pool-4-thread-8 ] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId AND p.ostatus = :ostatus
2012-06-26 09:39:52,338 [pool-4-thread-8 ] [WARN ] .q.m.l.l.i.LoginManagerImpl - No usable POS machine found. POS ID not exists or not assigned.
2012-06-26 09:39:52,338 [pool-4-thread-8 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 09:39:52,369 [pool-4-thread-8 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 09:39:52,369 [pool-4-thread-8 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 09:39:52,369 [pool-4-thread-8 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 09:39:52,369 [pool-4-thread-8 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 7
2012-06-26 09:39:52,369 [pool-4-thread-8 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (6)
2012-06-26 09:39:52,369 [pool-4-thread-8 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageResponseCodec@1496e57
2012-06-26 09:39:52,369 [pool-4-thread-8 ] [DEBUG] .c.InitMessageResponseCodec - init response message encode
2012-06-26 09:39:52,369 [pool-4-thread-8 ] [TRACE] .c.InitMessageResponseCodec - InitResponseMessage: [cmdId=6, result=3, challenge=[56, 57, 105, 103, 80, 55, 83, 100]]
2012-06-26 09:39:52,369 [pool-4-thread-8 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0xba9b
2012-06-26 09:39:52,369 [pool-4-thread-8 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 09:39:52,369 [pool-4-thread-8 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BA 9B 00 00 00 1E ................
00000010 00 00 00 06 00 03 38 39 69 67 50 37 53 64       ......89igP7Sd

2012-06-26 09:39:52,369 [pool-4-thread-8 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 09:39:52,369 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 09:39:52,369 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 09:39:52,369 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 7: not mark to return session ID to client
2012-06-26 09:39:52,369 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 09:39:52,369 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 09:39:52,369 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 09:39:52,587 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:1990, Mina session ID 7, identified POS ID pos-0002
2012-06-26 09:39:52,587 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 B4 FF 00 00 00 30 ...............0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 16 1B BE BB 52 4B 51 C9 B7 4F 84 81 50 00 02 0C ....RKQ..O..P...

2012-06-26 09:39:52,587 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=48 cap=2048: 00 00 00 01 00 00 00 00 00 00 B4 FF 00 00 00 30...]
2012-06-26 09:39:52,587 [NioProcessor-2  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 7
2012-06-26 09:39:52,587 [NioProcessor-2  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 09:39:52,587 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 09:39:52,587 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 7
2012-06-26 09:39:52,587 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =48
2012-06-26 09:39:52,587 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 B4 FF 00 00 00 30 ...............0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 16 1B BE BB 52 4B 51 C9 B7 4F 84 81 50 00 02 0C ....RKQ..O..P...

2012-06-26 09:39:52,587 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 48, current position: 0
2012-06-26 09:39:52,587 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 09:39:52,587 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xb4ff} messageSize:{0x30} sessionKey:{null}
2012-06-26 09:39:52,587 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 32
2012-06-26 09:39:52,587 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=32, in.remaining=32
2012-06-26 09:39:52,587 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 09:39:52,587 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 7
2012-06-26 09:39:52,587 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 7: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageCodec@39474b
2012-06-26 09:39:52,587 [NioProcessor-2  ] [DEBUG] m.p.s.m.c.LoginMessageCodec - login/bind message decode
2012-06-26 09:39:52,587 [NioProcessor-2  ] [TRACE] m.p.s.m.c.LoginMessageCodec - LoginRequestMessage: [cmdId=7, posId=pos-0002, challengeResponse=[22, 27, -66, -69, 82, 75, 81, -55, -73, 79, -124, -127, 80, 0, 2, 12]]
2012-06-26 09:39:52,587 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 09:39:52,587 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xb4ff} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[22, 27, -66, -69, 82, 75, 81, -55, -73, 79, -124, -127, 80, 0, 2, 12]]
2012-06-26 09:39:52,587 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 09:39:52,587 [NioProcessor-2  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 09:39:52,587 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 09:39:52,587 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 09:39:52,587 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 09:39:52,587 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 09:39:52,587 [NioProcessor-2  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:1990, Mina session ID 7, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xb4ff} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[22, 27, -66, -69, 82, 75, 81, -55, -73, 79, -124, -127, 80, 0, 2, 12]]
2012-06-26 09:39:52,587 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 09:39:52,587 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 09:39:52,587 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 09:39:52,587 [NioProcessor-2  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 09:39:52,587 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 09:39:52,587 [pool-4-thread-9 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 09:39:52,587 [pool-4-thread-9 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 09:39:52,587 [pool-4-thread-9 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@7e80a obtained for command ID 7
2012-06-26 09:39:52,587 [pool-4-thread-9 ] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 7 is com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@7e80a
2012-06-26 09:39:52,587 [pool-4-thread-9 ] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==bodyMessage=: [cmdId=7, posId=pos-0002, challengeResponse=[22, 27, -66, -69, 82, 75, 81, -55, -73, 79, -124, -127, 80, 0, 2, 12]]
2012-06-26 09:39:52,587 [pool-4-thread-9 ] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:null
2012-06-26 09:39:52,587 [pool-4-thread-9 ] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId
2012-06-26 09:39:52,587 [pool-4-thread-9 ] [WARN ] .q.m.l.l.i.LoginManagerImpl - POS ID 'pos-0002' not found in DB
2012-06-26 09:39:52,587 [pool-4-thread-9 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 09:39:52,619 [pool-4-thread-9 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 09:39:52,619 [pool-4-thread-9 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 09:39:52,619 [pool-4-thread-9 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 09:39:52,619 [pool-4-thread-9 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 7
2012-06-26 09:39:52,619 [pool-4-thread-9 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (8)
2012-06-26 09:39:52,619 [pool-4-thread-9 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageResponseCodec@16602cb
2012-06-26 09:39:52,619 [pool-4-thread-9 ] [DEBUG] c.LoginMessageResponseCodec - login/bind message encode
2012-06-26 09:39:52,619 [pool-4-thread-9 ] [TRACE] c.LoginMessageResponseCodec - LoginResponseMessage: [cmdId=8, result=2, challenge=[111, 110, 119, 51, 100, 102, 74, 68]]
2012-06-26 09:39:52,619 [pool-4-thread-9 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0x6a8a
2012-06-26 09:39:52,619 [pool-4-thread-9 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 09:39:52,619 [pool-4-thread-9 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 6A 8A 00 00 00 1E ..........j.....
00000010 00 00 00 08 00 02 6F 6E 77 33 64 66 4A 44       ......onw3dfJD

2012-06-26 09:39:52,619 [pool-4-thread-9 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 09:39:52,619 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 09:39:52,619 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 09:39:52,619 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 7: not mark to return session ID to client
2012-06-26 09:39:52,619 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 09:39:52,619 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 09:39:52,619 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 09:39:52,619 [NioProcessor-2  ] [INFO ] o.a.m.f.l.LoggingFilter     - CLOSED
2012-06-26 09:39:52,619 [NioProcessor-2  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 09:40:01,642 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:40:01,642 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:40:01,642 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=6
2012-06-26 09:40:01,642 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=5
2012-06-26 09:40:01,642 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:40:07,059 [NioProcessor-3  ] [INFO ] c.c.q.m.p.f.LoggingFilter   - incoming connection from remote address: 127.0.0.1:1993, Mina session ID: 8
2012-06-26 09:40:07,059 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - Currently managed session count: 1
2012-06-26 09:40:07,059 [NioProcessor-3  ] [INFO ] o.a.m.f.l.LoggingFilter     - CREATED
2012-06-26 09:40:07,059 [NioProcessor-3  ] [INFO ] o.a.m.f.l.LoggingFilter     - OPENED
2012-06-26 09:40:07,091 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:1993, Mina session ID 8, identified POS ID null
2012-06-26 09:40:07,091 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 09:40:07,091 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=32 cap=2048: 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20...]
2012-06-26 09:40:07,091 [NioProcessor-3  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 8
2012-06-26 09:40:07,091 [NioProcessor-3  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 09:40:07,091 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 09:40:07,091 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 8
2012-06-26 09:40:07,091 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =32
2012-06-26 09:40:07,091 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 09:40:07,091 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 32, current position: 0
2012-06-26 09:40:07,091 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 09:40:07,091 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}
2012-06-26 09:40:07,091 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 16
2012-06-26 09:40:07,091 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=16, in.remaining=16
2012-06-26 09:40:07,091 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 09:40:07,091 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 5
2012-06-26 09:40:07,091 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 5: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageCodec@e2b9e5
2012-06-26 09:40:07,091 [NioProcessor-3  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - init request message decode
2012-06-26 09:40:07,091 [NioProcessor-3  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - in.remaining()=16
2012-06-26 09:40:07,091 [NioProcessor-3  ] [TRACE] .m.p.s.m.c.InitMessageCodec - InitRequestMessage: [cmdId=5, posId=pos-0002]
2012-06-26 09:40:07,091 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 09:40:07,091 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 09:40:07,091 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 09:40:07,091 [NioProcessor-3  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 09:40:07,091 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 09:40:07,091 [NioProcessor-3  ] [DEBUG] p.f.SessionKeyMessageFilter - Mina session ID 8: created session key fd4be5e380254faa8aa8a312cb357eab
2012-06-26 09:40:07,091 [NioProcessor-3  ] [DEBUG] p.f.SessionKeyMessageFilter - creating session for mina session ID 8 using session ID fd4be5e380254faa8aa8a312cb357eab
2012-06-26 09:40:07,091 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 09:40:07,091 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 09:40:07,091 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 09:40:07,091 [NioProcessor-3  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:1993, Mina session ID 8, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 09:40:07,091 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 09:40:07,091 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 09:40:07,091 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 09:40:07,091 [NioProcessor-3  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 09:40:07,091 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 09:40:07,091 [pool-4-thread-10] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 09:40:07,091 [pool-4-thread-10] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 09:40:07,091 [pool-4-thread-10] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@126aaca obtained for command ID 5
2012-06-26 09:40:07,091 [pool-4-thread-10] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 5 is com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@126aaca
2012-06-26 09:40:07,091 [pool-4-thread-10] [DEBUG] .q.m.p.h.InitCommandHandler - InitCommandHandler======execute==bodyMessage=:  [cmdId=5, posId=pos-0002]
2012-06-26 09:40:07,091 [pool-4-thread-10] [DEBUG] .q.m.l.l.i.LoginManagerImpl - InitResponse() invoke
2012-06-26 09:40:07,091 [pool-4-thread-10] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:ALLOWED
2012-06-26 09:40:07,091 [pool-4-thread-10] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId AND p.ostatus = :ostatus
2012-06-26 09:40:07,091 [pool-4-thread-10] [WARN ] .q.m.l.l.i.LoginManagerImpl - No usable POS machine found. POS ID not exists or not assigned.
2012-06-26 09:40:07,091 [pool-4-thread-10] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 09:40:07,122 [pool-4-thread-10] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 09:40:07,122 [pool-4-thread-10] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 09:40:07,122 [pool-4-thread-10] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 09:40:07,122 [pool-4-thread-10] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 8
2012-06-26 09:40:07,122 [pool-4-thread-10] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (6)
2012-06-26 09:40:07,122 [pool-4-thread-10] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageResponseCodec@185c0de
2012-06-26 09:40:07,122 [pool-4-thread-10] [DEBUG] .c.InitMessageResponseCodec - init response message encode
2012-06-26 09:40:07,122 [pool-4-thread-10] [TRACE] .c.InitMessageResponseCodec - InitResponseMessage: [cmdId=6, result=3, challenge=[83, 113, 100, 78, 73, 67, 72, 114]]
2012-06-26 09:40:07,122 [pool-4-thread-10] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0xb662
2012-06-26 09:40:07,122 [pool-4-thread-10] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 09:40:07,122 [pool-4-thread-10] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 B6 62 00 00 00 1E ...........b....
00000010 00 00 00 06 00 03 53 71 64 4E 49 43 48 72       ......SqdNICHr

2012-06-26 09:40:07,122 [pool-4-thread-10] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 09:40:07,122 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 09:40:07,122 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 09:40:07,122 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 8: not mark to return session ID to client
2012-06-26 09:40:07,122 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 09:40:07,122 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 09:40:07,122 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 09:40:07,340 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:1993, Mina session ID 8, identified POS ID pos-0002
2012-06-26 09:40:07,340 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 82 A2 00 00 00 30 ...............0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 52 65 E9 5D 27 3C 34 04 6B 14 D3 EE 15 0F 4E 10 Re.]'<4.k.....N.

2012-06-26 09:40:07,340 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=48 cap=2048: 00 00 00 01 00 00 00 00 00 00 82 A2 00 00 00 30...]
2012-06-26 09:40:07,340 [NioProcessor-3  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 8
2012-06-26 09:40:07,340 [NioProcessor-3  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 09:40:07,340 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 09:40:07,340 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 8
2012-06-26 09:40:07,340 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =48
2012-06-26 09:40:07,340 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 82 A2 00 00 00 30 ...............0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 52 65 E9 5D 27 3C 34 04 6B 14 D3 EE 15 0F 4E 10 Re.]'<4.k.....N.

2012-06-26 09:40:07,340 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 48, current position: 0
2012-06-26 09:40:07,340 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 09:40:07,340 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x82a2} messageSize:{0x30} sessionKey:{null}
2012-06-26 09:40:07,340 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 32
2012-06-26 09:40:07,340 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=32, in.remaining=32
2012-06-26 09:40:07,340 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 09:40:07,340 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 7
2012-06-26 09:40:07,340 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 7: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageCodec@12b9f14
2012-06-26 09:40:07,340 [NioProcessor-3  ] [DEBUG] m.p.s.m.c.LoginMessageCodec - login/bind message decode
2012-06-26 09:40:07,340 [NioProcessor-3  ] [TRACE] m.p.s.m.c.LoginMessageCodec - LoginRequestMessage: [cmdId=7, posId=pos-0002, challengeResponse=[82, 101, -23, 93, 39, 60, 52, 4, 107, 20, -45, -18, 21, 15, 78, 16]]
2012-06-26 09:40:07,340 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 09:40:07,340 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x82a2} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[82, 101, -23, 93, 39, 60, 52, 4, 107, 20, -45, -18, 21, 15, 78, 16]]
2012-06-26 09:40:07,340 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 09:40:07,340 [NioProcessor-3  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 09:40:07,340 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 09:40:07,340 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 09:40:07,340 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 09:40:07,340 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 09:40:07,340 [NioProcessor-3  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:1993, Mina session ID 8, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x82a2} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[82, 101, -23, 93, 39, 60, 52, 4, 107, 20, -45, -18, 21, 15, 78, 16]]
2012-06-26 09:40:07,340 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 09:40:07,340 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 09:40:07,340 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 09:40:07,340 [NioProcessor-3  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 09:40:07,340 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 09:40:07,340 [pool-4-thread-11] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 09:40:07,340 [pool-4-thread-11] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 09:40:07,340 [pool-4-thread-11] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@1cea096 obtained for command ID 7
2012-06-26 09:40:07,340 [pool-4-thread-11] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 7 is com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@1cea096
2012-06-26 09:40:07,340 [pool-4-thread-11] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==bodyMessage=: [cmdId=7, posId=pos-0002, challengeResponse=[82, 101, -23, 93, 39, 60, 52, 4, 107, 20, -45, -18, 21, 15, 78, 16]]
2012-06-26 09:40:07,340 [pool-4-thread-11] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:null
2012-06-26 09:40:07,340 [pool-4-thread-11] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId
2012-06-26 09:40:07,340 [pool-4-thread-11] [WARN ] .q.m.l.l.i.LoginManagerImpl - POS ID 'pos-0002' not found in DB
2012-06-26 09:40:07,340 [pool-4-thread-11] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 09:40:07,387 [pool-4-thread-11] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 09:40:07,387 [pool-4-thread-11] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 09:40:07,387 [pool-4-thread-11] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 09:40:07,387 [pool-4-thread-11] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 8
2012-06-26 09:40:07,387 [pool-4-thread-11] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (8)
2012-06-26 09:40:07,387 [pool-4-thread-11] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageResponseCodec@1bde3d2
2012-06-26 09:40:07,387 [pool-4-thread-11] [DEBUG] c.LoginMessageResponseCodec - login/bind message encode
2012-06-26 09:40:07,387 [pool-4-thread-11] [TRACE] c.LoginMessageResponseCodec - LoginResponseMessage: [cmdId=8, result=2, challenge=[117, 55, 112, 87, 74, 108, 83, 72]]
2012-06-26 09:40:07,387 [pool-4-thread-11] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0x7c93
2012-06-26 09:40:07,387 [pool-4-thread-11] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 09:40:07,387 [pool-4-thread-11] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 7C 93 00 00 00 1E ..........|.....
00000010 00 00 00 08 00 02 75 37 70 57 4A 6C 53 48       ......u7pWJlSH

2012-06-26 09:40:07,387 [pool-4-thread-11] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 09:40:07,387 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 09:40:07,387 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 09:40:07,387 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 8: not mark to return session ID to client
2012-06-26 09:40:07,387 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 09:40:07,387 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 09:40:07,387 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 09:40:07,387 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:1993, Mina session ID 8, identified POS ID pos-0002
2012-06-26 09:40:07,387 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 28 of 28 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 65 68 00 00 00 1C ..........eh....
00000010 00 00 00 C9 00 06 31 32 33 34 35 36             ......123456

2012-06-26 09:40:07,387 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=28 cap=1024: 00 00 00 10 00 00 00 00 00 00 65 68 00 00 00 1C...]
2012-06-26 09:40:07,387 [NioProcessor-3  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 8
2012-06-26 09:40:07,387 [NioProcessor-3  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 09:40:07,387 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 09:40:07,387 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 8
2012-06-26 09:40:07,387 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =28
2012-06-26 09:40:07,387 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 28 of 28 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 65 68 00 00 00 1C ..........eh....
00000010 00 00 00 C9 00 06 31 32 33 34 35 36             ......123456

2012-06-26 09:40:07,387 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 28, current position: 0
2012-06-26 09:40:07,387 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 09:40:07,387 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0x6568} messageSize:{0x1c} sessionKey:{null}
2012-06-26 09:40:07,387 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 12
2012-06-26 09:40:07,387 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=12, in.remaining=12
2012-06-26 09:40:07,387 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 09:40:07,387 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 201
2012-06-26 09:40:07,387 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 201: com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftMessageCodec@1b80d9b
2012-06-26 09:40:07,387 [NioProcessor-3  ] [DEBUG] m.c.ReceiveGiftMessageCodec - receive gift request message decode
2012-06-26 09:40:07,403 [NioProcessor-3  ] [DEBUG] m.c.ReceiveGiftMessageCodec - in.remaining()=12
2012-06-26 09:40:07,403 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 09:40:07,403 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0x6568} messageSize:{0x1c} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@1c67b54
2012-06-26 09:40:07,403 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 09:40:07,403 [NioProcessor-3  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 09:40:07,403 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 09:40:07,403 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 09:40:07,403 [NioProcessor-3  ] [DEBUG] c.c.q.m.p.f.LoginFilter     - isLogin=false
2012-06-26 09:40:07,403 [NioProcessor-3  ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 09:40:07,403 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 09:40:07,403 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 8
2012-06-26 09:40:07,403 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (4294967295)
2012-06-26 09:40:07,403 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0xffd0
2012-06-26 09:40:07,403 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 09:40:07,403 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 24 of 24 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 FF D0 00 00 00 18 ................
00000010 FF FF FF FF 00 00 00 07                         ........

2012-06-26 09:40:07,418 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 09:40:07,418 [NioProcessor-3  ] [DEBUG] c.c.q.m.p.f.LoginFilter     - POS client not logged in, cannot perform command ID=201
2012-06-26 09:40:07,418 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 09:40:07,418 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 09:40:07,418 [NioProcessor-3  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 09:40:07,418 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 09:40:07,418 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 09:40:07,418 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 09:40:07,418 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 8: not mark to return session ID to client
2012-06-26 09:40:07,418 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 09:40:07,418 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 09:40:07,418 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 09:40:07,418 [NioProcessor-3  ] [INFO ] o.a.m.f.l.LoggingFilter     - CLOSED
2012-06-26 09:40:07,418 [NioProcessor-3  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 09:40:11,680 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:40:11,680 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:40:11,680 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=6
2012-06-26 09:40:11,680 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=6
2012-06-26 09:40:11,680 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:40:21,719 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:40:21,719 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:40:21,719 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=6
2012-06-26 09:40:21,719 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=6
2012-06-26 09:40:21,719 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:40:31,726 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:40:31,726 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:40:31,726 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=6
2012-06-26 09:40:31,726 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=6
2012-06-26 09:40:31,726 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:40:41,749 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:40:41,749 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:40:41,749 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=6
2012-06-26 09:40:41,749 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=6
2012-06-26 09:40:41,749 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:40:51,756 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:40:51,756 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:40:51,756 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=6
2012-06-26 09:40:51,756 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=6
2012-06-26 09:40:51,756 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:41:01,763 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:41:01,763 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:41:01,763 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=6
2012-06-26 09:41:01,763 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=5
2012-06-26 09:41:01,763 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:41:11,786 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:41:11,786 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:41:11,786 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=5
2012-06-26 09:41:11,786 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=5
2012-06-26 09:41:11,786 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:41:21,808 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:41:21,808 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:41:21,808 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=5
2012-06-26 09:41:21,808 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=5
2012-06-26 09:41:21,808 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:41:31,815 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:41:31,815 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:41:31,815 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=5
2012-06-26 09:41:31,815 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=5
2012-06-26 09:41:31,815 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:41:41,089 [NioProcessor-1  ] [INFO ] c.c.q.m.p.f.LoggingFilter   - incoming connection from remote address: 127.0.0.1:2000, Mina session ID: 9
2012-06-26 09:41:41,089 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - Currently managed session count: 1
2012-06-26 09:41:41,089 [NioProcessor-1  ] [INFO ] o.a.m.f.l.LoggingFilter     - CREATED
2012-06-26 09:41:41,089 [NioProcessor-1  ] [INFO ] o.a.m.f.l.LoggingFilter     - OPENED
2012-06-26 09:41:41,136 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2000, Mina session ID 9, identified POS ID null
2012-06-26 09:41:41,136 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 09:41:41,136 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=32 cap=2048: 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20...]
2012-06-26 09:41:41,136 [NioProcessor-1  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 9
2012-06-26 09:41:41,136 [NioProcessor-1  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 09:41:41,136 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 09:41:41,136 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 9
2012-06-26 09:41:41,136 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =32
2012-06-26 09:41:41,136 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 09:41:41,136 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 32, current position: 0
2012-06-26 09:41:41,136 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 09:41:41,136 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}
2012-06-26 09:41:41,136 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 16
2012-06-26 09:41:41,136 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=16, in.remaining=16
2012-06-26 09:41:41,136 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 09:41:41,136 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 5
2012-06-26 09:41:41,136 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 5: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageCodec@6f4652
2012-06-26 09:41:41,136 [NioProcessor-1  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - init request message decode
2012-06-26 09:41:41,136 [NioProcessor-1  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - in.remaining()=16
2012-06-26 09:41:41,136 [NioProcessor-1  ] [TRACE] .m.p.s.m.c.InitMessageCodec - InitRequestMessage: [cmdId=5, posId=pos-0002]
2012-06-26 09:41:41,136 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 09:41:41,136 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 09:41:41,136 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 09:41:41,136 [NioProcessor-1  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 09:41:41,136 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 09:41:41,136 [NioProcessor-1  ] [DEBUG] p.f.SessionKeyMessageFilter - Mina session ID 9: created session key 6a8264d4cba84be9a839f09100451ac4
2012-06-26 09:41:41,136 [NioProcessor-1  ] [DEBUG] p.f.SessionKeyMessageFilter - creating session for mina session ID 9 using session ID 6a8264d4cba84be9a839f09100451ac4
2012-06-26 09:41:41,136 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 09:41:41,136 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 09:41:41,136 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 09:41:41,136 [NioProcessor-1  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2000, Mina session ID 9, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 09:41:41,136 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 09:41:41,136 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 09:41:41,136 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 09:41:41,136 [NioProcessor-1  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 09:41:41,136 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 09:41:41,136 [pool-4-thread-12] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 09:41:41,136 [pool-4-thread-12] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 09:41:41,136 [pool-4-thread-12] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@cc5002 obtained for command ID 5
2012-06-26 09:41:41,136 [pool-4-thread-12] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 5 is com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@cc5002
2012-06-26 09:41:41,136 [pool-4-thread-12] [DEBUG] .q.m.p.h.InitCommandHandler - InitCommandHandler======execute==bodyMessage=:  [cmdId=5, posId=pos-0002]
2012-06-26 09:41:41,136 [pool-4-thread-12] [DEBUG] .q.m.l.l.i.LoginManagerImpl - InitResponse() invoke
2012-06-26 09:41:41,136 [pool-4-thread-12] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:ALLOWED
2012-06-26 09:41:41,136 [pool-4-thread-12] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId AND p.ostatus = :ostatus
2012-06-26 09:41:41,136 [pool-4-thread-12] [WARN ] .q.m.l.l.i.LoginManagerImpl - No usable POS machine found. POS ID not exists or not assigned.
2012-06-26 09:41:41,152 [pool-4-thread-12] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 09:41:41,449 [pool-4-thread-12] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 09:41:41,449 [pool-4-thread-12] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 09:41:41,449 [pool-4-thread-12] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 09:41:41,449 [pool-4-thread-12] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 9
2012-06-26 09:41:41,449 [pool-4-thread-12] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (6)
2012-06-26 09:41:41,449 [pool-4-thread-12] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageResponseCodec@1a05bdb
2012-06-26 09:41:41,449 [pool-4-thread-12] [DEBUG] .c.InitMessageResponseCodec - init response message encode
2012-06-26 09:41:41,449 [pool-4-thread-12] [TRACE] .c.InitMessageResponseCodec - InitResponseMessage: [cmdId=6, result=3, challenge=[99, 97, 51, 50, 68, 86, 117, 106]]
2012-06-26 09:41:41,449 [pool-4-thread-12] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0xaf83
2012-06-26 09:41:41,449 [pool-4-thread-12] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 09:41:41,449 [pool-4-thread-12] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 AF 83 00 00 00 1E ................
00000010 00 00 00 06 00 03 63 61 33 32 44 56 75 6A       ......ca32DVuj

2012-06-26 09:41:41,449 [pool-4-thread-12] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 09:41:41,449 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 09:41:41,449 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 09:41:41,449 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 9: not mark to return session ID to client
2012-06-26 09:41:41,449 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 09:41:41,449 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 09:41:41,449 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 09:41:41,652 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2000, Mina session ID 9, identified POS ID pos-0002
2012-06-26 09:41:41,652 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 B2 83 00 00 00 30 ...............0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 09 D6 57 45 78 0F 84 0A 5A CF 05 D0 A2 FE A8 71 ..WEx...Z......q

2012-06-26 09:41:41,652 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=48 cap=2048: 00 00 00 01 00 00 00 00 00 00 B2 83 00 00 00 30...]
2012-06-26 09:41:41,652 [NioProcessor-1  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 9
2012-06-26 09:41:41,652 [NioProcessor-1  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 09:41:41,652 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 09:41:41,667 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 9
2012-06-26 09:41:41,667 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =48
2012-06-26 09:41:41,667 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 B2 83 00 00 00 30 ...............0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 09 D6 57 45 78 0F 84 0A 5A CF 05 D0 A2 FE A8 71 ..WEx...Z......q

2012-06-26 09:41:41,667 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 48, current position: 0
2012-06-26 09:41:41,667 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 09:41:41,667 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xb283} messageSize:{0x30} sessionKey:{null}
2012-06-26 09:41:41,667 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 32
2012-06-26 09:41:41,667 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=32, in.remaining=32
2012-06-26 09:41:41,667 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 09:41:41,667 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 7
2012-06-26 09:41:41,667 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 7: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageCodec@bc0eba
2012-06-26 09:41:41,667 [NioProcessor-1  ] [DEBUG] m.p.s.m.c.LoginMessageCodec - login/bind message decode
2012-06-26 09:41:41,667 [NioProcessor-1  ] [TRACE] m.p.s.m.c.LoginMessageCodec - LoginRequestMessage: [cmdId=7, posId=pos-0002, challengeResponse=[9, -42, 87, 69, 120, 15, -124, 10, 90, -49, 5, -48, -94, -2, -88, 113]]
2012-06-26 09:41:41,667 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 09:41:41,667 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xb283} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[9, -42, 87, 69, 120, 15, -124, 10, 90, -49, 5, -48, -94, -2, -88, 113]]
2012-06-26 09:41:41,667 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 09:41:41,667 [NioProcessor-1  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 09:41:41,667 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 09:41:41,667 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 09:41:41,667 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 09:41:41,667 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 09:41:41,667 [NioProcessor-1  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2000, Mina session ID 9, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xb283} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[9, -42, 87, 69, 120, 15, -124, 10, 90, -49, 5, -48, -94, -2, -88, 113]]
2012-06-26 09:41:41,667 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 09:41:41,667 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 09:41:41,667 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 09:41:41,667 [NioProcessor-1  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 09:41:41,667 [pool-4-thread-13] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 09:41:41,667 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 09:41:41,667 [pool-4-thread-13] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 09:41:41,667 [pool-4-thread-13] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@19d4f72 obtained for command ID 7
2012-06-26 09:41:41,667 [pool-4-thread-13] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 7 is com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@19d4f72
2012-06-26 09:41:41,667 [pool-4-thread-13] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==bodyMessage=: [cmdId=7, posId=pos-0002, challengeResponse=[9, -42, 87, 69, 120, 15, -124, 10, 90, -49, 5, -48, -94, -2, -88, 113]]
2012-06-26 09:41:41,667 [pool-4-thread-13] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:null
2012-06-26 09:41:41,667 [pool-4-thread-13] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId
2012-06-26 09:41:41,667 [pool-4-thread-13] [WARN ] .q.m.l.l.i.LoginManagerImpl - POS ID 'pos-0002' not found in DB
2012-06-26 09:41:41,667 [pool-4-thread-13] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 09:41:41,714 [pool-4-thread-13] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 09:41:41,714 [pool-4-thread-13] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 09:41:41,714 [pool-4-thread-13] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 09:41:41,714 [pool-4-thread-13] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 9
2012-06-26 09:41:41,714 [pool-4-thread-13] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (8)
2012-06-26 09:41:41,714 [pool-4-thread-13] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageResponseCodec@1d5b883
2012-06-26 09:41:41,714 [pool-4-thread-13] [DEBUG] c.LoginMessageResponseCodec - login/bind message encode
2012-06-26 09:41:41,714 [pool-4-thread-13] [TRACE] c.LoginMessageResponseCodec - LoginResponseMessage: [cmdId=8, result=2, challenge=[67, 49, 100, 105, 122, 112, 99, 99]]
2012-06-26 09:41:41,714 [pool-4-thread-13] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0x7a68
2012-06-26 09:41:41,714 [pool-4-thread-13] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 09:41:41,714 [pool-4-thread-13] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 7A 68 00 00 00 1E ..........zh....
00000010 00 00 00 08 00 02 43 31 64 69 7A 70 63 63       ......C1dizpcc

2012-06-26 09:41:41,714 [pool-4-thread-13] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 09:41:41,714 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 09:41:41,714 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 09:41:41,714 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 9: not mark to return session ID to client
2012-06-26 09:41:41,714 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 09:41:41,714 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 09:41:41,714 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 09:41:41,714 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2000, Mina session ID 9, identified POS ID pos-0002
2012-06-26 09:41:41,714 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 28 of 28 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 65 68 00 00 00 1C ..........eh....
00000010 00 00 00 C9 00 06 31 32 33 34 35 36             ......123456

2012-06-26 09:41:41,714 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=28 cap=1024: 00 00 00 10 00 00 00 00 00 00 65 68 00 00 00 1C...]
2012-06-26 09:41:41,714 [NioProcessor-1  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 9
2012-06-26 09:41:41,714 [NioProcessor-1  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 09:41:41,714 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 09:41:41,714 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 9
2012-06-26 09:41:41,714 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =28
2012-06-26 09:41:41,714 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 28 of 28 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 65 68 00 00 00 1C ..........eh....
00000010 00 00 00 C9 00 06 31 32 33 34 35 36             ......123456

2012-06-26 09:41:41,714 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 28, current position: 0
2012-06-26 09:41:41,714 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 09:41:41,714 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0x6568} messageSize:{0x1c} sessionKey:{null}
2012-06-26 09:41:41,714 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 12
2012-06-26 09:41:41,714 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=12, in.remaining=12
2012-06-26 09:41:41,714 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 09:41:41,714 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 201
2012-06-26 09:41:41,714 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 201: com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftMessageCodec@189cecf
2012-06-26 09:41:41,714 [NioProcessor-1  ] [DEBUG] m.c.ReceiveGiftMessageCodec - receive gift request message decode
2012-06-26 09:41:41,714 [NioProcessor-1  ] [DEBUG] m.c.ReceiveGiftMessageCodec - in.remaining()=12
2012-06-26 09:41:41,714 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 09:41:41,714 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0x6568} messageSize:{0x1c} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@687ae0
2012-06-26 09:41:41,714 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 09:41:41,714 [NioProcessor-1  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 09:41:41,714 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 09:41:41,714 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 09:41:41,714 [NioProcessor-1  ] [DEBUG] c.c.q.m.p.f.LoginFilter     - isLogin=false
2012-06-26 09:41:41,714 [NioProcessor-1  ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 09:41:41,714 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 09:41:41,714 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 9
2012-06-26 09:41:41,714 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (4294967295)
2012-06-26 09:41:41,714 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0xffd0
2012-06-26 09:41:41,714 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 09:41:41,714 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 24 of 24 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 FF D0 00 00 00 18 ................
00000010 FF FF FF FF 00 00 00 07                         ........

2012-06-26 09:41:41,714 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 09:41:41,714 [NioProcessor-1  ] [DEBUG] c.c.q.m.p.f.LoginFilter     - POS client not logged in, cannot perform command ID=201
2012-06-26 09:41:41,714 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 09:41:41,714 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 09:41:41,714 [NioProcessor-1  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 09:41:41,714 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 09:41:41,714 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 09:41:41,714 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 09:41:41,714 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 9: not mark to return session ID to client
2012-06-26 09:41:41,714 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 09:41:41,714 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 09:41:41,714 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 09:41:41,714 [NioProcessor-1  ] [INFO ] o.a.m.f.l.LoggingFilter     - CLOSED
2012-06-26 09:41:41,714 [NioProcessor-1  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 09:41:41,855 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:41:41,855 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:41:41,855 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=6
2012-06-26 09:41:41,855 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=6
2012-06-26 09:41:41,855 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:41:51,848 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:41:51,848 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:41:51,848 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=6
2012-06-26 09:41:51,848 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=5
2012-06-26 09:41:51,848 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:42:01,858 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:42:01,858 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:42:01,858 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=5
2012-06-26 09:42:01,858 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=5
2012-06-26 09:42:01,858 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:42:08,026 [NioProcessor-2  ] [INFO ] c.c.q.m.p.f.LoggingFilter   - incoming connection from remote address: 127.0.0.1:2003, Mina session ID: 10
2012-06-26 09:42:08,026 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - Currently managed session count: 1
2012-06-26 09:42:08,026 [NioProcessor-2  ] [INFO ] o.a.m.f.l.LoggingFilter     - CREATED
2012-06-26 09:42:08,026 [NioProcessor-2  ] [INFO ] o.a.m.f.l.LoggingFilter     - OPENED
2012-06-26 09:42:08,057 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2003, Mina session ID 10, identified POS ID null
2012-06-26 09:42:08,057 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 09:42:08,057 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=32 cap=2048: 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20...]
2012-06-26 09:42:08,057 [NioProcessor-2  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 10
2012-06-26 09:42:08,057 [NioProcessor-2  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 09:42:08,057 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 09:42:08,057 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 10
2012-06-26 09:42:08,057 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =32
2012-06-26 09:42:08,057 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 09:42:08,057 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 32, current position: 0
2012-06-26 09:42:08,057 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 09:42:08,057 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}
2012-06-26 09:42:08,057 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 16
2012-06-26 09:42:08,057 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=16, in.remaining=16
2012-06-26 09:42:08,057 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 09:42:08,057 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 5
2012-06-26 09:42:08,057 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 5: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageCodec@1635aad
2012-06-26 09:42:08,057 [NioProcessor-2  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - init request message decode
2012-06-26 09:42:08,057 [NioProcessor-2  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - in.remaining()=16
2012-06-26 09:42:08,057 [NioProcessor-2  ] [TRACE] .m.p.s.m.c.InitMessageCodec - InitRequestMessage: [cmdId=5, posId=pos-0002]
2012-06-26 09:42:08,057 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 09:42:08,057 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 09:42:08,057 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 09:42:08,057 [NioProcessor-2  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 09:42:08,057 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 09:42:08,057 [NioProcessor-2  ] [DEBUG] p.f.SessionKeyMessageFilter - Mina session ID 10: created session key 3d39f3c82bc049e6898d49f5f389403d
2012-06-26 09:42:08,057 [NioProcessor-2  ] [DEBUG] p.f.SessionKeyMessageFilter - creating session for mina session ID 10 using session ID 3d39f3c82bc049e6898d49f5f389403d
2012-06-26 09:42:08,057 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 09:42:08,057 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 09:42:08,057 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 09:42:08,057 [NioProcessor-2  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2003, Mina session ID 10, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 09:42:08,057 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 09:42:08,057 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 09:42:08,057 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 09:42:08,057 [NioProcessor-2  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 09:42:08,057 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 09:42:08,057 [pool-4-thread-14] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 09:42:08,057 [pool-4-thread-14] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 09:42:08,057 [pool-4-thread-14] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@5e9d7a obtained for command ID 5
2012-06-26 09:42:08,057 [pool-4-thread-14] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 5 is com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@5e9d7a
2012-06-26 09:42:08,057 [pool-4-thread-14] [DEBUG] .q.m.p.h.InitCommandHandler - InitCommandHandler======execute==bodyMessage=:  [cmdId=5, posId=pos-0002]
2012-06-26 09:42:08,057 [pool-4-thread-14] [DEBUG] .q.m.l.l.i.LoginManagerImpl - InitResponse() invoke
2012-06-26 09:42:08,057 [pool-4-thread-14] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:ALLOWED
2012-06-26 09:42:08,057 [pool-4-thread-14] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId AND p.ostatus = :ostatus
2012-06-26 09:42:08,057 [pool-4-thread-14] [WARN ] .q.m.l.l.i.LoginManagerImpl - No usable POS machine found. POS ID not exists or not assigned.
2012-06-26 09:42:08,057 [pool-4-thread-14] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 09:42:08,073 [pool-4-thread-14] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 09:42:08,073 [pool-4-thread-14] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 09:42:08,073 [pool-4-thread-14] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 09:42:08,073 [pool-4-thread-14] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 10
2012-06-26 09:42:08,088 [pool-4-thread-14] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (6)
2012-06-26 09:42:08,088 [pool-4-thread-14] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageResponseCodec@9d22fc
2012-06-26 09:42:08,088 [pool-4-thread-14] [DEBUG] .c.InitMessageResponseCodec - init response message encode
2012-06-26 09:42:08,088 [pool-4-thread-14] [TRACE] .c.InitMessageResponseCodec - InitResponseMessage: [cmdId=6, result=3, challenge=[113, 113, 100, 102, 111, 78, 82, 81]]
2012-06-26 09:42:08,088 [pool-4-thread-14] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0x6860
2012-06-26 09:42:08,088 [pool-4-thread-14] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 09:42:08,088 [pool-4-thread-14] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 68 60 00 00 00 1E ..........h`....
00000010 00 00 00 06 00 03 71 71 64 66 6F 4E 52 51       ......qqdfoNRQ

2012-06-26 09:42:08,088 [pool-4-thread-14] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 09:42:08,088 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 09:42:08,088 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 09:42:08,088 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 10: not mark to return session ID to client
2012-06-26 09:42:08,088 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 09:42:08,088 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 09:42:08,088 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 09:42:08,088 [NioProcessor-2  ] [INFO ] o.a.m.f.l.LoggingFilter     - CLOSED
2012-06-26 09:42:08,088 [NioProcessor-2  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 09:42:11,883 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:42:11,883 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:42:11,883 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=6
2012-06-26 09:42:11,883 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=5
2012-06-26 09:42:11,883 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:42:21,892 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:42:21,892 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:42:21,892 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=5
2012-06-26 09:42:21,892 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=5
2012-06-26 09:42:21,892 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:42:31,902 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:42:31,902 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:42:31,902 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=5
2012-06-26 09:42:31,902 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=5
2012-06-26 09:42:31,902 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:42:41,911 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:42:41,911 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:42:41,911 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=5
2012-06-26 09:42:41,911 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=5
2012-06-26 09:42:41,911 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:42:51,920 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:42:51,920 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:42:51,920 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=5
2012-06-26 09:42:51,920 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=5
2012-06-26 09:42:51,920 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:43:01,930 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:43:01,930 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:43:01,930 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=5
2012-06-26 09:43:01,930 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=4
2012-06-26 09:43:01,930 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:43:11,939 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:43:11,939 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:43:11,939 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=4
2012-06-26 09:43:11,939 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=4
2012-06-26 09:43:11,939 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:43:21,949 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:43:21,949 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:43:21,949 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=4
2012-06-26 09:43:21,949 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=4
2012-06-26 09:43:21,949 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:43:31,974 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:43:31,974 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:43:31,974 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=4
2012-06-26 09:43:31,974 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=3
2012-06-26 09:43:31,974 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:43:41,983 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:43:41,983 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:43:41,983 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 09:43:41,983 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 09:43:41,983 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:43:51,993 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:43:51,993 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:43:51,993 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 09:43:51,993 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 09:43:51,993 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:44:01,986 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:44:01,986 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:44:01,986 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 09:44:01,986 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 09:44:01,986 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:44:11,953 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:44:11,953 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:44:11,953 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 09:44:11,953 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 09:44:11,953 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:44:18,359 [NioProcessor-3  ] [INFO ] c.c.q.m.p.f.LoggingFilter   - incoming connection from remote address: 127.0.0.1:2011, Mina session ID: 11
2012-06-26 09:44:18,359 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - Currently managed session count: 1
2012-06-26 09:44:18,359 [NioProcessor-3  ] [INFO ] o.a.m.f.l.LoggingFilter     - CREATED
2012-06-26 09:44:18,359 [NioProcessor-3  ] [INFO ] o.a.m.f.l.LoggingFilter     - OPENED
2012-06-26 09:44:18,390 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2011, Mina session ID 11, identified POS ID null
2012-06-26 09:44:18,390 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 09:44:18,390 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=32 cap=2048: 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20...]
2012-06-26 09:44:18,390 [NioProcessor-3  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 11
2012-06-26 09:44:18,390 [NioProcessor-3  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 09:44:18,390 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 09:44:18,390 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 11
2012-06-26 09:44:18,390 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =32
2012-06-26 09:44:18,390 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 09:44:18,390 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 32, current position: 0
2012-06-26 09:44:18,390 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 09:44:18,390 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}
2012-06-26 09:44:18,390 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 16
2012-06-26 09:44:18,390 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=16, in.remaining=16
2012-06-26 09:44:18,390 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 09:44:18,390 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 5
2012-06-26 09:44:18,390 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 5: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageCodec@13c66d8
2012-06-26 09:44:18,390 [NioProcessor-3  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - init request message decode
2012-06-26 09:44:18,390 [NioProcessor-3  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - in.remaining()=16
2012-06-26 09:44:18,390 [NioProcessor-3  ] [TRACE] .m.p.s.m.c.InitMessageCodec - InitRequestMessage: [cmdId=5, posId=pos-0002]
2012-06-26 09:44:18,390 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 09:44:18,390 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 09:44:18,390 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 09:44:18,390 [NioProcessor-3  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 09:44:18,390 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 09:44:18,390 [NioProcessor-3  ] [DEBUG] p.f.SessionKeyMessageFilter - Mina session ID 11: created session key 0861e04ab05c498aa0c8d80354ac323c
2012-06-26 09:44:18,390 [NioProcessor-3  ] [DEBUG] p.f.SessionKeyMessageFilter - creating session for mina session ID 11 using session ID 0861e04ab05c498aa0c8d80354ac323c
2012-06-26 09:44:18,390 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 09:44:18,390 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 09:44:18,390 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 09:44:18,390 [NioProcessor-3  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2011, Mina session ID 11, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 09:44:18,390 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 09:44:18,390 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 09:44:18,390 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 09:44:18,390 [NioProcessor-3  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 09:44:18,390 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 09:44:18,390 [pool-4-thread-15] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 09:44:18,390 [pool-4-thread-15] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 09:44:18,390 [pool-4-thread-15] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@19ab00e obtained for command ID 5
2012-06-26 09:44:18,390 [pool-4-thread-15] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 5 is com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@19ab00e
2012-06-26 09:44:18,390 [pool-4-thread-15] [DEBUG] .q.m.p.h.InitCommandHandler - InitCommandHandler======execute==bodyMessage=:  [cmdId=5, posId=pos-0002]
2012-06-26 09:44:18,390 [pool-4-thread-15] [DEBUG] .q.m.l.l.i.LoginManagerImpl - InitResponse() invoke
2012-06-26 09:44:18,390 [pool-4-thread-15] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:ALLOWED
2012-06-26 09:44:18,390 [pool-4-thread-15] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId AND p.ostatus = :ostatus
2012-06-26 09:44:18,390 [pool-4-thread-15] [WARN ] .q.m.l.l.i.LoginManagerImpl - No usable POS machine found. POS ID not exists or not assigned.
2012-06-26 09:44:18,390 [pool-4-thread-15] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 09:44:18,390 [pool-4-thread-15] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 09:44:18,390 [pool-4-thread-15] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 09:44:18,390 [pool-4-thread-15] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 09:44:18,390 [pool-4-thread-15] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 11
2012-06-26 09:44:18,390 [pool-4-thread-15] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (6)
2012-06-26 09:44:18,390 [pool-4-thread-15] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageResponseCodec@e99d0f
2012-06-26 09:44:18,390 [pool-4-thread-15] [DEBUG] .c.InitMessageResponseCodec - init response message encode
2012-06-26 09:44:18,390 [pool-4-thread-15] [TRACE] .c.InitMessageResponseCodec - InitResponseMessage: [cmdId=6, result=3, challenge=[106, 48, 90, 56, 77, 105, 48, 110]]
2012-06-26 09:44:18,390 [pool-4-thread-15] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0xbd97
2012-06-26 09:44:18,390 [pool-4-thread-15] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 09:44:18,390 [pool-4-thread-15] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BD 97 00 00 00 1E ................
00000010 00 00 00 06 00 03 6A 30 5A 38 4D 69 30 6E       ......j0Z8Mi0n

2012-06-26 09:44:18,390 [pool-4-thread-15] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 09:44:18,406 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 09:44:18,406 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 09:44:18,406 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 11: not mark to return session ID to client
2012-06-26 09:44:18,406 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 09:44:18,406 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 09:44:18,406 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 09:44:18,406 [NioProcessor-3  ] [INFO ] o.a.m.f.l.LoggingFilter     - CLOSED
2012-06-26 09:44:18,406 [NioProcessor-3  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 09:44:21,951 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:44:21,951 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:44:21,951 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 09:44:21,951 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=3
2012-06-26 09:44:21,951 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:44:31,917 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:44:31,917 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:44:31,917 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 09:44:31,917 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=3
2012-06-26 09:44:31,917 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:44:41,884 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:44:41,884 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:44:41,884 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 09:44:41,884 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=3
2012-06-26 09:44:41,884 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:44:51,850 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:44:51,850 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:44:51,850 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 09:44:51,850 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=3
2012-06-26 09:44:51,850 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:45:01,817 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:45:01,817 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:45:01,817 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 09:45:01,817 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=3
2012-06-26 09:45:01,817 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:45:11,784 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:45:11,784 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:45:11,784 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 09:45:11,784 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 09:45:11,784 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:45:21,750 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:45:21,750 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:45:21,750 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 09:45:21,750 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 09:45:21,750 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:45:31,732 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:45:31,732 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:45:31,732 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 09:45:31,732 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 09:45:31,732 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:45:33,178 [NioProcessor-1  ] [INFO ] c.c.q.m.p.f.LoggingFilter   - incoming connection from remote address: 127.0.0.1:2018, Mina session ID: 12
2012-06-26 09:45:33,178 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - Currently managed session count: 1
2012-06-26 09:45:33,178 [NioProcessor-1  ] [INFO ] o.a.m.f.l.LoggingFilter     - CREATED
2012-06-26 09:45:33,178 [NioProcessor-1  ] [INFO ] o.a.m.f.l.LoggingFilter     - OPENED
2012-06-26 09:45:33,178 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2018, Mina session ID 12, identified POS ID null
2012-06-26 09:45:33,178 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 09:45:33,178 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=32 cap=2048: 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20...]
2012-06-26 09:45:33,209 [NioProcessor-1  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 12
2012-06-26 09:45:33,209 [NioProcessor-1  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 09:45:33,209 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 09:45:33,209 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 12
2012-06-26 09:45:33,209 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =32
2012-06-26 09:45:33,209 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 09:45:33,209 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 32, current position: 0
2012-06-26 09:45:33,209 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 09:45:33,209 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}
2012-06-26 09:45:33,209 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 16
2012-06-26 09:45:33,209 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=16, in.remaining=16
2012-06-26 09:45:33,209 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 09:45:33,209 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 5
2012-06-26 09:45:33,209 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 5: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageCodec@a9509d
2012-06-26 09:45:33,209 [NioProcessor-1  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - init request message decode
2012-06-26 09:45:33,209 [NioProcessor-1  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - in.remaining()=16
2012-06-26 09:45:33,209 [NioProcessor-1  ] [TRACE] .m.p.s.m.c.InitMessageCodec - InitRequestMessage: [cmdId=5, posId=pos-0002]
2012-06-26 09:45:33,209 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 09:45:33,209 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 09:45:33,209 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 09:45:33,209 [NioProcessor-1  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 09:45:33,209 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 09:45:33,209 [NioProcessor-1  ] [DEBUG] p.f.SessionKeyMessageFilter - Mina session ID 12: created session key 951289968b86422aab82339db061a831
2012-06-26 09:45:33,209 [NioProcessor-1  ] [DEBUG] p.f.SessionKeyMessageFilter - creating session for mina session ID 12 using session ID 951289968b86422aab82339db061a831
2012-06-26 09:45:33,209 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 09:45:33,209 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 09:45:33,209 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 09:45:33,209 [NioProcessor-1  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2018, Mina session ID 12, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 09:45:33,209 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 09:45:33,209 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 09:45:33,209 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 09:45:33,209 [NioProcessor-1  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 09:45:33,209 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 09:45:33,209 [pool-4-thread-16] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 09:45:33,209 [pool-4-thread-16] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 09:45:33,209 [pool-4-thread-16] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@119549e obtained for command ID 5
2012-06-26 09:45:33,209 [pool-4-thread-16] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 5 is com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@119549e
2012-06-26 09:45:33,209 [pool-4-thread-16] [DEBUG] .q.m.p.h.InitCommandHandler - InitCommandHandler======execute==bodyMessage=:  [cmdId=5, posId=pos-0002]
2012-06-26 09:45:33,209 [pool-4-thread-16] [DEBUG] .q.m.l.l.i.LoginManagerImpl - InitResponse() invoke
2012-06-26 09:45:33,209 [pool-4-thread-16] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:ALLOWED
2012-06-26 09:45:33,209 [pool-4-thread-16] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId AND p.ostatus = :ostatus
2012-06-26 09:45:33,209 [pool-4-thread-16] [WARN ] .q.m.l.l.i.LoginManagerImpl - No usable POS machine found. POS ID not exists or not assigned.
2012-06-26 09:45:33,209 [pool-4-thread-16] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 09:45:33,225 [pool-4-thread-16] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 09:45:33,225 [pool-4-thread-16] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 09:45:33,225 [pool-4-thread-16] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 09:45:33,225 [pool-4-thread-16] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 12
2012-06-26 09:45:33,225 [pool-4-thread-16] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (6)
2012-06-26 09:45:33,225 [pool-4-thread-16] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageResponseCodec@170119f
2012-06-26 09:45:33,225 [pool-4-thread-16] [DEBUG] .c.InitMessageResponseCodec - init response message encode
2012-06-26 09:45:33,225 [pool-4-thread-16] [TRACE] .c.InitMessageResponseCodec - InitResponseMessage: [cmdId=6, result=3, challenge=[85, 54, 66, 90, 109, 107, 107, 120]]
2012-06-26 09:45:33,225 [pool-4-thread-16] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0x8f63
2012-06-26 09:45:33,225 [pool-4-thread-16] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 09:45:33,225 [pool-4-thread-16] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 8F 63 00 00 00 1E ...........c....
00000010 00 00 00 06 00 03 55 36 42 5A 6D 6B 6B 78       ......U6BZmkkx

2012-06-26 09:45:33,225 [pool-4-thread-16] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 09:45:33,225 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 09:45:33,225 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 09:45:33,225 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 12: not mark to return session ID to client
2012-06-26 09:45:33,225 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 09:45:33,225 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 09:45:33,225 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 09:45:33,225 [NioProcessor-1  ] [INFO ] o.a.m.f.l.LoggingFilter     - CLOSED
2012-06-26 09:45:33,225 [NioProcessor-1  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 09:45:41,714 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:45:41,714 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:45:41,714 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 09:45:41,714 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 09:45:41,714 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:45:51,681 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:45:51,681 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:45:51,681 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 09:45:51,681 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 09:45:51,681 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:46:01,648 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:46:01,648 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:46:01,648 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 09:46:01,648 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 09:46:01,648 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:46:11,614 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:46:11,614 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:46:11,614 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 09:46:11,614 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 09:46:11,614 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:46:21,581 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:46:21,581 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:46:21,581 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 09:46:21,581 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 09:46:21,581 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:46:31,547 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:46:31,547 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:46:31,547 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 09:46:31,547 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 09:46:31,547 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:46:34,688 [NioProcessor-2  ] [INFO ] c.c.q.m.p.f.LoggingFilter   - incoming connection from remote address: 127.0.0.1:2022, Mina session ID: 13
2012-06-26 09:46:34,688 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - Currently managed session count: 1
2012-06-26 09:46:34,688 [NioProcessor-2  ] [INFO ] o.a.m.f.l.LoggingFilter     - CREATED
2012-06-26 09:46:34,688 [NioProcessor-2  ] [INFO ] o.a.m.f.l.LoggingFilter     - OPENED
2012-06-26 09:46:34,859 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2022, Mina session ID 13, identified POS ID null
2012-06-26 09:46:34,859 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 09:46:34,859 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=32 cap=2048: 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20...]
2012-06-26 09:46:34,859 [NioProcessor-2  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 13
2012-06-26 09:46:34,859 [NioProcessor-2  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 09:46:34,859 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 09:46:34,859 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 13
2012-06-26 09:46:34,859 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =32
2012-06-26 09:46:34,859 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 09:46:34,859 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 32, current position: 0
2012-06-26 09:46:34,859 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 09:46:34,859 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}
2012-06-26 09:46:34,859 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 16
2012-06-26 09:46:34,859 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=16, in.remaining=16
2012-06-26 09:46:34,859 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 09:46:34,859 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 5
2012-06-26 09:46:34,859 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 5: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageCodec@3ba4f1
2012-06-26 09:46:34,859 [NioProcessor-2  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - init request message decode
2012-06-26 09:46:34,859 [NioProcessor-2  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - in.remaining()=16
2012-06-26 09:46:34,859 [NioProcessor-2  ] [TRACE] .m.p.s.m.c.InitMessageCodec - InitRequestMessage: [cmdId=5, posId=pos-0002]
2012-06-26 09:46:34,859 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 09:46:34,859 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 09:46:34,859 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 09:46:34,859 [NioProcessor-2  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 09:46:34,859 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 09:46:34,859 [NioProcessor-2  ] [DEBUG] p.f.SessionKeyMessageFilter - Mina session ID 13: created session key 41ec46ec975e4b8885d04a85c9bae854
2012-06-26 09:46:34,859 [NioProcessor-2  ] [DEBUG] p.f.SessionKeyMessageFilter - creating session for mina session ID 13 using session ID 41ec46ec975e4b8885d04a85c9bae854
2012-06-26 09:46:34,859 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 09:46:34,859 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 09:46:34,859 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 09:46:34,859 [NioProcessor-2  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2022, Mina session ID 13, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 09:46:34,859 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 09:46:34,859 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 09:46:34,859 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 09:46:34,859 [NioProcessor-2  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 09:46:34,859 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 09:46:34,859 [pool-4-thread-17] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 09:46:34,859 [pool-4-thread-17] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 09:46:34,859 [pool-4-thread-17] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@e90097 obtained for command ID 5
2012-06-26 09:46:34,859 [pool-4-thread-17] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 5 is com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@e90097
2012-06-26 09:46:34,859 [pool-4-thread-17] [DEBUG] .q.m.p.h.InitCommandHandler - InitCommandHandler======execute==bodyMessage=:  [cmdId=5, posId=pos-0002]
2012-06-26 09:46:34,859 [pool-4-thread-17] [DEBUG] .q.m.l.l.i.LoginManagerImpl - InitResponse() invoke
2012-06-26 09:46:34,859 [pool-4-thread-17] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:ALLOWED
2012-06-26 09:46:34,859 [pool-4-thread-17] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId AND p.ostatus = :ostatus
2012-06-26 09:46:34,875 [pool-4-thread-17] [WARN ] .q.m.l.l.i.LoginManagerImpl - No usable POS machine found. POS ID not exists or not assigned.
2012-06-26 09:46:34,875 [pool-4-thread-17] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 09:46:34,890 [pool-4-thread-17] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 09:46:34,890 [pool-4-thread-17] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 09:46:34,890 [pool-4-thread-17] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 09:46:34,890 [pool-4-thread-17] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 13
2012-06-26 09:46:34,890 [pool-4-thread-17] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (6)
2012-06-26 09:46:34,890 [pool-4-thread-17] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageResponseCodec@1d5b945
2012-06-26 09:46:34,890 [pool-4-thread-17] [DEBUG] .c.InitMessageResponseCodec - init response message encode
2012-06-26 09:46:34,890 [pool-4-thread-17] [TRACE] .c.InitMessageResponseCodec - InitResponseMessage: [cmdId=6, result=3, challenge=[65, 86, 106, 98, 76, 65, 87, 82]]
2012-06-26 09:46:34,890 [pool-4-thread-17] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0xb08b
2012-06-26 09:46:34,890 [pool-4-thread-17] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 09:46:34,890 [pool-4-thread-17] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 B0 8B 00 00 00 1E ................
00000010 00 00 00 06 00 03 41 56 6A 62 4C 41 57 52       ......AVjbLAWR

2012-06-26 09:46:34,890 [pool-4-thread-17] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 09:46:34,890 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 09:46:34,890 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 09:46:34,890 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 13: not mark to return session ID to client
2012-06-26 09:46:34,890 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 09:46:34,890 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 09:46:34,890 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 09:46:34,890 [NioProcessor-2  ] [INFO ] o.a.m.f.l.LoggingFilter     - CLOSED
2012-06-26 09:46:34,890 [NioProcessor-2  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 09:46:41,545 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:46:41,545 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:46:41,545 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 09:46:41,545 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=3
2012-06-26 09:46:41,545 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:46:51,512 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:46:51,512 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:46:51,512 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 09:46:51,512 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=3
2012-06-26 09:46:51,512 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:47:01,478 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:47:01,478 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:47:01,478 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 09:47:01,478 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=3
2012-06-26 09:47:01,478 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:47:11,445 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:47:11,445 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:47:11,445 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 09:47:11,445 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=3
2012-06-26 09:47:11,445 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:47:21,411 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:47:21,411 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:47:21,411 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 09:47:21,411 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=3
2012-06-26 09:47:21,411 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:47:31,378 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:47:31,378 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:47:31,378 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 09:47:31,378 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=3
2012-06-26 09:47:31,378 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:47:41,345 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:47:41,345 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:47:41,345 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 09:47:41,345 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=3
2012-06-26 09:47:41,345 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:47:51,311 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:47:51,311 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:47:51,311 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 09:47:51,311 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 09:47:51,311 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:48:01,278 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:48:01,278 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:48:01,278 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 09:48:01,278 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 09:48:01,278 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:48:11,244 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:48:11,244 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:48:11,244 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 09:48:11,244 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 09:48:11,244 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:48:21,227 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:48:21,227 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:48:21,227 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 09:48:21,227 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 09:48:21,227 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:48:31,193 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:48:31,193 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:48:31,193 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 09:48:31,193 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 09:48:31,193 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:48:41,160 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:48:41,160 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:48:41,160 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 09:48:41,160 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 09:48:41,160 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:48:51,126 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:48:51,126 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:48:51,126 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 09:48:51,126 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 09:48:51,126 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:49:01,104 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:49:01,104 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:49:01,104 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 09:49:01,104 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 09:49:01,104 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:49:11,096 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:49:11,096 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:49:11,096 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 09:49:11,096 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 09:49:11,096 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:49:21,087 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:49:21,087 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:49:21,087 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 09:49:21,087 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 09:49:21,087 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:49:31,079 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:49:31,079 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:49:31,079 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 09:49:31,079 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 09:49:31,079 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:49:41,071 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:49:41,071 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:49:41,071 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 09:49:41,071 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 09:49:41,071 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:49:51,063 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:49:51,063 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:49:51,063 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 09:49:51,063 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 09:49:51,063 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:50:01,054 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:50:01,054 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:50:01,054 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 09:50:01,054 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 09:50:01,054 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:50:11,046 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:50:11,046 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:50:11,046 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 09:50:11,046 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 09:50:11,046 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:50:21,038 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:50:21,038 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:50:21,038 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 09:50:21,038 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 09:50:21,038 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:50:31,030 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:50:31,030 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:50:31,030 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 09:50:31,030 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 09:50:31,030 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:50:41,037 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:50:41,037 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:50:41,037 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 09:50:41,037 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 09:50:41,037 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:50:51,029 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:50:51,029 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:50:51,029 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 09:50:51,029 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 09:50:51,029 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:51:01,021 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:51:01,021 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:51:01,021 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 09:51:01,021 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 09:51:01,021 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:51:11,012 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:51:11,012 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:51:11,012 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 09:51:11,012 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 09:51:11,012 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:51:21,004 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:51:21,004 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:51:21,004 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 09:51:21,004 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 09:51:21,004 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:51:30,996 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:51:30,996 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:51:30,996 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 09:51:30,996 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 09:51:30,996 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:51:40,988 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:51:40,988 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:51:40,988 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 09:51:40,988 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 09:51:40,988 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:51:50,980 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:51:50,980 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:51:50,980 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 09:51:50,980 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 09:51:50,980 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:52:00,971 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:52:00,971 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:52:00,971 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 09:52:00,971 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 09:52:00,971 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:52:10,963 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:52:10,963 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:52:10,963 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 09:52:10,963 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 09:52:10,963 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:52:20,955 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:52:20,955 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:52:20,955 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 09:52:20,955 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 09:52:20,955 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:52:30,947 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:52:30,947 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:52:30,947 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 09:52:30,947 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 09:52:30,947 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:52:40,938 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:52:40,938 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:52:40,938 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 09:52:40,938 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 09:52:40,938 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:52:50,946 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:52:50,946 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:52:50,946 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 09:52:50,946 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 09:52:50,946 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:53:00,938 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:53:00,938 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:53:00,938 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 09:53:00,938 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 09:53:00,938 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:53:10,929 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:53:10,929 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:53:10,929 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 09:53:10,929 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 09:53:10,929 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:53:20,921 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:53:20,921 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:53:20,921 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 09:53:20,921 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 09:53:20,921 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:53:30,913 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:53:30,913 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:53:30,913 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 09:53:30,913 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 09:53:30,913 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:53:40,905 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:53:40,905 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:53:40,905 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 09:53:40,905 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 09:53:40,905 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:53:50,897 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:53:50,897 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:53:50,897 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 09:53:50,897 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 09:53:50,897 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:54:00,893 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:54:00,893 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:54:00,893 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 09:54:00,893 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 09:54:00,893 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:54:10,894 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:54:10,894 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:54:10,894 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 09:54:10,894 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 09:54:10,894 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:54:20,894 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:54:20,894 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:54:20,894 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 09:54:20,894 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 09:54:20,894 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:54:30,895 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:54:30,895 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:54:30,895 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 09:54:30,895 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 09:54:30,895 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:54:40,912 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:54:40,912 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:54:40,912 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 09:54:40,912 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 09:54:40,912 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:54:48,104 [NioProcessor-3  ] [INFO ] c.c.q.m.p.f.LoggingFilter   - incoming connection from remote address: 127.0.0.1:2060, Mina session ID: 14
2012-06-26 09:54:48,104 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - Currently managed session count: 1
2012-06-26 09:54:48,104 [NioProcessor-3  ] [INFO ] o.a.m.f.l.LoggingFilter     - CREATED
2012-06-26 09:54:48,104 [NioProcessor-3  ] [INFO ] o.a.m.f.l.LoggingFilter     - OPENED
2012-06-26 09:54:48,104 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2060, Mina session ID 14, identified POS ID null
2012-06-26 09:54:48,104 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 09:54:48,104 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=32 cap=2048: 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20...]
2012-06-26 09:54:48,136 [NioProcessor-3  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 14
2012-06-26 09:54:48,136 [NioProcessor-3  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 09:54:48,136 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 09:54:48,136 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 14
2012-06-26 09:54:48,136 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =32
2012-06-26 09:54:48,136 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 09:54:48,136 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 32, current position: 0
2012-06-26 09:54:48,136 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 09:54:48,136 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}
2012-06-26 09:54:48,136 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 16
2012-06-26 09:54:48,136 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=16, in.remaining=16
2012-06-26 09:54:48,136 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 09:54:48,136 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 5
2012-06-26 09:54:48,136 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 5: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageCodec@93837b
2012-06-26 09:54:48,136 [NioProcessor-3  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - init request message decode
2012-06-26 09:54:48,136 [NioProcessor-3  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - in.remaining()=16
2012-06-26 09:54:48,136 [NioProcessor-3  ] [TRACE] .m.p.s.m.c.InitMessageCodec - InitRequestMessage: [cmdId=5, posId=pos-0002]
2012-06-26 09:54:48,136 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 09:54:48,136 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 09:54:48,136 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 09:54:48,136 [NioProcessor-3  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 09:54:48,136 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 09:54:48,136 [NioProcessor-3  ] [DEBUG] p.f.SessionKeyMessageFilter - Mina session ID 14: created session key 3734447f72e5427fb217cb75b5997228
2012-06-26 09:54:48,136 [NioProcessor-3  ] [DEBUG] p.f.SessionKeyMessageFilter - creating session for mina session ID 14 using session ID 3734447f72e5427fb217cb75b5997228
2012-06-26 09:54:48,136 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 09:54:48,136 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 09:54:48,136 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 09:54:48,136 [NioProcessor-3  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2060, Mina session ID 14, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 09:54:48,136 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 09:54:48,136 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 09:54:48,136 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 09:54:48,136 [NioProcessor-3  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 09:54:48,136 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 09:54:48,136 [pool-4-thread-18] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 09:54:48,136 [pool-4-thread-18] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 09:54:48,136 [pool-4-thread-18] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@1a3551c obtained for command ID 5
2012-06-26 09:54:48,136 [pool-4-thread-18] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 5 is com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@1a3551c
2012-06-26 09:54:48,136 [pool-4-thread-18] [DEBUG] .q.m.p.h.InitCommandHandler - InitCommandHandler======execute==bodyMessage=:  [cmdId=5, posId=pos-0002]
2012-06-26 09:54:48,136 [pool-4-thread-18] [DEBUG] .q.m.l.l.i.LoginManagerImpl - InitResponse() invoke
2012-06-26 09:54:48,136 [pool-4-thread-18] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:ALLOWED
2012-06-26 09:54:48,136 [pool-4-thread-18] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId AND p.ostatus = :ostatus
2012-06-26 09:54:48,136 [pool-4-thread-18] [DEBUG] .q.m.l.l.i.LoginManagerImpl - POS ID:pos-0002, init challenge saved - [118, 116, 99, 68, 52, 99, 101, 89]
2012-06-26 09:54:48,136 [pool-4-thread-18] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 09:54:48,151 [pool-4-thread-18] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 09:54:48,151 [pool-4-thread-18] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 09:54:48,151 [pool-4-thread-18] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 09:54:48,151 [pool-4-thread-18] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 14
2012-06-26 09:54:48,151 [pool-4-thread-18] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (6)
2012-06-26 09:54:48,151 [pool-4-thread-18] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageResponseCodec@6baf24
2012-06-26 09:54:48,151 [pool-4-thread-18] [DEBUG] .c.InitMessageResponseCodec - init response message encode
2012-06-26 09:54:48,151 [pool-4-thread-18] [TRACE] .c.InitMessageResponseCodec - InitResponseMessage: [cmdId=6, result=0, challenge=[118, 116, 99, 68, 52, 99, 101, 89]]
2012-06-26 09:54:48,151 [pool-4-thread-18] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0x8c65
2012-06-26 09:54:48,151 [pool-4-thread-18] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 09:54:48,151 [pool-4-thread-18] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 8C 65 00 00 00 1E ...........e....
00000010 00 00 00 06 00 00 76 74 63 44 34 63 65 59       ......vtcD4ceY

2012-06-26 09:54:48,151 [pool-4-thread-18] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 09:54:48,151 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 09:54:48,167 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 09:54:48,167 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 14: not mark to return session ID to client
2012-06-26 09:54:48,167 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 09:54:48,167 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 09:54:48,167 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 09:54:48,385 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2060, Mina session ID 14, identified POS ID pos-0002
2012-06-26 09:54:48,385 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 99 65 00 00 00 30 ...........e...0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 51 5D 7C 28 B9 7C D4 13 2C 86 04 21 1B 32 7B 73 Q]|(.|..,..!.2{s

2012-06-26 09:54:48,385 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=48 cap=2048: 00 00 00 01 00 00 00 00 00 00 99 65 00 00 00 30...]
2012-06-26 09:54:48,385 [NioProcessor-3  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 14
2012-06-26 09:54:48,385 [NioProcessor-3  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 09:54:48,385 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 09:54:48,385 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 14
2012-06-26 09:54:48,385 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =48
2012-06-26 09:54:48,385 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 99 65 00 00 00 30 ...........e...0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 51 5D 7C 28 B9 7C D4 13 2C 86 04 21 1B 32 7B 73 Q]|(.|..,..!.2{s

2012-06-26 09:54:48,385 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 48, current position: 0
2012-06-26 09:54:48,385 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 09:54:48,385 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x9965} messageSize:{0x30} sessionKey:{null}
2012-06-26 09:54:48,385 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 32
2012-06-26 09:54:48,385 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=32, in.remaining=32
2012-06-26 09:54:48,385 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 09:54:48,385 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 7
2012-06-26 09:54:48,385 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 7: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageCodec@1c71508
2012-06-26 09:54:48,385 [NioProcessor-3  ] [DEBUG] m.p.s.m.c.LoginMessageCodec - login/bind message decode
2012-06-26 09:54:48,385 [NioProcessor-3  ] [TRACE] m.p.s.m.c.LoginMessageCodec - LoginRequestMessage: [cmdId=7, posId=pos-0002, challengeResponse=[81, 93, 124, 40, -71, 124, -44, 19, 44, -122, 4, 33, 27, 50, 123, 115]]
2012-06-26 09:54:48,385 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 09:54:48,385 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x9965} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[81, 93, 124, 40, -71, 124, -44, 19, 44, -122, 4, 33, 27, 50, 123, 115]]
2012-06-26 09:54:48,385 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 09:54:48,385 [NioProcessor-3  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 09:54:48,385 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 09:54:48,385 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 09:54:48,385 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 09:54:48,385 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 09:54:48,385 [NioProcessor-3  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2060, Mina session ID 14, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x9965} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[81, 93, 124, 40, -71, 124, -44, 19, 44, -122, 4, 33, 27, 50, 123, 115]]
2012-06-26 09:54:48,385 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 09:54:48,385 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 09:54:48,385 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 09:54:48,385 [NioProcessor-3  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 09:54:48,385 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 09:54:48,385 [pool-4-thread-19] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 09:54:48,385 [pool-4-thread-19] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 09:54:48,385 [pool-4-thread-19] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@62fb35 obtained for command ID 7
2012-06-26 09:54:48,385 [pool-4-thread-19] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 7 is com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@62fb35
2012-06-26 09:54:48,385 [pool-4-thread-19] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==bodyMessage=: [cmdId=7, posId=pos-0002, challengeResponse=[81, 93, 124, 40, -71, 124, -44, 19, 44, -122, 4, 33, 27, 50, 123, 115]]
2012-06-26 09:54:48,385 [pool-4-thread-19] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:null
2012-06-26 09:54:48,385 [pool-4-thread-19] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId
2012-06-26 09:54:48,385 [pool-4-thread-19] [TRACE] .q.m.l.l.i.LoginManagerImpl - Loaded from db: pos.posId:pos-0002, pos.secret:000001, oldChallenge:[118, 116, 99, 68, 52, 99, 101, 89]
2012-06-26 09:54:48,385 [pool-4-thread-19] [DEBUG] .q.m.l.l.i.LoginManagerImpl - disableChallengeCheck =0
2012-06-26 09:54:48,385 [pool-4-thread-19] [TRACE] c.c.q.m.l.c.ChallengeUtil   - checking challenge:response:[81, 93, 124, 40, -71, 124, -44, 19, 44, -122, 4, 33, 27, 50, 123, 115], posKey:000001, random:[118, 116, 99, 68, 52, 99, 101, 89]
2012-06-26 09:54:48,635 [pool-4-thread-19] [DEBUG] .q.m.l.l.i.LoginManagerImpl - new challenge for POS (POS ID): [83, 90, 83, 71, 54, 72, 48, 74]
2012-06-26 09:54:48,635 [pool-4-thread-19] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==serverKey=:JXTPOS
2012-06-26 09:54:48,791 [pool-4-thread-19] [DEBUG] ThreadSafeClientConnManager - Get connection: HttpRoute[{}->http://localhost:7070], timeout = 0
2012-06-26 09:54:48,806 [pool-4-thread-19] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - [HttpRoute[{}->http://localhost:7070]] total kept alive: 0, total issued: 0, total allocated: 0 out of 20
2012-06-26 09:54:48,806 [pool-4-thread-19] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - No free connections [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 09:54:48,806 [pool-4-thread-19] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Available capacity: 2 out of 2 [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 09:54:48,806 [pool-4-thread-19] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Creating new connection [HttpRoute[{}->http://localhost:7070]]
2012-06-26 09:54:48,806 [pool-4-thread-19] [DEBUG] ultClientConnectionOperator - Connecting to localhost:7070
2012-06-26 09:54:49,852 [pool-4-thread-19] [DEBUG] i.c.DefaultClientConnection - Connection closed
2012-06-26 09:54:49,852 [pool-4-thread-19] [DEBUG] i.c.DefaultClientConnection - Connection shut down
2012-06-26 09:54:49,852 [pool-4-thread-19] [DEBUG] ThreadSafeClientConnManager - Released connection is not reusable.
2012-06-26 09:54:49,852 [pool-4-thread-19] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Releasing connection [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 09:54:49,852 [pool-4-thread-19] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Notifying no-one, there are no waiting threads
2012-06-26 09:54:49,852 [pool-4-thread-19] [ERROR] q.m.p.h.LoginCommandHandler - initGrouponCache fail:com.chinarewards.qqgbvpn.qqapi.exception.ParseXMLException: com.chinarewards.qqgbvpn.qqapi.exception.SendPostTimeOutException: org.apache.http.conn.HttpHostConnectException: Connection to http://localhost:7070 refused
2012-06-26 09:54:49,852 [pool-4-thread-19] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 09:54:49,883 [pool-4-thread-19] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 09:54:49,883 [pool-4-thread-19] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 09:54:49,883 [pool-4-thread-19] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 09:54:49,883 [pool-4-thread-19] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 14
2012-06-26 09:54:49,883 [pool-4-thread-19] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (8)
2012-06-26 09:54:49,883 [pool-4-thread-19] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageResponseCodec@1a0b94d
2012-06-26 09:54:49,883 [pool-4-thread-19] [DEBUG] c.LoginMessageResponseCodec - login/bind message encode
2012-06-26 09:54:49,883 [pool-4-thread-19] [TRACE] c.LoginMessageResponseCodec - LoginResponseMessage: [cmdId=8, result=0, challenge=[83, 90, 83, 71, 54, 72, 48, 74]]
2012-06-26 09:54:49,883 [pool-4-thread-19] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0xf2a4
2012-06-26 09:54:49,883 [pool-4-thread-19] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 09:54:49,883 [pool-4-thread-19] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 F2 A4 00 00 00 1E ................
00000010 00 00 00 08 00 00 53 5A 53 47 36 48 30 4A       ......SZSG6H0J

2012-06-26 09:54:49,883 [pool-4-thread-19] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 09:54:49,883 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 09:54:49,883 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 09:54:49,883 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 14: not mark to return session ID to client
2012-06-26 09:54:49,883 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 09:54:49,883 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 09:54:49,883 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 09:54:49,883 [Finalizer       ] [DEBUG] ThreadSafeClientConnManager - Shutting down
2012-06-26 09:54:49,883 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2060, Mina session ID 14, identified POS ID pos-0002
2012-06-26 09:54:49,883 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 28 of 28 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 65 68 00 00 00 1C ..........eh....
00000010 00 00 00 C9 00 06 31 32 33 34 35 36             ......123456

2012-06-26 09:54:49,883 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=28 cap=1024: 00 00 00 10 00 00 00 00 00 00 65 68 00 00 00 1C...]
2012-06-26 09:54:49,883 [NioProcessor-3  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 14
2012-06-26 09:54:49,883 [NioProcessor-3  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 09:54:49,883 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 09:54:49,883 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 14
2012-06-26 09:54:49,883 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =28
2012-06-26 09:54:49,883 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 28 of 28 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 65 68 00 00 00 1C ..........eh....
00000010 00 00 00 C9 00 06 31 32 33 34 35 36             ......123456

2012-06-26 09:54:49,883 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 28, current position: 0
2012-06-26 09:54:49,883 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 09:54:49,883 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0x6568} messageSize:{0x1c} sessionKey:{null}
2012-06-26 09:54:49,883 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 12
2012-06-26 09:54:49,883 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=12, in.remaining=12
2012-06-26 09:54:49,883 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 09:54:49,883 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 201
2012-06-26 09:54:49,883 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 201: com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftMessageCodec@1aa8241
2012-06-26 09:54:49,883 [NioProcessor-3  ] [DEBUG] m.c.ReceiveGiftMessageCodec - receive gift request message decode
2012-06-26 09:54:49,883 [NioProcessor-3  ] [DEBUG] m.c.ReceiveGiftMessageCodec - in.remaining()=12
2012-06-26 09:54:49,883 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 09:54:49,883 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0x6568} messageSize:{0x1c} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@14da86b
2012-06-26 09:54:49,883 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 09:54:49,883 [NioProcessor-3  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 09:54:49,883 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 09:54:49,883 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 09:54:49,883 [NioProcessor-3  ] [DEBUG] c.c.q.m.p.f.LoginFilter     - isLogin=true
2012-06-26 09:54:49,883 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 09:54:49,883 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 09:54:49,883 [NioProcessor-3  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2060, Mina session ID 14, identified POS ID pos-0002, message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0x6568} messageSize:{0x1c} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@14da86b
2012-06-26 09:54:49,883 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 09:54:49,883 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 09:54:49,883 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 09:54:49,883 [NioProcessor-3  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 09:54:49,883 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 09:54:49,883 [pool-4-thread-20] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 09:54:49,883 [pool-4-thread-20] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 09:54:49,883 [pool-4-thread-20] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@51630a obtained for command ID 201
2012-06-26 09:54:49,883 [pool-4-thread-20] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 201 is com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@51630a
2012-06-26 09:54:49,883 [pool-4-thread-20] [DEBUG] h.ReceiveGiftCommandHandler - ReceiveGiftHandler======execute==bodyMessage=: com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@14da86b
2012-06-26 09:54:49,930 [pool-4-thread-20] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 09:54:49,930 [pool-4-thread-20] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 09:54:49,930 [pool-4-thread-20] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 09:54:49,930 [pool-4-thread-20] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 09:54:49,930 [pool-4-thread-20] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 14
2012-06-26 09:54:49,930 [pool-4-thread-20] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (202)
2012-06-26 09:54:49,930 [pool-4-thread-20] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftResponseMessageCodec@1f2bc83
2012-06-26 09:54:49,930 [pool-4-thread-20] [DEBUG] iveGiftResponseMessageCodec - receive gift response message encode
2012-06-26 09:54:49,945 [pool-4-thread-20] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0x3c40
2012-06-26 09:54:49,945 [pool-4-thread-20] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 09:54:49,945 [pool-4-thread-20] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 69 of 69 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 3C 40 00 00 00 45 ..........<@...E
00000010 00 00 00 CA 00 00 00 02 07 DC 06 1A 09 36 31 03 .............61.
00000020 73 01 E0 00 08 C1 EC C8 A1 C0 F1 C6 B7 00 16 31 s..............1
00000030 32 33 34 35 36 0A CE DE D0 A7 0A B0 B4 4F 4B BC 23456........OK.
00000040 FC B7 B5 BB D8                                  .....

2012-06-26 09:54:49,945 [pool-4-thread-20] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 09:54:49,945 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 09:54:49,945 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 09:54:49,945 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 14: not mark to return session ID to client
2012-06-26 09:54:49,945 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 09:54:49,945 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 09:54:49,945 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 09:54:49,977 [NioProcessor-3  ] [INFO ] o.a.m.f.l.LoggingFilter     - CLOSED
2012-06-26 09:54:49,977 [NioProcessor-3  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 09:54:50,944 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:54:50,944 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:54:50,944 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 09:54:50,944 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 09:54:50,944 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:55:00,960 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:55:00,960 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:55:00,960 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 09:55:00,960 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 09:55:00,960 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:55:09,136 [NioProcessor-1  ] [INFO ] c.c.q.m.p.f.LoggingFilter   - incoming connection from remote address: 127.0.0.1:2070, Mina session ID: 15
2012-06-26 09:55:09,136 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - Currently managed session count: 1
2012-06-26 09:55:09,136 [NioProcessor-1  ] [INFO ] o.a.m.f.l.LoggingFilter     - CREATED
2012-06-26 09:55:09,136 [NioProcessor-1  ] [INFO ] o.a.m.f.l.LoggingFilter     - OPENED
2012-06-26 09:55:09,292 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2070, Mina session ID 15, identified POS ID null
2012-06-26 09:55:09,292 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 09:55:09,307 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=32 cap=2048: 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20...]
2012-06-26 09:55:09,307 [NioProcessor-1  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 15
2012-06-26 09:55:09,307 [NioProcessor-1  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 09:55:09,307 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 09:55:09,307 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 15
2012-06-26 09:55:09,307 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =32
2012-06-26 09:55:09,307 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 09:55:09,307 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 32, current position: 0
2012-06-26 09:55:09,307 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 09:55:09,307 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}
2012-06-26 09:55:09,307 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 16
2012-06-26 09:55:09,307 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=16, in.remaining=16
2012-06-26 09:55:09,307 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 09:55:09,307 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 5
2012-06-26 09:55:09,307 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 5: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageCodec@19fa8f7
2012-06-26 09:55:09,307 [NioProcessor-1  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - init request message decode
2012-06-26 09:55:09,307 [NioProcessor-1  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - in.remaining()=16
2012-06-26 09:55:09,307 [NioProcessor-1  ] [TRACE] .m.p.s.m.c.InitMessageCodec - InitRequestMessage: [cmdId=5, posId=pos-0002]
2012-06-26 09:55:09,307 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 09:55:09,307 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 09:55:09,307 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 09:55:09,307 [NioProcessor-1  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 09:55:09,307 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 09:55:09,307 [NioProcessor-1  ] [DEBUG] p.f.SessionKeyMessageFilter - Mina session ID 15: created session key 961bee99ee754ad9b0d05775ce936c27
2012-06-26 09:55:09,307 [NioProcessor-1  ] [DEBUG] p.f.SessionKeyMessageFilter - creating session for mina session ID 15 using session ID 961bee99ee754ad9b0d05775ce936c27
2012-06-26 09:55:09,307 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 09:55:09,307 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 09:55:09,307 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 09:55:09,307 [NioProcessor-1  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2070, Mina session ID 15, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 09:55:09,307 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 09:55:09,307 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 09:55:09,307 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 09:55:09,307 [NioProcessor-1  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 09:55:09,307 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 09:55:09,307 [pool-4-thread-1 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 09:55:09,307 [pool-4-thread-1 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 09:55:09,307 [pool-4-thread-1 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@1e758ca obtained for command ID 5
2012-06-26 09:55:09,307 [pool-4-thread-1 ] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 5 is com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@1e758ca
2012-06-26 09:55:09,307 [pool-4-thread-1 ] [DEBUG] .q.m.p.h.InitCommandHandler - InitCommandHandler======execute==bodyMessage=:  [cmdId=5, posId=pos-0002]
2012-06-26 09:55:09,307 [pool-4-thread-1 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - InitResponse() invoke
2012-06-26 09:55:09,307 [pool-4-thread-1 ] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:ALLOWED
2012-06-26 09:55:09,307 [pool-4-thread-1 ] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId AND p.ostatus = :ostatus
2012-06-26 09:55:09,307 [pool-4-thread-1 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - POS ID:pos-0002, init challenge saved - [73, 81, 49, 51, 116, 88, 79, 119]
2012-06-26 09:55:09,307 [pool-4-thread-1 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 09:55:09,339 [pool-4-thread-1 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 09:55:09,339 [pool-4-thread-1 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 09:55:09,339 [pool-4-thread-1 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 09:55:09,339 [pool-4-thread-1 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 15
2012-06-26 09:55:09,339 [pool-4-thread-1 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (6)
2012-06-26 09:55:09,339 [pool-4-thread-1 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageResponseCodec@9021e3
2012-06-26 09:55:09,339 [pool-4-thread-1 ] [DEBUG] .c.InitMessageResponseCodec - init response message encode
2012-06-26 09:55:09,339 [pool-4-thread-1 ] [TRACE] .c.InitMessageResponseCodec - InitResponseMessage: [cmdId=6, result=0, challenge=[73, 81, 49, 51, 116, 88, 79, 119]]
2012-06-26 09:55:09,339 [pool-4-thread-1 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0xc186
2012-06-26 09:55:09,339 [pool-4-thread-1 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 09:55:09,339 [pool-4-thread-1 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 C1 86 00 00 00 1E ................
00000010 00 00 00 06 00 00 49 51 31 33 74 58 4F 77       ......IQ13tXOw

2012-06-26 09:55:09,339 [pool-4-thread-1 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 09:55:09,339 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 09:55:09,339 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 09:55:09,339 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 15: not mark to return session ID to client
2012-06-26 09:55:09,339 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 09:55:09,339 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 09:55:09,339 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 09:55:09,557 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2070, Mina session ID 15, identified POS ID pos-0002
2012-06-26 09:55:09,557 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 DD 18 00 00 00 30 ...............0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 B2 DA 6B EF 99 E4 67 C2 E8 6F 76 AE 21 83 3D 9D ..k...g..ov.!.=.

2012-06-26 09:55:09,557 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=48 cap=2048: 00 00 00 01 00 00 00 00 00 00 DD 18 00 00 00 30...]
2012-06-26 09:55:09,557 [NioProcessor-1  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 15
2012-06-26 09:55:09,557 [NioProcessor-1  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 09:55:09,557 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 09:55:09,557 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 15
2012-06-26 09:55:09,557 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =48
2012-06-26 09:55:09,557 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 DD 18 00 00 00 30 ...............0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 B2 DA 6B EF 99 E4 67 C2 E8 6F 76 AE 21 83 3D 9D ..k...g..ov.!.=.

2012-06-26 09:55:09,557 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 48, current position: 0
2012-06-26 09:55:09,557 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 09:55:09,557 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xdd18} messageSize:{0x30} sessionKey:{null}
2012-06-26 09:55:09,557 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 32
2012-06-26 09:55:09,557 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=32, in.remaining=32
2012-06-26 09:55:09,557 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 09:55:09,557 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 7
2012-06-26 09:55:09,557 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 7: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageCodec@1b45ddc
2012-06-26 09:55:09,557 [NioProcessor-1  ] [DEBUG] m.p.s.m.c.LoginMessageCodec - login/bind message decode
2012-06-26 09:55:09,557 [NioProcessor-1  ] [TRACE] m.p.s.m.c.LoginMessageCodec - LoginRequestMessage: [cmdId=7, posId=pos-0002, challengeResponse=[-78, -38, 107, -17, -103, -28, 103, -62, -24, 111, 118, -82, 33, -125, 61, -99]]
2012-06-26 09:55:09,557 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 09:55:09,557 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xdd18} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[-78, -38, 107, -17, -103, -28, 103, -62, -24, 111, 118, -82, 33, -125, 61, -99]]
2012-06-26 09:55:09,557 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 09:55:09,557 [NioProcessor-1  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 09:55:09,557 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 09:55:09,557 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 09:55:09,557 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 09:55:09,557 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 09:55:09,557 [NioProcessor-1  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2070, Mina session ID 15, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xdd18} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[-78, -38, 107, -17, -103, -28, 103, -62, -24, 111, 118, -82, 33, -125, 61, -99]]
2012-06-26 09:55:09,557 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 09:55:09,557 [pool-4-thread-2 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 09:55:09,557 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 09:55:09,557 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 09:55:09,557 [NioProcessor-1  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 09:55:09,557 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 09:55:09,557 [pool-4-thread-2 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 09:55:09,557 [pool-4-thread-2 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@c8ebd6 obtained for command ID 7
2012-06-26 09:55:09,557 [pool-4-thread-2 ] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 7 is com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@c8ebd6
2012-06-26 09:55:09,557 [pool-4-thread-2 ] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==bodyMessage=: [cmdId=7, posId=pos-0002, challengeResponse=[-78, -38, 107, -17, -103, -28, 103, -62, -24, 111, 118, -82, 33, -125, 61, -99]]
2012-06-26 09:55:09,557 [pool-4-thread-2 ] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:null
2012-06-26 09:55:09,557 [pool-4-thread-2 ] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId
2012-06-26 09:55:09,573 [pool-4-thread-2 ] [TRACE] .q.m.l.l.i.LoginManagerImpl - Loaded from db: pos.posId:pos-0002, pos.secret:000001, oldChallenge:[73, 81, 49, 51, 116, 88, 79, 119]
2012-06-26 09:55:09,573 [pool-4-thread-2 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - disableChallengeCheck =0
2012-06-26 09:55:09,573 [pool-4-thread-2 ] [TRACE] c.c.q.m.l.c.ChallengeUtil   - checking challenge:response:[-78, -38, 107, -17, -103, -28, 103, -62, -24, 111, 118, -82, 33, -125, 61, -99], posKey:000001, random:[73, 81, 49, 51, 116, 88, 79, 119]
2012-06-26 09:55:09,573 [pool-4-thread-2 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - new challenge for POS (POS ID): [75, 48, 119, 49, 102, 78, 86, 114]
2012-06-26 09:55:09,573 [pool-4-thread-2 ] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==serverKey=:JXTPOS
2012-06-26 09:55:09,573 [pool-4-thread-2 ] [DEBUG] ThreadSafeClientConnManager - Get connection: HttpRoute[{}->http://localhost:7070], timeout = 0
2012-06-26 09:55:09,573 [pool-4-thread-2 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - [HttpRoute[{}->http://localhost:7070]] total kept alive: 0, total issued: 0, total allocated: 0 out of 20
2012-06-26 09:55:09,573 [pool-4-thread-2 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - No free connections [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 09:55:09,573 [pool-4-thread-2 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Available capacity: 2 out of 2 [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 09:55:09,573 [pool-4-thread-2 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Creating new connection [HttpRoute[{}->http://localhost:7070]]
2012-06-26 09:55:09,573 [pool-4-thread-2 ] [DEBUG] ultClientConnectionOperator - Connecting to localhost:7070
2012-06-26 09:55:10,712 [pool-4-thread-2 ] [DEBUG] i.c.DefaultClientConnection - Connection closed
2012-06-26 09:55:10,712 [pool-4-thread-2 ] [DEBUG] i.c.DefaultClientConnection - Connection shut down
2012-06-26 09:55:10,712 [pool-4-thread-2 ] [DEBUG] ThreadSafeClientConnManager - Released connection is not reusable.
2012-06-26 09:55:10,712 [pool-4-thread-2 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Releasing connection [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 09:55:10,712 [pool-4-thread-2 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Notifying no-one, there are no waiting threads
2012-06-26 09:55:10,712 [pool-4-thread-2 ] [ERROR] q.m.p.h.LoginCommandHandler - initGrouponCache fail:com.chinarewards.qqgbvpn.qqapi.exception.ParseXMLException: com.chinarewards.qqgbvpn.qqapi.exception.SendPostTimeOutException: org.apache.http.conn.HttpHostConnectException: Connection to http://localhost:7070 refused
2012-06-26 09:55:10,727 [pool-4-thread-2 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 09:55:10,758 [pool-4-thread-2 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 09:55:10,758 [pool-4-thread-2 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 09:55:10,758 [pool-4-thread-2 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 09:55:10,758 [pool-4-thread-2 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 15
2012-06-26 09:55:10,758 [pool-4-thread-2 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (8)
2012-06-26 09:55:10,758 [pool-4-thread-2 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageResponseCodec@1b2591c
2012-06-26 09:55:10,758 [pool-4-thread-2 ] [DEBUG] c.LoginMessageResponseCodec - login/bind message encode
2012-06-26 09:55:10,758 [pool-4-thread-2 ] [TRACE] c.LoginMessageResponseCodec - LoginResponseMessage: [cmdId=8, result=0, challenge=[75, 48, 119, 49, 102, 78, 86, 114]]
2012-06-26 09:55:10,758 [pool-4-thread-2 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0x80b6
2012-06-26 09:55:10,758 [pool-4-thread-2 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 09:55:10,758 [pool-4-thread-2 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 80 B6 00 00 00 1E ................
00000010 00 00 00 08 00 00 4B 30 77 31 66 4E 56 72       ......K0w1fNVr

2012-06-26 09:55:10,758 [pool-4-thread-2 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 09:55:10,758 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 09:55:10,758 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 09:55:10,758 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 15: not mark to return session ID to client
2012-06-26 09:55:10,758 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 09:55:10,758 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 09:55:10,758 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 09:55:10,758 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2070, Mina session ID 15, identified POS ID pos-0002
2012-06-26 09:55:10,758 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 28 of 28 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 65 68 00 00 00 1C ..........eh....
00000010 00 00 00 C9 00 06 31 32 33 34 35 36             ......123456

2012-06-26 09:55:10,758 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=28 cap=1024: 00 00 00 10 00 00 00 00 00 00 65 68 00 00 00 1C...]
2012-06-26 09:55:10,758 [NioProcessor-1  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 15
2012-06-26 09:55:10,758 [NioProcessor-1  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 09:55:10,758 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 09:55:10,758 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 15
2012-06-26 09:55:10,758 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =28
2012-06-26 09:55:10,758 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 28 of 28 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 65 68 00 00 00 1C ..........eh....
00000010 00 00 00 C9 00 06 31 32 33 34 35 36             ......123456

2012-06-26 09:55:10,758 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 28, current position: 0
2012-06-26 09:55:10,758 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 09:55:10,758 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0x6568} messageSize:{0x1c} sessionKey:{null}
2012-06-26 09:55:10,758 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 12
2012-06-26 09:55:10,758 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=12, in.remaining=12
2012-06-26 09:55:10,758 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 09:55:10,758 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 201
2012-06-26 09:55:10,758 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 201: com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftMessageCodec@1f87baf
2012-06-26 09:55:10,758 [NioProcessor-1  ] [DEBUG] m.c.ReceiveGiftMessageCodec - receive gift request message decode
2012-06-26 09:55:10,758 [NioProcessor-1  ] [DEBUG] m.c.ReceiveGiftMessageCodec - in.remaining()=12
2012-06-26 09:55:10,758 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 09:55:10,758 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0x6568} messageSize:{0x1c} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@8034b6
2012-06-26 09:55:10,758 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 09:55:10,758 [NioProcessor-1  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 09:55:10,758 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 09:55:10,758 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 09:55:10,758 [NioProcessor-1  ] [DEBUG] c.c.q.m.p.f.LoginFilter     - isLogin=true
2012-06-26 09:55:10,758 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 09:55:10,758 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 09:55:10,758 [NioProcessor-1  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2070, Mina session ID 15, identified POS ID pos-0002, message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0x6568} messageSize:{0x1c} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@8034b6
2012-06-26 09:55:10,758 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 09:55:10,758 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 09:55:10,758 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 09:55:10,758 [pool-4-thread-3 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 09:55:10,758 [NioProcessor-1  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 09:55:10,758 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 09:55:10,758 [pool-4-thread-3 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 09:55:10,758 [pool-4-thread-3 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@12e5c94 obtained for command ID 201
2012-06-26 09:55:10,758 [pool-4-thread-3 ] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 201 is com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@12e5c94
2012-06-26 09:55:10,758 [pool-4-thread-3 ] [DEBUG] h.ReceiveGiftCommandHandler - ReceiveGiftHandler======execute==bodyMessage=: com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@8034b6
2012-06-26 09:55:10,758 [pool-4-thread-3 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 09:55:10,758 [pool-4-thread-3 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 09:55:10,758 [pool-4-thread-3 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 09:55:10,758 [pool-4-thread-3 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 09:55:10,758 [pool-4-thread-3 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 15
2012-06-26 09:55:10,758 [pool-4-thread-3 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (202)
2012-06-26 09:55:10,758 [pool-4-thread-3 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftResponseMessageCodec@cfe500
2012-06-26 09:55:10,758 [pool-4-thread-3 ] [DEBUG] iveGiftResponseMessageCodec - receive gift response message encode
2012-06-26 09:55:10,758 [pool-4-thread-3 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0xe03f
2012-06-26 09:55:10,758 [pool-4-thread-3 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 09:55:10,758 [pool-4-thread-3 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 69 of 69 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 E0 3F 00 00 00 45 ...........?...E
00000010 00 00 00 CA 00 00 00 02 07 DC 06 1A 09 37 0A 02 .............7..
00000020 F6 01 E0 00 08 C1 EC C8 A1 C0 F1 C6 B7 00 16 31 ...............1
00000030 32 33 34 35 36 0A CE DE D0 A7 0A B0 B4 4F 4B BC 23456........OK.
00000040 FC B7 B5 BB D8                                  .....

2012-06-26 09:55:10,758 [pool-4-thread-3 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 09:55:10,758 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 09:55:10,758 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 09:55:10,758 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 15: not mark to return session ID to client
2012-06-26 09:55:10,758 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 09:55:10,758 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 09:55:10,758 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 09:55:10,774 [NioProcessor-1  ] [INFO ] o.a.m.f.l.LoggingFilter     - CLOSED
2012-06-26 09:55:10,774 [NioProcessor-1  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 09:55:10,774 [Finalizer       ] [DEBUG] ThreadSafeClientConnManager - Shutting down
2012-06-26 09:55:11,008 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:55:11,008 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:55:11,008 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 09:55:11,008 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 09:55:11,008 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:55:20,993 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:55:20,993 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:55:20,993 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 09:55:20,993 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 09:55:20,993 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:55:30,994 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:55:30,994 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:55:30,994 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 09:55:30,994 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 09:55:30,994 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:55:40,995 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:55:40,995 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:55:40,995 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 09:55:40,995 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 09:55:40,995 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:55:50,996 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:55:50,996 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:55:50,996 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 09:55:50,996 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 09:55:50,996 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:56:00,997 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:56:00,997 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:56:00,997 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 09:56:00,997 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 09:56:00,997 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:56:11,013 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:56:11,013 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:56:11,013 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 09:56:11,013 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 09:56:11,013 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:56:21,014 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:56:21,014 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:56:21,014 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 09:56:21,014 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 09:56:21,014 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:56:31,015 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:56:31,015 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:56:31,015 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 09:56:31,015 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 09:56:31,015 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:56:39,659 [NioProcessor-2  ] [INFO ] c.c.q.m.p.f.LoggingFilter   - incoming connection from remote address: 127.0.0.1:2091, Mina session ID: 16
2012-06-26 09:56:39,659 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - Currently managed session count: 1
2012-06-26 09:56:39,659 [NioProcessor-2  ] [INFO ] o.a.m.f.l.LoggingFilter     - CREATED
2012-06-26 09:56:39,659 [NioProcessor-2  ] [INFO ] o.a.m.f.l.LoggingFilter     - OPENED
2012-06-26 09:56:39,659 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2091, Mina session ID 16, identified POS ID null
2012-06-26 09:56:39,674 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 09:56:39,674 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=32 cap=2048: 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20...]
2012-06-26 09:56:39,705 [NioProcessor-2  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 16
2012-06-26 09:56:39,705 [NioProcessor-2  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 09:56:39,705 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 09:56:39,705 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 16
2012-06-26 09:56:39,705 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =32
2012-06-26 09:56:39,705 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 09:56:39,705 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 32, current position: 0
2012-06-26 09:56:39,705 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 09:56:39,705 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}
2012-06-26 09:56:39,705 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 16
2012-06-26 09:56:39,705 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=16, in.remaining=16
2012-06-26 09:56:39,705 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 09:56:39,705 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 5
2012-06-26 09:56:39,705 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 5: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageCodec@14db52b
2012-06-26 09:56:39,705 [NioProcessor-2  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - init request message decode
2012-06-26 09:56:39,705 [NioProcessor-2  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - in.remaining()=16
2012-06-26 09:56:39,705 [NioProcessor-2  ] [TRACE] .m.p.s.m.c.InitMessageCodec - InitRequestMessage: [cmdId=5, posId=pos-0002]
2012-06-26 09:56:39,705 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 09:56:39,705 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 09:56:39,705 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 09:56:39,705 [NioProcessor-2  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 09:56:39,705 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 09:56:39,705 [NioProcessor-2  ] [DEBUG] p.f.SessionKeyMessageFilter - Mina session ID 16: created session key c7126a9489424ab7aa01d81071ba63c2
2012-06-26 09:56:39,705 [NioProcessor-2  ] [DEBUG] p.f.SessionKeyMessageFilter - creating session for mina session ID 16 using session ID c7126a9489424ab7aa01d81071ba63c2
2012-06-26 09:56:39,705 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 09:56:39,705 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 09:56:39,705 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 09:56:39,705 [NioProcessor-2  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2091, Mina session ID 16, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 09:56:39,705 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 09:56:39,705 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 09:56:39,705 [pool-4-thread-4 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 09:56:39,705 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 09:56:39,705 [NioProcessor-2  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 09:56:39,705 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 09:56:39,705 [pool-4-thread-4 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 09:56:39,705 [pool-4-thread-4 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@8c4b5f obtained for command ID 5
2012-06-26 09:56:39,705 [pool-4-thread-4 ] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 5 is com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@8c4b5f
2012-06-26 09:56:39,705 [pool-4-thread-4 ] [DEBUG] .q.m.p.h.InitCommandHandler - InitCommandHandler======execute==bodyMessage=:  [cmdId=5, posId=pos-0002]
2012-06-26 09:56:39,705 [pool-4-thread-4 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - InitResponse() invoke
2012-06-26 09:56:39,705 [pool-4-thread-4 ] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:ALLOWED
2012-06-26 09:56:39,705 [pool-4-thread-4 ] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId AND p.ostatus = :ostatus
2012-06-26 09:56:39,705 [pool-4-thread-4 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - POS ID:pos-0002, init challenge saved - [80, 114, 86, 51, 67, 103, 105, 110]
2012-06-26 09:56:39,705 [pool-4-thread-4 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 09:56:39,721 [pool-4-thread-4 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 09:56:39,721 [pool-4-thread-4 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 09:56:39,721 [pool-4-thread-4 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 09:56:39,721 [pool-4-thread-4 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 16
2012-06-26 09:56:39,721 [pool-4-thread-4 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (6)
2012-06-26 09:56:39,721 [pool-4-thread-4 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageResponseCodec@1f55cae
2012-06-26 09:56:39,721 [pool-4-thread-4 ] [DEBUG] .c.InitMessageResponseCodec - init response message encode
2012-06-26 09:56:39,721 [pool-4-thread-4 ] [TRACE] .c.InitMessageResponseCodec - InitResponseMessage: [cmdId=6, result=0, challenge=[80, 114, 86, 51, 67, 103, 105, 110]]
2012-06-26 09:56:39,721 [pool-4-thread-4 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0xac5f
2012-06-26 09:56:39,721 [pool-4-thread-4 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 09:56:39,721 [pool-4-thread-4 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 AC 5F 00 00 00 1E ..........._....
00000010 00 00 00 06 00 00 50 72 56 33 43 67 69 6E       ......PrV3Cgin

2012-06-26 09:56:39,721 [pool-4-thread-4 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 09:56:39,721 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 09:56:39,721 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 09:56:39,721 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 16: not mark to return session ID to client
2012-06-26 09:56:39,721 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 09:56:39,721 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 09:56:39,721 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 09:56:39,939 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2091, Mina session ID 16, identified POS ID pos-0002
2012-06-26 09:56:39,939 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 6F 2B 00 00 00 30 ..........o+...0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 1D 4E D3 A7 F0 5C D3 8F 0C 6E F3 9E B8 B9 DE F3 .N...\...n......

2012-06-26 09:56:39,939 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=48 cap=2048: 00 00 00 01 00 00 00 00 00 00 6F 2B 00 00 00 30...]
2012-06-26 09:56:39,939 [NioProcessor-2  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 16
2012-06-26 09:56:39,939 [NioProcessor-2  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 09:56:39,939 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 09:56:39,939 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 16
2012-06-26 09:56:39,939 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =48
2012-06-26 09:56:39,939 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 6F 2B 00 00 00 30 ..........o+...0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 1D 4E D3 A7 F0 5C D3 8F 0C 6E F3 9E B8 B9 DE F3 .N...\...n......

2012-06-26 09:56:39,939 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 48, current position: 0
2012-06-26 09:56:39,939 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 09:56:39,939 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x6f2b} messageSize:{0x30} sessionKey:{null}
2012-06-26 09:56:39,939 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 32
2012-06-26 09:56:39,939 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=32, in.remaining=32
2012-06-26 09:56:39,939 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 09:56:39,939 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 7
2012-06-26 09:56:39,939 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 7: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageCodec@1f2f60d
2012-06-26 09:56:39,939 [NioProcessor-2  ] [DEBUG] m.p.s.m.c.LoginMessageCodec - login/bind message decode
2012-06-26 09:56:39,939 [NioProcessor-2  ] [TRACE] m.p.s.m.c.LoginMessageCodec - LoginRequestMessage: [cmdId=7, posId=pos-0002, challengeResponse=[29, 78, -45, -89, -16, 92, -45, -113, 12, 110, -13, -98, -72, -71, -34, -13]]
2012-06-26 09:56:39,939 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 09:56:39,939 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x6f2b} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[29, 78, -45, -89, -16, 92, -45, -113, 12, 110, -13, -98, -72, -71, -34, -13]]
2012-06-26 09:56:39,939 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 09:56:39,939 [NioProcessor-2  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 09:56:39,939 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 09:56:39,939 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 09:56:39,939 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 09:56:39,939 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 09:56:39,939 [NioProcessor-2  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2091, Mina session ID 16, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x6f2b} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[29, 78, -45, -89, -16, 92, -45, -113, 12, 110, -13, -98, -72, -71, -34, -13]]
2012-06-26 09:56:39,939 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 09:56:39,939 [pool-4-thread-5 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 09:56:39,939 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 09:56:39,939 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 09:56:39,939 [NioProcessor-2  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 09:56:39,939 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 09:56:39,939 [pool-4-thread-5 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 09:56:39,939 [pool-4-thread-5 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@165cbd2 obtained for command ID 7
2012-06-26 09:56:39,939 [pool-4-thread-5 ] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 7 is com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@165cbd2
2012-06-26 09:56:39,939 [pool-4-thread-5 ] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==bodyMessage=: [cmdId=7, posId=pos-0002, challengeResponse=[29, 78, -45, -89, -16, 92, -45, -113, 12, 110, -13, -98, -72, -71, -34, -13]]
2012-06-26 09:56:39,939 [pool-4-thread-5 ] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:null
2012-06-26 09:56:39,939 [pool-4-thread-5 ] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId
2012-06-26 09:56:39,939 [pool-4-thread-5 ] [TRACE] .q.m.l.l.i.LoginManagerImpl - Loaded from db: pos.posId:pos-0002, pos.secret:000001, oldChallenge:[80, 114, 86, 51, 67, 103, 105, 110]
2012-06-26 09:56:39,939 [pool-4-thread-5 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - disableChallengeCheck =0
2012-06-26 09:56:39,939 [pool-4-thread-5 ] [TRACE] c.c.q.m.l.c.ChallengeUtil   - checking challenge:response:[29, 78, -45, -89, -16, 92, -45, -113, 12, 110, -13, -98, -72, -71, -34, -13], posKey:000001, random:[80, 114, 86, 51, 67, 103, 105, 110]
2012-06-26 09:56:39,939 [pool-4-thread-5 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - new challenge for POS (POS ID): [106, 72, 76, 101, 107, 75, 77, 111]
2012-06-26 09:56:39,955 [pool-4-thread-5 ] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==serverKey=:JXTPOS
2012-06-26 09:56:39,955 [pool-4-thread-5 ] [DEBUG] ThreadSafeClientConnManager - Get connection: HttpRoute[{}->http://localhost:7070], timeout = 0
2012-06-26 09:56:39,955 [pool-4-thread-5 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - [HttpRoute[{}->http://localhost:7070]] total kept alive: 0, total issued: 0, total allocated: 0 out of 20
2012-06-26 09:56:39,955 [pool-4-thread-5 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - No free connections [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 09:56:39,955 [pool-4-thread-5 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Available capacity: 2 out of 2 [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 09:56:39,955 [pool-4-thread-5 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Creating new connection [HttpRoute[{}->http://localhost:7070]]
2012-06-26 09:56:39,955 [pool-4-thread-5 ] [DEBUG] ultClientConnectionOperator - Connecting to localhost:7070
2012-06-26 09:56:41,032 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:56:41,032 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:56:41,032 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 09:56:41,032 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=3
2012-06-26 09:56:41,032 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:56:41,156 [pool-4-thread-5 ] [DEBUG] i.c.DefaultClientConnection - Connection closed
2012-06-26 09:56:41,156 [pool-4-thread-5 ] [DEBUG] i.c.DefaultClientConnection - Connection shut down
2012-06-26 09:56:41,156 [pool-4-thread-5 ] [DEBUG] ThreadSafeClientConnManager - Released connection is not reusable.
2012-06-26 09:56:41,156 [pool-4-thread-5 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Releasing connection [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 09:56:41,156 [pool-4-thread-5 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Notifying no-one, there are no waiting threads
2012-06-26 09:56:41,156 [pool-4-thread-5 ] [ERROR] q.m.p.h.LoginCommandHandler - initGrouponCache fail:com.chinarewards.qqgbvpn.qqapi.exception.ParseXMLException: com.chinarewards.qqgbvpn.qqapi.exception.SendPostTimeOutException: org.apache.http.conn.HttpHostConnectException: Connection to http://localhost:7070 refused
2012-06-26 09:56:41,156 [pool-4-thread-5 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 09:56:41,172 [pool-4-thread-5 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 09:56:41,172 [pool-4-thread-5 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 09:56:41,172 [pool-4-thread-5 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 09:56:41,172 [pool-4-thread-5 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 16
2012-06-26 09:56:41,172 [pool-4-thread-5 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (8)
2012-06-26 09:56:41,172 [pool-4-thread-5 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageResponseCodec@13e3940
2012-06-26 09:56:41,172 [pool-4-thread-5 ] [DEBUG] c.LoginMessageResponseCodec - login/bind message encode
2012-06-26 09:56:41,172 [pool-4-thread-5 ] [TRACE] c.LoginMessageResponseCodec - LoginResponseMessage: [cmdId=8, result=0, challenge=[106, 72, 76, 101, 107, 75, 77, 111]]
2012-06-26 09:56:41,172 [pool-4-thread-5 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0x9070
2012-06-26 09:56:41,172 [pool-4-thread-5 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 09:56:41,172 [pool-4-thread-5 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 90 70 00 00 00 1E ...........p....
00000010 00 00 00 08 00 00 6A 48 4C 65 6B 4B 4D 6F       ......jHLekKMo

2012-06-26 09:56:41,172 [pool-4-thread-5 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 09:56:41,172 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 09:56:41,172 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 09:56:41,172 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 16: not mark to return session ID to client
2012-06-26 09:56:41,172 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 09:56:41,172 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 09:56:41,172 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 09:56:41,172 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2091, Mina session ID 16, identified POS ID pos-0002
2012-06-26 09:56:41,172 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 28 of 28 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 65 68 00 00 00 1C ..........eh....
00000010 00 00 00 C9 00 06 31 32 33 34 35 36             ......123456

2012-06-26 09:56:41,172 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=28 cap=1024: 00 00 00 10 00 00 00 00 00 00 65 68 00 00 00 1C...]
2012-06-26 09:56:41,172 [NioProcessor-2  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 16
2012-06-26 09:56:41,172 [NioProcessor-2  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 09:56:41,172 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 09:56:41,172 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 16
2012-06-26 09:56:41,172 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =28
2012-06-26 09:56:41,172 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 28 of 28 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 65 68 00 00 00 1C ..........eh....
00000010 00 00 00 C9 00 06 31 32 33 34 35 36             ......123456

2012-06-26 09:56:41,172 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 28, current position: 0
2012-06-26 09:56:41,172 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 09:56:41,172 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0x6568} messageSize:{0x1c} sessionKey:{null}
2012-06-26 09:56:41,172 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 12
2012-06-26 09:56:41,172 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=12, in.remaining=12
2012-06-26 09:56:41,172 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 09:56:41,172 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 201
2012-06-26 09:56:41,172 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 201: com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftMessageCodec@20b722
2012-06-26 09:56:41,172 [NioProcessor-2  ] [DEBUG] m.c.ReceiveGiftMessageCodec - receive gift request message decode
2012-06-26 09:56:41,172 [NioProcessor-2  ] [DEBUG] m.c.ReceiveGiftMessageCodec - in.remaining()=12
2012-06-26 09:56:41,172 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 09:56:41,172 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0x6568} messageSize:{0x1c} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@155e3ab
2012-06-26 09:56:41,172 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 09:56:41,172 [NioProcessor-2  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 09:56:41,172 [Finalizer       ] [DEBUG] ThreadSafeClientConnManager - Shutting down
2012-06-26 09:56:41,172 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 09:56:41,172 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 09:56:41,172 [NioProcessor-2  ] [DEBUG] c.c.q.m.p.f.LoginFilter     - isLogin=true
2012-06-26 09:56:41,172 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 09:56:41,172 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 09:56:41,172 [NioProcessor-2  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2091, Mina session ID 16, identified POS ID pos-0002, message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0x6568} messageSize:{0x1c} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@155e3ab
2012-06-26 09:56:41,172 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 09:56:41,172 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 09:56:41,172 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 09:56:41,172 [NioProcessor-2  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 09:56:41,172 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 09:56:41,172 [pool-4-thread-6 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 09:56:41,188 [pool-4-thread-6 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 09:56:41,188 [pool-4-thread-6 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@1886a34 obtained for command ID 201
2012-06-26 09:56:41,188 [pool-4-thread-6 ] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 201 is com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@1886a34
2012-06-26 09:56:41,188 [pool-4-thread-6 ] [DEBUG] h.ReceiveGiftCommandHandler - ReceiveGiftHandler======execute==bodyMessage=: com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@155e3ab
2012-06-26 09:56:41,188 [pool-4-thread-6 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 09:56:41,188 [pool-4-thread-6 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 09:56:41,188 [pool-4-thread-6 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 09:56:41,188 [pool-4-thread-6 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 09:56:41,188 [pool-4-thread-6 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 16
2012-06-26 09:56:41,188 [pool-4-thread-6 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (202)
2012-06-26 09:56:41,188 [pool-4-thread-6 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftResponseMessageCodec@1735602
2012-06-26 09:56:41,188 [pool-4-thread-6 ] [DEBUG] iveGiftResponseMessageCodec - receive gift response message encode
2012-06-26 09:56:41,188 [pool-4-thread-6 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0xfb40
2012-06-26 09:56:41,188 [pool-4-thread-6 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 09:56:41,188 [pool-4-thread-6 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 69 of 69 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 FB 40 00 00 00 45 ...........@...E
00000010 00 00 00 CA 00 00 00 02 07 DC 06 1A 09 38 29 00 .............8).
00000020 BC 01 E0 00 08 C1 EC C8 A1 C0 F1 C6 B7 00 16 31 ...............1
00000030 32 33 34 35 36 0A CE DE D0 A7 0A B0 B4 4F 4B BC 23456........OK.
00000040 FC B7 B5 BB D8                                  .....

2012-06-26 09:56:41,188 [pool-4-thread-6 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 09:56:41,188 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 09:56:41,188 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 09:56:41,188 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 16: not mark to return session ID to client
2012-06-26 09:56:41,188 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 09:56:41,188 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 09:56:41,188 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 09:56:41,188 [NioProcessor-2  ] [INFO ] o.a.m.f.l.LoggingFilter     - CLOSED
2012-06-26 09:56:41,188 [NioProcessor-2  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 09:56:41,390 [NioProcessor-3  ] [INFO ] c.c.q.m.p.f.LoggingFilter   - incoming connection from remote address: 127.0.0.1:2093, Mina session ID: 17
2012-06-26 09:56:41,390 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - Currently managed session count: 1
2012-06-26 09:56:41,390 [NioProcessor-3  ] [INFO ] o.a.m.f.l.LoggingFilter     - CREATED
2012-06-26 09:56:41,390 [NioProcessor-3  ] [INFO ] o.a.m.f.l.LoggingFilter     - OPENED
2012-06-26 09:56:41,390 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2093, Mina session ID 17, identified POS ID null
2012-06-26 09:56:41,390 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 09:56:41,390 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=32 cap=2048: 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20...]
2012-06-26 09:56:41,390 [NioProcessor-3  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 17
2012-06-26 09:56:41,390 [NioProcessor-3  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 09:56:41,390 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 09:56:41,390 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 17
2012-06-26 09:56:41,390 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =32
2012-06-26 09:56:41,390 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 09:56:41,390 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 32, current position: 0
2012-06-26 09:56:41,390 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 09:56:41,390 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}
2012-06-26 09:56:41,390 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 16
2012-06-26 09:56:41,390 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=16, in.remaining=16
2012-06-26 09:56:41,390 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 09:56:41,390 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 5
2012-06-26 09:56:41,390 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 5: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageCodec@1104da7
2012-06-26 09:56:41,390 [NioProcessor-3  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - init request message decode
2012-06-26 09:56:41,390 [NioProcessor-3  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - in.remaining()=16
2012-06-26 09:56:41,390 [NioProcessor-3  ] [TRACE] .m.p.s.m.c.InitMessageCodec - InitRequestMessage: [cmdId=5, posId=pos-0002]
2012-06-26 09:56:41,390 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 09:56:41,390 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 09:56:41,390 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 09:56:41,390 [NioProcessor-3  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 09:56:41,390 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 09:56:41,390 [NioProcessor-3  ] [DEBUG] p.f.SessionKeyMessageFilter - Mina session ID 17: created session key 5ea80a69e6ab4c3eb77548ad4c461cae
2012-06-26 09:56:41,390 [NioProcessor-3  ] [DEBUG] p.f.SessionKeyMessageFilter - creating session for mina session ID 17 using session ID 5ea80a69e6ab4c3eb77548ad4c461cae
2012-06-26 09:56:41,390 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 09:56:41,390 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 09:56:41,390 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 09:56:41,390 [NioProcessor-3  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2093, Mina session ID 17, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 09:56:41,390 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 09:56:41,390 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 09:56:41,390 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 09:56:41,390 [pool-4-thread-7 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 09:56:41,390 [NioProcessor-3  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 09:56:41,390 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 09:56:41,390 [pool-4-thread-7 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 09:56:41,390 [pool-4-thread-7 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@1179c1c obtained for command ID 5
2012-06-26 09:56:41,390 [pool-4-thread-7 ] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 5 is com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@1179c1c
2012-06-26 09:56:41,390 [pool-4-thread-7 ] [DEBUG] .q.m.p.h.InitCommandHandler - InitCommandHandler======execute==bodyMessage=:  [cmdId=5, posId=pos-0002]
2012-06-26 09:56:41,390 [pool-4-thread-7 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - InitResponse() invoke
2012-06-26 09:56:41,390 [pool-4-thread-7 ] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:ALLOWED
2012-06-26 09:56:41,390 [pool-4-thread-7 ] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId AND p.ostatus = :ostatus
2012-06-26 09:56:41,390 [pool-4-thread-7 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - POS ID:pos-0002, init challenge saved - [108, 118, 106, 120, 121, 76, 79, 55]
2012-06-26 09:56:41,390 [pool-4-thread-7 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 09:56:41,422 [pool-4-thread-7 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 09:56:41,422 [pool-4-thread-7 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 09:56:41,422 [pool-4-thread-7 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 09:56:41,422 [pool-4-thread-7 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 17
2012-06-26 09:56:41,422 [pool-4-thread-7 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (6)
2012-06-26 09:56:41,422 [pool-4-thread-7 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageResponseCodec@1e3940a
2012-06-26 09:56:41,422 [pool-4-thread-7 ] [DEBUG] .c.InitMessageResponseCodec - init response message encode
2012-06-26 09:56:41,422 [pool-4-thread-7 ] [TRACE] .c.InitMessageResponseCodec - InitResponseMessage: [cmdId=6, result=0, challenge=[108, 118, 106, 120, 121, 76, 79, 55]]
2012-06-26 09:56:41,422 [pool-4-thread-7 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0x6068
2012-06-26 09:56:41,422 [pool-4-thread-7 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 09:56:41,422 [pool-4-thread-7 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 60 68 00 00 00 1E ..........`h....
00000010 00 00 00 06 00 00 6C 76 6A 78 79 4C 4F 37       ......lvjxyLO7

2012-06-26 09:56:41,422 [pool-4-thread-7 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 09:56:41,422 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 09:56:41,422 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 09:56:41,422 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 17: not mark to return session ID to client
2012-06-26 09:56:41,422 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 09:56:41,422 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 09:56:41,422 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 09:56:41,422 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2093, Mina session ID 17, identified POS ID pos-0002
2012-06-26 09:56:41,422 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 6B 3C 00 00 00 30 ..........k<...0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 99 04 FE DB 71 1D A5 30 61 D0 10 64 F9 A8 36 80 ....q..0a..d..6.

2012-06-26 09:56:41,422 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=48 cap=2048: 00 00 00 01 00 00 00 00 00 00 6B 3C 00 00 00 30...]
2012-06-26 09:56:41,422 [NioProcessor-3  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 17
2012-06-26 09:56:41,422 [NioProcessor-3  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 09:56:41,422 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 09:56:41,422 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 17
2012-06-26 09:56:41,422 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =48
2012-06-26 09:56:41,422 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 6B 3C 00 00 00 30 ..........k<...0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 99 04 FE DB 71 1D A5 30 61 D0 10 64 F9 A8 36 80 ....q..0a..d..6.

2012-06-26 09:56:41,422 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 48, current position: 0
2012-06-26 09:56:41,422 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 09:56:41,422 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x6b3c} messageSize:{0x30} sessionKey:{null}
2012-06-26 09:56:41,422 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 32
2012-06-26 09:56:41,422 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=32, in.remaining=32
2012-06-26 09:56:41,422 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 09:56:41,422 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 7
2012-06-26 09:56:41,422 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 7: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageCodec@148b272
2012-06-26 09:56:41,422 [NioProcessor-3  ] [DEBUG] m.p.s.m.c.LoginMessageCodec - login/bind message decode
2012-06-26 09:56:41,422 [NioProcessor-3  ] [TRACE] m.p.s.m.c.LoginMessageCodec - LoginRequestMessage: [cmdId=7, posId=pos-0002, challengeResponse=[-103, 4, -2, -37, 113, 29, -91, 48, 97, -48, 16, 100, -7, -88, 54, -128]]
2012-06-26 09:56:41,422 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 09:56:41,422 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x6b3c} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[-103, 4, -2, -37, 113, 29, -91, 48, 97, -48, 16, 100, -7, -88, 54, -128]]
2012-06-26 09:56:41,422 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 09:56:41,422 [NioProcessor-3  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 09:56:41,422 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 09:56:41,422 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 09:56:41,422 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 09:56:41,422 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 09:56:41,422 [NioProcessor-3  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2093, Mina session ID 17, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x6b3c} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[-103, 4, -2, -37, 113, 29, -91, 48, 97, -48, 16, 100, -7, -88, 54, -128]]
2012-06-26 09:56:41,422 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 09:56:41,422 [pool-4-thread-8 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 09:56:41,422 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 09:56:41,422 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 09:56:41,422 [NioProcessor-3  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 09:56:41,422 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 09:56:41,422 [pool-4-thread-8 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 09:56:41,422 [pool-4-thread-8 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@f6e15e obtained for command ID 7
2012-06-26 09:56:41,422 [pool-4-thread-8 ] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 7 is com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@f6e15e
2012-06-26 09:56:41,437 [pool-4-thread-8 ] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==bodyMessage=: [cmdId=7, posId=pos-0002, challengeResponse=[-103, 4, -2, -37, 113, 29, -91, 48, 97, -48, 16, 100, -7, -88, 54, -128]]
2012-06-26 09:56:41,437 [pool-4-thread-8 ] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:null
2012-06-26 09:56:41,437 [pool-4-thread-8 ] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId
2012-06-26 09:56:41,437 [pool-4-thread-8 ] [TRACE] .q.m.l.l.i.LoginManagerImpl - Loaded from db: pos.posId:pos-0002, pos.secret:000001, oldChallenge:[108, 118, 106, 120, 121, 76, 79, 55]
2012-06-26 09:56:41,437 [pool-4-thread-8 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - disableChallengeCheck =0
2012-06-26 09:56:41,437 [pool-4-thread-8 ] [TRACE] c.c.q.m.l.c.ChallengeUtil   - checking challenge:response:[-103, 4, -2, -37, 113, 29, -91, 48, 97, -48, 16, 100, -7, -88, 54, -128], posKey:000001, random:[108, 118, 106, 120, 121, 76, 79, 55]
2012-06-26 09:56:41,437 [pool-4-thread-8 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - new challenge for POS (POS ID): [78, 119, 53, 52, 55, 111, 71, 98]
2012-06-26 09:56:41,437 [pool-4-thread-8 ] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==serverKey=:JXTPOS
2012-06-26 09:56:41,437 [pool-4-thread-8 ] [DEBUG] ThreadSafeClientConnManager - Get connection: HttpRoute[{}->http://localhost:7070], timeout = 0
2012-06-26 09:56:41,437 [pool-4-thread-8 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - [HttpRoute[{}->http://localhost:7070]] total kept alive: 0, total issued: 0, total allocated: 0 out of 20
2012-06-26 09:56:41,437 [pool-4-thread-8 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - No free connections [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 09:56:41,437 [pool-4-thread-8 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Available capacity: 2 out of 2 [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 09:56:41,437 [pool-4-thread-8 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Creating new connection [HttpRoute[{}->http://localhost:7070]]
2012-06-26 09:56:41,437 [pool-4-thread-8 ] [DEBUG] ultClientConnectionOperator - Connecting to localhost:7070
2012-06-26 09:56:42,358 [pool-4-thread-8 ] [DEBUG] i.c.DefaultClientConnection - Connection closed
2012-06-26 09:56:42,358 [pool-4-thread-8 ] [DEBUG] i.c.DefaultClientConnection - Connection shut down
2012-06-26 09:56:42,358 [pool-4-thread-8 ] [DEBUG] ThreadSafeClientConnManager - Released connection is not reusable.
2012-06-26 09:56:42,358 [pool-4-thread-8 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Releasing connection [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 09:56:42,358 [pool-4-thread-8 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Notifying no-one, there are no waiting threads
2012-06-26 09:56:42,358 [pool-4-thread-8 ] [ERROR] q.m.p.h.LoginCommandHandler - initGrouponCache fail:com.chinarewards.qqgbvpn.qqapi.exception.ParseXMLException: com.chinarewards.qqgbvpn.qqapi.exception.SendPostTimeOutException: org.apache.http.conn.HttpHostConnectException: Connection to http://localhost:7070 refused
2012-06-26 09:56:42,358 [pool-4-thread-8 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 09:56:42,389 [pool-4-thread-8 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 09:56:42,389 [pool-4-thread-8 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 09:56:42,389 [pool-4-thread-8 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 09:56:42,389 [pool-4-thread-8 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 17
2012-06-26 09:56:42,389 [pool-4-thread-8 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (8)
2012-06-26 09:56:42,389 [pool-4-thread-8 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageResponseCodec@106121
2012-06-26 09:56:42,389 [pool-4-thread-8 ] [DEBUG] c.LoginMessageResponseCodec - login/bind message encode
2012-06-26 09:56:42,389 [pool-4-thread-8 ] [TRACE] c.LoginMessageResponseCodec - LoginResponseMessage: [cmdId=8, result=0, challenge=[78, 119, 53, 52, 55, 111, 71, 98]]
2012-06-26 09:56:42,389 [pool-4-thread-8 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0xfd5b
2012-06-26 09:56:42,389 [pool-4-thread-8 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 09:56:42,389 [pool-4-thread-8 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 FD 5B 00 00 00 1E ...........[....
00000010 00 00 00 08 00 00 4E 77 35 34 37 6F 47 62       ......Nw547oGb

2012-06-26 09:56:42,389 [pool-4-thread-8 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 09:56:42,389 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 09:56:42,389 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 09:56:42,389 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 17: not mark to return session ID to client
2012-06-26 09:56:42,389 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 09:56:42,389 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 09:56:42,389 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 09:56:42,389 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2093, Mina session ID 17, identified POS ID pos-0002
2012-06-26 09:56:42,389 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 33 of 33 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 D8 04 00 00 00 21 ...............!
00000010 00 00 00 C9 00 0B 31 31 31 31 31 31 31 31 31 31 ......1111111111
00000020 31                                              1

2012-06-26 09:56:42,389 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=33 cap=1024: 00 00 00 10 00 00 00 00 00 00 D8 04 00 00 00 21...]
2012-06-26 09:56:42,389 [NioProcessor-3  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 17
2012-06-26 09:56:42,389 [NioProcessor-3  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 09:56:42,389 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 09:56:42,389 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 17
2012-06-26 09:56:42,389 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =33
2012-06-26 09:56:42,389 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 33 of 33 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 D8 04 00 00 00 21 ...............!
00000010 00 00 00 C9 00 0B 31 31 31 31 31 31 31 31 31 31 ......1111111111
00000020 31                                              1

2012-06-26 09:56:42,405 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 33, current position: 0
2012-06-26 09:56:42,405 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 09:56:42,405 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd804} messageSize:{0x21} sessionKey:{null}
2012-06-26 09:56:42,405 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 17
2012-06-26 09:56:42,405 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=17, in.remaining=17
2012-06-26 09:56:42,405 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 09:56:42,405 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 201
2012-06-26 09:56:42,405 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 201: com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftMessageCodec@158c3b7
2012-06-26 09:56:42,405 [NioProcessor-3  ] [DEBUG] m.c.ReceiveGiftMessageCodec - receive gift request message decode
2012-06-26 09:56:42,405 [NioProcessor-3  ] [DEBUG] m.c.ReceiveGiftMessageCodec - in.remaining()=17
2012-06-26 09:56:42,405 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 09:56:42,405 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd804} messageSize:{0x21} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@992725
2012-06-26 09:56:42,405 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 09:56:42,405 [NioProcessor-3  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 09:56:42,405 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 09:56:42,405 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 09:56:42,405 [NioProcessor-3  ] [DEBUG] c.c.q.m.p.f.LoginFilter     - isLogin=true
2012-06-26 09:56:42,405 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 09:56:42,405 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 09:56:42,405 [NioProcessor-3  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2093, Mina session ID 17, identified POS ID pos-0002, message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd804} messageSize:{0x21} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@992725
2012-06-26 09:56:42,405 [pool-4-thread-9 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 09:56:42,405 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 09:56:42,405 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 09:56:42,405 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 09:56:42,405 [NioProcessor-3  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 09:56:42,405 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 09:56:42,405 [Finalizer       ] [DEBUG] ThreadSafeClientConnManager - Shutting down
2012-06-26 09:56:42,405 [pool-4-thread-9 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 09:56:42,405 [pool-4-thread-9 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@1e3bfb6 obtained for command ID 201
2012-06-26 09:56:42,405 [pool-4-thread-9 ] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 201 is com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@1e3bfb6
2012-06-26 09:56:42,405 [pool-4-thread-9 ] [DEBUG] h.ReceiveGiftCommandHandler - ReceiveGiftHandler======execute==bodyMessage=: com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@992725
2012-06-26 09:56:42,405 [pool-4-thread-9 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 09:56:42,405 [pool-4-thread-9 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 09:56:42,405 [pool-4-thread-9 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 09:56:42,405 [pool-4-thread-9 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 09:56:42,405 [pool-4-thread-9 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 17
2012-06-26 09:56:42,405 [pool-4-thread-9 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (202)
2012-06-26 09:56:42,405 [pool-4-thread-9 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftResponseMessageCodec@6d75b6
2012-06-26 09:56:42,405 [pool-4-thread-9 ] [DEBUG] iveGiftResponseMessageCodec - receive gift response message encode
2012-06-26 09:56:42,405 [pool-4-thread-9 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0x363a
2012-06-26 09:56:42,405 [pool-4-thread-9 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 09:56:42,405 [pool-4-thread-9 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 74 of 74 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 36 3A 00 00 00 4A ..........6:...J
00000010 00 00 00 CA 00 00 00 02 07 DC 06 1A 09 38 2A 01 .............8*.
00000020 95 01 E0 00 08 C1 EC C8 A1 C0 F1 C6 B7 00 1B 31 ...............1
00000030 31 31 31 31 31 31 31 31 31 31 0A CE DE D0 A7 0A 1111111111......
00000040 B0 B4 4F 4B BC FC B7 B5 BB D8                   ..OK......

2012-06-26 09:56:42,405 [pool-4-thread-9 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 09:56:42,405 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 09:56:42,405 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 09:56:42,405 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 17: not mark to return session ID to client
2012-06-26 09:56:42,405 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 09:56:42,405 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 09:56:42,405 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 09:56:42,405 [NioProcessor-3  ] [INFO ] o.a.m.f.l.LoggingFilter     - CLOSED
2012-06-26 09:56:42,405 [NioProcessor-3  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 09:56:42,576 [NioProcessor-1  ] [INFO ] c.c.q.m.p.f.LoggingFilter   - incoming connection from remote address: 127.0.0.1:2095, Mina session ID: 18
2012-06-26 09:56:42,576 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - Currently managed session count: 1
2012-06-26 09:56:42,576 [NioProcessor-1  ] [INFO ] o.a.m.f.l.LoggingFilter     - CREATED
2012-06-26 09:56:42,592 [NioProcessor-1  ] [INFO ] o.a.m.f.l.LoggingFilter     - OPENED
2012-06-26 09:56:42,592 [NioProcessor-1  ] [INFO ] o.a.m.f.l.LoggingFilter     - CLOSED
2012-06-26 09:56:42,592 [NioProcessor-1  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 09:56:42,810 [NioProcessor-2  ] [INFO ] c.c.q.m.p.f.LoggingFilter   - incoming connection from remote address: 127.0.0.1:2096, Mina session ID: 19
2012-06-26 09:56:42,810 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - Currently managed session count: 1
2012-06-26 09:56:42,810 [NioProcessor-2  ] [INFO ] o.a.m.f.l.LoggingFilter     - CREATED
2012-06-26 09:56:42,810 [NioProcessor-2  ] [INFO ] o.a.m.f.l.LoggingFilter     - OPENED
2012-06-26 09:56:42,810 [NioProcessor-2  ] [INFO ] o.a.m.f.l.LoggingFilter     - CLOSED
2012-06-26 09:56:42,810 [NioProcessor-2  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 09:56:51,079 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:56:51,079 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:56:51,079 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=4
2012-06-26 09:56:51,079 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=4
2012-06-26 09:56:51,079 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:57:01,080 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:57:01,080 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:57:01,080 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=4
2012-06-26 09:57:01,080 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=4
2012-06-26 09:57:01,080 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:57:11,081 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:57:11,081 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:57:11,081 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=4
2012-06-26 09:57:11,081 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=4
2012-06-26 09:57:11,081 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:57:21,098 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:57:21,098 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:57:21,098 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=4
2012-06-26 09:57:21,098 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=4
2012-06-26 09:57:21,098 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:57:31,098 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:57:31,098 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:57:31,098 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=4
2012-06-26 09:57:31,098 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=4
2012-06-26 09:57:31,098 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:57:41,099 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:57:41,099 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:57:41,099 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=4
2012-06-26 09:57:41,099 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=4
2012-06-26 09:57:41,099 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:57:47,106 [NioProcessor-3  ] [INFO ] c.c.q.m.p.f.LoggingFilter   - incoming connection from remote address: 127.0.0.1:2103, Mina session ID: 20
2012-06-26 09:57:47,106 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - Currently managed session count: 1
2012-06-26 09:57:47,106 [NioProcessor-3  ] [INFO ] o.a.m.f.l.LoggingFilter     - CREATED
2012-06-26 09:57:47,106 [NioProcessor-3  ] [INFO ] o.a.m.f.l.LoggingFilter     - OPENED
2012-06-26 09:57:47,106 [NioProcessor-3  ] [INFO ] o.a.m.f.l.LoggingFilter     - CLOSED
2012-06-26 09:57:47,106 [NioProcessor-3  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 09:57:51,131 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:57:51,131 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:57:51,131 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=4
2012-06-26 09:57:51,131 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=4
2012-06-26 09:57:51,131 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:58:01,132 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:58:01,132 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:58:01,132 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=4
2012-06-26 09:58:01,132 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=4
2012-06-26 09:58:01,132 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:58:03,785 [NioProcessor-1  ] [INFO ] c.c.q.m.p.f.LoggingFilter   - incoming connection from remote address: 127.0.0.1:2106, Mina session ID: 21
2012-06-26 09:58:03,785 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - Currently managed session count: 1
2012-06-26 09:58:03,785 [NioProcessor-1  ] [INFO ] o.a.m.f.l.LoggingFilter     - CREATED
2012-06-26 09:58:03,785 [NioProcessor-1  ] [INFO ] o.a.m.f.l.LoggingFilter     - OPENED
2012-06-26 09:58:03,831 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2106, Mina session ID 21, identified POS ID null
2012-06-26 09:58:03,831 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 09:58:03,831 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=32 cap=2048: 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20...]
2012-06-26 09:58:03,831 [NioProcessor-1  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 21
2012-06-26 09:58:03,831 [NioProcessor-1  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 09:58:03,831 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 09:58:03,831 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 21
2012-06-26 09:58:03,831 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =32
2012-06-26 09:58:03,831 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 09:58:03,831 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 32, current position: 0
2012-06-26 09:58:03,831 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 09:58:03,831 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}
2012-06-26 09:58:03,831 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 16
2012-06-26 09:58:03,831 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=16, in.remaining=16
2012-06-26 09:58:03,831 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 09:58:03,831 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 5
2012-06-26 09:58:03,831 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 5: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageCodec@453dd5
2012-06-26 09:58:03,831 [NioProcessor-1  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - init request message decode
2012-06-26 09:58:03,831 [NioProcessor-1  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - in.remaining()=16
2012-06-26 09:58:03,831 [NioProcessor-1  ] [TRACE] .m.p.s.m.c.InitMessageCodec - InitRequestMessage: [cmdId=5, posId=pos-0002]
2012-06-26 09:58:03,831 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 09:58:03,831 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 09:58:03,831 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 09:58:03,831 [NioProcessor-1  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 09:58:03,831 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 09:58:03,831 [NioProcessor-1  ] [DEBUG] p.f.SessionKeyMessageFilter - Mina session ID 21: created session key a2c3ebb2697343538b640748811fd777
2012-06-26 09:58:03,831 [NioProcessor-1  ] [DEBUG] p.f.SessionKeyMessageFilter - creating session for mina session ID 21 using session ID a2c3ebb2697343538b640748811fd777
2012-06-26 09:58:03,831 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 09:58:03,831 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 09:58:03,831 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 09:58:03,831 [NioProcessor-1  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2106, Mina session ID 21, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 09:58:03,831 [pool-4-thread-10] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 09:58:03,831 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 09:58:03,831 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 09:58:03,831 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 09:58:03,831 [NioProcessor-1  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 09:58:03,831 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 09:58:03,831 [pool-4-thread-10] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 09:58:03,831 [pool-4-thread-10] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@e1469c obtained for command ID 5
2012-06-26 09:58:03,831 [pool-4-thread-10] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 5 is com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@e1469c
2012-06-26 09:58:03,831 [pool-4-thread-10] [DEBUG] .q.m.p.h.InitCommandHandler - InitCommandHandler======execute==bodyMessage=:  [cmdId=5, posId=pos-0002]
2012-06-26 09:58:03,831 [pool-4-thread-10] [DEBUG] .q.m.l.l.i.LoginManagerImpl - InitResponse() invoke
2012-06-26 09:58:03,831 [pool-4-thread-10] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:ALLOWED
2012-06-26 09:58:03,831 [pool-4-thread-10] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId AND p.ostatus = :ostatus
2012-06-26 09:58:03,831 [pool-4-thread-10] [DEBUG] .q.m.l.l.i.LoginManagerImpl - POS ID:pos-0002, init challenge saved - [57, 69, 110, 116, 67, 112, 52, 99]
2012-06-26 09:58:03,831 [pool-4-thread-10] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 09:58:03,863 [pool-4-thread-10] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 09:58:03,863 [pool-4-thread-10] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 09:58:03,863 [pool-4-thread-10] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 09:58:03,863 [pool-4-thread-10] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 21
2012-06-26 09:58:03,863 [pool-4-thread-10] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (6)
2012-06-26 09:58:03,863 [pool-4-thread-10] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageResponseCodec@1b8099a
2012-06-26 09:58:03,863 [pool-4-thread-10] [DEBUG] .c.InitMessageResponseCodec - init response message encode
2012-06-26 09:58:03,863 [pool-4-thread-10] [TRACE] .c.InitMessageResponseCodec - InitResponseMessage: [cmdId=6, result=0, challenge=[57, 69, 110, 116, 67, 112, 52, 99]]
2012-06-26 09:58:03,863 [pool-4-thread-10] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0xe04d
2012-06-26 09:58:03,863 [pool-4-thread-10] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 09:58:03,863 [pool-4-thread-10] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 E0 4D 00 00 00 1E ...........M....
00000010 00 00 00 06 00 00 39 45 6E 74 43 70 34 63       ......9EntCp4c

2012-06-26 09:58:03,863 [pool-4-thread-10] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 09:58:03,863 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 09:58:03,863 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 09:58:03,863 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 21: not mark to return session ID to client
2012-06-26 09:58:03,863 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 09:58:03,863 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 09:58:03,863 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 09:58:04,081 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2106, Mina session ID 21, identified POS ID pos-0002
2012-06-26 09:58:04,081 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 98 24 00 00 00 30 ...........$...0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 AB 68 54 89 0E 91 6A 39 5F 9A DD CB F5 EB 77 95 .hT...j9_.....w.

2012-06-26 09:58:04,081 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=48 cap=2048: 00 00 00 01 00 00 00 00 00 00 98 24 00 00 00 30...]
2012-06-26 09:58:04,081 [NioProcessor-1  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 21
2012-06-26 09:58:04,081 [NioProcessor-1  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 09:58:04,081 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 09:58:04,081 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 21
2012-06-26 09:58:04,081 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =48
2012-06-26 09:58:04,081 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 98 24 00 00 00 30 ...........$...0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 AB 68 54 89 0E 91 6A 39 5F 9A DD CB F5 EB 77 95 .hT...j9_.....w.

2012-06-26 09:58:04,081 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 48, current position: 0
2012-06-26 09:58:04,081 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 09:58:04,081 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x9824} messageSize:{0x30} sessionKey:{null}
2012-06-26 09:58:04,081 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 32
2012-06-26 09:58:04,081 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=32, in.remaining=32
2012-06-26 09:58:04,081 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 09:58:04,081 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 7
2012-06-26 09:58:04,081 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 7: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageCodec@1ea817f
2012-06-26 09:58:04,081 [NioProcessor-1  ] [DEBUG] m.p.s.m.c.LoginMessageCodec - login/bind message decode
2012-06-26 09:58:04,081 [NioProcessor-1  ] [TRACE] m.p.s.m.c.LoginMessageCodec - LoginRequestMessage: [cmdId=7, posId=pos-0002, challengeResponse=[-85, 104, 84, -119, 14, -111, 106, 57, 95, -102, -35, -53, -11, -21, 119, -107]]
2012-06-26 09:58:04,097 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 09:58:04,097 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x9824} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[-85, 104, 84, -119, 14, -111, 106, 57, 95, -102, -35, -53, -11, -21, 119, -107]]
2012-06-26 09:58:04,097 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 09:58:04,097 [NioProcessor-1  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 09:58:04,097 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 09:58:04,097 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 09:58:04,097 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 09:58:04,097 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 09:58:04,097 [NioProcessor-1  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2106, Mina session ID 21, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x9824} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[-85, 104, 84, -119, 14, -111, 106, 57, 95, -102, -35, -53, -11, -21, 119, -107]]
2012-06-26 09:58:04,097 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 09:58:04,097 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 09:58:04,097 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 09:58:04,097 [pool-4-thread-11] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 09:58:04,097 [NioProcessor-1  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 09:58:04,097 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 09:58:04,097 [pool-4-thread-11] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 09:58:04,097 [pool-4-thread-11] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@e265f5 obtained for command ID 7
2012-06-26 09:58:04,097 [pool-4-thread-11] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 7 is com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@e265f5
2012-06-26 09:58:04,097 [pool-4-thread-11] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==bodyMessage=: [cmdId=7, posId=pos-0002, challengeResponse=[-85, 104, 84, -119, 14, -111, 106, 57, 95, -102, -35, -53, -11, -21, 119, -107]]
2012-06-26 09:58:04,097 [pool-4-thread-11] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:null
2012-06-26 09:58:04,097 [pool-4-thread-11] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId
2012-06-26 09:58:04,097 [pool-4-thread-11] [TRACE] .q.m.l.l.i.LoginManagerImpl - Loaded from db: pos.posId:pos-0002, pos.secret:000001, oldChallenge:[57, 69, 110, 116, 67, 112, 52, 99]
2012-06-26 09:58:04,097 [pool-4-thread-11] [DEBUG] .q.m.l.l.i.LoginManagerImpl - disableChallengeCheck =0
2012-06-26 09:58:04,097 [pool-4-thread-11] [TRACE] c.c.q.m.l.c.ChallengeUtil   - checking challenge:response:[-85, 104, 84, -119, 14, -111, 106, 57, 95, -102, -35, -53, -11, -21, 119, -107], posKey:000001, random:[57, 69, 110, 116, 67, 112, 52, 99]
2012-06-26 09:58:04,097 [pool-4-thread-11] [DEBUG] .q.m.l.l.i.LoginManagerImpl - new challenge for POS (POS ID): [85, 53, 111, 110, 53, 55, 79, 104]
2012-06-26 09:58:04,097 [pool-4-thread-11] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==serverKey=:JXTPOS
2012-06-26 09:58:04,097 [pool-4-thread-11] [DEBUG] ThreadSafeClientConnManager - Get connection: HttpRoute[{}->http://localhost:7070], timeout = 0
2012-06-26 09:58:04,097 [pool-4-thread-11] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - [HttpRoute[{}->http://localhost:7070]] total kept alive: 0, total issued: 0, total allocated: 0 out of 20
2012-06-26 09:58:04,097 [pool-4-thread-11] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - No free connections [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 09:58:04,097 [pool-4-thread-11] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Available capacity: 2 out of 2 [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 09:58:04,097 [pool-4-thread-11] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Creating new connection [HttpRoute[{}->http://localhost:7070]]
2012-06-26 09:58:04,097 [pool-4-thread-11] [DEBUG] ultClientConnectionOperator - Connecting to localhost:7070
2012-06-26 09:58:05,267 [pool-4-thread-11] [DEBUG] i.c.DefaultClientConnection - Connection closed
2012-06-26 09:58:05,267 [pool-4-thread-11] [DEBUG] i.c.DefaultClientConnection - Connection shut down
2012-06-26 09:58:05,267 [pool-4-thread-11] [DEBUG] ThreadSafeClientConnManager - Released connection is not reusable.
2012-06-26 09:58:05,267 [pool-4-thread-11] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Releasing connection [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 09:58:05,267 [pool-4-thread-11] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Notifying no-one, there are no waiting threads
2012-06-26 09:58:05,267 [pool-4-thread-11] [ERROR] q.m.p.h.LoginCommandHandler - initGrouponCache fail:com.chinarewards.qqgbvpn.qqapi.exception.ParseXMLException: com.chinarewards.qqgbvpn.qqapi.exception.SendPostTimeOutException: org.apache.http.conn.HttpHostConnectException: Connection to http://localhost:7070 refused
2012-06-26 09:58:05,298 [pool-4-thread-11] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 09:58:05,314 [pool-4-thread-11] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 09:58:05,314 [pool-4-thread-11] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 09:58:05,314 [pool-4-thread-11] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 09:58:05,314 [pool-4-thread-11] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 21
2012-06-26 09:58:05,314 [pool-4-thread-11] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (8)
2012-06-26 09:58:05,314 [pool-4-thread-11] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageResponseCodec@e634bf
2012-06-26 09:58:05,314 [pool-4-thread-11] [DEBUG] c.LoginMessageResponseCodec - login/bind message encode
2012-06-26 09:58:05,314 [pool-4-thread-11] [TRACE] c.LoginMessageResponseCodec - LoginResponseMessage: [cmdId=8, result=0, challenge=[85, 53, 111, 110, 53, 55, 79, 104]]
2012-06-26 09:58:05,314 [pool-4-thread-11] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0xb695
2012-06-26 09:58:05,314 [pool-4-thread-11] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 09:58:05,314 [pool-4-thread-11] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 B6 95 00 00 00 1E ................
00000010 00 00 00 08 00 00 55 35 6F 6E 35 37 4F 68       ......U5on57Oh

2012-06-26 09:58:05,314 [pool-4-thread-11] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 09:58:05,314 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 09:58:05,314 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 09:58:05,314 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 21: not mark to return session ID to client
2012-06-26 09:58:05,314 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 09:58:05,314 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 09:58:05,314 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 09:58:05,314 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2106, Mina session ID 21, identified POS ID pos-0002
2012-06-26 09:58:05,314 [Finalizer       ] [DEBUG] ThreadSafeClientConnManager - Shutting down
2012-06-26 09:58:05,314 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 33 of 33 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 D8 04 00 00 00 21 ...............!
00000010 00 00 00 C9 00 0B 31 31 31 31 31 31 31 31 31 31 ......1111111111
00000020 31                                              1

2012-06-26 09:58:05,314 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=33 cap=1024: 00 00 00 10 00 00 00 00 00 00 D8 04 00 00 00 21...]
2012-06-26 09:58:05,314 [NioProcessor-1  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 21
2012-06-26 09:58:05,314 [NioProcessor-1  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 09:58:05,314 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 09:58:05,314 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 21
2012-06-26 09:58:05,314 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =33
2012-06-26 09:58:05,314 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 33 of 33 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 D8 04 00 00 00 21 ...............!
00000010 00 00 00 C9 00 0B 31 31 31 31 31 31 31 31 31 31 ......1111111111
00000020 31                                              1

2012-06-26 09:58:05,314 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 33, current position: 0
2012-06-26 09:58:05,314 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 09:58:05,314 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd804} messageSize:{0x21} sessionKey:{null}
2012-06-26 09:58:05,314 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 17
2012-06-26 09:58:05,314 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=17, in.remaining=17
2012-06-26 09:58:05,314 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 09:58:05,314 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 201
2012-06-26 09:58:05,314 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 201: com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftMessageCodec@16e46f5
2012-06-26 09:58:05,314 [NioProcessor-1  ] [DEBUG] m.c.ReceiveGiftMessageCodec - receive gift request message decode
2012-06-26 09:58:05,314 [NioProcessor-1  ] [DEBUG] m.c.ReceiveGiftMessageCodec - in.remaining()=17
2012-06-26 09:58:05,314 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 09:58:05,314 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd804} messageSize:{0x21} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@f4a376
2012-06-26 09:58:05,314 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 09:58:05,329 [NioProcessor-1  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 09:58:05,329 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 09:58:05,329 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 09:58:05,329 [NioProcessor-1  ] [DEBUG] c.c.q.m.p.f.LoginFilter     - isLogin=true
2012-06-26 09:58:05,329 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 09:58:05,329 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 09:58:05,329 [NioProcessor-1  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2106, Mina session ID 21, identified POS ID pos-0002, message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd804} messageSize:{0x21} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@f4a376
2012-06-26 09:58:05,329 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 09:58:05,329 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 09:58:05,329 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 09:58:05,329 [NioProcessor-1  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 09:58:05,329 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 09:58:05,329 [pool-4-thread-12] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 09:58:05,329 [pool-4-thread-12] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 09:58:05,329 [pool-4-thread-12] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@1f60430 obtained for command ID 201
2012-06-26 09:58:05,329 [pool-4-thread-12] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 201 is com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@1f60430
2012-06-26 09:58:05,329 [pool-4-thread-12] [DEBUG] h.ReceiveGiftCommandHandler - ReceiveGiftHandler======execute==bodyMessage=: com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@f4a376
2012-06-26 09:58:05,329 [pool-4-thread-12] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 09:58:05,329 [pool-4-thread-12] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 09:58:05,329 [pool-4-thread-12] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 09:58:05,329 [pool-4-thread-12] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 09:58:05,329 [pool-4-thread-12] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 21
2012-06-26 09:58:05,329 [pool-4-thread-12] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (202)
2012-06-26 09:58:05,329 [pool-4-thread-12] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftResponseMessageCodec@fb0b0
2012-06-26 09:58:05,329 [pool-4-thread-12] [DEBUG] iveGiftResponseMessageCodec - receive gift response message encode
2012-06-26 09:58:05,329 [pool-4-thread-12] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0xa738
2012-06-26 09:58:05,329 [pool-4-thread-12] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 09:58:05,329 [pool-4-thread-12] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 74 of 74 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 A7 38 00 00 00 4A ...........8...J
00000010 00 00 00 CA 00 00 00 02 07 DC 06 1A 09 3A 05 01 .............:..
00000020 49 01 E0 00 08 C1 EC C8 A1 C0 F1 C6 B7 00 1B 31 I..............1
00000030 31 31 31 31 31 31 31 31 31 31 0A CE DE D0 A7 0A 1111111111......
00000040 B0 B4 4F 4B BC FC B7 B5 BB D8                   ..OK......

2012-06-26 09:58:05,329 [pool-4-thread-12] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 09:58:05,329 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 09:58:05,329 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 09:58:05,329 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 21: not mark to return session ID to client
2012-06-26 09:58:05,329 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 09:58:05,329 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 09:58:05,329 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 09:58:05,329 [NioProcessor-1  ] [INFO ] o.a.m.f.l.LoggingFilter     - CLOSED
2012-06-26 09:58:05,329 [NioProcessor-1  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 09:58:11,180 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:58:11,180 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:58:11,180 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=5
2012-06-26 09:58:11,180 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=5
2012-06-26 09:58:11,180 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:58:21,196 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:58:21,196 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:58:21,196 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=5
2012-06-26 09:58:21,196 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=4
2012-06-26 09:58:21,196 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:58:31,197 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:58:31,197 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:58:31,197 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=4
2012-06-26 09:58:31,197 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=4
2012-06-26 09:58:31,197 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:58:37,688 [NioProcessor-2  ] [INFO ] c.c.q.m.p.f.LoggingFilter   - incoming connection from remote address: 127.0.0.1:2110, Mina session ID: 22
2012-06-26 09:58:37,688 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - Currently managed session count: 1
2012-06-26 09:58:37,688 [NioProcessor-2  ] [INFO ] o.a.m.f.l.LoggingFilter     - CREATED
2012-06-26 09:58:37,688 [NioProcessor-2  ] [INFO ] o.a.m.f.l.LoggingFilter     - OPENED
2012-06-26 09:58:37,719 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2110, Mina session ID 22, identified POS ID null
2012-06-26 09:58:37,719 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 09:58:37,719 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=32 cap=2048: 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20...]
2012-06-26 09:58:37,719 [NioProcessor-2  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 22
2012-06-26 09:58:37,719 [NioProcessor-2  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 09:58:37,719 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 09:58:37,719 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 22
2012-06-26 09:58:37,719 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =32
2012-06-26 09:58:37,719 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 09:58:37,719 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 32, current position: 0
2012-06-26 09:58:37,719 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 09:58:37,719 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}
2012-06-26 09:58:37,719 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 16
2012-06-26 09:58:37,719 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=16, in.remaining=16
2012-06-26 09:58:37,719 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 09:58:37,719 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 5
2012-06-26 09:58:37,719 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 5: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageCodec@1177115
2012-06-26 09:58:37,719 [NioProcessor-2  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - init request message decode
2012-06-26 09:58:37,719 [NioProcessor-2  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - in.remaining()=16
2012-06-26 09:58:37,719 [NioProcessor-2  ] [TRACE] .m.p.s.m.c.InitMessageCodec - InitRequestMessage: [cmdId=5, posId=pos-0002]
2012-06-26 09:58:37,719 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 09:58:37,719 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 09:58:37,719 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 09:58:37,719 [NioProcessor-2  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 09:58:37,719 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 09:58:37,719 [NioProcessor-2  ] [DEBUG] p.f.SessionKeyMessageFilter - Mina session ID 22: created session key 0e400ffc5a474d22a55a599ddb75bdb1
2012-06-26 09:58:37,719 [NioProcessor-2  ] [DEBUG] p.f.SessionKeyMessageFilter - creating session for mina session ID 22 using session ID 0e400ffc5a474d22a55a599ddb75bdb1
2012-06-26 09:58:37,719 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 09:58:37,719 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 09:58:37,719 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 09:58:37,719 [NioProcessor-2  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2110, Mina session ID 22, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 09:58:37,719 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 09:58:37,719 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 09:58:37,719 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 09:58:37,719 [NioProcessor-2  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 09:58:37,719 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 09:58:37,719 [pool-4-thread-13] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 09:58:37,719 [pool-4-thread-13] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 09:58:37,719 [pool-4-thread-13] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@1d07c3f obtained for command ID 5
2012-06-26 09:58:37,719 [pool-4-thread-13] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 5 is com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@1d07c3f
2012-06-26 09:58:37,719 [pool-4-thread-13] [DEBUG] .q.m.p.h.InitCommandHandler - InitCommandHandler======execute==bodyMessage=:  [cmdId=5, posId=pos-0002]
2012-06-26 09:58:37,719 [pool-4-thread-13] [DEBUG] .q.m.l.l.i.LoginManagerImpl - InitResponse() invoke
2012-06-26 09:58:37,719 [pool-4-thread-13] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:ALLOWED
2012-06-26 09:58:37,719 [pool-4-thread-13] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId AND p.ostatus = :ostatus
2012-06-26 09:58:37,719 [pool-4-thread-13] [DEBUG] .q.m.l.l.i.LoginManagerImpl - POS ID:pos-0002, init challenge saved - [67, 54, 88, 68, 51, 67, 57, 101]
2012-06-26 09:58:37,719 [pool-4-thread-13] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 09:58:37,735 [pool-4-thread-13] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 09:58:37,735 [pool-4-thread-13] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 09:58:37,735 [pool-4-thread-13] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 09:58:37,735 [pool-4-thread-13] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 22
2012-06-26 09:58:37,735 [pool-4-thread-13] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (6)
2012-06-26 09:58:37,735 [pool-4-thread-13] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageResponseCodec@8518d4
2012-06-26 09:58:37,735 [pool-4-thread-13] [DEBUG] .c.InitMessageResponseCodec - init response message encode
2012-06-26 09:58:37,735 [pool-4-thread-13] [TRACE] .c.InitMessageResponseCodec - InitResponseMessage: [cmdId=6, result=0, challenge=[67, 54, 88, 68, 51, 67, 57, 101]]
2012-06-26 09:58:37,735 [pool-4-thread-13] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0xf7b7
2012-06-26 09:58:37,735 [pool-4-thread-13] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 09:58:37,735 [pool-4-thread-13] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 F7 B7 00 00 00 1E ................
00000010 00 00 00 06 00 00 43 36 58 44 33 43 39 65       ......C6XD3C9e

2012-06-26 09:58:37,735 [pool-4-thread-13] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 09:58:37,735 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 09:58:37,735 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 09:58:37,735 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 22: not mark to return session ID to client
2012-06-26 09:58:37,735 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 09:58:37,735 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 09:58:37,735 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 09:58:37,953 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2110, Mina session ID 22, identified POS ID pos-0002
2012-06-26 09:58:37,953 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 69 3A 00 00 00 30 ..........i:...0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 0F 76 5D DD C0 4E 0F 33 B9 CB 38 5F 55 30 CE 5D .v]..N.3..8_U0.]

2012-06-26 09:58:37,953 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=48 cap=2048: 00 00 00 01 00 00 00 00 00 00 69 3A 00 00 00 30...]
2012-06-26 09:58:37,953 [NioProcessor-2  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 22
2012-06-26 09:58:37,953 [NioProcessor-2  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 09:58:37,953 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 09:58:37,953 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 22
2012-06-26 09:58:37,953 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =48
2012-06-26 09:58:37,953 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 69 3A 00 00 00 30 ..........i:...0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 0F 76 5D DD C0 4E 0F 33 B9 CB 38 5F 55 30 CE 5D .v]..N.3..8_U0.]

2012-06-26 09:58:37,953 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 48, current position: 0
2012-06-26 09:58:37,953 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 09:58:37,953 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x693a} messageSize:{0x30} sessionKey:{null}
2012-06-26 09:58:37,953 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 32
2012-06-26 09:58:37,953 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=32, in.remaining=32
2012-06-26 09:58:37,953 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 09:58:37,953 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 7
2012-06-26 09:58:37,953 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 7: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageCodec@933cba
2012-06-26 09:58:37,953 [NioProcessor-2  ] [DEBUG] m.p.s.m.c.LoginMessageCodec - login/bind message decode
2012-06-26 09:58:37,953 [NioProcessor-2  ] [TRACE] m.p.s.m.c.LoginMessageCodec - LoginRequestMessage: [cmdId=7, posId=pos-0002, challengeResponse=[15, 118, 93, -35, -64, 78, 15, 51, -71, -53, 56, 95, 85, 48, -50, 93]]
2012-06-26 09:58:37,953 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 09:58:37,953 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x693a} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[15, 118, 93, -35, -64, 78, 15, 51, -71, -53, 56, 95, 85, 48, -50, 93]]
2012-06-26 09:58:37,953 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 09:58:37,953 [NioProcessor-2  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 09:58:37,953 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 09:58:37,953 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 09:58:37,953 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 09:58:37,953 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 09:58:37,953 [NioProcessor-2  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2110, Mina session ID 22, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x693a} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[15, 118, 93, -35, -64, 78, 15, 51, -71, -53, 56, 95, 85, 48, -50, 93]]
2012-06-26 09:58:37,953 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 09:58:37,953 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 09:58:37,953 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 09:58:37,953 [NioProcessor-2  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 09:58:37,953 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 09:58:37,953 [pool-4-thread-14] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 09:58:37,953 [pool-4-thread-14] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 09:58:37,953 [pool-4-thread-14] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@a8e2b8 obtained for command ID 7
2012-06-26 09:58:37,953 [pool-4-thread-14] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 7 is com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@a8e2b8
2012-06-26 09:58:37,969 [pool-4-thread-14] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==bodyMessage=: [cmdId=7, posId=pos-0002, challengeResponse=[15, 118, 93, -35, -64, 78, 15, 51, -71, -53, 56, 95, 85, 48, -50, 93]]
2012-06-26 09:58:37,969 [pool-4-thread-14] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:null
2012-06-26 09:58:37,969 [pool-4-thread-14] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId
2012-06-26 09:58:37,969 [pool-4-thread-14] [TRACE] .q.m.l.l.i.LoginManagerImpl - Loaded from db: pos.posId:pos-0002, pos.secret:000001, oldChallenge:[67, 54, 88, 68, 51, 67, 57, 101]
2012-06-26 09:58:37,969 [pool-4-thread-14] [DEBUG] .q.m.l.l.i.LoginManagerImpl - disableChallengeCheck =0
2012-06-26 09:58:37,969 [pool-4-thread-14] [TRACE] c.c.q.m.l.c.ChallengeUtil   - checking challenge:response:[15, 118, 93, -35, -64, 78, 15, 51, -71, -53, 56, 95, 85, 48, -50, 93], posKey:000001, random:[67, 54, 88, 68, 51, 67, 57, 101]
2012-06-26 09:58:37,969 [pool-4-thread-14] [DEBUG] .q.m.l.l.i.LoginManagerImpl - new challenge for POS (POS ID): [107, 115, 56, 101, 97, 90, 70, 86]
2012-06-26 09:58:37,969 [pool-4-thread-14] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==serverKey=:JXTPOS
2012-06-26 09:58:37,969 [pool-4-thread-14] [DEBUG] ThreadSafeClientConnManager - Get connection: HttpRoute[{}->http://localhost:7070], timeout = 0
2012-06-26 09:58:37,969 [pool-4-thread-14] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - [HttpRoute[{}->http://localhost:7070]] total kept alive: 0, total issued: 0, total allocated: 0 out of 20
2012-06-26 09:58:37,969 [pool-4-thread-14] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - No free connections [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 09:58:37,969 [pool-4-thread-14] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Available capacity: 2 out of 2 [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 09:58:37,969 [pool-4-thread-14] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Creating new connection [HttpRoute[{}->http://localhost:7070]]
2012-06-26 09:58:37,969 [pool-4-thread-14] [DEBUG] ultClientConnectionOperator - Connecting to localhost:7070
2012-06-26 09:58:39,014 [pool-4-thread-14] [DEBUG] i.c.DefaultClientConnection - Connection closed
2012-06-26 09:58:39,014 [pool-4-thread-14] [DEBUG] i.c.DefaultClientConnection - Connection shut down
2012-06-26 09:58:39,014 [pool-4-thread-14] [DEBUG] ThreadSafeClientConnManager - Released connection is not reusable.
2012-06-26 09:58:39,014 [pool-4-thread-14] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Releasing connection [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 09:58:39,014 [pool-4-thread-14] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Notifying no-one, there are no waiting threads
2012-06-26 09:58:39,014 [pool-4-thread-14] [ERROR] q.m.p.h.LoginCommandHandler - initGrouponCache fail:com.chinarewards.qqgbvpn.qqapi.exception.ParseXMLException: com.chinarewards.qqgbvpn.qqapi.exception.SendPostTimeOutException: org.apache.http.conn.HttpHostConnectException: Connection to http://localhost:7070 refused
2012-06-26 09:58:39,030 [pool-4-thread-14] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 09:58:39,061 [pool-4-thread-14] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 09:58:39,061 [pool-4-thread-14] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 09:58:39,061 [pool-4-thread-14] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 09:58:39,061 [pool-4-thread-14] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 22
2012-06-26 09:58:39,061 [pool-4-thread-14] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (8)
2012-06-26 09:58:39,061 [pool-4-thread-14] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageResponseCodec@f97d27
2012-06-26 09:58:39,061 [pool-4-thread-14] [DEBUG] c.LoginMessageResponseCodec - login/bind message encode
2012-06-26 09:58:39,061 [pool-4-thread-14] [TRACE] c.LoginMessageResponseCodec - LoginResponseMessage: [cmdId=8, result=0, challenge=[107, 115, 56, 101, 97, 90, 70, 86]]
2012-06-26 09:58:39,061 [pool-4-thread-14] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0xb44f
2012-06-26 09:58:39,061 [pool-4-thread-14] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 09:58:39,061 [pool-4-thread-14] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 B4 4F 00 00 00 1E ...........O....
00000010 00 00 00 08 00 00 6B 73 38 65 61 5A 46 56       ......ks8eaZFV

2012-06-26 09:58:39,061 [pool-4-thread-14] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 09:58:39,061 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 09:58:39,061 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 09:58:39,061 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 22: not mark to return session ID to client
2012-06-26 09:58:39,061 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 09:58:39,061 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 09:58:39,061 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 09:58:39,061 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2110, Mina session ID 22, identified POS ID pos-0002
2012-06-26 09:58:39,061 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 33 of 33 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 D8 04 00 00 00 21 ...............!
00000010 00 00 00 C9 00 0B 31 31 31 31 31 31 31 31 31 31 ......1111111111
00000020 31                                              1

2012-06-26 09:58:39,061 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=33 cap=1024: 00 00 00 10 00 00 00 00 00 00 D8 04 00 00 00 21...]
2012-06-26 09:58:39,061 [NioProcessor-2  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 22
2012-06-26 09:58:39,061 [NioProcessor-2  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 09:58:39,061 [Finalizer       ] [DEBUG] ThreadSafeClientConnManager - Shutting down
2012-06-26 09:58:39,061 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 09:58:39,061 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 22
2012-06-26 09:58:39,061 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =33
2012-06-26 09:58:39,061 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 33 of 33 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 D8 04 00 00 00 21 ...............!
00000010 00 00 00 C9 00 0B 31 31 31 31 31 31 31 31 31 31 ......1111111111
00000020 31                                              1

2012-06-26 09:58:39,061 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 33, current position: 0
2012-06-26 09:58:39,061 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 09:58:39,061 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd804} messageSize:{0x21} sessionKey:{null}
2012-06-26 09:58:39,061 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 17
2012-06-26 09:58:39,061 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=17, in.remaining=17
2012-06-26 09:58:39,061 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 09:58:39,061 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 201
2012-06-26 09:58:39,061 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 201: com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftMessageCodec@92015d
2012-06-26 09:58:39,061 [NioProcessor-2  ] [DEBUG] m.c.ReceiveGiftMessageCodec - receive gift request message decode
2012-06-26 09:58:39,061 [NioProcessor-2  ] [DEBUG] m.c.ReceiveGiftMessageCodec - in.remaining()=17
2012-06-26 09:58:39,061 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 09:58:39,061 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd804} messageSize:{0x21} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@197871d
2012-06-26 09:58:39,061 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 09:58:39,061 [NioProcessor-2  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 09:58:39,061 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 09:58:39,061 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 09:58:39,061 [NioProcessor-2  ] [DEBUG] c.c.q.m.p.f.LoginFilter     - isLogin=true
2012-06-26 09:58:39,061 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 09:58:39,061 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 09:58:39,061 [NioProcessor-2  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2110, Mina session ID 22, identified POS ID pos-0002, message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd804} messageSize:{0x21} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@197871d
2012-06-26 09:58:39,061 [pool-4-thread-15] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 09:58:39,061 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 09:58:39,061 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 09:58:39,061 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 09:58:39,061 [NioProcessor-2  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 09:58:39,061 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 09:58:39,061 [pool-4-thread-15] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 09:58:39,061 [pool-4-thread-15] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@28df48 obtained for command ID 201
2012-06-26 09:58:39,061 [pool-4-thread-15] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 201 is com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@28df48
2012-06-26 09:58:39,061 [pool-4-thread-15] [DEBUG] h.ReceiveGiftCommandHandler - ReceiveGiftHandler======execute==bodyMessage=: com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@197871d
2012-06-26 09:58:39,061 [pool-4-thread-15] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 09:58:39,061 [pool-4-thread-15] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 09:58:39,061 [pool-4-thread-15] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 09:58:39,061 [pool-4-thread-15] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 09:58:39,061 [pool-4-thread-15] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 22
2012-06-26 09:58:39,061 [pool-4-thread-15] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (202)
2012-06-26 09:58:39,076 [pool-4-thread-15] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftResponseMessageCodec@1737b9f
2012-06-26 09:58:39,076 [pool-4-thread-15] [DEBUG] iveGiftResponseMessageCodec - receive gift response message encode
2012-06-26 09:58:39,076 [pool-4-thread-15] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0x9139
2012-06-26 09:58:39,076 [pool-4-thread-15] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 09:58:39,076 [pool-4-thread-15] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 74 of 74 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 91 39 00 00 00 4A ...........9...J
00000010 00 00 00 CA 00 00 00 02 07 DC 06 1A 09 3A 27 00 .............:'.
00000020 3D 01 E0 00 08 C1 EC C8 A1 C0 F1 C6 B7 00 1B 31 =..............1
00000030 31 31 31 31 31 31 31 31 31 31 0A CE DE D0 A7 0A 1111111111......
00000040 B0 B4 4F 4B BC FC B7 B5 BB D8                   ..OK......

2012-06-26 09:58:39,076 [pool-4-thread-15] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 09:58:39,076 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 09:58:39,076 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 09:58:39,076 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 22: not mark to return session ID to client
2012-06-26 09:58:39,076 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 09:58:39,076 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 09:58:39,076 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 09:58:39,076 [NioProcessor-2  ] [INFO ] o.a.m.f.l.LoggingFilter     - CLOSED
2012-06-26 09:58:39,076 [NioProcessor-2  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 09:58:41,245 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:58:41,245 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:58:41,245 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=5
2012-06-26 09:58:41,245 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=4
2012-06-26 09:58:41,245 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:58:51,246 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:58:51,246 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:58:51,246 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=4
2012-06-26 09:58:51,246 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=4
2012-06-26 09:58:51,246 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:59:01,249 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:59:01,249 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:59:01,249 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=4
2012-06-26 09:59:01,249 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=4
2012-06-26 09:59:01,249 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:59:11,253 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:59:11,253 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:59:11,253 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=4
2012-06-26 09:59:11,253 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=4
2012-06-26 09:59:11,253 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:59:21,257 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:59:21,257 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:59:21,257 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=4
2012-06-26 09:59:21,257 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=4
2012-06-26 09:59:21,257 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:59:31,261 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:59:31,261 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:59:31,261 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=4
2012-06-26 09:59:31,261 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=4
2012-06-26 09:59:31,261 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:59:41,266 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:59:41,266 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:59:41,266 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=4
2012-06-26 09:59:41,266 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=4
2012-06-26 09:59:41,266 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 09:59:51,270 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 09:59:51,270 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 09:59:51,270 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=4
2012-06-26 09:59:51,270 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=4
2012-06-26 09:59:51,270 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:00:01,274 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:00:01,274 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:00:01,274 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=4
2012-06-26 10:00:01,274 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=4
2012-06-26 10:00:01,274 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:00:11,278 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:00:11,278 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:00:11,278 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=4
2012-06-26 10:00:11,278 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=3
2012-06-26 10:00:11,278 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:00:18,692 [NioProcessor-3  ] [INFO ] c.c.q.m.p.f.LoggingFilter   - incoming connection from remote address: 127.0.0.1:2124, Mina session ID: 23
2012-06-26 10:00:18,692 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - Currently managed session count: 1
2012-06-26 10:00:18,692 [NioProcessor-3  ] [INFO ] o.a.m.f.l.LoggingFilter     - CREATED
2012-06-26 10:00:18,692 [NioProcessor-3  ] [INFO ] o.a.m.f.l.LoggingFilter     - OPENED
2012-06-26 10:00:18,723 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2124, Mina session ID 23, identified POS ID null
2012-06-26 10:00:18,723 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 10:00:18,723 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=32 cap=2048: 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20...]
2012-06-26 10:00:18,723 [NioProcessor-3  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 23
2012-06-26 10:00:18,723 [NioProcessor-3  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 10:00:18,723 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 10:00:18,723 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 23
2012-06-26 10:00:18,723 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =32
2012-06-26 10:00:18,723 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 10:00:18,723 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 32, current position: 0
2012-06-26 10:00:18,723 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 10:00:18,723 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}
2012-06-26 10:00:18,723 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 16
2012-06-26 10:00:18,723 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=16, in.remaining=16
2012-06-26 10:00:18,723 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 10:00:18,723 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 5
2012-06-26 10:00:18,723 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 5: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageCodec@101ac1c
2012-06-26 10:00:18,723 [NioProcessor-3  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - init request message decode
2012-06-26 10:00:18,723 [NioProcessor-3  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - in.remaining()=16
2012-06-26 10:00:18,723 [NioProcessor-3  ] [TRACE] .m.p.s.m.c.InitMessageCodec - InitRequestMessage: [cmdId=5, posId=pos-0002]
2012-06-26 10:00:18,723 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 10:00:18,723 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 10:00:18,723 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 10:00:18,723 [NioProcessor-3  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 10:00:18,723 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 10:00:18,723 [NioProcessor-3  ] [DEBUG] p.f.SessionKeyMessageFilter - Mina session ID 23: created session key 34215eb378b84918b0701eb5925ed33c
2012-06-26 10:00:18,723 [NioProcessor-3  ] [DEBUG] p.f.SessionKeyMessageFilter - creating session for mina session ID 23 using session ID 34215eb378b84918b0701eb5925ed33c
2012-06-26 10:00:18,723 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 10:00:18,723 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 10:00:18,723 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 10:00:18,723 [NioProcessor-3  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2124, Mina session ID 23, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 10:00:18,723 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 10:00:18,723 [pool-4-thread-16] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 10:00:18,723 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 10:00:18,723 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 10:00:18,723 [NioProcessor-3  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 10:00:18,723 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 10:00:18,723 [pool-4-thread-16] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 10:00:18,723 [pool-4-thread-16] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@8d8f67 obtained for command ID 5
2012-06-26 10:00:18,723 [pool-4-thread-16] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 5 is com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@8d8f67
2012-06-26 10:00:18,723 [pool-4-thread-16] [DEBUG] .q.m.p.h.InitCommandHandler - InitCommandHandler======execute==bodyMessage=:  [cmdId=5, posId=pos-0002]
2012-06-26 10:00:18,723 [pool-4-thread-16] [DEBUG] .q.m.l.l.i.LoginManagerImpl - InitResponse() invoke
2012-06-26 10:00:18,723 [pool-4-thread-16] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:ALLOWED
2012-06-26 10:00:18,723 [pool-4-thread-16] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId AND p.ostatus = :ostatus
2012-06-26 10:00:18,723 [pool-4-thread-16] [DEBUG] .q.m.l.l.i.LoginManagerImpl - POS ID:pos-0002, init challenge saved - [106, 117, 121, 56, 72, 118, 121, 52]
2012-06-26 10:00:18,723 [pool-4-thread-16] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 10:00:18,754 [pool-4-thread-16] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 10:00:18,754 [pool-4-thread-16] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 10:00:18,754 [pool-4-thread-16] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 10:00:18,754 [pool-4-thread-16] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 23
2012-06-26 10:00:18,754 [pool-4-thread-16] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (6)
2012-06-26 10:00:18,754 [pool-4-thread-16] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageResponseCodec@171bc3f
2012-06-26 10:00:18,754 [pool-4-thread-16] [DEBUG] .c.InitMessageResponseCodec - init response message encode
2012-06-26 10:00:18,754 [pool-4-thread-16] [TRACE] .c.InitMessageResponseCodec - InitResponseMessage: [cmdId=6, result=0, challenge=[106, 117, 121, 56, 72, 118, 121, 52]]
2012-06-26 10:00:18,754 [pool-4-thread-16] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0x5a82
2012-06-26 10:00:18,754 [pool-4-thread-16] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 10:00:18,754 [pool-4-thread-16] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 5A 82 00 00 00 1E ..........Z.....
00000010 00 00 00 06 00 00 6A 75 79 38 48 76 79 34       ......juy8Hvy4

2012-06-26 10:00:18,754 [pool-4-thread-16] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 10:00:18,754 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 10:00:18,754 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 10:00:18,754 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 23: not mark to return session ID to client
2012-06-26 10:00:18,754 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 10:00:18,754 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 10:00:18,754 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 10:00:18,973 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2124, Mina session ID 23, identified POS ID pos-0002
2012-06-26 10:00:18,973 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 8D 5E 00 00 00 30 ...........^...0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 97 9D F5 E9 17 B3 8F 69 50 FE 30 17 23 AE 55 02 .......iP.0.#.U.

2012-06-26 10:00:18,973 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=48 cap=2048: 00 00 00 01 00 00 00 00 00 00 8D 5E 00 00 00 30...]
2012-06-26 10:00:18,973 [NioProcessor-3  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 23
2012-06-26 10:00:18,973 [NioProcessor-3  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 10:00:18,973 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 10:00:18,973 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 23
2012-06-26 10:00:18,973 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =48
2012-06-26 10:00:18,973 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 8D 5E 00 00 00 30 ...........^...0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 97 9D F5 E9 17 B3 8F 69 50 FE 30 17 23 AE 55 02 .......iP.0.#.U.

2012-06-26 10:00:18,973 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 48, current position: 0
2012-06-26 10:00:18,973 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 10:00:18,973 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x8d5e} messageSize:{0x30} sessionKey:{null}
2012-06-26 10:00:18,973 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 32
2012-06-26 10:00:18,973 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=32, in.remaining=32
2012-06-26 10:00:18,973 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 10:00:18,973 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 7
2012-06-26 10:00:18,973 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 7: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageCodec@12b72f4
2012-06-26 10:00:18,973 [NioProcessor-3  ] [DEBUG] m.p.s.m.c.LoginMessageCodec - login/bind message decode
2012-06-26 10:00:18,973 [NioProcessor-3  ] [TRACE] m.p.s.m.c.LoginMessageCodec - LoginRequestMessage: [cmdId=7, posId=pos-0002, challengeResponse=[-105, -99, -11, -23, 23, -77, -113, 105, 80, -2, 48, 23, 35, -82, 85, 2]]
2012-06-26 10:00:18,973 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 10:00:18,973 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x8d5e} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[-105, -99, -11, -23, 23, -77, -113, 105, 80, -2, 48, 23, 35, -82, 85, 2]]
2012-06-26 10:00:18,973 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 10:00:18,973 [NioProcessor-3  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 10:00:18,973 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 10:00:18,973 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 10:00:18,973 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 10:00:18,973 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 10:00:18,973 [NioProcessor-3  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2124, Mina session ID 23, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x8d5e} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[-105, -99, -11, -23, 23, -77, -113, 105, 80, -2, 48, 23, 35, -82, 85, 2]]
2012-06-26 10:00:18,973 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 10:00:18,973 [pool-4-thread-17] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 10:00:18,973 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 10:00:18,973 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 10:00:18,973 [NioProcessor-3  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 10:00:18,973 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 10:00:18,973 [pool-4-thread-17] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 10:00:18,973 [pool-4-thread-17] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@cf17c3 obtained for command ID 7
2012-06-26 10:00:18,973 [pool-4-thread-17] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 7 is com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@cf17c3
2012-06-26 10:00:18,973 [pool-4-thread-17] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==bodyMessage=: [cmdId=7, posId=pos-0002, challengeResponse=[-105, -99, -11, -23, 23, -77, -113, 105, 80, -2, 48, 23, 35, -82, 85, 2]]
2012-06-26 10:00:18,973 [pool-4-thread-17] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:null
2012-06-26 10:00:18,973 [pool-4-thread-17] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId
2012-06-26 10:00:18,973 [pool-4-thread-17] [TRACE] .q.m.l.l.i.LoginManagerImpl - Loaded from db: pos.posId:pos-0002, pos.secret:000001, oldChallenge:[106, 117, 121, 56, 72, 118, 121, 52]
2012-06-26 10:00:18,973 [pool-4-thread-17] [DEBUG] .q.m.l.l.i.LoginManagerImpl - disableChallengeCheck =0
2012-06-26 10:00:18,973 [pool-4-thread-17] [TRACE] c.c.q.m.l.c.ChallengeUtil   - checking challenge:response:[-105, -99, -11, -23, 23, -77, -113, 105, 80, -2, 48, 23, 35, -82, 85, 2], posKey:000001, random:[106, 117, 121, 56, 72, 118, 121, 52]
2012-06-26 10:00:18,988 [pool-4-thread-17] [DEBUG] .q.m.l.l.i.LoginManagerImpl - new challenge for POS (POS ID): [99, 112, 48, 119, 71, 111, 55, 50]
2012-06-26 10:00:18,988 [pool-4-thread-17] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==serverKey=:JXTPOS
2012-06-26 10:00:18,988 [pool-4-thread-17] [DEBUG] ThreadSafeClientConnManager - Get connection: HttpRoute[{}->http://localhost:7070], timeout = 0
2012-06-26 10:00:18,988 [pool-4-thread-17] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - [HttpRoute[{}->http://localhost:7070]] total kept alive: 0, total issued: 0, total allocated: 0 out of 20
2012-06-26 10:00:18,988 [pool-4-thread-17] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - No free connections [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 10:00:18,988 [pool-4-thread-17] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Available capacity: 2 out of 2 [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 10:00:18,988 [pool-4-thread-17] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Creating new connection [HttpRoute[{}->http://localhost:7070]]
2012-06-26 10:00:18,988 [pool-4-thread-17] [DEBUG] ultClientConnectionOperator - Connecting to localhost:7070
2012-06-26 10:00:20,081 [pool-4-thread-17] [DEBUG] i.c.DefaultClientConnection - Connection closed
2012-06-26 10:00:20,081 [pool-4-thread-17] [DEBUG] i.c.DefaultClientConnection - Connection shut down
2012-06-26 10:00:20,081 [pool-4-thread-17] [DEBUG] ThreadSafeClientConnManager - Released connection is not reusable.
2012-06-26 10:00:20,081 [pool-4-thread-17] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Releasing connection [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 10:00:20,081 [pool-4-thread-17] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Notifying no-one, there are no waiting threads
2012-06-26 10:00:20,081 [pool-4-thread-17] [ERROR] q.m.p.h.LoginCommandHandler - initGrouponCache fail:com.chinarewards.qqgbvpn.qqapi.exception.ParseXMLException: com.chinarewards.qqgbvpn.qqapi.exception.SendPostTimeOutException: org.apache.http.conn.HttpHostConnectException: Connection to http://localhost:7070 refused
2012-06-26 10:00:20,081 [pool-4-thread-17] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 10:00:20,127 [Finalizer       ] [DEBUG] ThreadSafeClientConnManager - Shutting down
2012-06-26 10:00:20,112 [pool-4-thread-17] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 10:00:20,127 [pool-4-thread-17] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 10:00:20,127 [pool-4-thread-17] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 10:00:20,127 [pool-4-thread-17] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 23
2012-06-26 10:00:20,127 [pool-4-thread-17] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (8)
2012-06-26 10:00:20,127 [pool-4-thread-17] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageResponseCodec@1adfbe3
2012-06-26 10:00:20,127 [pool-4-thread-17] [DEBUG] c.LoginMessageResponseCodec - login/bind message encode
2012-06-26 10:00:20,127 [pool-4-thread-17] [TRACE] c.LoginMessageResponseCodec - LoginResponseMessage: [cmdId=8, result=0, challenge=[99, 112, 48, 119, 71, 111, 55, 50]]
2012-06-26 10:00:20,127 [pool-4-thread-17] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0xed4f
2012-06-26 10:00:20,127 [pool-4-thread-17] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 10:00:20,127 [pool-4-thread-17] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 ED 4F 00 00 00 1E ...........O....
00000010 00 00 00 08 00 00 63 70 30 77 47 6F 37 32       ......cp0wGo72

2012-06-26 10:00:20,127 [pool-4-thread-17] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 10:00:20,127 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 10:00:20,127 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 10:00:20,127 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 23: not mark to return session ID to client
2012-06-26 10:00:20,127 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 10:00:20,127 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 10:00:20,127 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 10:00:20,127 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2124, Mina session ID 23, identified POS ID pos-0002
2012-06-26 10:00:20,127 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 33 of 33 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 D8 04 00 00 00 21 ...............!
00000010 00 00 00 C9 00 0B 31 31 31 31 31 31 31 31 31 31 ......1111111111
00000020 31                                              1

2012-06-26 10:00:20,127 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=33 cap=1024: 00 00 00 10 00 00 00 00 00 00 D8 04 00 00 00 21...]
2012-06-26 10:00:20,127 [NioProcessor-3  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 23
2012-06-26 10:00:20,127 [NioProcessor-3  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 10:00:20,127 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 10:00:20,127 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 23
2012-06-26 10:00:20,127 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =33
2012-06-26 10:00:20,127 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 33 of 33 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 D8 04 00 00 00 21 ...............!
00000010 00 00 00 C9 00 0B 31 31 31 31 31 31 31 31 31 31 ......1111111111
00000020 31                                              1

2012-06-26 10:00:20,127 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 33, current position: 0
2012-06-26 10:00:20,127 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 10:00:20,127 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd804} messageSize:{0x21} sessionKey:{null}
2012-06-26 10:00:20,127 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 17
2012-06-26 10:00:20,127 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=17, in.remaining=17
2012-06-26 10:00:20,127 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 10:00:20,127 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 201
2012-06-26 10:00:20,127 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 201: com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftMessageCodec@adf91
2012-06-26 10:00:20,127 [NioProcessor-3  ] [DEBUG] m.c.ReceiveGiftMessageCodec - receive gift request message decode
2012-06-26 10:00:20,127 [NioProcessor-3  ] [DEBUG] m.c.ReceiveGiftMessageCodec - in.remaining()=17
2012-06-26 10:00:20,127 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 10:00:20,127 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd804} messageSize:{0x21} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@1dbe72f
2012-06-26 10:00:20,127 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 10:00:20,127 [NioProcessor-3  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 10:00:20,127 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 10:00:20,127 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 10:00:20,127 [NioProcessor-3  ] [DEBUG] c.c.q.m.p.f.LoginFilter     - isLogin=true
2012-06-26 10:00:20,127 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 10:00:20,127 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 10:00:20,127 [NioProcessor-3  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2124, Mina session ID 23, identified POS ID pos-0002, message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd804} messageSize:{0x21} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@1dbe72f
2012-06-26 10:00:20,127 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 10:00:20,127 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 10:00:20,127 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 10:00:20,127 [pool-4-thread-18] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 10:00:20,127 [NioProcessor-3  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 10:00:20,127 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 10:00:20,127 [pool-4-thread-18] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 10:00:20,127 [pool-4-thread-18] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@ff0d4b obtained for command ID 201
2012-06-26 10:00:20,127 [pool-4-thread-18] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 201 is com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@ff0d4b
2012-06-26 10:00:20,127 [pool-4-thread-18] [DEBUG] h.ReceiveGiftCommandHandler - ReceiveGiftHandler======execute==bodyMessage=: com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@1dbe72f
2012-06-26 10:00:20,127 [pool-4-thread-18] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 10:00:20,127 [pool-4-thread-18] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 10:00:20,127 [pool-4-thread-18] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 10:00:20,127 [pool-4-thread-18] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 10:00:20,127 [pool-4-thread-18] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 23
2012-06-26 10:00:20,127 [pool-4-thread-18] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (202)
2012-06-26 10:00:20,127 [pool-4-thread-18] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftResponseMessageCodec@1292d12
2012-06-26 10:00:20,127 [pool-4-thread-18] [DEBUG] iveGiftResponseMessageCodec - receive gift response message encode
2012-06-26 10:00:20,127 [pool-4-thread-18] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0x6173
2012-06-26 10:00:20,127 [pool-4-thread-18] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 10:00:20,127 [pool-4-thread-18] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 74 of 74 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 61 73 00 00 00 4A ..........as...J
00000010 00 00 00 CA 00 00 00 02 07 DC 06 1A 0A 00 14 00 ................
00000020 7F 01 E0 00 08 C1 EC C8 A1 C0 F1 C6 B7 00 1B 31 ...............1
00000030 31 31 31 31 31 31 31 31 31 31 0A CE DE D0 A7 0A 1111111111......
00000040 B0 B4 4F 4B BC FC B7 B5 BB D8                   ..OK......

2012-06-26 10:00:20,127 [pool-4-thread-18] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 10:00:20,127 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 10:00:20,127 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 10:00:20,127 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 23: not mark to return session ID to client
2012-06-26 10:00:20,127 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 10:00:20,127 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 10:00:20,127 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 10:00:20,159 [NioProcessor-3  ] [INFO ] o.a.m.f.l.LoggingFilter     - CLOSED
2012-06-26 10:00:20,159 [NioProcessor-3  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 10:00:21,376 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:00:21,376 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:00:21,376 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=4
2012-06-26 10:00:21,376 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=3
2012-06-26 10:00:21,376 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:00:31,380 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:00:31,380 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:00:31,380 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 10:00:31,380 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=3
2012-06-26 10:00:31,380 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:00:41,384 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:00:41,384 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:00:41,384 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 10:00:41,384 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=3
2012-06-26 10:00:41,384 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:00:51,389 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:00:51,389 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:00:51,389 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 10:00:51,389 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=3
2012-06-26 10:00:51,389 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:01:01,393 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:01:01,393 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:01:01,393 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 10:01:01,393 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=3
2012-06-26 10:01:01,393 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:01:11,373 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:01:11,373 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:01:11,373 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 10:01:11,373 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=3
2012-06-26 10:01:11,373 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:01:14,221 [NioProcessor-1  ] [INFO ] c.c.q.m.p.f.LoggingFilter   - incoming connection from remote address: 127.0.0.1:2129, Mina session ID: 24
2012-06-26 10:01:14,221 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - Currently managed session count: 1
2012-06-26 10:01:14,221 [NioProcessor-1  ] [INFO ] o.a.m.f.l.LoggingFilter     - CREATED
2012-06-26 10:01:14,221 [NioProcessor-1  ] [INFO ] o.a.m.f.l.LoggingFilter     - OPENED
2012-06-26 10:01:14,252 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2129, Mina session ID 24, identified POS ID null
2012-06-26 10:01:14,252 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 10:01:14,252 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=32 cap=2048: 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20...]
2012-06-26 10:01:14,252 [NioProcessor-1  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 24
2012-06-26 10:01:14,252 [NioProcessor-1  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 10:01:14,252 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 10:01:14,252 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 24
2012-06-26 10:01:14,252 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =32
2012-06-26 10:01:14,252 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 10:01:14,252 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 32, current position: 0
2012-06-26 10:01:14,252 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 10:01:14,252 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}
2012-06-26 10:01:14,252 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 16
2012-06-26 10:01:14,252 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=16, in.remaining=16
2012-06-26 10:01:14,252 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 10:01:14,252 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 5
2012-06-26 10:01:14,252 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 5: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageCodec@bb3f71
2012-06-26 10:01:14,252 [NioProcessor-1  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - init request message decode
2012-06-26 10:01:14,252 [NioProcessor-1  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - in.remaining()=16
2012-06-26 10:01:14,252 [NioProcessor-1  ] [TRACE] .m.p.s.m.c.InitMessageCodec - InitRequestMessage: [cmdId=5, posId=pos-0002]
2012-06-26 10:01:14,252 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 10:01:14,252 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 10:01:14,252 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 10:01:14,252 [NioProcessor-1  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 10:01:14,252 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 10:01:14,252 [NioProcessor-1  ] [DEBUG] p.f.SessionKeyMessageFilter - Mina session ID 24: created session key 2f5bc53166a042e1bbaf4e5f9c70abbb
2012-06-26 10:01:14,252 [NioProcessor-1  ] [DEBUG] p.f.SessionKeyMessageFilter - creating session for mina session ID 24 using session ID 2f5bc53166a042e1bbaf4e5f9c70abbb
2012-06-26 10:01:14,252 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 10:01:14,252 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 10:01:14,252 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 10:01:14,252 [NioProcessor-1  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2129, Mina session ID 24, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 10:01:14,252 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 10:01:14,252 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 10:01:14,252 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 10:01:14,252 [NioProcessor-1  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 10:01:14,252 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 10:01:14,252 [pool-4-thread-19] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 10:01:14,252 [pool-4-thread-19] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 10:01:14,252 [pool-4-thread-19] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@1c6bbd3 obtained for command ID 5
2012-06-26 10:01:14,252 [pool-4-thread-19] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 5 is com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@1c6bbd3
2012-06-26 10:01:14,252 [pool-4-thread-19] [DEBUG] .q.m.p.h.InitCommandHandler - InitCommandHandler======execute==bodyMessage=:  [cmdId=5, posId=pos-0002]
2012-06-26 10:01:14,252 [pool-4-thread-19] [DEBUG] .q.m.l.l.i.LoginManagerImpl - InitResponse() invoke
2012-06-26 10:01:14,252 [pool-4-thread-19] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:ALLOWED
2012-06-26 10:01:14,252 [pool-4-thread-19] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId AND p.ostatus = :ostatus
2012-06-26 10:01:14,252 [pool-4-thread-19] [DEBUG] .q.m.l.l.i.LoginManagerImpl - POS ID:pos-0002, init challenge saved - [89, 97, 75, 88, 53, 89, 90, 103]
2012-06-26 10:01:14,268 [pool-4-thread-19] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 10:01:14,299 [pool-4-thread-19] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 10:01:14,299 [pool-4-thread-19] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 10:01:14,299 [pool-4-thread-19] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 10:01:14,299 [pool-4-thread-19] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 24
2012-06-26 10:01:14,299 [pool-4-thread-19] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (6)
2012-06-26 10:01:14,299 [pool-4-thread-19] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageResponseCodec@117ee94
2012-06-26 10:01:14,299 [pool-4-thread-19] [DEBUG] .c.InitMessageResponseCodec - init response message encode
2012-06-26 10:01:14,299 [pool-4-thread-19] [TRACE] .c.InitMessageResponseCodec - InitResponseMessage: [cmdId=6, result=0, challenge=[89, 97, 75, 88, 53, 89, 90, 103]]
2012-06-26 10:01:14,299 [pool-4-thread-19] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0xcb60
2012-06-26 10:01:14,299 [pool-4-thread-19] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 10:01:14,299 [pool-4-thread-19] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 CB 60 00 00 00 1E ...........`....
00000010 00 00 00 06 00 00 59 61 4B 58 35 59 5A 67       ......YaKX5YZg

2012-06-26 10:01:14,299 [pool-4-thread-19] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 10:01:14,299 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 10:01:14,299 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 10:01:14,299 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 24: not mark to return session ID to client
2012-06-26 10:01:14,299 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 10:01:14,299 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 10:01:14,299 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 10:01:14,517 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2129, Mina session ID 24, identified POS ID pos-0002
2012-06-26 10:01:14,517 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 1F 69 00 00 00 30 ...........i...0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 2A DE 4F 3F E0 59 FD 8A 86 04 CA 94 CB 52 28 71 *.O?.Y.......R(q

2012-06-26 10:01:14,517 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=48 cap=2048: 00 00 00 01 00 00 00 00 00 00 1F 69 00 00 00 30...]
2012-06-26 10:01:14,517 [NioProcessor-1  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 24
2012-06-26 10:01:14,517 [NioProcessor-1  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 10:01:14,517 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 10:01:14,517 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 24
2012-06-26 10:01:14,517 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =48
2012-06-26 10:01:14,517 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 1F 69 00 00 00 30 ...........i...0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 2A DE 4F 3F E0 59 FD 8A 86 04 CA 94 CB 52 28 71 *.O?.Y.......R(q

2012-06-26 10:01:14,517 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 48, current position: 0
2012-06-26 10:01:14,517 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 10:01:14,517 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x1f69} messageSize:{0x30} sessionKey:{null}
2012-06-26 10:01:14,517 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 32
2012-06-26 10:01:14,517 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=32, in.remaining=32
2012-06-26 10:01:14,517 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 10:01:14,517 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 7
2012-06-26 10:01:14,517 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 7: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageCodec@8c5488
2012-06-26 10:01:14,517 [NioProcessor-1  ] [DEBUG] m.p.s.m.c.LoginMessageCodec - login/bind message decode
2012-06-26 10:01:14,517 [NioProcessor-1  ] [TRACE] m.p.s.m.c.LoginMessageCodec - LoginRequestMessage: [cmdId=7, posId=pos-0002, challengeResponse=[42, -34, 79, 63, -32, 89, -3, -118, -122, 4, -54, -108, -53, 82, 40, 113]]
2012-06-26 10:01:14,517 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 10:01:14,517 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x1f69} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[42, -34, 79, 63, -32, 89, -3, -118, -122, 4, -54, -108, -53, 82, 40, 113]]
2012-06-26 10:01:14,517 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 10:01:14,517 [NioProcessor-1  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 10:01:14,517 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 10:01:14,517 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 10:01:14,517 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 10:01:14,517 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 10:01:14,517 [NioProcessor-1  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2129, Mina session ID 24, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x1f69} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[42, -34, 79, 63, -32, 89, -3, -118, -122, 4, -54, -108, -53, 82, 40, 113]]
2012-06-26 10:01:14,517 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 10:01:14,517 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 10:01:14,517 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 10:01:14,517 [NioProcessor-1  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 10:01:14,517 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 10:01:14,517 [pool-4-thread-20] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 10:01:14,517 [pool-4-thread-20] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 10:01:14,517 [pool-4-thread-20] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@2e879 obtained for command ID 7
2012-06-26 10:01:14,517 [pool-4-thread-20] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 7 is com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@2e879
2012-06-26 10:01:14,517 [pool-4-thread-20] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==bodyMessage=: [cmdId=7, posId=pos-0002, challengeResponse=[42, -34, 79, 63, -32, 89, -3, -118, -122, 4, -54, -108, -53, 82, 40, 113]]
2012-06-26 10:01:14,517 [pool-4-thread-20] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:null
2012-06-26 10:01:14,517 [pool-4-thread-20] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId
2012-06-26 10:01:14,517 [pool-4-thread-20] [TRACE] .q.m.l.l.i.LoginManagerImpl - Loaded from db: pos.posId:pos-0002, pos.secret:000001, oldChallenge:[89, 97, 75, 88, 53, 89, 90, 103]
2012-06-26 10:01:14,517 [pool-4-thread-20] [DEBUG] .q.m.l.l.i.LoginManagerImpl - disableChallengeCheck =0
2012-06-26 10:01:14,517 [pool-4-thread-20] [TRACE] c.c.q.m.l.c.ChallengeUtil   - checking challenge:response:[42, -34, 79, 63, -32, 89, -3, -118, -122, 4, -54, -108, -53, 82, 40, 113], posKey:000001, random:[89, 97, 75, 88, 53, 89, 90, 103]
2012-06-26 10:01:14,517 [pool-4-thread-20] [DEBUG] .q.m.l.l.i.LoginManagerImpl - new challenge for POS (POS ID): [78, 49, 65, 80, 111, 99, 71, 84]
2012-06-26 10:01:14,532 [pool-4-thread-20] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==serverKey=:JXTPOS
2012-06-26 10:01:14,532 [pool-4-thread-20] [DEBUG] ThreadSafeClientConnManager - Get connection: HttpRoute[{}->http://localhost:7070], timeout = 0
2012-06-26 10:01:14,532 [pool-4-thread-20] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - [HttpRoute[{}->http://localhost:7070]] total kept alive: 0, total issued: 0, total allocated: 0 out of 20
2012-06-26 10:01:14,532 [pool-4-thread-20] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - No free connections [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 10:01:14,532 [pool-4-thread-20] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Available capacity: 2 out of 2 [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 10:01:14,532 [pool-4-thread-20] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Creating new connection [HttpRoute[{}->http://localhost:7070]]
2012-06-26 10:01:14,532 [pool-4-thread-20] [DEBUG] ultClientConnectionOperator - Connecting to localhost:7070
2012-06-26 10:01:15,544 [pool-4-thread-20] [DEBUG] i.c.DefaultClientConnection - Connection closed
2012-06-26 10:01:15,544 [pool-4-thread-20] [DEBUG] i.c.DefaultClientConnection - Connection shut down
2012-06-26 10:01:15,544 [pool-4-thread-20] [DEBUG] ThreadSafeClientConnManager - Released connection is not reusable.
2012-06-26 10:01:15,544 [pool-4-thread-20] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Releasing connection [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 10:01:15,544 [pool-4-thread-20] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Notifying no-one, there are no waiting threads
2012-06-26 10:01:15,544 [pool-4-thread-20] [ERROR] q.m.p.h.LoginCommandHandler - initGrouponCache fail:com.chinarewards.qqgbvpn.qqapi.exception.ParseXMLException: com.chinarewards.qqgbvpn.qqapi.exception.SendPostTimeOutException: org.apache.http.conn.HttpHostConnectException: Connection to http://localhost:7070 refused
2012-06-26 10:01:15,560 [pool-4-thread-20] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 10:01:15,591 [pool-4-thread-20] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 10:01:15,591 [pool-4-thread-20] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 10:01:15,591 [pool-4-thread-20] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 10:01:15,591 [pool-4-thread-20] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 24
2012-06-26 10:01:15,591 [pool-4-thread-20] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (8)
2012-06-26 10:01:15,591 [pool-4-thread-20] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageResponseCodec@11d329d
2012-06-26 10:01:15,591 [pool-4-thread-20] [DEBUG] c.LoginMessageResponseCodec - login/bind message encode
2012-06-26 10:01:15,591 [pool-4-thread-20] [TRACE] c.LoginMessageResponseCodec - LoginResponseMessage: [cmdId=8, result=0, challenge=[78, 49, 65, 80, 111, 99, 71, 84]]
2012-06-26 10:01:15,591 [pool-4-thread-20] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0xb99f
2012-06-26 10:01:15,591 [pool-4-thread-20] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 10:01:15,591 [pool-4-thread-20] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 B9 9F 00 00 00 1E ................
00000010 00 00 00 08 00 00 4E 31 41 50 6F 63 47 54       ......N1APocGT

2012-06-26 10:01:15,591 [pool-4-thread-20] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 10:01:15,591 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 10:01:15,591 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 10:01:15,591 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 24: not mark to return session ID to client
2012-06-26 10:01:15,591 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 10:01:15,591 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 10:01:15,591 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 10:01:15,591 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2129, Mina session ID 24, identified POS ID pos-0002
2012-06-26 10:01:15,591 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 33 of 33 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 D8 04 00 00 00 21 ...............!
00000010 00 00 00 C9 00 0B 31 31 31 31 31 31 31 31 31 31 ......1111111111
00000020 31                                              1

2012-06-26 10:01:15,591 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=33 cap=1024: 00 00 00 10 00 00 00 00 00 00 D8 04 00 00 00 21...]
2012-06-26 10:01:15,591 [NioProcessor-1  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 24
2012-06-26 10:01:15,591 [NioProcessor-1  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 10:01:15,591 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 10:01:15,591 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 24
2012-06-26 10:01:15,591 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =33
2012-06-26 10:01:15,591 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 33 of 33 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 D8 04 00 00 00 21 ...............!
00000010 00 00 00 C9 00 0B 31 31 31 31 31 31 31 31 31 31 ......1111111111
00000020 31                                              1

2012-06-26 10:01:15,591 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 33, current position: 0
2012-06-26 10:01:15,591 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 10:01:15,591 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd804} messageSize:{0x21} sessionKey:{null}
2012-06-26 10:01:15,591 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 17
2012-06-26 10:01:15,591 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=17, in.remaining=17
2012-06-26 10:01:15,591 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 10:01:15,591 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 201
2012-06-26 10:01:15,591 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 201: com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftMessageCodec@1e61026
2012-06-26 10:01:15,591 [NioProcessor-1  ] [DEBUG] m.c.ReceiveGiftMessageCodec - receive gift request message decode
2012-06-26 10:01:15,591 [NioProcessor-1  ] [DEBUG] m.c.ReceiveGiftMessageCodec - in.remaining()=17
2012-06-26 10:01:15,591 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 10:01:15,591 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd804} messageSize:{0x21} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@12e5ce6
2012-06-26 10:01:15,591 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 10:01:15,591 [NioProcessor-1  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 10:01:15,591 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 10:01:15,591 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 10:01:15,591 [NioProcessor-1  ] [DEBUG] c.c.q.m.p.f.LoginFilter     - isLogin=true
2012-06-26 10:01:15,591 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 10:01:15,591 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 10:01:15,591 [NioProcessor-1  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2129, Mina session ID 24, identified POS ID pos-0002, message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd804} messageSize:{0x21} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@12e5ce6
2012-06-26 10:01:15,591 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 10:01:15,591 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 10:01:15,591 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 10:01:15,591 [NioProcessor-1  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 10:01:15,591 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 10:01:15,591 [pool-4-thread-1 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 10:01:15,591 [pool-4-thread-1 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 10:01:15,591 [pool-4-thread-1 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@1dacb2b obtained for command ID 201
2012-06-26 10:01:15,591 [pool-4-thread-1 ] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 201 is com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@1dacb2b
2012-06-26 10:01:15,591 [pool-4-thread-1 ] [DEBUG] h.ReceiveGiftCommandHandler - ReceiveGiftHandler======execute==bodyMessage=: com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@12e5ce6
2012-06-26 10:01:15,591 [pool-4-thread-1 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 10:01:15,591 [pool-4-thread-1 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 10:01:15,591 [pool-4-thread-1 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 10:01:15,591 [pool-4-thread-1 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 10:01:15,591 [pool-4-thread-1 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 24
2012-06-26 10:01:15,591 [pool-4-thread-1 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (202)
2012-06-26 10:01:15,591 [pool-4-thread-1 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftResponseMessageCodec@4bd767
2012-06-26 10:01:15,591 [pool-4-thread-1 ] [DEBUG] iveGiftResponseMessageCodec - receive gift response message encode
2012-06-26 10:01:15,591 [pool-4-thread-1 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0x9670
2012-06-26 10:01:15,591 [pool-4-thread-1 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 10:01:15,591 [pool-4-thread-1 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 74 of 74 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 96 70 00 00 00 4A ...........p...J
00000010 00 00 00 CA 00 00 00 02 07 DC 06 1A 0A 01 0F 02 ................
00000020 4F 01 E0 00 08 C1 EC C8 A1 C0 F1 C6 B7 00 1B 31 O..............1
00000030 31 31 31 31 31 31 31 31 31 31 0A CE DE D0 A7 0A 1111111111......
00000040 B0 B4 4F 4B BC FC B7 B5 BB D8                   ..OK......

2012-06-26 10:01:15,591 [pool-4-thread-1 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 10:01:15,591 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 10:01:15,591 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 10:01:15,591 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 24: not mark to return session ID to client
2012-06-26 10:01:15,591 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 10:01:15,591 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 10:01:15,591 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 10:01:15,622 [NioProcessor-1  ] [INFO ] o.a.m.f.l.LoggingFilter     - CLOSED
2012-06-26 10:01:15,622 [NioProcessor-1  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 10:01:21,412 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:01:21,412 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:01:21,412 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=4
2012-06-26 10:01:21,412 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=4
2012-06-26 10:01:21,412 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:01:31,390 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:01:31,390 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:01:31,390 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=4
2012-06-26 10:01:31,390 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=4
2012-06-26 10:01:31,390 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:01:41,367 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:01:41,367 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:01:41,367 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=4
2012-06-26 10:01:41,367 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=3
2012-06-26 10:01:41,367 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:01:51,345 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:01:51,345 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:01:51,345 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 10:01:51,345 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=3
2012-06-26 10:01:51,345 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:02:01,322 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:02:01,322 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:02:01,322 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 10:02:01,322 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=3
2012-06-26 10:02:01,322 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:02:11,300 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:02:11,300 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:02:11,300 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 10:02:11,300 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 10:02:11,300 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:02:21,277 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:02:21,277 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:02:21,277 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 10:02:21,277 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 10:02:21,277 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:02:31,255 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:02:31,255 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:02:31,255 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 10:02:31,255 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 10:02:31,255 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:02:41,232 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:02:41,232 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:02:41,232 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 10:02:41,232 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 10:02:41,232 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:02:51,210 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:02:51,210 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:02:51,210 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 10:02:51,210 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 10:02:51,210 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:03:01,187 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:03:01,187 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:03:01,187 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 10:03:01,187 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 10:03:01,187 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:03:11,165 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:03:11,165 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:03:11,165 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 10:03:11,165 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 10:03:11,165 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:03:21,142 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:03:21,142 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:03:21,142 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 10:03:21,142 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 10:03:21,142 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:03:31,120 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:03:31,120 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:03:31,120 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 10:03:31,120 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 10:03:31,120 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:03:35,369 [NioProcessor-2  ] [INFO ] c.c.q.m.p.f.LoggingFilter   - incoming connection from remote address: 127.0.0.1:2135, Mina session ID: 25
2012-06-26 10:03:35,369 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - Currently managed session count: 1
2012-06-26 10:03:35,369 [NioProcessor-2  ] [INFO ] o.a.m.f.l.LoggingFilter     - CREATED
2012-06-26 10:03:35,369 [NioProcessor-2  ] [INFO ] o.a.m.f.l.LoggingFilter     - OPENED
2012-06-26 10:03:35,525 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2135, Mina session ID 25, identified POS ID null
2012-06-26 10:03:35,525 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 10:03:35,525 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=32 cap=2048: 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20...]
2012-06-26 10:03:35,540 [NioProcessor-2  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 25
2012-06-26 10:03:35,540 [NioProcessor-2  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 10:03:35,540 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 10:03:35,540 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 25
2012-06-26 10:03:35,540 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =32
2012-06-26 10:03:35,540 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 10:03:35,540 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 32, current position: 0
2012-06-26 10:03:35,540 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 10:03:35,540 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}
2012-06-26 10:03:35,540 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 16
2012-06-26 10:03:35,540 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=16, in.remaining=16
2012-06-26 10:03:35,540 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 10:03:35,540 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 5
2012-06-26 10:03:35,540 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 5: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageCodec@bafda6
2012-06-26 10:03:35,540 [NioProcessor-2  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - init request message decode
2012-06-26 10:03:35,540 [NioProcessor-2  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - in.remaining()=16
2012-06-26 10:03:35,540 [NioProcessor-2  ] [TRACE] .m.p.s.m.c.InitMessageCodec - InitRequestMessage: [cmdId=5, posId=pos-0002]
2012-06-26 10:03:35,540 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 10:03:35,540 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 10:03:35,540 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 10:03:35,540 [NioProcessor-2  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 10:03:35,540 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 10:03:35,540 [NioProcessor-2  ] [DEBUG] p.f.SessionKeyMessageFilter - Mina session ID 25: created session key f04cf01d32134c5aab6c2fcba718c309
2012-06-26 10:03:35,540 [NioProcessor-2  ] [DEBUG] p.f.SessionKeyMessageFilter - creating session for mina session ID 25 using session ID f04cf01d32134c5aab6c2fcba718c309
2012-06-26 10:03:35,540 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 10:03:35,540 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 10:03:35,540 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 10:03:35,540 [NioProcessor-2  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2135, Mina session ID 25, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 10:03:35,540 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 10:03:35,540 [pool-4-thread-2 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 10:03:35,540 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 10:03:35,540 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 10:03:35,540 [NioProcessor-2  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 10:03:35,540 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 10:03:35,540 [pool-4-thread-2 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 10:03:35,540 [pool-4-thread-2 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@16bbeaf obtained for command ID 5
2012-06-26 10:03:35,540 [pool-4-thread-2 ] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 5 is com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@16bbeaf
2012-06-26 10:03:35,540 [pool-4-thread-2 ] [DEBUG] .q.m.p.h.InitCommandHandler - InitCommandHandler======execute==bodyMessage=:  [cmdId=5, posId=pos-0002]
2012-06-26 10:03:35,540 [pool-4-thread-2 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - InitResponse() invoke
2012-06-26 10:03:35,540 [pool-4-thread-2 ] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:ALLOWED
2012-06-26 10:03:35,540 [pool-4-thread-2 ] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId AND p.ostatus = :ostatus
2012-06-26 10:03:35,540 [pool-4-thread-2 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - POS ID:pos-0002, init challenge saved - [120, 74, 88, 56, 75, 102, 109, 56]
2012-06-26 10:03:35,540 [pool-4-thread-2 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 10:03:35,571 [pool-4-thread-2 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 10:03:35,571 [pool-4-thread-2 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 10:03:35,571 [pool-4-thread-2 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 10:03:35,571 [pool-4-thread-2 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 25
2012-06-26 10:03:35,571 [pool-4-thread-2 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (6)
2012-06-26 10:03:35,571 [pool-4-thread-2 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageResponseCodec@15cc135
2012-06-26 10:03:35,571 [pool-4-thread-2 ] [DEBUG] .c.InitMessageResponseCodec - init response message encode
2012-06-26 10:03:35,571 [pool-4-thread-2 ] [TRACE] .c.InitMessageResponseCodec - InitResponseMessage: [cmdId=6, result=0, challenge=[120, 74, 88, 56, 75, 102, 109, 56]]
2012-06-26 10:03:35,571 [pool-4-thread-2 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0x76b9
2012-06-26 10:03:35,571 [pool-4-thread-2 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 10:03:35,571 [pool-4-thread-2 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 76 B9 00 00 00 1E ..........v.....
00000010 00 00 00 06 00 00 78 4A 58 38 4B 66 6D 38       ......xJX8Kfm8

2012-06-26 10:03:35,571 [pool-4-thread-2 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 10:03:35,571 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 10:03:35,571 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 10:03:35,571 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 25: not mark to return session ID to client
2012-06-26 10:03:35,571 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 10:03:35,571 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 10:03:35,571 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 10:03:35,789 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2135, Mina session ID 25, identified POS ID pos-0002
2012-06-26 10:03:35,789 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB 77 00 00 00 30 ...........w...0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 3B 00 BC 24 C0 60 40 95 74 CF D9 AB F4 35 C5 84 ;..$.`@.t....5..

2012-06-26 10:03:35,789 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=48 cap=2048: 00 00 00 01 00 00 00 00 00 00 BB 77 00 00 00 30...]
2012-06-26 10:03:35,789 [NioProcessor-2  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 25
2012-06-26 10:03:35,789 [NioProcessor-2  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 10:03:35,789 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 10:03:35,789 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 25
2012-06-26 10:03:35,789 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =48
2012-06-26 10:03:35,789 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB 77 00 00 00 30 ...........w...0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 3B 00 BC 24 C0 60 40 95 74 CF D9 AB F4 35 C5 84 ;..$.`@.t....5..

2012-06-26 10:03:35,789 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 48, current position: 0
2012-06-26 10:03:35,789 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 10:03:35,789 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbb77} messageSize:{0x30} sessionKey:{null}
2012-06-26 10:03:35,789 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 32
2012-06-26 10:03:35,789 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=32, in.remaining=32
2012-06-26 10:03:35,789 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 10:03:35,805 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 7
2012-06-26 10:03:35,805 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 7: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageCodec@c9537b
2012-06-26 10:03:35,805 [NioProcessor-2  ] [DEBUG] m.p.s.m.c.LoginMessageCodec - login/bind message decode
2012-06-26 10:03:35,805 [NioProcessor-2  ] [TRACE] m.p.s.m.c.LoginMessageCodec - LoginRequestMessage: [cmdId=7, posId=pos-0002, challengeResponse=[59, 0, -68, 36, -64, 96, 64, -107, 116, -49, -39, -85, -12, 53, -59, -124]]
2012-06-26 10:03:35,805 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 10:03:35,805 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbb77} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[59, 0, -68, 36, -64, 96, 64, -107, 116, -49, -39, -85, -12, 53, -59, -124]]
2012-06-26 10:03:35,805 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 10:03:35,805 [NioProcessor-2  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 10:03:35,805 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 10:03:35,805 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 10:03:35,805 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 10:03:35,805 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 10:03:35,805 [NioProcessor-2  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2135, Mina session ID 25, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbb77} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[59, 0, -68, 36, -64, 96, 64, -107, 116, -49, -39, -85, -12, 53, -59, -124]]
2012-06-26 10:03:35,805 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 10:03:35,805 [pool-4-thread-3 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 10:03:35,805 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 10:03:35,805 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 10:03:35,805 [NioProcessor-2  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 10:03:35,805 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 10:03:35,805 [pool-4-thread-3 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 10:03:35,805 [pool-4-thread-3 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@10936a1 obtained for command ID 7
2012-06-26 10:03:35,805 [pool-4-thread-3 ] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 7 is com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@10936a1
2012-06-26 10:03:35,805 [pool-4-thread-3 ] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==bodyMessage=: [cmdId=7, posId=pos-0002, challengeResponse=[59, 0, -68, 36, -64, 96, 64, -107, 116, -49, -39, -85, -12, 53, -59, -124]]
2012-06-26 10:03:35,805 [pool-4-thread-3 ] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:null
2012-06-26 10:03:35,805 [pool-4-thread-3 ] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId
2012-06-26 10:03:35,805 [pool-4-thread-3 ] [TRACE] .q.m.l.l.i.LoginManagerImpl - Loaded from db: pos.posId:pos-0002, pos.secret:000001, oldChallenge:[120, 74, 88, 56, 75, 102, 109, 56]
2012-06-26 10:03:35,805 [pool-4-thread-3 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - disableChallengeCheck =0
2012-06-26 10:03:35,805 [pool-4-thread-3 ] [TRACE] c.c.q.m.l.c.ChallengeUtil   - checking challenge:response:[59, 0, -68, 36, -64, 96, 64, -107, 116, -49, -39, -85, -12, 53, -59, -124], posKey:000001, random:[120, 74, 88, 56, 75, 102, 109, 56]
2012-06-26 10:03:35,805 [pool-4-thread-3 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - new challenge for POS (POS ID): [77, 106, 99, 98, 116, 76, 70, 120]
2012-06-26 10:03:35,805 [pool-4-thread-3 ] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==serverKey=:JXTPOS
2012-06-26 10:03:35,805 [pool-4-thread-3 ] [DEBUG] ThreadSafeClientConnManager - Get connection: HttpRoute[{}->http://localhost:7070], timeout = 0
2012-06-26 10:03:35,805 [pool-4-thread-3 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - [HttpRoute[{}->http://localhost:7070]] total kept alive: 0, total issued: 0, total allocated: 0 out of 20
2012-06-26 10:03:35,805 [pool-4-thread-3 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - No free connections [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 10:03:35,805 [pool-4-thread-3 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Available capacity: 2 out of 2 [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 10:03:35,805 [pool-4-thread-3 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Creating new connection [HttpRoute[{}->http://localhost:7070]]
2012-06-26 10:03:35,820 [pool-4-thread-3 ] [DEBUG] ultClientConnectionOperator - Connecting to localhost:7070
2012-06-26 10:03:36,879 [pool-4-thread-3 ] [DEBUG] i.c.DefaultClientConnection - Connection closed
2012-06-26 10:03:36,879 [pool-4-thread-3 ] [DEBUG] i.c.DefaultClientConnection - Connection shut down
2012-06-26 10:03:36,879 [pool-4-thread-3 ] [DEBUG] ThreadSafeClientConnManager - Released connection is not reusable.
2012-06-26 10:03:36,879 [pool-4-thread-3 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Releasing connection [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 10:03:36,879 [pool-4-thread-3 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Notifying no-one, there are no waiting threads
2012-06-26 10:03:36,879 [pool-4-thread-3 ] [ERROR] q.m.p.h.LoginCommandHandler - initGrouponCache fail:com.chinarewards.qqgbvpn.qqapi.exception.ParseXMLException: com.chinarewards.qqgbvpn.qqapi.exception.SendPostTimeOutException: org.apache.http.conn.HttpHostConnectException: Connection to http://localhost:7070 refused
2012-06-26 10:03:36,879 [pool-4-thread-3 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 10:03:36,910 [pool-4-thread-3 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 10:03:36,910 [pool-4-thread-3 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 10:03:36,910 [pool-4-thread-3 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 10:03:36,910 [pool-4-thread-3 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 25
2012-06-26 10:03:36,910 [pool-4-thread-3 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (8)
2012-06-26 10:03:36,910 [pool-4-thread-3 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageResponseCodec@a85268
2012-06-26 10:03:36,910 [pool-4-thread-3 ] [DEBUG] c.LoginMessageResponseCodec - login/bind message encode
2012-06-26 10:03:36,910 [pool-4-thread-3 ] [TRACE] c.LoginMessageResponseCodec - LoginResponseMessage: [cmdId=8, result=0, challenge=[77, 106, 99, 98, 116, 76, 70, 120]]
2012-06-26 10:03:36,910 [pool-4-thread-3 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0x9447
2012-06-26 10:03:36,910 [pool-4-thread-3 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 10:03:36,910 [pool-4-thread-3 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 94 47 00 00 00 1E ...........G....
00000010 00 00 00 08 00 00 4D 6A 63 62 74 4C 46 78       ......MjcbtLFx

2012-06-26 10:03:36,910 [pool-4-thread-3 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 10:03:36,910 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 10:03:36,910 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 10:03:36,910 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 25: not mark to return session ID to client
2012-06-26 10:03:36,910 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 10:03:36,910 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 10:03:36,910 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 10:03:36,910 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2135, Mina session ID 25, identified POS ID pos-0002
2012-06-26 10:03:36,910 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 33 of 33 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 D8 04 00 00 00 21 ...............!
00000010 00 00 00 C9 00 0B 31 31 31 31 31 31 31 31 31 31 ......1111111111
00000020 31                                              1

2012-06-26 10:03:36,910 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=33 cap=1024: 00 00 00 10 00 00 00 00 00 00 D8 04 00 00 00 21...]
2012-06-26 10:03:36,910 [NioProcessor-2  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 25
2012-06-26 10:03:36,910 [NioProcessor-2  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 10:03:36,910 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 10:03:36,910 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 25
2012-06-26 10:03:36,910 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =33
2012-06-26 10:03:36,910 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 33 of 33 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 D8 04 00 00 00 21 ...............!
00000010 00 00 00 C9 00 0B 31 31 31 31 31 31 31 31 31 31 ......1111111111
00000020 31                                              1

2012-06-26 10:03:36,910 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 33, current position: 0
2012-06-26 10:03:36,910 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 10:03:36,910 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd804} messageSize:{0x21} sessionKey:{null}
2012-06-26 10:03:36,910 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 17
2012-06-26 10:03:36,926 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=17, in.remaining=17
2012-06-26 10:03:36,926 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 10:03:36,926 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 201
2012-06-26 10:03:36,926 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 201: com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftMessageCodec@ba2e48
2012-06-26 10:03:36,926 [NioProcessor-2  ] [DEBUG] m.c.ReceiveGiftMessageCodec - receive gift request message decode
2012-06-26 10:03:36,926 [NioProcessor-2  ] [DEBUG] m.c.ReceiveGiftMessageCodec - in.remaining()=17
2012-06-26 10:03:36,926 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 10:03:36,926 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd804} messageSize:{0x21} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@134ab9b
2012-06-26 10:03:36,926 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 10:03:36,926 [NioProcessor-2  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 10:03:36,926 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 10:03:36,926 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 10:03:36,926 [NioProcessor-2  ] [DEBUG] c.c.q.m.p.f.LoginFilter     - isLogin=true
2012-06-26 10:03:36,926 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 10:03:36,926 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 10:03:36,926 [NioProcessor-2  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2135, Mina session ID 25, identified POS ID pos-0002, message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd804} messageSize:{0x21} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@134ab9b
2012-06-26 10:03:36,926 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 10:03:36,926 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 10:03:36,926 [pool-4-thread-4 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 10:03:36,926 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 10:03:36,926 [NioProcessor-2  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 10:03:36,926 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 10:03:36,926 [pool-4-thread-4 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 10:03:36,926 [pool-4-thread-4 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@d0005e obtained for command ID 201
2012-06-26 10:03:36,926 [pool-4-thread-4 ] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 201 is com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@d0005e
2012-06-26 10:03:36,926 [pool-4-thread-4 ] [DEBUG] h.ReceiveGiftCommandHandler - ReceiveGiftHandler======execute==bodyMessage=: com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@134ab9b
2012-06-26 10:03:36,926 [pool-4-thread-4 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 10:03:36,926 [pool-4-thread-4 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 10:03:36,926 [pool-4-thread-4 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 10:03:36,926 [pool-4-thread-4 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 10:03:36,926 [pool-4-thread-4 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 25
2012-06-26 10:03:36,926 [pool-4-thread-4 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (202)
2012-06-26 10:03:36,926 [pool-4-thread-4 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftResponseMessageCodec@fed6f7
2012-06-26 10:03:36,926 [pool-4-thread-4 ] [DEBUG] iveGiftResponseMessageCodec - receive gift response message encode
2012-06-26 10:03:36,926 [pool-4-thread-4 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0x326d
2012-06-26 10:03:36,926 [pool-4-thread-4 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 10:03:36,926 [pool-4-thread-4 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 74 of 74 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 32 6D 00 00 00 4A ..........2m...J
00000010 00 00 00 CA 00 00 00 02 07 DC 06 1A 0A 03 24 03 ..............$.
00000020 9E 01 E0 00 08 C1 EC C8 A1 C0 F1 C6 B7 00 1B 31 ...............1
00000030 31 31 31 31 31 31 31 31 31 31 0A CE DE D0 A7 0A 1111111111......
00000040 B0 B4 4F 4B BC FC B7 B5 BB D8                   ..OK......

2012-06-26 10:03:36,926 [pool-4-thread-4 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 10:03:36,926 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 10:03:36,926 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 10:03:36,926 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 25: not mark to return session ID to client
2012-06-26 10:03:36,926 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 10:03:36,926 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 10:03:36,926 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 10:03:36,926 [NioProcessor-2  ] [INFO ] o.a.m.f.l.LoggingFilter     - CLOSED
2012-06-26 10:03:36,926 [NioProcessor-2  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 10:03:41,159 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:03:41,159 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:03:41,159 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 10:03:41,159 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=3
2012-06-26 10:03:41,159 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:03:51,153 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:03:51,153 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:03:51,153 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 10:03:51,153 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 10:03:51,153 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:04:01,130 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:04:01,130 [Finalizer       ] [DEBUG] ThreadSafeClientConnManager - Shutting down
2012-06-26 10:04:01,130 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:04:01,130 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 10:04:01,130 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 10:04:01,130 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:04:11,107 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:04:11,107 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:04:11,107 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 10:04:11,107 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 10:04:11,107 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:04:14,812 [NioProcessor-3  ] [INFO ] c.c.q.m.p.f.LoggingFilter   - incoming connection from remote address: 127.0.0.1:2139, Mina session ID: 26
2012-06-26 10:04:14,812 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - Currently managed session count: 1
2012-06-26 10:04:14,812 [NioProcessor-3  ] [INFO ] o.a.m.f.l.LoggingFilter     - CREATED
2012-06-26 10:04:14,812 [NioProcessor-3  ] [INFO ] o.a.m.f.l.LoggingFilter     - OPENED
2012-06-26 10:04:14,968 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2139, Mina session ID 26, identified POS ID null
2012-06-26 10:04:14,968 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 10:04:14,968 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=32 cap=2048: 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20...]
2012-06-26 10:04:14,968 [NioProcessor-3  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 26
2012-06-26 10:04:14,968 [NioProcessor-3  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 10:04:14,968 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 10:04:14,968 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 26
2012-06-26 10:04:14,968 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =32
2012-06-26 10:04:14,968 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 10:04:14,968 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 32, current position: 0
2012-06-26 10:04:14,968 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 10:04:14,968 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}
2012-06-26 10:04:14,968 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 16
2012-06-26 10:04:14,968 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=16, in.remaining=16
2012-06-26 10:04:14,968 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 10:04:14,968 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 5
2012-06-26 10:04:14,968 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 5: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageCodec@ec1c4d
2012-06-26 10:04:14,968 [NioProcessor-3  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - init request message decode
2012-06-26 10:04:14,968 [NioProcessor-3  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - in.remaining()=16
2012-06-26 10:04:14,968 [NioProcessor-3  ] [TRACE] .m.p.s.m.c.InitMessageCodec - InitRequestMessage: [cmdId=5, posId=pos-0002]
2012-06-26 10:04:14,968 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 10:04:14,968 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 10:04:14,968 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 10:04:14,968 [NioProcessor-3  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 10:04:14,968 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 10:04:14,968 [NioProcessor-3  ] [DEBUG] p.f.SessionKeyMessageFilter - Mina session ID 26: created session key 6bd408f9595f44628dc1feeca95ba004
2012-06-26 10:04:14,968 [NioProcessor-3  ] [DEBUG] p.f.SessionKeyMessageFilter - creating session for mina session ID 26 using session ID 6bd408f9595f44628dc1feeca95ba004
2012-06-26 10:04:14,968 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 10:04:14,968 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 10:04:14,968 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 10:04:14,968 [NioProcessor-3  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2139, Mina session ID 26, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 10:04:14,968 [pool-4-thread-5 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 10:04:14,968 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 10:04:14,968 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 10:04:14,968 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 10:04:14,968 [NioProcessor-3  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 10:04:14,968 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 10:04:14,968 [pool-4-thread-5 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 10:04:14,968 [pool-4-thread-5 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@1bc850f obtained for command ID 5
2012-06-26 10:04:14,968 [pool-4-thread-5 ] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 5 is com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@1bc850f
2012-06-26 10:04:14,968 [pool-4-thread-5 ] [DEBUG] .q.m.p.h.InitCommandHandler - InitCommandHandler======execute==bodyMessage=:  [cmdId=5, posId=pos-0002]
2012-06-26 10:04:14,968 [pool-4-thread-5 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - InitResponse() invoke
2012-06-26 10:04:14,968 [pool-4-thread-5 ] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:ALLOWED
2012-06-26 10:04:14,968 [pool-4-thread-5 ] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId AND p.ostatus = :ostatus
2012-06-26 10:04:14,968 [pool-4-thread-5 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - POS ID:pos-0002, init challenge saved - [83, 71, 115, 84, 121, 80, 115, 110]
2012-06-26 10:04:14,968 [pool-4-thread-5 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 10:04:15,014 [pool-4-thread-5 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 10:04:15,014 [pool-4-thread-5 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 10:04:15,014 [pool-4-thread-5 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 10:04:15,014 [pool-4-thread-5 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 26
2012-06-26 10:04:15,014 [pool-4-thread-5 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (6)
2012-06-26 10:04:15,014 [pool-4-thread-5 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageResponseCodec@10a69f0
2012-06-26 10:04:15,014 [pool-4-thread-5 ] [DEBUG] .c.InitMessageResponseCodec - init response message encode
2012-06-26 10:04:15,014 [pool-4-thread-5 ] [TRACE] .c.InitMessageResponseCodec - InitResponseMessage: [cmdId=6, result=0, challenge=[83, 71, 115, 84, 121, 80, 115, 110]]
2012-06-26 10:04:15,014 [pool-4-thread-5 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0x4c80
2012-06-26 10:04:15,014 [pool-4-thread-5 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 10:04:15,014 [pool-4-thread-5 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 4C 80 00 00 00 1E ..........L.....
00000010 00 00 00 06 00 00 53 47 73 54 79 50 73 6E       ......SGsTyPsn

2012-06-26 10:04:15,014 [pool-4-thread-5 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 10:04:15,014 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 10:04:15,014 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 10:04:15,014 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 26: not mark to return session ID to client
2012-06-26 10:04:15,014 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 10:04:15,014 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 10:04:15,014 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 10:04:15,232 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2139, Mina session ID 26, identified POS ID pos-0002
2012-06-26 10:04:15,232 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 52 43 00 00 00 30 ..........RC...0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 83 54 28 E0 4D 02 E6 DF B1 51 0F 8A 8C EC 3B A6 .T(.M....Q....;.

2012-06-26 10:04:15,232 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=48 cap=2048: 00 00 00 01 00 00 00 00 00 00 52 43 00 00 00 30...]
2012-06-26 10:04:15,232 [NioProcessor-3  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 26
2012-06-26 10:04:15,232 [NioProcessor-3  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 10:04:15,232 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 10:04:15,232 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 26
2012-06-26 10:04:15,232 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =48
2012-06-26 10:04:15,232 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 52 43 00 00 00 30 ..........RC...0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 83 54 28 E0 4D 02 E6 DF B1 51 0F 8A 8C EC 3B A6 .T(.M....Q....;.

2012-06-26 10:04:15,232 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 48, current position: 0
2012-06-26 10:04:15,232 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 10:04:15,232 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x5243} messageSize:{0x30} sessionKey:{null}
2012-06-26 10:04:15,232 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 32
2012-06-26 10:04:15,232 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=32, in.remaining=32
2012-06-26 10:04:15,232 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 10:04:15,232 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 7
2012-06-26 10:04:15,232 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 7: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageCodec@24d517
2012-06-26 10:04:15,232 [NioProcessor-3  ] [DEBUG] m.p.s.m.c.LoginMessageCodec - login/bind message decode
2012-06-26 10:04:15,232 [NioProcessor-3  ] [TRACE] m.p.s.m.c.LoginMessageCodec - LoginRequestMessage: [cmdId=7, posId=pos-0002, challengeResponse=[-125, 84, 40, -32, 77, 2, -26, -33, -79, 81, 15, -118, -116, -20, 59, -90]]
2012-06-26 10:04:15,232 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 10:04:15,232 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x5243} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[-125, 84, 40, -32, 77, 2, -26, -33, -79, 81, 15, -118, -116, -20, 59, -90]]
2012-06-26 10:04:15,232 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 10:04:15,232 [NioProcessor-3  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 10:04:15,232 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 10:04:15,232 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 10:04:15,232 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 10:04:15,232 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 10:04:15,232 [NioProcessor-3  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2139, Mina session ID 26, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x5243} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[-125, 84, 40, -32, 77, 2, -26, -33, -79, 81, 15, -118, -116, -20, 59, -90]]
2012-06-26 10:04:15,232 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 10:04:15,232 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 10:04:15,232 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 10:04:15,232 [NioProcessor-3  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 10:04:15,232 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 10:04:15,232 [pool-4-thread-6 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 10:04:15,232 [pool-4-thread-6 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 10:04:15,232 [pool-4-thread-6 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@1a336d5 obtained for command ID 7
2012-06-26 10:04:15,232 [pool-4-thread-6 ] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 7 is com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@1a336d5
2012-06-26 10:04:15,232 [pool-4-thread-6 ] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==bodyMessage=: [cmdId=7, posId=pos-0002, challengeResponse=[-125, 84, 40, -32, 77, 2, -26, -33, -79, 81, 15, -118, -116, -20, 59, -90]]
2012-06-26 10:04:15,232 [pool-4-thread-6 ] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:null
2012-06-26 10:04:15,232 [pool-4-thread-6 ] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId
2012-06-26 10:04:15,232 [pool-4-thread-6 ] [TRACE] .q.m.l.l.i.LoginManagerImpl - Loaded from db: pos.posId:pos-0002, pos.secret:000001, oldChallenge:[83, 71, 115, 84, 121, 80, 115, 110]
2012-06-26 10:04:15,232 [pool-4-thread-6 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - disableChallengeCheck =0
2012-06-26 10:04:15,232 [pool-4-thread-6 ] [TRACE] c.c.q.m.l.c.ChallengeUtil   - checking challenge:response:[-125, 84, 40, -32, 77, 2, -26, -33, -79, 81, 15, -118, -116, -20, 59, -90], posKey:000001, random:[83, 71, 115, 84, 121, 80, 115, 110]
2012-06-26 10:04:15,232 [pool-4-thread-6 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - new challenge for POS (POS ID): [84, 86, 66, 105, 79, 87, 99, 57]
2012-06-26 10:04:15,232 [pool-4-thread-6 ] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==serverKey=:JXTPOS
2012-06-26 10:04:15,248 [pool-4-thread-6 ] [DEBUG] ThreadSafeClientConnManager - Get connection: HttpRoute[{}->http://localhost:7070], timeout = 0
2012-06-26 10:04:15,248 [pool-4-thread-6 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - [HttpRoute[{}->http://localhost:7070]] total kept alive: 0, total issued: 0, total allocated: 0 out of 20
2012-06-26 10:04:15,248 [pool-4-thread-6 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - No free connections [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 10:04:15,248 [pool-4-thread-6 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Available capacity: 2 out of 2 [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 10:04:15,248 [pool-4-thread-6 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Creating new connection [HttpRoute[{}->http://localhost:7070]]
2012-06-26 10:04:15,248 [pool-4-thread-6 ] [DEBUG] ultClientConnectionOperator - Connecting to localhost:7070
2012-06-26 10:04:16,337 [pool-4-thread-6 ] [DEBUG] i.c.DefaultClientConnection - Connection closed
2012-06-26 10:04:16,337 [pool-4-thread-6 ] [DEBUG] i.c.DefaultClientConnection - Connection shut down
2012-06-26 10:04:16,337 [pool-4-thread-6 ] [DEBUG] ThreadSafeClientConnManager - Released connection is not reusable.
2012-06-26 10:04:16,337 [pool-4-thread-6 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Releasing connection [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 10:04:16,337 [pool-4-thread-6 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Notifying no-one, there are no waiting threads
2012-06-26 10:04:16,337 [pool-4-thread-6 ] [ERROR] q.m.p.h.LoginCommandHandler - initGrouponCache fail:com.chinarewards.qqgbvpn.qqapi.exception.ParseXMLException: com.chinarewards.qqgbvpn.qqapi.exception.SendPostTimeOutException: org.apache.http.conn.HttpHostConnectException: Connection to http://localhost:7070 refused
2012-06-26 10:04:16,353 [pool-4-thread-6 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 10:04:16,415 [pool-4-thread-6 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 10:04:16,415 [pool-4-thread-6 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 10:04:16,415 [pool-4-thread-6 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 10:04:16,415 [pool-4-thread-6 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 26
2012-06-26 10:04:16,415 [pool-4-thread-6 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (8)
2012-06-26 10:04:16,415 [pool-4-thread-6 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageResponseCodec@85a863
2012-06-26 10:04:16,415 [pool-4-thread-6 ] [DEBUG] c.LoginMessageResponseCodec - login/bind message encode
2012-06-26 10:04:16,415 [pool-4-thread-6 ] [TRACE] c.LoginMessageResponseCodec - LoginResponseMessage: [cmdId=8, result=0, challenge=[84, 86, 66, 105, 79, 87, 99, 57]]
2012-06-26 10:04:16,415 [pool-4-thread-6 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0xb688
2012-06-26 10:04:16,415 [pool-4-thread-6 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 10:04:16,415 [pool-4-thread-6 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 B6 88 00 00 00 1E ................
00000010 00 00 00 08 00 00 54 56 42 69 4F 57 63 39       ......TVBiOWc9

2012-06-26 10:04:16,415 [pool-4-thread-6 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 10:04:16,415 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 10:04:16,415 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 10:04:16,415 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 26: not mark to return session ID to client
2012-06-26 10:04:16,415 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 10:04:16,415 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 10:04:16,415 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 10:04:16,415 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2139, Mina session ID 26, identified POS ID pos-0002
2012-06-26 10:04:16,415 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 33 of 33 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 D8 04 00 00 00 21 ...............!
00000010 00 00 00 C9 00 0B 31 31 31 31 31 31 31 31 31 31 ......1111111111
00000020 31                                              1

2012-06-26 10:04:16,415 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=33 cap=1024: 00 00 00 10 00 00 00 00 00 00 D8 04 00 00 00 21...]
2012-06-26 10:04:16,415 [NioProcessor-3  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 26
2012-06-26 10:04:16,415 [NioProcessor-3  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 10:04:16,415 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 10:04:16,431 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 26
2012-06-26 10:04:16,431 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =33
2012-06-26 10:04:16,431 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 33 of 33 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 D8 04 00 00 00 21 ...............!
00000010 00 00 00 C9 00 0B 31 31 31 31 31 31 31 31 31 31 ......1111111111
00000020 31                                              1

2012-06-26 10:04:16,431 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 33, current position: 0
2012-06-26 10:04:16,431 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 10:04:16,431 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd804} messageSize:{0x21} sessionKey:{null}
2012-06-26 10:04:16,431 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 17
2012-06-26 10:04:16,431 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=17, in.remaining=17
2012-06-26 10:04:16,431 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 10:04:16,431 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 201
2012-06-26 10:04:16,431 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 201: com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftMessageCodec@f21478
2012-06-26 10:04:16,431 [NioProcessor-3  ] [DEBUG] m.c.ReceiveGiftMessageCodec - receive gift request message decode
2012-06-26 10:04:16,431 [NioProcessor-3  ] [DEBUG] m.c.ReceiveGiftMessageCodec - in.remaining()=17
2012-06-26 10:04:16,431 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 10:04:16,431 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd804} messageSize:{0x21} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@11dde0c
2012-06-26 10:04:16,431 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 10:04:16,431 [NioProcessor-3  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 10:04:16,431 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 10:04:16,431 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 10:04:16,431 [NioProcessor-3  ] [DEBUG] c.c.q.m.p.f.LoginFilter     - isLogin=true
2012-06-26 10:04:16,431 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 10:04:16,431 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 10:04:16,431 [NioProcessor-3  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2139, Mina session ID 26, identified POS ID pos-0002, message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd804} messageSize:{0x21} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@11dde0c
2012-06-26 10:04:16,431 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 10:04:16,431 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 10:04:16,431 [pool-4-thread-7 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 10:04:16,431 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 10:04:16,431 [NioProcessor-3  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 10:04:16,431 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 10:04:16,431 [pool-4-thread-7 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 10:04:16,431 [pool-4-thread-7 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@645ccb obtained for command ID 201
2012-06-26 10:04:16,431 [pool-4-thread-7 ] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 201 is com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@645ccb
2012-06-26 10:04:16,431 [pool-4-thread-7 ] [DEBUG] h.ReceiveGiftCommandHandler - ReceiveGiftHandler======execute==bodyMessage=: com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@11dde0c
2012-06-26 10:04:16,431 [pool-4-thread-7 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 10:04:16,431 [pool-4-thread-7 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 10:04:16,431 [pool-4-thread-7 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 10:04:16,431 [pool-4-thread-7 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 10:04:16,431 [pool-4-thread-7 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 26
2012-06-26 10:04:16,431 [pool-4-thread-7 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (202)
2012-06-26 10:04:16,431 [pool-4-thread-7 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftResponseMessageCodec@107c615
2012-06-26 10:04:16,431 [pool-4-thread-7 ] [DEBUG] iveGiftResponseMessageCodec - receive gift response message encode
2012-06-26 10:04:16,431 [pool-4-thread-7 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0x356e
2012-06-26 10:04:16,431 [pool-4-thread-7 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 10:04:16,431 [pool-4-thread-7 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 74 of 74 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 35 6E 00 00 00 4A ..........5n...J
00000010 00 00 00 CA 00 00 00 02 07 DC 06 1A 0A 04 10 01 ................
00000020 AF 01 E0 00 08 C1 EC C8 A1 C0 F1 C6 B7 00 1B 31 ...............1
00000030 31 31 31 31 31 31 31 31 31 31 0A CE DE D0 A7 0A 1111111111......
00000040 B0 B4 4F 4B BC FC B7 B5 BB D8                   ..OK......

2012-06-26 10:04:16,431 [pool-4-thread-7 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 10:04:16,431 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 10:04:16,431 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 10:04:16,431 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 26: not mark to return session ID to client
2012-06-26 10:04:16,431 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 10:04:16,431 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 10:04:16,431 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 10:04:16,431 [NioProcessor-3  ] [INFO ] o.a.m.f.l.LoggingFilter     - CLOSED
2012-06-26 10:04:16,431 [NioProcessor-3  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 10:04:21,101 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:04:21,101 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:04:21,101 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 10:04:21,101 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=3
2012-06-26 10:04:21,101 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:04:31,078 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:04:31,078 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:04:31,078 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 10:04:31,078 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=3
2012-06-26 10:04:31,078 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:04:41,056 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:04:41,056 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:04:41,056 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 10:04:41,056 [Finalizer       ] [DEBUG] ThreadSafeClientConnManager - Shutting down
2012-06-26 10:04:41,056 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=3
2012-06-26 10:04:41,056 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:04:51,033 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:04:51,033 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:04:51,033 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 10:04:51,033 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 10:04:51,033 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:05:01,010 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:05:01,010 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:05:01,010 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 10:05:01,010 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 10:05:01,010 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:05:10,988 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:05:10,988 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:05:10,988 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 10:05:10,988 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 10:05:10,988 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:05:20,981 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:05:20,981 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:05:20,981 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 10:05:20,981 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 10:05:20,981 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:05:30,958 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:05:30,958 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:05:30,958 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 10:05:30,958 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 10:05:30,958 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:05:40,936 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:05:40,936 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:05:40,936 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 10:05:40,936 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 10:05:40,936 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:05:50,913 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:05:50,913 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:05:50,913 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 10:05:50,913 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 10:05:50,913 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:06:00,891 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:06:00,891 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:06:00,891 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 10:06:00,891 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 10:06:00,891 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:06:10,884 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:06:10,884 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:06:10,884 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 10:06:10,884 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 10:06:10,884 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:06:20,878 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:06:20,878 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:06:20,878 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 10:06:20,878 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 10:06:20,878 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:06:30,872 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:06:30,872 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:06:30,872 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 10:06:30,872 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 10:06:30,872 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:06:40,866 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:06:40,866 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:06:40,866 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 10:06:40,866 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 10:06:40,866 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:06:50,860 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:06:50,860 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:06:50,860 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 10:06:50,860 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 10:06:50,860 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:07:00,854 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:07:00,854 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:07:00,854 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 10:07:00,854 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 10:07:00,854 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:07:03,769 [NioProcessor-1  ] [INFO ] c.c.q.m.p.f.LoggingFilter   - incoming connection from remote address: 127.0.0.1:2144, Mina session ID: 27
2012-06-26 10:07:03,769 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - Currently managed session count: 1
2012-06-26 10:07:03,769 [NioProcessor-1  ] [INFO ] o.a.m.f.l.LoggingFilter     - CREATED
2012-06-26 10:07:03,769 [NioProcessor-1  ] [INFO ] o.a.m.f.l.LoggingFilter     - OPENED
2012-06-26 10:07:03,925 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2144, Mina session ID 27, identified POS ID null
2012-06-26 10:07:03,925 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 10:07:03,925 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=32 cap=2048: 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20...]
2012-06-26 10:07:03,925 [NioProcessor-1  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 27
2012-06-26 10:07:03,925 [NioProcessor-1  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 10:07:03,925 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 10:07:03,925 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 27
2012-06-26 10:07:03,925 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =32
2012-06-26 10:07:03,925 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 10:07:03,925 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 32, current position: 0
2012-06-26 10:07:03,925 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 10:07:03,925 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}
2012-06-26 10:07:03,925 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 16
2012-06-26 10:07:03,925 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=16, in.remaining=16
2012-06-26 10:07:03,925 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 10:07:03,925 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 5
2012-06-26 10:07:03,925 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 5: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageCodec@164f8d4
2012-06-26 10:07:03,925 [NioProcessor-1  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - init request message decode
2012-06-26 10:07:03,925 [NioProcessor-1  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - in.remaining()=16
2012-06-26 10:07:03,925 [NioProcessor-1  ] [TRACE] .m.p.s.m.c.InitMessageCodec - InitRequestMessage: [cmdId=5, posId=pos-0002]
2012-06-26 10:07:03,925 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 10:07:03,925 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 10:07:03,925 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 10:07:03,925 [NioProcessor-1  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 10:07:03,925 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 10:07:03,925 [NioProcessor-1  ] [DEBUG] p.f.SessionKeyMessageFilter - Mina session ID 27: created session key 743cde98541148708951a58baa7f50ed
2012-06-26 10:07:03,925 [NioProcessor-1  ] [DEBUG] p.f.SessionKeyMessageFilter - creating session for mina session ID 27 using session ID 743cde98541148708951a58baa7f50ed
2012-06-26 10:07:03,925 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 10:07:03,925 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 10:07:03,925 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 10:07:03,925 [NioProcessor-1  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2144, Mina session ID 27, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 10:07:03,925 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 10:07:03,925 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 10:07:03,925 [pool-4-thread-8 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 10:07:03,925 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 10:07:03,925 [NioProcessor-1  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 10:07:03,925 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 10:07:03,941 [pool-4-thread-8 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 10:07:03,941 [pool-4-thread-8 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@13d0fea obtained for command ID 5
2012-06-26 10:07:03,941 [pool-4-thread-8 ] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 5 is com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@13d0fea
2012-06-26 10:07:03,941 [pool-4-thread-8 ] [DEBUG] .q.m.p.h.InitCommandHandler - InitCommandHandler======execute==bodyMessage=:  [cmdId=5, posId=pos-0002]
2012-06-26 10:07:03,941 [pool-4-thread-8 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - InitResponse() invoke
2012-06-26 10:07:03,941 [pool-4-thread-8 ] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:ALLOWED
2012-06-26 10:07:03,941 [pool-4-thread-8 ] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId AND p.ostatus = :ostatus
2012-06-26 10:07:03,941 [pool-4-thread-8 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - POS ID:pos-0002, init challenge saved - [54, 56, 53, 122, 55, 51, 56, 103]
2012-06-26 10:07:03,941 [pool-4-thread-8 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 10:07:03,972 [pool-4-thread-8 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 10:07:03,972 [pool-4-thread-8 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 10:07:03,972 [pool-4-thread-8 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 10:07:03,972 [pool-4-thread-8 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 27
2012-06-26 10:07:03,972 [pool-4-thread-8 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (6)
2012-06-26 10:07:03,972 [pool-4-thread-8 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageResponseCodec@766ec3
2012-06-26 10:07:03,972 [pool-4-thread-8 ] [DEBUG] .c.InitMessageResponseCodec - init response message encode
2012-06-26 10:07:03,972 [pool-4-thread-8 ] [TRACE] .c.InitMessageResponseCodec - InitResponseMessage: [cmdId=6, result=0, challenge=[54, 56, 53, 122, 55, 51, 56, 103]]
2012-06-26 10:07:03,972 [pool-4-thread-8 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0x248e
2012-06-26 10:07:03,972 [pool-4-thread-8 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 10:07:03,972 [pool-4-thread-8 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 24 8E 00 00 00 1E ..........$.....
00000010 00 00 00 06 00 00 36 38 35 7A 37 33 38 67       ......685z738g

2012-06-26 10:07:03,972 [pool-4-thread-8 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 10:07:03,972 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 10:07:03,972 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 10:07:03,972 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 27: not mark to return session ID to client
2012-06-26 10:07:03,972 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 10:07:03,972 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 10:07:03,972 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 10:07:04,190 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2144, Mina session ID 27, identified POS ID pos-0002
2012-06-26 10:07:04,190 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 06 32 00 00 00 30 ...........2...0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 92 31 F9 C8 29 F0 93 40 EE 08 05 F9 0B 2A 6D 3F .1..)..@.....*m?

2012-06-26 10:07:04,190 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=48 cap=2048: 00 00 00 01 00 00 00 00 00 00 06 32 00 00 00 30...]
2012-06-26 10:07:04,190 [NioProcessor-1  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 27
2012-06-26 10:07:04,190 [NioProcessor-1  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 10:07:04,190 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 10:07:04,190 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 27
2012-06-26 10:07:04,190 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =48
2012-06-26 10:07:04,190 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 06 32 00 00 00 30 ...........2...0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 92 31 F9 C8 29 F0 93 40 EE 08 05 F9 0B 2A 6D 3F .1..)..@.....*m?

2012-06-26 10:07:04,206 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 48, current position: 0
2012-06-26 10:07:04,206 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 10:07:04,206 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x632} messageSize:{0x30} sessionKey:{null}
2012-06-26 10:07:04,206 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 32
2012-06-26 10:07:04,206 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=32, in.remaining=32
2012-06-26 10:07:04,206 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 10:07:04,206 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 7
2012-06-26 10:07:04,206 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 7: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageCodec@1283826
2012-06-26 10:07:04,206 [NioProcessor-1  ] [DEBUG] m.p.s.m.c.LoginMessageCodec - login/bind message decode
2012-06-26 10:07:04,206 [NioProcessor-1  ] [TRACE] m.p.s.m.c.LoginMessageCodec - LoginRequestMessage: [cmdId=7, posId=pos-0002, challengeResponse=[-110, 49, -7, -56, 41, -16, -109, 64, -18, 8, 5, -7, 11, 42, 109, 63]]
2012-06-26 10:07:04,206 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 10:07:04,206 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x632} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[-110, 49, -7, -56, 41, -16, -109, 64, -18, 8, 5, -7, 11, 42, 109, 63]]
2012-06-26 10:07:04,206 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 10:07:04,206 [NioProcessor-1  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 10:07:04,206 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 10:07:04,206 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 10:07:04,206 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 10:07:04,206 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 10:07:04,206 [NioProcessor-1  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2144, Mina session ID 27, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x632} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[-110, 49, -7, -56, 41, -16, -109, 64, -18, 8, 5, -7, 11, 42, 109, 63]]
2012-06-26 10:07:04,206 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 10:07:04,206 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 10:07:04,206 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 10:07:04,206 [NioProcessor-1  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 10:07:04,206 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 10:07:04,206 [pool-4-thread-9 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 10:07:04,206 [pool-4-thread-9 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 10:07:04,206 [pool-4-thread-9 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@1773a14 obtained for command ID 7
2012-06-26 10:07:04,206 [pool-4-thread-9 ] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 7 is com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@1773a14
2012-06-26 10:07:04,206 [pool-4-thread-9 ] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==bodyMessage=: [cmdId=7, posId=pos-0002, challengeResponse=[-110, 49, -7, -56, 41, -16, -109, 64, -18, 8, 5, -7, 11, 42, 109, 63]]
2012-06-26 10:07:04,206 [pool-4-thread-9 ] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:null
2012-06-26 10:07:04,206 [pool-4-thread-9 ] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId
2012-06-26 10:07:04,206 [pool-4-thread-9 ] [TRACE] .q.m.l.l.i.LoginManagerImpl - Loaded from db: pos.posId:pos-0002, pos.secret:000001, oldChallenge:[54, 56, 53, 122, 55, 51, 56, 103]
2012-06-26 10:07:04,206 [pool-4-thread-9 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - disableChallengeCheck =0
2012-06-26 10:07:04,206 [pool-4-thread-9 ] [TRACE] c.c.q.m.l.c.ChallengeUtil   - checking challenge:response:[-110, 49, -7, -56, 41, -16, -109, 64, -18, 8, 5, -7, 11, 42, 109, 63], posKey:000001, random:[54, 56, 53, 122, 55, 51, 56, 103]
2012-06-26 10:07:04,206 [pool-4-thread-9 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - new challenge for POS (POS ID): [105, 49, 70, 107, 103, 80, 117, 68]
2012-06-26 10:07:04,206 [pool-4-thread-9 ] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==serverKey=:JXTPOS
2012-06-26 10:07:04,206 [pool-4-thread-9 ] [DEBUG] ThreadSafeClientConnManager - Get connection: HttpRoute[{}->http://localhost:7070], timeout = 0
2012-06-26 10:07:04,206 [pool-4-thread-9 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - [HttpRoute[{}->http://localhost:7070]] total kept alive: 0, total issued: 0, total allocated: 0 out of 20
2012-06-26 10:07:04,206 [pool-4-thread-9 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - No free connections [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 10:07:04,206 [pool-4-thread-9 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Available capacity: 2 out of 2 [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 10:07:04,206 [pool-4-thread-9 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Creating new connection [HttpRoute[{}->http://localhost:7070]]
2012-06-26 10:07:04,222 [pool-4-thread-9 ] [DEBUG] ultClientConnectionOperator - Connecting to localhost:7070
2012-06-26 10:07:05,360 [pool-4-thread-9 ] [DEBUG] i.c.DefaultClientConnection - Connection closed
2012-06-26 10:07:05,360 [pool-4-thread-9 ] [DEBUG] i.c.DefaultClientConnection - Connection shut down
2012-06-26 10:07:05,360 [pool-4-thread-9 ] [DEBUG] ThreadSafeClientConnManager - Released connection is not reusable.
2012-06-26 10:07:05,360 [pool-4-thread-9 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Releasing connection [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 10:07:05,360 [pool-4-thread-9 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Notifying no-one, there are no waiting threads
2012-06-26 10:07:05,360 [pool-4-thread-9 ] [ERROR] q.m.p.h.LoginCommandHandler - initGrouponCache fail:com.chinarewards.qqgbvpn.qqapi.exception.ParseXMLException: com.chinarewards.qqgbvpn.qqapi.exception.SendPostTimeOutException: org.apache.http.conn.HttpHostConnectException: Connection to http://localhost:7070 refused
2012-06-26 10:07:05,375 [pool-4-thread-9 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 10:07:05,391 [pool-4-thread-9 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 10:07:05,391 [pool-4-thread-9 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 10:07:05,391 [pool-4-thread-9 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 10:07:05,391 [pool-4-thread-9 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 27
2012-06-26 10:07:05,391 [pool-4-thread-9 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (8)
2012-06-26 10:07:05,391 [pool-4-thread-9 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageResponseCodec@1fd6f07
2012-06-26 10:07:05,391 [pool-4-thread-9 ] [DEBUG] c.LoginMessageResponseCodec - login/bind message encode
2012-06-26 10:07:05,391 [pool-4-thread-9 ] [TRACE] c.LoginMessageResponseCodec - LoginResponseMessage: [cmdId=8, result=0, challenge=[105, 49, 70, 107, 103, 80, 117, 68]]
2012-06-26 10:07:05,391 [pool-4-thread-9 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0x73a7
2012-06-26 10:07:05,391 [pool-4-thread-9 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 10:07:05,391 [pool-4-thread-9 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 73 A7 00 00 00 1E ..........s.....
00000010 00 00 00 08 00 00 69 31 46 6B 67 50 75 44       ......i1FkgPuD

2012-06-26 10:07:05,391 [pool-4-thread-9 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 10:07:05,391 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 10:07:05,391 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 10:07:05,391 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 27: not mark to return session ID to client
2012-06-26 10:07:05,391 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 10:07:05,391 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 10:07:05,391 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 10:07:05,391 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2144, Mina session ID 27, identified POS ID pos-0002
2012-06-26 10:07:05,391 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 33 of 33 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 D8 04 00 00 00 21 ...............!
00000010 00 00 00 C9 00 0B 31 31 31 31 31 31 31 31 31 31 ......1111111111
00000020 31                                              1

2012-06-26 10:07:05,391 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=33 cap=1024: 00 00 00 10 00 00 00 00 00 00 D8 04 00 00 00 21...]
2012-06-26 10:07:05,391 [NioProcessor-1  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 27
2012-06-26 10:07:05,391 [NioProcessor-1  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 10:07:05,391 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 10:07:05,391 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 27
2012-06-26 10:07:05,391 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =33
2012-06-26 10:07:05,391 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 33 of 33 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 D8 04 00 00 00 21 ...............!
00000010 00 00 00 C9 00 0B 31 31 31 31 31 31 31 31 31 31 ......1111111111
00000020 31                                              1

2012-06-26 10:07:05,391 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 33, current position: 0
2012-06-26 10:07:05,391 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 10:07:05,391 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd804} messageSize:{0x21} sessionKey:{null}
2012-06-26 10:07:05,391 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 17
2012-06-26 10:07:05,391 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=17, in.remaining=17
2012-06-26 10:07:05,391 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 10:07:05,391 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 201
2012-06-26 10:07:05,391 [Finalizer       ] [DEBUG] ThreadSafeClientConnManager - Shutting down
2012-06-26 10:07:05,391 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 201: com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftMessageCodec@1df3082
2012-06-26 10:07:05,391 [NioProcessor-1  ] [DEBUG] m.c.ReceiveGiftMessageCodec - receive gift request message decode
2012-06-26 10:07:05,391 [NioProcessor-1  ] [DEBUG] m.c.ReceiveGiftMessageCodec - in.remaining()=17
2012-06-26 10:07:05,391 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 10:07:05,391 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd804} messageSize:{0x21} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@192563a
2012-06-26 10:07:05,391 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 10:07:05,391 [NioProcessor-1  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 10:07:05,391 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 10:07:05,391 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 10:07:05,391 [NioProcessor-1  ] [DEBUG] c.c.q.m.p.f.LoginFilter     - isLogin=true
2012-06-26 10:07:05,391 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 10:07:05,391 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 10:07:05,391 [NioProcessor-1  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2144, Mina session ID 27, identified POS ID pos-0002, message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd804} messageSize:{0x21} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@192563a
2012-06-26 10:07:05,391 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 10:07:05,391 [pool-4-thread-10] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 10:07:05,391 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 10:07:05,391 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 10:07:05,391 [NioProcessor-1  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 10:07:05,391 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 10:07:05,391 [pool-4-thread-10] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 10:07:05,391 [pool-4-thread-10] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@52744 obtained for command ID 201
2012-06-26 10:07:05,391 [pool-4-thread-10] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 201 is com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@52744
2012-06-26 10:07:05,391 [pool-4-thread-10] [DEBUG] h.ReceiveGiftCommandHandler - ReceiveGiftHandler======execute==bodyMessage=: com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@192563a
2012-06-26 10:07:05,422 [pool-4-thread-10] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 10:07:05,422 [pool-4-thread-10] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 10:07:05,422 [pool-4-thread-10] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 10:07:05,422 [pool-4-thread-10] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 10:07:05,422 [pool-4-thread-10] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 27
2012-06-26 10:07:05,422 [pool-4-thread-10] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (202)
2012-06-26 10:07:05,422 [pool-4-thread-10] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftResponseMessageCodec@c27081
2012-06-26 10:07:05,422 [pool-4-thread-10] [DEBUG] iveGiftResponseMessageCodec - receive gift response message encode
2012-06-26 10:07:05,422 [pool-4-thread-10] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0xd4c3
2012-06-26 10:07:05,422 [pool-4-thread-10] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 10:07:05,422 [pool-4-thread-10] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 55 of 55 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 D4 C3 00 00 00 37 ...............7
00000010 00 00 00 CA 00 00 00 01 07 DC 06 1A 0A 07 05 01 ................
00000020 87 01 E0 00 08 C1 EC C8 A1 C0 F1 C6 B7 00 08 D2 ................
00000030 D1 C1 EC C8 A1 B9 FD                            .......

2012-06-26 10:07:05,422 [pool-4-thread-10] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 10:07:05,422 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 10:07:05,422 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 10:07:05,422 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 27: not mark to return session ID to client
2012-06-26 10:07:05,422 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 10:07:05,422 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 10:07:05,422 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 10:07:05,422 [NioProcessor-1  ] [INFO ] o.a.m.f.l.LoggingFilter     - CLOSED
2012-06-26 10:07:05,422 [NioProcessor-1  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 10:07:10,926 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:07:10,926 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:07:10,926 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 10:07:10,926 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 10:07:10,926 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:07:20,920 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:07:20,920 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:07:20,920 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 10:07:20,920 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 10:07:20,920 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:07:30,929 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:07:30,929 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:07:30,929 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 10:07:30,929 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 10:07:30,929 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:07:40,923 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:07:40,923 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:07:40,923 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 10:07:40,923 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 10:07:40,923 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:07:50,917 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:07:50,917 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:07:50,917 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 10:07:50,917 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 10:07:50,917 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:08:00,911 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:08:00,911 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:08:00,911 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 10:08:00,911 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 10:08:00,911 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:08:03,842 [NioProcessor-2  ] [INFO ] c.c.q.m.p.f.LoggingFilter   - incoming connection from remote address: 127.0.0.1:2156, Mina session ID: 28
2012-06-26 10:08:03,842 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - Currently managed session count: 1
2012-06-26 10:08:03,842 [NioProcessor-2  ] [INFO ] o.a.m.f.l.LoggingFilter     - CREATED
2012-06-26 10:08:03,842 [NioProcessor-2  ] [INFO ] o.a.m.f.l.LoggingFilter     - OPENED
2012-06-26 10:08:04,013 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2156, Mina session ID 28, identified POS ID null
2012-06-26 10:08:04,013 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 10:08:04,013 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=32 cap=2048: 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20...]
2012-06-26 10:08:04,013 [NioProcessor-2  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 28
2012-06-26 10:08:04,013 [NioProcessor-2  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 10:08:04,013 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 10:08:04,013 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 28
2012-06-26 10:08:04,013 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =32
2012-06-26 10:08:04,013 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 10:08:04,013 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 32, current position: 0
2012-06-26 10:08:04,013 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 10:08:04,013 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}
2012-06-26 10:08:04,013 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 16
2012-06-26 10:08:04,013 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=16, in.remaining=16
2012-06-26 10:08:04,013 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 10:08:04,013 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 5
2012-06-26 10:08:04,013 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 5: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageCodec@13ada
2012-06-26 10:08:04,013 [NioProcessor-2  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - init request message decode
2012-06-26 10:08:04,013 [NioProcessor-2  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - in.remaining()=16
2012-06-26 10:08:04,013 [NioProcessor-2  ] [TRACE] .m.p.s.m.c.InitMessageCodec - InitRequestMessage: [cmdId=5, posId=pos-0002]
2012-06-26 10:08:04,013 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 10:08:04,013 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 10:08:04,013 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 10:08:04,013 [NioProcessor-2  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 10:08:04,013 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 10:08:04,013 [NioProcessor-2  ] [DEBUG] p.f.SessionKeyMessageFilter - Mina session ID 28: created session key 0e0879d74ae942a9bf7a794e50b57cd7
2012-06-26 10:08:04,013 [NioProcessor-2  ] [DEBUG] p.f.SessionKeyMessageFilter - creating session for mina session ID 28 using session ID 0e0879d74ae942a9bf7a794e50b57cd7
2012-06-26 10:08:04,013 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 10:08:04,013 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 10:08:04,013 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 10:08:04,013 [NioProcessor-2  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2156, Mina session ID 28, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 10:08:04,013 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 10:08:04,013 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 10:08:04,013 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 10:08:04,013 [NioProcessor-2  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 10:08:04,013 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 10:08:04,013 [pool-4-thread-11] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 10:08:04,013 [pool-4-thread-11] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 10:08:04,013 [pool-4-thread-11] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@dd7786 obtained for command ID 5
2012-06-26 10:08:04,013 [pool-4-thread-11] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 5 is com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@dd7786
2012-06-26 10:08:04,013 [pool-4-thread-11] [DEBUG] .q.m.p.h.InitCommandHandler - InitCommandHandler======execute==bodyMessage=:  [cmdId=5, posId=pos-0002]
2012-06-26 10:08:04,013 [pool-4-thread-11] [DEBUG] .q.m.l.l.i.LoginManagerImpl - InitResponse() invoke
2012-06-26 10:08:04,013 [pool-4-thread-11] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:ALLOWED
2012-06-26 10:08:04,013 [pool-4-thread-11] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId AND p.ostatus = :ostatus
2012-06-26 10:08:04,029 [pool-4-thread-11] [DEBUG] .q.m.l.l.i.LoginManagerImpl - POS ID:pos-0002, init challenge saved - [112, 121, 76, 53, 120, 109, 80, 118]
2012-06-26 10:08:04,029 [pool-4-thread-11] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 10:08:04,045 [pool-4-thread-11] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 10:08:04,045 [pool-4-thread-11] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 10:08:04,045 [pool-4-thread-11] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 10:08:04,045 [pool-4-thread-11] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 28
2012-06-26 10:08:04,045 [pool-4-thread-11] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (6)
2012-06-26 10:08:04,045 [pool-4-thread-11] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageResponseCodec@c77c8
2012-06-26 10:08:04,045 [pool-4-thread-11] [DEBUG] .c.InitMessageResponseCodec - init response message encode
2012-06-26 10:08:04,045 [pool-4-thread-11] [TRACE] .c.InitMessageResponseCodec - InitResponseMessage: [cmdId=6, result=0, challenge=[112, 121, 76, 53, 120, 109, 80, 118]]
2012-06-26 10:08:04,045 [pool-4-thread-11] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0x7a48
2012-06-26 10:08:04,045 [pool-4-thread-11] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 10:08:04,045 [pool-4-thread-11] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 7A 48 00 00 00 1E ..........zH....
00000010 00 00 00 06 00 00 70 79 4C 35 78 6D 50 76       ......pyL5xmPv

2012-06-26 10:08:04,045 [pool-4-thread-11] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 10:08:04,045 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 10:08:04,045 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 10:08:04,045 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 28: not mark to return session ID to client
2012-06-26 10:08:04,045 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 10:08:04,045 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 10:08:04,045 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 10:08:04,263 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2156, Mina session ID 28, identified POS ID pos-0002
2012-06-26 10:08:04,263 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 69 49 00 00 00 30 ..........iI...0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 BC E9 6C F6 1B CA A1 8E C6 14 7F ED A3 C7 81 7C ..l............|

2012-06-26 10:08:04,263 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=48 cap=2048: 00 00 00 01 00 00 00 00 00 00 69 49 00 00 00 30...]
2012-06-26 10:08:04,263 [NioProcessor-2  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 28
2012-06-26 10:08:04,263 [NioProcessor-2  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 10:08:04,263 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 10:08:04,263 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 28
2012-06-26 10:08:04,263 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =48
2012-06-26 10:08:04,263 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 69 49 00 00 00 30 ..........iI...0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 BC E9 6C F6 1B CA A1 8E C6 14 7F ED A3 C7 81 7C ..l............|

2012-06-26 10:08:04,263 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 48, current position: 0
2012-06-26 10:08:04,263 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 10:08:04,263 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x6949} messageSize:{0x30} sessionKey:{null}
2012-06-26 10:08:04,263 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 32
2012-06-26 10:08:04,263 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=32, in.remaining=32
2012-06-26 10:08:04,263 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 10:08:04,263 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 7
2012-06-26 10:08:04,263 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 7: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageCodec@5c18ff
2012-06-26 10:08:04,263 [NioProcessor-2  ] [DEBUG] m.p.s.m.c.LoginMessageCodec - login/bind message decode
2012-06-26 10:08:04,263 [NioProcessor-2  ] [TRACE] m.p.s.m.c.LoginMessageCodec - LoginRequestMessage: [cmdId=7, posId=pos-0002, challengeResponse=[-68, -23, 108, -10, 27, -54, -95, -114, -58, 20, 127, -19, -93, -57, -127, 124]]
2012-06-26 10:08:04,263 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 10:08:04,279 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x6949} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[-68, -23, 108, -10, 27, -54, -95, -114, -58, 20, 127, -19, -93, -57, -127, 124]]
2012-06-26 10:08:04,279 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 10:08:04,279 [NioProcessor-2  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 10:08:04,279 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 10:08:04,279 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 10:08:04,279 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 10:08:04,279 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 10:08:04,279 [NioProcessor-2  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2156, Mina session ID 28, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x6949} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[-68, -23, 108, -10, 27, -54, -95, -114, -58, 20, 127, -19, -93, -57, -127, 124]]
2012-06-26 10:08:04,279 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 10:08:04,279 [pool-4-thread-12] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 10:08:04,279 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 10:08:04,279 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 10:08:04,279 [NioProcessor-2  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 10:08:04,279 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 10:08:04,279 [pool-4-thread-12] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 10:08:04,279 [pool-4-thread-12] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@f6ede1 obtained for command ID 7
2012-06-26 10:08:04,279 [pool-4-thread-12] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 7 is com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@f6ede1
2012-06-26 10:08:04,279 [pool-4-thread-12] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==bodyMessage=: [cmdId=7, posId=pos-0002, challengeResponse=[-68, -23, 108, -10, 27, -54, -95, -114, -58, 20, 127, -19, -93, -57, -127, 124]]
2012-06-26 10:08:04,279 [pool-4-thread-12] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:null
2012-06-26 10:08:04,279 [pool-4-thread-12] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId
2012-06-26 10:08:04,279 [pool-4-thread-12] [TRACE] .q.m.l.l.i.LoginManagerImpl - Loaded from db: pos.posId:pos-0002, pos.secret:000001, oldChallenge:[112, 121, 76, 53, 120, 109, 80, 118]
2012-06-26 10:08:04,279 [pool-4-thread-12] [DEBUG] .q.m.l.l.i.LoginManagerImpl - disableChallengeCheck =0
2012-06-26 10:08:04,279 [pool-4-thread-12] [TRACE] c.c.q.m.l.c.ChallengeUtil   - checking challenge:response:[-68, -23, 108, -10, 27, -54, -95, -114, -58, 20, 127, -19, -93, -57, -127, 124], posKey:000001, random:[112, 121, 76, 53, 120, 109, 80, 118]
2012-06-26 10:08:04,279 [pool-4-thread-12] [DEBUG] .q.m.l.l.i.LoginManagerImpl - new challenge for POS (POS ID): [67, 68, 85, 74, 110, 48, 97, 78]
2012-06-26 10:08:04,294 [pool-4-thread-12] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==serverKey=:JXTPOS
2012-06-26 10:08:04,294 [pool-4-thread-12] [DEBUG] ThreadSafeClientConnManager - Get connection: HttpRoute[{}->http://localhost:7070], timeout = 0
2012-06-26 10:08:04,294 [pool-4-thread-12] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - [HttpRoute[{}->http://localhost:7070]] total kept alive: 0, total issued: 0, total allocated: 0 out of 20
2012-06-26 10:08:04,294 [pool-4-thread-12] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - No free connections [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 10:08:04,294 [pool-4-thread-12] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Available capacity: 2 out of 2 [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 10:08:04,294 [pool-4-thread-12] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Creating new connection [HttpRoute[{}->http://localhost:7070]]
2012-06-26 10:08:04,294 [pool-4-thread-12] [DEBUG] ultClientConnectionOperator - Connecting to localhost:7070
2012-06-26 10:08:05,292 [pool-4-thread-12] [DEBUG] i.c.DefaultClientConnection - Connection closed
2012-06-26 10:08:05,292 [pool-4-thread-12] [DEBUG] i.c.DefaultClientConnection - Connection shut down
2012-06-26 10:08:05,292 [pool-4-thread-12] [DEBUG] ThreadSafeClientConnManager - Released connection is not reusable.
2012-06-26 10:08:05,292 [pool-4-thread-12] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Releasing connection [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 10:08:05,292 [pool-4-thread-12] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Notifying no-one, there are no waiting threads
2012-06-26 10:08:05,292 [pool-4-thread-12] [ERROR] q.m.p.h.LoginCommandHandler - initGrouponCache fail:com.chinarewards.qqgbvpn.qqapi.exception.ParseXMLException: com.chinarewards.qqgbvpn.qqapi.exception.SendPostTimeOutException: org.apache.http.conn.HttpHostConnectException: Connection to http://localhost:7070 refused
2012-06-26 10:08:05,308 [pool-4-thread-12] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 10:08:05,339 [pool-4-thread-12] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 10:08:05,339 [pool-4-thread-12] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 10:08:05,339 [pool-4-thread-12] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 10:08:05,339 [pool-4-thread-12] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 28
2012-06-26 10:08:05,339 [pool-4-thread-12] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (8)
2012-06-26 10:08:05,339 [pool-4-thread-12] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageResponseCodec@8cd4db
2012-06-26 10:08:05,339 [pool-4-thread-12] [DEBUG] c.LoginMessageResponseCodec - login/bind message encode
2012-06-26 10:08:05,339 [pool-4-thread-12] [TRACE] c.LoginMessageResponseCodec - LoginResponseMessage: [cmdId=8, result=0, challenge=[67, 68, 85, 74, 110, 48, 97, 78]]
2012-06-26 10:08:05,339 [pool-4-thread-12] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0x97cb
2012-06-26 10:08:05,339 [pool-4-thread-12] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 10:08:05,339 [pool-4-thread-12] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 97 CB 00 00 00 1E ................
00000010 00 00 00 08 00 00 43 44 55 4A 6E 30 61 4E       ......CDUJn0aN

2012-06-26 10:08:05,339 [pool-4-thread-12] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 10:08:05,339 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 10:08:05,339 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 10:08:05,339 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 28: not mark to return session ID to client
2012-06-26 10:08:05,339 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 10:08:05,339 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 10:08:05,339 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 10:08:05,339 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2156, Mina session ID 28, identified POS ID pos-0002
2012-06-26 10:08:05,339 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 33 of 33 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 D8 04 00 00 00 21 ...............!
00000010 00 00 00 C9 00 0B 31 31 31 31 31 31 31 31 31 31 ......1111111111
00000020 31                                              1

2012-06-26 10:08:05,339 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=33 cap=1024: 00 00 00 10 00 00 00 00 00 00 D8 04 00 00 00 21...]
2012-06-26 10:08:05,339 [NioProcessor-2  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 28
2012-06-26 10:08:05,339 [NioProcessor-2  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 10:08:05,339 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 10:08:05,339 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 28
2012-06-26 10:08:05,339 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =33
2012-06-26 10:08:05,339 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 33 of 33 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 D8 04 00 00 00 21 ...............!
00000010 00 00 00 C9 00 0B 31 31 31 31 31 31 31 31 31 31 ......1111111111
00000020 31                                              1

2012-06-26 10:08:05,339 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 33, current position: 0
2012-06-26 10:08:05,339 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 10:08:05,339 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd804} messageSize:{0x21} sessionKey:{null}
2012-06-26 10:08:05,339 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 17
2012-06-26 10:08:05,339 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=17, in.remaining=17
2012-06-26 10:08:05,339 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 10:08:05,339 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 201
2012-06-26 10:08:05,339 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 201: com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftMessageCodec@1ea8dbd
2012-06-26 10:08:05,339 [NioProcessor-2  ] [DEBUG] m.c.ReceiveGiftMessageCodec - receive gift request message decode
2012-06-26 10:08:05,339 [NioProcessor-2  ] [DEBUG] m.c.ReceiveGiftMessageCodec - in.remaining()=17
2012-06-26 10:08:05,339 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 10:08:05,339 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd804} messageSize:{0x21} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@1ff83a9
2012-06-26 10:08:05,339 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 10:08:05,339 [NioProcessor-2  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 10:08:05,339 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 10:08:05,339 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 10:08:05,339 [NioProcessor-2  ] [DEBUG] c.c.q.m.p.f.LoginFilter     - isLogin=true
2012-06-26 10:08:05,339 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 10:08:05,339 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 10:08:05,339 [NioProcessor-2  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2156, Mina session ID 28, identified POS ID pos-0002, message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd804} messageSize:{0x21} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@1ff83a9
2012-06-26 10:08:05,339 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 10:08:05,339 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 10:08:05,339 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 10:08:05,339 [NioProcessor-2  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 10:08:05,339 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 10:08:05,339 [pool-4-thread-13] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 10:08:05,339 [pool-4-thread-13] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 10:08:05,339 [pool-4-thread-13] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@b7cee4 obtained for command ID 201
2012-06-26 10:08:05,339 [pool-4-thread-13] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 201 is com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@b7cee4
2012-06-26 10:08:05,339 [pool-4-thread-13] [DEBUG] h.ReceiveGiftCommandHandler - ReceiveGiftHandler======execute==bodyMessage=: com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@1ff83a9
2012-06-26 10:08:05,386 [pool-4-thread-13] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 10:08:05,386 [pool-4-thread-13] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 10:08:05,386 [pool-4-thread-13] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 10:08:05,386 [pool-4-thread-13] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 10:08:05,386 [pool-4-thread-13] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 28
2012-06-26 10:08:05,386 [pool-4-thread-13] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (202)
2012-06-26 10:08:05,386 [pool-4-thread-13] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftResponseMessageCodec@1ee40a4
2012-06-26 10:08:05,386 [pool-4-thread-13] [DEBUG] iveGiftResponseMessageCodec - receive gift response message encode
2012-06-26 10:08:05,386 [pool-4-thread-13] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0x8c3
2012-06-26 10:08:05,386 [pool-4-thread-13] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 10:08:05,386 [pool-4-thread-13] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 55 of 55 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 08 C3 00 00 00 37 ...............7
00000010 00 00 00 CA 00 00 00 01 07 DC 06 1A 0A 08 05 01 ................
00000020 53 01 E0 00 08 C1 EC C8 A1 C0 F1 C6 B7 00 08 D2 S...............
00000030 D1 C1 EC C8 A1 B9 FD                            .......

2012-06-26 10:08:05,386 [pool-4-thread-13] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 10:08:05,386 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 10:08:05,386 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 10:08:05,386 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 28: not mark to return session ID to client
2012-06-26 10:08:05,386 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 10:08:05,386 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 10:08:05,386 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 10:08:05,386 [NioProcessor-2  ] [INFO ] o.a.m.f.l.LoggingFilter     - CLOSED
2012-06-26 10:08:05,386 [NioProcessor-2  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 10:08:10,936 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:08:10,936 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:08:10,936 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 10:08:10,936 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 10:08:10,936 [Finalizer       ] [DEBUG] ThreadSafeClientConnManager - Shutting down
2012-06-26 10:08:10,936 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:08:20,930 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:08:20,930 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:08:20,930 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 10:08:20,930 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 10:08:20,930 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:08:30,924 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:08:30,924 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:08:30,924 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 10:08:30,924 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 10:08:30,924 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:08:40,918 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:08:40,918 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:08:40,918 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 10:08:40,918 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 10:08:40,918 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:08:41,323 [NioProcessor-3  ] [INFO ] c.c.q.m.p.f.LoggingFilter   - incoming connection from remote address: 127.0.0.1:2162, Mina session ID: 29
2012-06-26 10:08:41,323 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - Currently managed session count: 1
2012-06-26 10:08:41,323 [NioProcessor-3  ] [INFO ] o.a.m.f.l.LoggingFilter     - CREATED
2012-06-26 10:08:41,323 [NioProcessor-3  ] [INFO ] o.a.m.f.l.LoggingFilter     - OPENED
2012-06-26 10:08:41,323 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2162, Mina session ID 29, identified POS ID null
2012-06-26 10:08:41,323 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 10:08:41,323 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=32 cap=2048: 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20...]
2012-06-26 10:08:41,323 [NioProcessor-3  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 29
2012-06-26 10:08:41,323 [NioProcessor-3  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 10:08:41,323 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 10:08:41,323 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 29
2012-06-26 10:08:41,323 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =32
2012-06-26 10:08:41,323 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 10:08:41,323 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 32, current position: 0
2012-06-26 10:08:41,323 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 10:08:41,323 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}
2012-06-26 10:08:41,323 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 16
2012-06-26 10:08:41,323 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=16, in.remaining=16
2012-06-26 10:08:41,323 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 10:08:41,323 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 5
2012-06-26 10:08:41,323 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 5: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageCodec@a92aaa
2012-06-26 10:08:41,323 [NioProcessor-3  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - init request message decode
2012-06-26 10:08:41,323 [NioProcessor-3  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - in.remaining()=16
2012-06-26 10:08:41,323 [NioProcessor-3  ] [TRACE] .m.p.s.m.c.InitMessageCodec - InitRequestMessage: [cmdId=5, posId=pos-0002]
2012-06-26 10:08:41,323 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 10:08:41,323 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 10:08:41,323 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 10:08:41,323 [NioProcessor-3  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 10:08:41,323 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 10:08:41,323 [NioProcessor-3  ] [DEBUG] p.f.SessionKeyMessageFilter - Mina session ID 29: created session key 63e01072d8704c78a3e68b6667f57207
2012-06-26 10:08:41,323 [NioProcessor-3  ] [DEBUG] p.f.SessionKeyMessageFilter - creating session for mina session ID 29 using session ID 63e01072d8704c78a3e68b6667f57207
2012-06-26 10:08:41,323 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 10:08:41,323 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 10:08:41,323 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 10:08:41,323 [NioProcessor-3  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2162, Mina session ID 29, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 10:08:41,323 [pool-4-thread-14] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 10:08:41,323 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 10:08:41,323 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 10:08:41,323 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 10:08:41,323 [NioProcessor-3  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 10:08:41,323 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 10:08:41,323 [pool-4-thread-14] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 10:08:41,323 [pool-4-thread-14] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@2110fc obtained for command ID 5
2012-06-26 10:08:41,323 [pool-4-thread-14] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 5 is com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@2110fc
2012-06-26 10:08:41,339 [pool-4-thread-14] [DEBUG] .q.m.p.h.InitCommandHandler - InitCommandHandler======execute==bodyMessage=:  [cmdId=5, posId=pos-0002]
2012-06-26 10:08:41,339 [pool-4-thread-14] [DEBUG] .q.m.l.l.i.LoginManagerImpl - InitResponse() invoke
2012-06-26 10:08:41,339 [pool-4-thread-14] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:ALLOWED
2012-06-26 10:08:41,339 [pool-4-thread-14] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId AND p.ostatus = :ostatus
2012-06-26 10:08:41,339 [pool-4-thread-14] [DEBUG] .q.m.l.l.i.LoginManagerImpl - POS ID:pos-0002, init challenge saved - [108, 49, 82, 83, 112, 70, 115, 52]
2012-06-26 10:08:41,339 [pool-4-thread-14] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 10:08:41,370 [pool-4-thread-14] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 10:08:41,370 [pool-4-thread-14] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 10:08:41,370 [pool-4-thread-14] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 10:08:41,370 [pool-4-thread-14] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 29
2012-06-26 10:08:41,370 [pool-4-thread-14] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (6)
2012-06-26 10:08:41,370 [pool-4-thread-14] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageResponseCodec@4854f6
2012-06-26 10:08:41,370 [pool-4-thread-14] [DEBUG] .c.InitMessageResponseCodec - init response message encode
2012-06-26 10:08:41,370 [pool-4-thread-14] [TRACE] .c.InitMessageResponseCodec - InitResponseMessage: [cmdId=6, result=0, challenge=[108, 49, 82, 83, 112, 70, 115, 52]]
2012-06-26 10:08:41,370 [pool-4-thread-14] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0x5ddb
2012-06-26 10:08:41,370 [pool-4-thread-14] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 10:08:41,370 [pool-4-thread-14] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 5D DB 00 00 00 1E ..........].....
00000010 00 00 00 06 00 00 6C 31 52 53 70 46 73 34       ......l1RSpFs4

2012-06-26 10:08:41,370 [pool-4-thread-14] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 10:08:41,370 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 10:08:41,370 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 10:08:41,370 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 29: not mark to return session ID to client
2012-06-26 10:08:41,385 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 10:08:41,385 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 10:08:41,385 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 10:08:41,588 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2162, Mina session ID 29, identified POS ID pos-0002
2012-06-26 10:08:41,588 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 3D 57 00 00 00 30 ..........=W...0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 49 E5 1A 93 E7 F3 10 06 C4 6C 1F 25 E1 FA 5C 72 I........l.%..\r

2012-06-26 10:08:41,604 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=48 cap=2048: 00 00 00 01 00 00 00 00 00 00 3D 57 00 00 00 30...]
2012-06-26 10:08:41,604 [NioProcessor-3  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 29
2012-06-26 10:08:41,604 [NioProcessor-3  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 10:08:41,604 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 10:08:41,604 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 29
2012-06-26 10:08:41,604 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =48
2012-06-26 10:08:41,604 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 3D 57 00 00 00 30 ..........=W...0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 49 E5 1A 93 E7 F3 10 06 C4 6C 1F 25 E1 FA 5C 72 I........l.%..\r

2012-06-26 10:08:41,604 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 48, current position: 0
2012-06-26 10:08:41,604 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 10:08:41,604 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x3d57} messageSize:{0x30} sessionKey:{null}
2012-06-26 10:08:41,604 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 32
2012-06-26 10:08:41,604 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=32, in.remaining=32
2012-06-26 10:08:41,604 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 10:08:41,604 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 7
2012-06-26 10:08:41,604 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 7: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageCodec@c11557
2012-06-26 10:08:41,604 [NioProcessor-3  ] [DEBUG] m.p.s.m.c.LoginMessageCodec - login/bind message decode
2012-06-26 10:08:41,604 [NioProcessor-3  ] [TRACE] m.p.s.m.c.LoginMessageCodec - LoginRequestMessage: [cmdId=7, posId=pos-0002, challengeResponse=[73, -27, 26, -109, -25, -13, 16, 6, -60, 108, 31, 37, -31, -6, 92, 114]]
2012-06-26 10:08:41,604 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 10:08:41,604 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x3d57} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[73, -27, 26, -109, -25, -13, 16, 6, -60, 108, 31, 37, -31, -6, 92, 114]]
2012-06-26 10:08:41,604 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 10:08:41,604 [NioProcessor-3  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 10:08:41,604 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 10:08:41,604 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 10:08:41,604 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 10:08:41,604 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 10:08:41,604 [NioProcessor-3  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2162, Mina session ID 29, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x3d57} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[73, -27, 26, -109, -25, -13, 16, 6, -60, 108, 31, 37, -31, -6, 92, 114]]
2012-06-26 10:08:41,604 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 10:08:41,604 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 10:08:41,604 [pool-4-thread-15] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 10:08:41,604 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 10:08:41,604 [NioProcessor-3  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 10:08:41,604 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 10:08:41,604 [pool-4-thread-15] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 10:08:41,604 [pool-4-thread-15] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@74c144 obtained for command ID 7
2012-06-26 10:08:41,604 [pool-4-thread-15] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 7 is com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@74c144
2012-06-26 10:08:41,604 [pool-4-thread-15] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==bodyMessage=: [cmdId=7, posId=pos-0002, challengeResponse=[73, -27, 26, -109, -25, -13, 16, 6, -60, 108, 31, 37, -31, -6, 92, 114]]
2012-06-26 10:08:41,604 [pool-4-thread-15] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:null
2012-06-26 10:08:41,604 [pool-4-thread-15] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId
2012-06-26 10:08:41,604 [pool-4-thread-15] [TRACE] .q.m.l.l.i.LoginManagerImpl - Loaded from db: pos.posId:pos-0002, pos.secret:000001, oldChallenge:[108, 49, 82, 83, 112, 70, 115, 52]
2012-06-26 10:08:41,604 [pool-4-thread-15] [DEBUG] .q.m.l.l.i.LoginManagerImpl - disableChallengeCheck =0
2012-06-26 10:08:41,604 [pool-4-thread-15] [TRACE] c.c.q.m.l.c.ChallengeUtil   - checking challenge:response:[73, -27, 26, -109, -25, -13, 16, 6, -60, 108, 31, 37, -31, -6, 92, 114], posKey:000001, random:[108, 49, 82, 83, 112, 70, 115, 52]
2012-06-26 10:08:41,604 [pool-4-thread-15] [DEBUG] .q.m.l.l.i.LoginManagerImpl - new challenge for POS (POS ID): [70, 115, 103, 54, 49, 51, 67, 49]
2012-06-26 10:08:41,604 [pool-4-thread-15] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==serverKey=:JXTPOS
2012-06-26 10:08:41,604 [pool-4-thread-15] [DEBUG] ThreadSafeClientConnManager - Get connection: HttpRoute[{}->http://localhost:7070], timeout = 0
2012-06-26 10:08:41,604 [pool-4-thread-15] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - [HttpRoute[{}->http://localhost:7070]] total kept alive: 0, total issued: 0, total allocated: 0 out of 20
2012-06-26 10:08:41,604 [pool-4-thread-15] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - No free connections [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 10:08:41,604 [pool-4-thread-15] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Available capacity: 2 out of 2 [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 10:08:41,604 [pool-4-thread-15] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Creating new connection [HttpRoute[{}->http://localhost:7070]]
2012-06-26 10:08:41,619 [pool-4-thread-15] [DEBUG] ultClientConnectionOperator - Connecting to localhost:7070
2012-06-26 10:08:42,524 [pool-4-thread-15] [DEBUG] i.c.DefaultClientConnection - Connection closed
2012-06-26 10:08:42,524 [pool-4-thread-15] [DEBUG] i.c.DefaultClientConnection - Connection shut down
2012-06-26 10:08:42,524 [pool-4-thread-15] [DEBUG] ThreadSafeClientConnManager - Released connection is not reusable.
2012-06-26 10:08:42,524 [pool-4-thread-15] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Releasing connection [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 10:08:42,524 [pool-4-thread-15] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Notifying no-one, there are no waiting threads
2012-06-26 10:08:42,524 [pool-4-thread-15] [ERROR] q.m.p.h.LoginCommandHandler - initGrouponCache fail:com.chinarewards.qqgbvpn.qqapi.exception.ParseXMLException: com.chinarewards.qqgbvpn.qqapi.exception.SendPostTimeOutException: org.apache.http.conn.HttpHostConnectException: Connection to http://localhost:7070 refused
2012-06-26 10:08:42,539 [pool-4-thread-15] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 10:08:42,570 [pool-4-thread-15] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 10:08:42,570 [pool-4-thread-15] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 10:08:42,570 [pool-4-thread-15] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 10:08:42,570 [pool-4-thread-15] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 29
2012-06-26 10:08:42,570 [pool-4-thread-15] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (8)
2012-06-26 10:08:42,570 [pool-4-thread-15] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageResponseCodec@161401f
2012-06-26 10:08:42,570 [pool-4-thread-15] [DEBUG] c.LoginMessageResponseCodec - login/bind message encode
2012-06-26 10:08:42,570 [pool-4-thread-15] [TRACE] c.LoginMessageResponseCodec - LoginResponseMessage: [cmdId=8, result=0, challenge=[70, 115, 103, 54, 49, 51, 67, 49]]
2012-06-26 10:08:42,570 [pool-4-thread-15] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0xddca
2012-06-26 10:08:42,570 [pool-4-thread-15] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 10:08:42,570 [pool-4-thread-15] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 DD CA 00 00 00 1E ................
00000010 00 00 00 08 00 00 46 73 67 36 31 33 43 31       ......Fsg613C1

2012-06-26 10:08:42,570 [pool-4-thread-15] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 10:08:42,570 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 10:08:42,570 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 10:08:42,570 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 29: not mark to return session ID to client
2012-06-26 10:08:42,570 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 10:08:42,570 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 10:08:42,570 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 10:08:42,570 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2162, Mina session ID 29, identified POS ID pos-0002
2012-06-26 10:08:42,570 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 33 of 33 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 D8 04 00 00 00 21 ...............!
00000010 00 00 00 C9 00 0B 31 31 31 31 31 31 31 31 31 31 ......1111111111
00000020 31                                              1

2012-06-26 10:08:42,570 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=33 cap=1024: 00 00 00 10 00 00 00 00 00 00 D8 04 00 00 00 21...]
2012-06-26 10:08:42,570 [NioProcessor-3  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 29
2012-06-26 10:08:42,570 [NioProcessor-3  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 10:08:42,570 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 10:08:42,570 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 29
2012-06-26 10:08:42,570 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =33
2012-06-26 10:08:42,570 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 33 of 33 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 D8 04 00 00 00 21 ...............!
00000010 00 00 00 C9 00 0B 31 31 31 31 31 31 31 31 31 31 ......1111111111
00000020 31                                              1

2012-06-26 10:08:42,570 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 33, current position: 0
2012-06-26 10:08:42,570 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 10:08:42,570 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd804} messageSize:{0x21} sessionKey:{null}
2012-06-26 10:08:42,570 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 17
2012-06-26 10:08:42,570 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=17, in.remaining=17
2012-06-26 10:08:42,570 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 10:08:42,570 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 201
2012-06-26 10:08:42,570 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 201: com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftMessageCodec@1b8b808
2012-06-26 10:08:42,570 [NioProcessor-3  ] [DEBUG] m.c.ReceiveGiftMessageCodec - receive gift request message decode
2012-06-26 10:08:42,570 [NioProcessor-3  ] [DEBUG] m.c.ReceiveGiftMessageCodec - in.remaining()=17
2012-06-26 10:08:42,570 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 10:08:42,570 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd804} messageSize:{0x21} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@3a3e1b
2012-06-26 10:08:42,570 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 10:08:42,570 [NioProcessor-3  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 10:08:42,570 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 10:08:42,570 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 10:08:42,570 [NioProcessor-3  ] [DEBUG] c.c.q.m.p.f.LoginFilter     - isLogin=true
2012-06-26 10:08:42,570 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 10:08:42,570 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 10:08:42,570 [NioProcessor-3  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2162, Mina session ID 29, identified POS ID pos-0002, message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd804} messageSize:{0x21} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@3a3e1b
2012-06-26 10:08:42,570 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 10:08:42,570 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 10:08:42,570 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 10:08:42,570 [pool-4-thread-16] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 10:08:42,570 [NioProcessor-3  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 10:08:42,570 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 10:08:42,570 [pool-4-thread-16] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 10:08:42,570 [pool-4-thread-16] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@ab436d obtained for command ID 201
2012-06-26 10:08:42,570 [pool-4-thread-16] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 201 is com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@ab436d
2012-06-26 10:08:42,570 [pool-4-thread-16] [DEBUG] h.ReceiveGiftCommandHandler - ReceiveGiftHandler======execute==bodyMessage=: com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@3a3e1b
2012-06-26 10:08:42,601 [pool-4-thread-16] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 10:08:42,601 [pool-4-thread-16] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 10:08:42,601 [pool-4-thread-16] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 10:08:42,601 [pool-4-thread-16] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 10:08:42,601 [pool-4-thread-16] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 29
2012-06-26 10:08:42,601 [pool-4-thread-16] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (202)
2012-06-26 10:08:42,601 [pool-4-thread-16] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftResponseMessageCodec@1594ba3
2012-06-26 10:08:42,601 [pool-4-thread-16] [DEBUG] iveGiftResponseMessageCodec - receive gift response message encode
2012-06-26 10:08:42,601 [pool-4-thread-16] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0xfcc1
2012-06-26 10:08:42,601 [pool-4-thread-16] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 10:08:42,601 [pool-4-thread-16] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 55 of 55 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 FC C1 00 00 00 37 ...............7
00000010 00 00 00 CA 00 00 00 01 07 DC 06 1A 0A 08 2A 02 ..............*.
00000020 3A 01 E0 00 08 C1 EC C8 A1 C0 F1 C6 B7 00 08 D2 :...............
00000030 D1 C1 EC C8 A1 B9 FD                            .......

2012-06-26 10:08:42,601 [pool-4-thread-16] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 10:08:42,601 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 10:08:42,601 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 10:08:42,601 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 29: not mark to return session ID to client
2012-06-26 10:08:42,601 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 10:08:42,601 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 10:08:42,601 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 10:08:42,601 [NioProcessor-3  ] [INFO ] o.a.m.f.l.LoggingFilter     - CLOSED
2012-06-26 10:08:42,601 [NioProcessor-3  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 10:08:42,601 [Finalizer       ] [DEBUG] ThreadSafeClientConnManager - Shutting down
2012-06-26 10:08:50,989 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:08:50,989 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:08:50,989 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 10:08:50,989 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=3
2012-06-26 10:08:50,989 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:09:00,983 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:09:00,983 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:09:00,983 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 10:09:00,983 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=3
2012-06-26 10:09:00,983 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:09:07,656 [NioProcessor-1  ] [INFO ] c.c.q.m.p.f.LoggingFilter   - incoming connection from remote address: 127.0.0.1:2166, Mina session ID: 30
2012-06-26 10:09:07,656 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - Currently managed session count: 1
2012-06-26 10:09:07,656 [NioProcessor-1  ] [INFO ] o.a.m.f.l.LoggingFilter     - CREATED
2012-06-26 10:09:07,656 [NioProcessor-1  ] [INFO ] o.a.m.f.l.LoggingFilter     - OPENED
2012-06-26 10:09:07,656 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2166, Mina session ID 30, identified POS ID null
2012-06-26 10:09:07,656 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 10:09:07,656 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=32 cap=2048: 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20...]
2012-06-26 10:09:07,672 [NioProcessor-1  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 30
2012-06-26 10:09:07,688 [NioProcessor-1  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 10:09:07,688 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 10:09:07,688 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 30
2012-06-26 10:09:07,688 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =32
2012-06-26 10:09:07,688 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 10:09:07,688 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 32, current position: 0
2012-06-26 10:09:07,688 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 10:09:07,688 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}
2012-06-26 10:09:07,688 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 16
2012-06-26 10:09:07,688 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=16, in.remaining=16
2012-06-26 10:09:07,688 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 10:09:07,688 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 5
2012-06-26 10:09:07,688 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 5: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageCodec@39826
2012-06-26 10:09:07,688 [NioProcessor-1  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - init request message decode
2012-06-26 10:09:07,688 [NioProcessor-1  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - in.remaining()=16
2012-06-26 10:09:07,688 [NioProcessor-1  ] [TRACE] .m.p.s.m.c.InitMessageCodec - InitRequestMessage: [cmdId=5, posId=pos-0002]
2012-06-26 10:09:07,688 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 10:09:07,688 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 10:09:07,688 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 10:09:07,688 [NioProcessor-1  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 10:09:07,688 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 10:09:07,688 [NioProcessor-1  ] [DEBUG] p.f.SessionKeyMessageFilter - Mina session ID 30: created session key 9e0f52e5bcb148d78554d17532fe4a6b
2012-06-26 10:09:07,688 [NioProcessor-1  ] [DEBUG] p.f.SessionKeyMessageFilter - creating session for mina session ID 30 using session ID 9e0f52e5bcb148d78554d17532fe4a6b
2012-06-26 10:09:07,688 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 10:09:07,688 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 10:09:07,688 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 10:09:07,688 [NioProcessor-1  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2166, Mina session ID 30, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 10:09:07,688 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 10:09:07,688 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 10:09:07,688 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 10:09:07,688 [NioProcessor-1  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 10:09:07,688 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 10:09:07,688 [pool-4-thread-17] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 10:09:07,688 [pool-4-thread-17] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 10:09:07,688 [pool-4-thread-17] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@8e3115 obtained for command ID 5
2012-06-26 10:09:07,688 [pool-4-thread-17] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 5 is com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@8e3115
2012-06-26 10:09:07,688 [pool-4-thread-17] [DEBUG] .q.m.p.h.InitCommandHandler - InitCommandHandler======execute==bodyMessage=:  [cmdId=5, posId=pos-0002]
2012-06-26 10:09:07,688 [pool-4-thread-17] [DEBUG] .q.m.l.l.i.LoginManagerImpl - InitResponse() invoke
2012-06-26 10:09:07,688 [pool-4-thread-17] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:ALLOWED
2012-06-26 10:09:07,688 [pool-4-thread-17] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId AND p.ostatus = :ostatus
2012-06-26 10:09:07,688 [pool-4-thread-17] [DEBUG] .q.m.l.l.i.LoginManagerImpl - POS ID:pos-0002, init challenge saved - [118, 116, 51, 81, 48, 52, 105, 122]
2012-06-26 10:09:07,688 [pool-4-thread-17] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 10:09:07,719 [pool-4-thread-17] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 10:09:07,719 [pool-4-thread-17] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 10:09:07,719 [pool-4-thread-17] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 10:09:07,719 [pool-4-thread-17] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 30
2012-06-26 10:09:07,719 [pool-4-thread-17] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (6)
2012-06-26 10:09:07,719 [pool-4-thread-17] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageResponseCodec@14b52aa
2012-06-26 10:09:07,719 [pool-4-thread-17] [DEBUG] .c.InitMessageResponseCodec - init response message encode
2012-06-26 10:09:07,719 [pool-4-thread-17] [TRACE] .c.InitMessageResponseCodec - InitResponseMessage: [cmdId=6, result=0, challenge=[118, 116, 51, 81, 48, 52, 105, 122]]
2012-06-26 10:09:07,719 [pool-4-thread-17] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0xbc66
2012-06-26 10:09:07,719 [pool-4-thread-17] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 10:09:07,719 [pool-4-thread-17] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BC 66 00 00 00 1E ...........f....
00000010 00 00 00 06 00 00 76 74 33 51 30 34 69 7A       ......vt3Q04iz

2012-06-26 10:09:07,719 [pool-4-thread-17] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 10:09:07,719 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 10:09:07,719 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 10:09:07,719 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 30: not mark to return session ID to client
2012-06-26 10:09:07,719 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 10:09:07,719 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 10:09:07,719 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 10:09:07,937 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2166, Mina session ID 30, identified POS ID pos-0002
2012-06-26 10:09:07,937 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 F9 92 00 00 00 30 ...............0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 43 A2 BB EE F4 78 CA D0 6D 86 07 DE 2C 88 61 6E C....x..m...,.an

2012-06-26 10:09:07,937 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=48 cap=2048: 00 00 00 01 00 00 00 00 00 00 F9 92 00 00 00 30...]
2012-06-26 10:09:07,937 [NioProcessor-1  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 30
2012-06-26 10:09:07,937 [NioProcessor-1  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 10:09:07,937 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 10:09:07,937 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 30
2012-06-26 10:09:07,937 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =48
2012-06-26 10:09:07,937 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 F9 92 00 00 00 30 ...............0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 43 A2 BB EE F4 78 CA D0 6D 86 07 DE 2C 88 61 6E C....x..m...,.an

2012-06-26 10:09:07,937 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 48, current position: 0
2012-06-26 10:09:07,937 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 10:09:07,937 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xf992} messageSize:{0x30} sessionKey:{null}
2012-06-26 10:09:07,937 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 32
2012-06-26 10:09:07,937 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=32, in.remaining=32
2012-06-26 10:09:07,937 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 10:09:07,937 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 7
2012-06-26 10:09:07,937 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 7: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageCodec@18eb00c
2012-06-26 10:09:07,937 [NioProcessor-1  ] [DEBUG] m.p.s.m.c.LoginMessageCodec - login/bind message decode
2012-06-26 10:09:07,937 [NioProcessor-1  ] [TRACE] m.p.s.m.c.LoginMessageCodec - LoginRequestMessage: [cmdId=7, posId=pos-0002, challengeResponse=[67, -94, -69, -18, -12, 120, -54, -48, 109, -122, 7, -34, 44, -120, 97, 110]]
2012-06-26 10:09:07,937 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 10:09:07,937 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xf992} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[67, -94, -69, -18, -12, 120, -54, -48, 109, -122, 7, -34, 44, -120, 97, 110]]
2012-06-26 10:09:07,937 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 10:09:07,937 [NioProcessor-1  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 10:09:07,937 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 10:09:07,937 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 10:09:07,937 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 10:09:07,937 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 10:09:07,937 [NioProcessor-1  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2166, Mina session ID 30, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xf992} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[67, -94, -69, -18, -12, 120, -54, -48, 109, -122, 7, -34, 44, -120, 97, 110]]
2012-06-26 10:09:07,937 [pool-4-thread-18] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 10:09:07,937 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 10:09:07,937 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 10:09:07,937 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 10:09:07,937 [NioProcessor-1  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 10:09:07,937 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 10:09:07,937 [pool-4-thread-18] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 10:09:07,937 [pool-4-thread-18] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@1f49969 obtained for command ID 7
2012-06-26 10:09:07,937 [pool-4-thread-18] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 7 is com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@1f49969
2012-06-26 10:09:07,937 [pool-4-thread-18] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==bodyMessage=: [cmdId=7, posId=pos-0002, challengeResponse=[67, -94, -69, -18, -12, 120, -54, -48, 109, -122, 7, -34, 44, -120, 97, 110]]
2012-06-26 10:09:07,937 [pool-4-thread-18] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:null
2012-06-26 10:09:07,937 [pool-4-thread-18] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId
2012-06-26 10:09:07,937 [pool-4-thread-18] [TRACE] .q.m.l.l.i.LoginManagerImpl - Loaded from db: pos.posId:pos-0002, pos.secret:000001, oldChallenge:[118, 116, 51, 81, 48, 52, 105, 122]
2012-06-26 10:09:07,937 [pool-4-thread-18] [DEBUG] .q.m.l.l.i.LoginManagerImpl - disableChallengeCheck =0
2012-06-26 10:09:07,937 [pool-4-thread-18] [TRACE] c.c.q.m.l.c.ChallengeUtil   - checking challenge:response:[67, -94, -69, -18, -12, 120, -54, -48, 109, -122, 7, -34, 44, -120, 97, 110], posKey:000001, random:[118, 116, 51, 81, 48, 52, 105, 122]
2012-06-26 10:09:07,937 [pool-4-thread-18] [DEBUG] .q.m.l.l.i.LoginManagerImpl - new challenge for POS (POS ID): [101, 69, 118, 108, 104, 72, 76, 80]
2012-06-26 10:09:07,953 [pool-4-thread-18] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==serverKey=:JXTPOS
2012-06-26 10:09:07,953 [pool-4-thread-18] [DEBUG] ThreadSafeClientConnManager - Get connection: HttpRoute[{}->http://localhost:7070], timeout = 0
2012-06-26 10:09:07,953 [pool-4-thread-18] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - [HttpRoute[{}->http://localhost:7070]] total kept alive: 0, total issued: 0, total allocated: 0 out of 20
2012-06-26 10:09:07,953 [pool-4-thread-18] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - No free connections [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 10:09:07,953 [pool-4-thread-18] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Available capacity: 2 out of 2 [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 10:09:07,953 [pool-4-thread-18] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Creating new connection [HttpRoute[{}->http://localhost:7070]]
2012-06-26 10:09:07,953 [pool-4-thread-18] [DEBUG] ultClientConnectionOperator - Connecting to localhost:7070
2012-06-26 10:09:09,044 [pool-4-thread-18] [DEBUG] i.c.DefaultClientConnection - Connection closed
2012-06-26 10:09:09,044 [pool-4-thread-18] [DEBUG] i.c.DefaultClientConnection - Connection shut down
2012-06-26 10:09:09,044 [pool-4-thread-18] [DEBUG] ThreadSafeClientConnManager - Released connection is not reusable.
2012-06-26 10:09:09,044 [pool-4-thread-18] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Releasing connection [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 10:09:09,044 [pool-4-thread-18] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Notifying no-one, there are no waiting threads
2012-06-26 10:09:09,044 [pool-4-thread-18] [ERROR] q.m.p.h.LoginCommandHandler - initGrouponCache fail:com.chinarewards.qqgbvpn.qqapi.exception.ParseXMLException: com.chinarewards.qqgbvpn.qqapi.exception.SendPostTimeOutException: org.apache.http.conn.HttpHostConnectException: Connection to http://localhost:7070 refused
2012-06-26 10:09:09,060 [pool-4-thread-18] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 10:09:09,091 [pool-4-thread-18] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 10:09:09,091 [pool-4-thread-18] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 10:09:09,091 [pool-4-thread-18] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 10:09:09,091 [pool-4-thread-18] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 30
2012-06-26 10:09:09,091 [pool-4-thread-18] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (8)
2012-06-26 10:09:09,091 [pool-4-thread-18] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageResponseCodec@4ba4d6
2012-06-26 10:09:09,091 [pool-4-thread-18] [DEBUG] c.LoginMessageResponseCodec - login/bind message encode
2012-06-26 10:09:09,091 [pool-4-thread-18] [TRACE] c.LoginMessageResponseCodec - LoginResponseMessage: [cmdId=8, result=0, challenge=[101, 69, 118, 108, 104, 72, 76, 80]]
2012-06-26 10:09:09,091 [pool-4-thread-18] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0x6f8e
2012-06-26 10:09:09,091 [pool-4-thread-18] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 10:09:09,091 [pool-4-thread-18] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 6F 8E 00 00 00 1E ..........o.....
00000010 00 00 00 08 00 00 65 45 76 6C 68 48 4C 50       ......eEvlhHLP

2012-06-26 10:09:09,091 [pool-4-thread-18] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 10:09:09,091 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 10:09:09,091 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 10:09:09,091 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 30: not mark to return session ID to client
2012-06-26 10:09:09,091 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 10:09:09,091 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 10:09:09,091 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 10:09:09,091 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2166, Mina session ID 30, identified POS ID pos-0002
2012-06-26 10:09:09,091 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 33 of 33 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 D8 04 00 00 00 21 ...............!
00000010 00 00 00 C9 00 0B 31 31 31 31 31 31 31 31 31 31 ......1111111111
00000020 31                                              1

2012-06-26 10:09:09,091 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=33 cap=1024: 00 00 00 10 00 00 00 00 00 00 D8 04 00 00 00 21...]
2012-06-26 10:09:09,091 [NioProcessor-1  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 30
2012-06-26 10:09:09,091 [NioProcessor-1  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 10:09:09,091 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 10:09:09,091 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 30
2012-06-26 10:09:09,091 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =33
2012-06-26 10:09:09,091 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 33 of 33 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 D8 04 00 00 00 21 ...............!
00000010 00 00 00 C9 00 0B 31 31 31 31 31 31 31 31 31 31 ......1111111111
00000020 31                                              1

2012-06-26 10:09:09,091 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 33, current position: 0
2012-06-26 10:09:09,091 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 10:09:09,091 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd804} messageSize:{0x21} sessionKey:{null}
2012-06-26 10:09:09,091 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 17
2012-06-26 10:09:09,091 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=17, in.remaining=17
2012-06-26 10:09:09,091 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 10:09:09,091 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 201
2012-06-26 10:09:09,091 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 201: com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftMessageCodec@1e4e3e4
2012-06-26 10:09:09,091 [NioProcessor-1  ] [DEBUG] m.c.ReceiveGiftMessageCodec - receive gift request message decode
2012-06-26 10:09:09,091 [NioProcessor-1  ] [DEBUG] m.c.ReceiveGiftMessageCodec - in.remaining()=17
2012-06-26 10:09:09,091 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 10:09:09,091 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd804} messageSize:{0x21} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@2dce4e
2012-06-26 10:09:09,091 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 10:09:09,091 [NioProcessor-1  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 10:09:09,091 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 10:09:09,091 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 10:09:09,091 [NioProcessor-1  ] [DEBUG] c.c.q.m.p.f.LoginFilter     - isLogin=true
2012-06-26 10:09:09,091 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 10:09:09,091 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 10:09:09,091 [NioProcessor-1  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2166, Mina session ID 30, identified POS ID pos-0002, message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd804} messageSize:{0x21} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@2dce4e
2012-06-26 10:09:09,091 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 10:09:09,091 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 10:09:09,091 [pool-4-thread-19] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 10:09:09,091 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 10:09:09,091 [NioProcessor-1  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 10:09:09,091 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 10:09:09,091 [pool-4-thread-19] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 10:09:09,091 [pool-4-thread-19] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@e8f27e obtained for command ID 201
2012-06-26 10:09:09,091 [pool-4-thread-19] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 201 is com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@e8f27e
2012-06-26 10:09:09,091 [pool-4-thread-19] [DEBUG] h.ReceiveGiftCommandHandler - ReceiveGiftHandler======execute==bodyMessage=: com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@2dce4e
2012-06-26 10:09:09,122 [pool-4-thread-19] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 10:09:09,122 [pool-4-thread-19] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 10:09:09,122 [pool-4-thread-19] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 10:09:09,122 [pool-4-thread-19] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 10:09:09,122 [pool-4-thread-19] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 30
2012-06-26 10:09:09,122 [pool-4-thread-19] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (202)
2012-06-26 10:09:09,122 [pool-4-thread-19] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftResponseMessageCodec@1b82ef9
2012-06-26 10:09:09,122 [pool-4-thread-19] [DEBUG] iveGiftResponseMessageCodec - receive gift response message encode
2012-06-26 10:09:09,122 [pool-4-thread-19] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0xfcc2
2012-06-26 10:09:09,122 [pool-4-thread-19] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 10:09:09,122 [pool-4-thread-19] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 55 of 55 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 FC C2 00 00 00 37 ...............7
00000010 00 00 00 CA 00 00 00 01 07 DC 06 1A 0A 09 09 00 ................
00000020 5B 01 E0 00 08 C1 EC C8 A1 C0 F1 C6 B7 00 08 D2 [...............
00000030 D1 C1 EC C8 A1 B9 FD                            .......

2012-06-26 10:09:09,122 [pool-4-thread-19] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 10:09:09,122 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 10:09:09,122 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 10:09:09,122 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 30: not mark to return session ID to client
2012-06-26 10:09:09,122 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 10:09:09,122 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 10:09:09,122 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 10:09:09,122 [NioProcessor-1  ] [INFO ] o.a.m.f.l.LoggingFilter     - CLOSED
2012-06-26 10:09:09,122 [NioProcessor-1  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 10:09:11,040 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:09:11,040 [Finalizer       ] [DEBUG] ThreadSafeClientConnManager - Shutting down
2012-06-26 10:09:11,040 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:09:11,040 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=4
2012-06-26 10:09:11,040 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=4
2012-06-26 10:09:11,040 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:09:21,034 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:09:21,034 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:09:21,034 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=4
2012-06-26 10:09:21,034 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=4
2012-06-26 10:09:21,034 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:09:31,027 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:09:31,027 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:09:31,027 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=4
2012-06-26 10:09:31,027 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=4
2012-06-26 10:09:31,027 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:09:41,021 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:09:41,021 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:09:41,021 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=4
2012-06-26 10:09:41,021 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=4
2012-06-26 10:09:41,021 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:09:51,015 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:09:51,015 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:09:51,015 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=4
2012-06-26 10:09:51,015 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=4
2012-06-26 10:09:51,015 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:10:01,009 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:10:01,009 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:10:01,009 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=4
2012-06-26 10:10:01,009 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=4
2012-06-26 10:10:01,009 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:10:11,003 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:10:11,003 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:10:11,003 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=4
2012-06-26 10:10:11,003 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=4
2012-06-26 10:10:11,003 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:10:20,997 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:10:20,997 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:10:20,997 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=4
2012-06-26 10:10:20,997 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=4
2012-06-26 10:10:20,997 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:10:30,991 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:10:30,991 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:10:30,991 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=4
2012-06-26 10:10:30,991 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=4
2012-06-26 10:10:30,991 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:10:40,985 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:10:40,985 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:10:40,985 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=4
2012-06-26 10:10:40,985 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=3
2012-06-26 10:10:40,985 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:10:50,979 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:10:50,979 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:10:50,979 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 10:10:50,979 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=3
2012-06-26 10:10:50,979 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:11:00,973 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:11:00,973 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:11:00,973 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 10:11:00,973 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=3
2012-06-26 10:11:00,973 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:11:05,310 [NioProcessor-2  ] [INFO ] c.c.q.m.p.f.LoggingFilter   - incoming connection from remote address: 127.0.0.1:2172, Mina session ID: 31
2012-06-26 10:11:05,310 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - Currently managed session count: 1
2012-06-26 10:11:05,310 [NioProcessor-2  ] [INFO ] o.a.m.f.l.LoggingFilter     - CREATED
2012-06-26 10:11:05,310 [NioProcessor-2  ] [INFO ] o.a.m.f.l.LoggingFilter     - OPENED
2012-06-26 10:11:05,310 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2172, Mina session ID 31, identified POS ID null
2012-06-26 10:11:05,310 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 10:11:05,310 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=32 cap=2048: 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20...]
2012-06-26 10:11:05,325 [NioProcessor-2  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 31
2012-06-26 10:11:05,325 [NioProcessor-2  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 10:11:05,325 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 10:11:05,341 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 31
2012-06-26 10:11:05,341 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =32
2012-06-26 10:11:05,341 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 10:11:05,341 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 32, current position: 0
2012-06-26 10:11:05,341 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 10:11:05,341 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}
2012-06-26 10:11:05,341 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 16
2012-06-26 10:11:05,341 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=16, in.remaining=16
2012-06-26 10:11:05,341 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 10:11:05,341 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 5
2012-06-26 10:11:05,341 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 5: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageCodec@11ce012
2012-06-26 10:11:05,341 [NioProcessor-2  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - init request message decode
2012-06-26 10:11:05,341 [NioProcessor-2  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - in.remaining()=16
2012-06-26 10:11:05,341 [NioProcessor-2  ] [TRACE] .m.p.s.m.c.InitMessageCodec - InitRequestMessage: [cmdId=5, posId=pos-0002]
2012-06-26 10:11:05,341 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 10:11:05,341 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 10:11:05,341 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 10:11:05,341 [NioProcessor-2  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 10:11:05,341 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 10:11:05,341 [NioProcessor-2  ] [DEBUG] p.f.SessionKeyMessageFilter - Mina session ID 31: created session key 25ad2480dd1d461186d60ca51ed58976
2012-06-26 10:11:05,341 [NioProcessor-2  ] [DEBUG] p.f.SessionKeyMessageFilter - creating session for mina session ID 31 using session ID 25ad2480dd1d461186d60ca51ed58976
2012-06-26 10:11:05,341 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 10:11:05,341 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 10:11:05,341 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 10:11:05,341 [NioProcessor-2  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2172, Mina session ID 31, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 10:11:05,341 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 10:11:05,341 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 10:11:05,341 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 10:11:05,341 [NioProcessor-2  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 10:11:05,341 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 10:11:05,341 [pool-4-thread-20] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 10:11:05,341 [pool-4-thread-20] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 10:11:05,341 [pool-4-thread-20] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@15998cb obtained for command ID 5
2012-06-26 10:11:05,341 [pool-4-thread-20] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 5 is com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@15998cb
2012-06-26 10:11:05,341 [pool-4-thread-20] [DEBUG] .q.m.p.h.InitCommandHandler - InitCommandHandler======execute==bodyMessage=:  [cmdId=5, posId=pos-0002]
2012-06-26 10:11:05,341 [pool-4-thread-20] [DEBUG] .q.m.l.l.i.LoginManagerImpl - InitResponse() invoke
2012-06-26 10:11:05,341 [pool-4-thread-20] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:ALLOWED
2012-06-26 10:11:05,341 [pool-4-thread-20] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId AND p.ostatus = :ostatus
2012-06-26 10:11:05,341 [pool-4-thread-20] [DEBUG] .q.m.l.l.i.LoginManagerImpl - POS ID:pos-0002, init challenge saved - [86, 108, 53, 54, 87, 98, 52, 74]
2012-06-26 10:11:05,341 [pool-4-thread-20] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 10:11:05,372 [pool-4-thread-20] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 10:11:05,372 [pool-4-thread-20] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 10:11:05,372 [pool-4-thread-20] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 10:11:05,372 [pool-4-thread-20] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 31
2012-06-26 10:11:05,372 [pool-4-thread-20] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (6)
2012-06-26 10:11:05,372 [pool-4-thread-20] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageResponseCodec@83874e
2012-06-26 10:11:05,372 [pool-4-thread-20] [DEBUG] .c.InitMessageResponseCodec - init response message encode
2012-06-26 10:11:05,372 [pool-4-thread-20] [TRACE] .c.InitMessageResponseCodec - InitResponseMessage: [cmdId=6, result=0, challenge=[86, 108, 53, 54, 87, 98, 52, 74]]
2012-06-26 10:11:05,372 [pool-4-thread-20] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0xe88b
2012-06-26 10:11:05,372 [pool-4-thread-20] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 10:11:05,372 [pool-4-thread-20] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 E8 8B 00 00 00 1E ................
00000010 00 00 00 06 00 00 56 6C 35 36 57 62 34 4A       ......Vl56Wb4J

2012-06-26 10:11:05,372 [pool-4-thread-20] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 10:11:05,372 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 10:11:05,372 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 10:11:05,372 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 31: not mark to return session ID to client
2012-06-26 10:11:05,372 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 10:11:05,372 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 10:11:05,372 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 10:11:05,590 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2172, Mina session ID 31, identified POS ID pos-0002
2012-06-26 10:11:05,590 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 65 72 00 00 00 30 ..........er...0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 92 19 C0 AD 18 45 11 0F 42 18 68 27 87 50 A8 AA .....E..B.h'.P..

2012-06-26 10:11:05,590 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=48 cap=2048: 00 00 00 01 00 00 00 00 00 00 65 72 00 00 00 30...]
2012-06-26 10:11:05,590 [NioProcessor-2  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 31
2012-06-26 10:11:05,590 [NioProcessor-2  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 10:11:05,590 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 10:11:05,590 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 31
2012-06-26 10:11:05,590 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =48
2012-06-26 10:11:05,590 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 65 72 00 00 00 30 ..........er...0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 92 19 C0 AD 18 45 11 0F 42 18 68 27 87 50 A8 AA .....E..B.h'.P..

2012-06-26 10:11:05,590 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 48, current position: 0
2012-06-26 10:11:05,590 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 10:11:05,590 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x6572} messageSize:{0x30} sessionKey:{null}
2012-06-26 10:11:05,590 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 32
2012-06-26 10:11:05,590 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=32, in.remaining=32
2012-06-26 10:11:05,590 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 10:11:05,590 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 7
2012-06-26 10:11:05,590 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 7: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageCodec@16a3075
2012-06-26 10:11:05,590 [NioProcessor-2  ] [DEBUG] m.p.s.m.c.LoginMessageCodec - login/bind message decode
2012-06-26 10:11:05,590 [NioProcessor-2  ] [TRACE] m.p.s.m.c.LoginMessageCodec - LoginRequestMessage: [cmdId=7, posId=pos-0002, challengeResponse=[-110, 25, -64, -83, 24, 69, 17, 15, 66, 24, 104, 39, -121, 80, -88, -86]]
2012-06-26 10:11:05,590 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 10:11:05,590 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x6572} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[-110, 25, -64, -83, 24, 69, 17, 15, 66, 24, 104, 39, -121, 80, -88, -86]]
2012-06-26 10:11:05,590 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 10:11:05,590 [NioProcessor-2  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 10:11:05,590 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 10:11:05,590 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 10:11:05,590 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 10:11:05,590 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 10:11:05,590 [NioProcessor-2  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2172, Mina session ID 31, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x6572} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[-110, 25, -64, -83, 24, 69, 17, 15, 66, 24, 104, 39, -121, 80, -88, -86]]
2012-06-26 10:11:05,590 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 10:11:05,590 [pool-4-thread-1 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 10:11:05,590 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 10:11:05,606 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 10:11:05,606 [NioProcessor-2  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 10:11:05,606 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 10:11:05,606 [pool-4-thread-1 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 10:11:05,606 [pool-4-thread-1 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@2f60ce obtained for command ID 7
2012-06-26 10:11:05,606 [pool-4-thread-1 ] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 7 is com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@2f60ce
2012-06-26 10:11:05,606 [pool-4-thread-1 ] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==bodyMessage=: [cmdId=7, posId=pos-0002, challengeResponse=[-110, 25, -64, -83, 24, 69, 17, 15, 66, 24, 104, 39, -121, 80, -88, -86]]
2012-06-26 10:11:05,606 [pool-4-thread-1 ] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:null
2012-06-26 10:11:05,606 [pool-4-thread-1 ] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId
2012-06-26 10:11:05,606 [pool-4-thread-1 ] [TRACE] .q.m.l.l.i.LoginManagerImpl - Loaded from db: pos.posId:pos-0002, pos.secret:000001, oldChallenge:[86, 108, 53, 54, 87, 98, 52, 74]
2012-06-26 10:11:05,606 [pool-4-thread-1 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - disableChallengeCheck =0
2012-06-26 10:11:05,606 [pool-4-thread-1 ] [TRACE] c.c.q.m.l.c.ChallengeUtil   - checking challenge:response:[-110, 25, -64, -83, 24, 69, 17, 15, 66, 24, 104, 39, -121, 80, -88, -86], posKey:000001, random:[86, 108, 53, 54, 87, 98, 52, 74]
2012-06-26 10:11:05,606 [pool-4-thread-1 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - new challenge for POS (POS ID): [48, 52, 72, 79, 101, 111, 48, 81]
2012-06-26 10:11:05,606 [pool-4-thread-1 ] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==serverKey=:JXTPOS
2012-06-26 10:11:05,606 [pool-4-thread-1 ] [DEBUG] ThreadSafeClientConnManager - Get connection: HttpRoute[{}->http://localhost:7070], timeout = 0
2012-06-26 10:11:05,606 [pool-4-thread-1 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - [HttpRoute[{}->http://localhost:7070]] total kept alive: 0, total issued: 0, total allocated: 0 out of 20
2012-06-26 10:11:05,606 [pool-4-thread-1 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - No free connections [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 10:11:05,606 [pool-4-thread-1 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Available capacity: 2 out of 2 [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 10:11:05,606 [pool-4-thread-1 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Creating new connection [HttpRoute[{}->http://localhost:7070]]
2012-06-26 10:11:05,606 [pool-4-thread-1 ] [DEBUG] ultClientConnectionOperator - Connecting to localhost:7070
2012-06-26 10:11:06,511 [pool-4-thread-1 ] [DEBUG] i.c.DefaultClientConnection - Connection closed
2012-06-26 10:11:06,511 [pool-4-thread-1 ] [DEBUG] i.c.DefaultClientConnection - Connection shut down
2012-06-26 10:11:06,511 [pool-4-thread-1 ] [DEBUG] ThreadSafeClientConnManager - Released connection is not reusable.
2012-06-26 10:11:06,511 [pool-4-thread-1 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Releasing connection [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 10:11:06,511 [pool-4-thread-1 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Notifying no-one, there are no waiting threads
2012-06-26 10:11:06,511 [pool-4-thread-1 ] [ERROR] q.m.p.h.LoginCommandHandler - initGrouponCache fail:com.chinarewards.qqgbvpn.qqapi.exception.ParseXMLException: com.chinarewards.qqgbvpn.qqapi.exception.SendPostTimeOutException: org.apache.http.conn.HttpHostConnectException: Connection to http://localhost:7070 refused
2012-06-26 10:11:06,526 [pool-4-thread-1 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 10:11:06,542 [pool-4-thread-1 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 10:11:06,542 [pool-4-thread-1 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 10:11:06,542 [pool-4-thread-1 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 10:11:06,542 [pool-4-thread-1 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 31
2012-06-26 10:11:06,542 [pool-4-thread-1 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (8)
2012-06-26 10:11:06,542 [pool-4-thread-1 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageResponseCodec@bd4dc2
2012-06-26 10:11:06,542 [pool-4-thread-1 ] [DEBUG] c.LoginMessageResponseCodec - login/bind message encode
2012-06-26 10:11:06,542 [pool-4-thread-1 ] [TRACE] c.LoginMessageResponseCodec - LoginResponseMessage: [cmdId=8, result=0, challenge=[48, 52, 72, 79, 101, 111, 48, 81]]
2012-06-26 10:11:06,542 [pool-4-thread-1 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0xf194
2012-06-26 10:11:06,542 [pool-4-thread-1 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 10:11:06,542 [pool-4-thread-1 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 F1 94 00 00 00 1E ................
00000010 00 00 00 08 00 00 30 34 48 4F 65 6F 30 51       ......04HOeo0Q

2012-06-26 10:11:06,542 [pool-4-thread-1 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 10:11:06,542 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 10:11:06,542 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 10:11:06,542 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 31: not mark to return session ID to client
2012-06-26 10:11:06,542 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 10:11:06,542 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 10:11:06,542 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 10:11:06,542 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2172, Mina session ID 31, identified POS ID pos-0002
2012-06-26 10:11:06,542 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 33 of 33 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 D8 04 00 00 00 21 ...............!
00000010 00 00 00 C9 00 0B 31 31 31 31 31 31 31 31 31 31 ......1111111111
00000020 31                                              1

2012-06-26 10:11:06,542 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=33 cap=1024: 00 00 00 10 00 00 00 00 00 00 D8 04 00 00 00 21...]
2012-06-26 10:11:06,542 [NioProcessor-2  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 31
2012-06-26 10:11:06,542 [NioProcessor-2  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 10:11:06,542 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 10:11:06,542 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 31
2012-06-26 10:11:06,542 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =33
2012-06-26 10:11:06,542 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 33 of 33 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 D8 04 00 00 00 21 ...............!
00000010 00 00 00 C9 00 0B 31 31 31 31 31 31 31 31 31 31 ......1111111111
00000020 31                                              1

2012-06-26 10:11:06,542 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 33, current position: 0
2012-06-26 10:11:06,542 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 10:11:06,542 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd804} messageSize:{0x21} sessionKey:{null}
2012-06-26 10:11:06,542 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 17
2012-06-26 10:11:06,542 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=17, in.remaining=17
2012-06-26 10:11:06,542 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 10:11:06,542 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 201
2012-06-26 10:11:06,542 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 201: com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftMessageCodec@3c0737
2012-06-26 10:11:06,542 [NioProcessor-2  ] [DEBUG] m.c.ReceiveGiftMessageCodec - receive gift request message decode
2012-06-26 10:11:06,542 [NioProcessor-2  ] [DEBUG] m.c.ReceiveGiftMessageCodec - in.remaining()=17
2012-06-26 10:11:06,542 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 10:11:06,542 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd804} messageSize:{0x21} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@fde050
2012-06-26 10:11:06,542 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 10:11:06,542 [NioProcessor-2  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 10:11:06,542 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 10:11:06,542 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 10:11:06,542 [NioProcessor-2  ] [DEBUG] c.c.q.m.p.f.LoginFilter     - isLogin=true
2012-06-26 10:11:06,542 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 10:11:06,542 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 10:11:06,542 [NioProcessor-2  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2172, Mina session ID 31, identified POS ID pos-0002, message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd804} messageSize:{0x21} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@fde050
2012-06-26 10:11:06,542 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 10:11:06,542 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 10:11:06,542 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 10:11:06,542 [NioProcessor-2  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 10:11:06,542 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 10:11:06,542 [Finalizer       ] [DEBUG] ThreadSafeClientConnManager - Shutting down
2012-06-26 10:11:06,542 [pool-4-thread-2 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 10:11:06,542 [pool-4-thread-2 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 10:11:06,542 [pool-4-thread-2 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@15d7752 obtained for command ID 201
2012-06-26 10:11:06,542 [pool-4-thread-2 ] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 201 is com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@15d7752
2012-06-26 10:11:06,542 [pool-4-thread-2 ] [DEBUG] h.ReceiveGiftCommandHandler - ReceiveGiftHandler======execute==bodyMessage=: com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@fde050
2012-06-26 10:11:06,573 [pool-4-thread-2 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 10:11:06,573 [pool-4-thread-2 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 10:11:06,573 [pool-4-thread-2 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 10:11:06,573 [pool-4-thread-2 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 10:11:06,573 [pool-4-thread-2 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 31
2012-06-26 10:11:06,573 [pool-4-thread-2 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (202)
2012-06-26 10:11:06,573 [pool-4-thread-2 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftResponseMessageCodec@1ea25aa
2012-06-26 10:11:06,573 [pool-4-thread-2 ] [DEBUG] iveGiftResponseMessageCodec - receive gift response message encode
2012-06-26 10:11:06,573 [pool-4-thread-2 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0x3cbf
2012-06-26 10:11:06,573 [pool-4-thread-2 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 10:11:06,573 [pool-4-thread-2 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 55 of 55 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 3C BF 00 00 00 37 ..........<....7
00000010 00 00 00 CA 00 00 00 01 07 DC 06 1A 0A 0B 06 02 ................
00000020 1E 01 E0 00 08 C1 EC C8 A1 C0 F1 C6 B7 00 08 D2 ................
00000030 D1 C1 EC C8 A1 B9 FD                            .......

2012-06-26 10:11:06,573 [pool-4-thread-2 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 10:11:06,573 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 10:11:06,573 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 10:11:06,573 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 31: not mark to return session ID to client
2012-06-26 10:11:06,573 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 10:11:06,573 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 10:11:06,573 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 10:11:06,573 [NioProcessor-2  ] [INFO ] o.a.m.f.l.LoggingFilter     - CLOSED
2012-06-26 10:11:06,573 [NioProcessor-2  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 10:11:11,066 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:11:11,066 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:11:11,066 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=4
2012-06-26 10:11:11,066 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=4
2012-06-26 10:11:11,066 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:11:21,066 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:11:21,066 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:11:21,066 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=4
2012-06-26 10:11:21,066 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=4
2012-06-26 10:11:21,066 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:11:31,066 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:11:31,066 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:11:31,066 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=4
2012-06-26 10:11:31,066 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=4
2012-06-26 10:11:31,066 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:11:41,066 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:11:41,066 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:11:41,066 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=4
2012-06-26 10:11:41,066 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=3
2012-06-26 10:11:41,066 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:11:51,065 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:11:51,065 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:11:51,065 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 10:11:51,065 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=3
2012-06-26 10:11:51,065 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:12:01,065 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:12:01,065 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:12:01,065 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 10:12:01,065 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=3
2012-06-26 10:12:01,065 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:12:11,065 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:12:11,065 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:12:11,065 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 10:12:11,065 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=3
2012-06-26 10:12:11,065 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:12:21,065 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:12:21,065 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:12:21,065 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 10:12:21,065 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 10:12:21,065 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:12:31,080 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:12:31,080 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:12:31,080 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 10:12:31,080 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 10:12:31,080 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:12:41,080 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:12:41,080 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:12:41,080 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 10:12:41,080 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 10:12:41,080 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:12:51,080 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:12:51,080 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:12:51,080 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 10:12:51,080 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 10:12:51,080 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:13:01,079 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:13:01,079 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:13:01,079 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 10:13:01,079 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 10:13:01,079 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:13:11,079 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:13:11,079 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:13:11,079 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 10:13:11,079 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 10:13:11,079 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:13:21,079 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:13:21,079 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:13:21,079 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 10:13:21,079 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 10:13:21,079 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:13:31,079 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:13:31,079 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:13:31,079 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 10:13:31,079 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 10:13:31,079 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:13:35,229 [NioProcessor-3  ] [INFO ] c.c.q.m.p.f.LoggingFilter   - incoming connection from remote address: 127.0.0.1:2182, Mina session ID: 32
2012-06-26 10:13:35,229 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - Currently managed session count: 1
2012-06-26 10:13:35,229 [NioProcessor-3  ] [INFO ] o.a.m.f.l.LoggingFilter     - CREATED
2012-06-26 10:13:35,229 [NioProcessor-3  ] [INFO ] o.a.m.f.l.LoggingFilter     - OPENED
2012-06-26 10:13:35,229 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2182, Mina session ID 32, identified POS ID null
2012-06-26 10:13:35,229 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 10:13:35,229 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=32 cap=2048: 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20...]
2012-06-26 10:13:35,244 [NioProcessor-3  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 32
2012-06-26 10:13:35,244 [NioProcessor-3  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 10:13:35,260 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 10:13:35,260 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 32
2012-06-26 10:13:35,260 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =32
2012-06-26 10:13:35,260 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 10:13:35,260 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 32, current position: 0
2012-06-26 10:13:35,260 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 10:13:35,260 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}
2012-06-26 10:13:35,260 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 16
2012-06-26 10:13:35,260 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=16, in.remaining=16
2012-06-26 10:13:35,260 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 10:13:35,260 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 5
2012-06-26 10:13:35,260 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 5: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageCodec@e776f7
2012-06-26 10:13:35,260 [NioProcessor-3  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - init request message decode
2012-06-26 10:13:35,260 [NioProcessor-3  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - in.remaining()=16
2012-06-26 10:13:35,260 [NioProcessor-3  ] [TRACE] .m.p.s.m.c.InitMessageCodec - InitRequestMessage: [cmdId=5, posId=pos-0002]
2012-06-26 10:13:35,260 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 10:13:35,260 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 10:13:35,260 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 10:13:35,260 [NioProcessor-3  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 10:13:35,260 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 10:13:35,260 [NioProcessor-3  ] [DEBUG] p.f.SessionKeyMessageFilter - Mina session ID 32: created session key 16d678f9220c4f348fb2d1e4fa7224c2
2012-06-26 10:13:35,260 [NioProcessor-3  ] [DEBUG] p.f.SessionKeyMessageFilter - creating session for mina session ID 32 using session ID 16d678f9220c4f348fb2d1e4fa7224c2
2012-06-26 10:13:35,260 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 10:13:35,260 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 10:13:35,260 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 10:13:35,260 [NioProcessor-3  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2182, Mina session ID 32, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 10:13:35,260 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 10:13:35,260 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 10:13:35,260 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 10:13:35,260 [NioProcessor-3  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 10:13:35,260 [pool-4-thread-3 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 10:13:35,260 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 10:13:35,260 [pool-4-thread-3 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 10:13:35,260 [pool-4-thread-3 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@158539f obtained for command ID 5
2012-06-26 10:13:35,260 [pool-4-thread-3 ] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 5 is com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@158539f
2012-06-26 10:13:35,260 [pool-4-thread-3 ] [DEBUG] .q.m.p.h.InitCommandHandler - InitCommandHandler======execute==bodyMessage=:  [cmdId=5, posId=pos-0002]
2012-06-26 10:13:35,260 [pool-4-thread-3 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - InitResponse() invoke
2012-06-26 10:13:35,260 [pool-4-thread-3 ] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:ALLOWED
2012-06-26 10:13:35,260 [pool-4-thread-3 ] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId AND p.ostatus = :ostatus
2012-06-26 10:13:35,260 [pool-4-thread-3 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - POS ID:pos-0002, init challenge saved - [77, 50, 107, 85, 55, 83, 66, 100]
2012-06-26 10:13:35,260 [pool-4-thread-3 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 10:13:35,291 [pool-4-thread-3 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 10:13:35,291 [pool-4-thread-3 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 10:13:35,291 [pool-4-thread-3 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 10:13:35,291 [pool-4-thread-3 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 32
2012-06-26 10:13:35,291 [pool-4-thread-3 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (6)
2012-06-26 10:13:35,291 [pool-4-thread-3 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageResponseCodec@f6ae1c
2012-06-26 10:13:35,291 [pool-4-thread-3 ] [DEBUG] .c.InitMessageResponseCodec - init response message encode
2012-06-26 10:13:35,291 [pool-4-thread-3 ] [TRACE] .c.InitMessageResponseCodec - InitResponseMessage: [cmdId=6, result=0, challenge=[77, 50, 107, 85, 55, 83, 66, 100]]
2012-06-26 10:13:35,291 [pool-4-thread-3 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0xcd9b
2012-06-26 10:13:35,291 [pool-4-thread-3 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 10:13:35,291 [pool-4-thread-3 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 CD 9B 00 00 00 1E ................
00000010 00 00 00 06 00 00 4D 32 6B 55 37 53 42 64       ......M2kU7SBd

2012-06-26 10:13:35,291 [pool-4-thread-3 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 10:13:35,291 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 10:13:35,291 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 10:13:35,291 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 32: not mark to return session ID to client
2012-06-26 10:13:35,291 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 10:13:35,291 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 10:13:35,291 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 10:13:35,509 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2182, Mina session ID 32, identified POS ID pos-0002
2012-06-26 10:13:35,509 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 EF 3D 00 00 00 30 ...........=...0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 0F 64 9D AE 25 EB 68 33 A3 0B 51 89 5F E4 3C E0 .d..%.h3..Q._.<.

2012-06-26 10:13:35,509 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=48 cap=2048: 00 00 00 01 00 00 00 00 00 00 EF 3D 00 00 00 30...]
2012-06-26 10:13:35,509 [NioProcessor-3  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 32
2012-06-26 10:13:35,509 [NioProcessor-3  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 10:13:35,509 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 10:13:35,509 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 32
2012-06-26 10:13:35,509 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =48
2012-06-26 10:13:35,509 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 EF 3D 00 00 00 30 ...........=...0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 0F 64 9D AE 25 EB 68 33 A3 0B 51 89 5F E4 3C E0 .d..%.h3..Q._.<.

2012-06-26 10:13:35,509 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 48, current position: 0
2012-06-26 10:13:35,509 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 10:13:35,509 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xef3d} messageSize:{0x30} sessionKey:{null}
2012-06-26 10:13:35,509 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 32
2012-06-26 10:13:35,509 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=32, in.remaining=32
2012-06-26 10:13:35,509 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 10:13:35,509 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 7
2012-06-26 10:13:35,509 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 7: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageCodec@f08d0f
2012-06-26 10:13:35,509 [NioProcessor-3  ] [DEBUG] m.p.s.m.c.LoginMessageCodec - login/bind message decode
2012-06-26 10:13:35,509 [NioProcessor-3  ] [TRACE] m.p.s.m.c.LoginMessageCodec - LoginRequestMessage: [cmdId=7, posId=pos-0002, challengeResponse=[15, 100, -99, -82, 37, -21, 104, 51, -93, 11, 81, -119, 95, -28, 60, -32]]
2012-06-26 10:13:35,509 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 10:13:35,509 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xef3d} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[15, 100, -99, -82, 37, -21, 104, 51, -93, 11, 81, -119, 95, -28, 60, -32]]
2012-06-26 10:13:35,509 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 10:13:35,509 [NioProcessor-3  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 10:13:35,509 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 10:13:35,509 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 10:13:35,509 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 10:13:35,509 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 10:13:35,509 [NioProcessor-3  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2182, Mina session ID 32, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xef3d} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[15, 100, -99, -82, 37, -21, 104, 51, -93, 11, 81, -119, 95, -28, 60, -32]]
2012-06-26 10:13:35,509 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 10:13:35,509 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 10:13:35,509 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 10:13:35,509 [pool-4-thread-4 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 10:13:35,509 [NioProcessor-3  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 10:13:35,509 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 10:13:35,509 [pool-4-thread-4 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 10:13:35,509 [pool-4-thread-4 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@c94114 obtained for command ID 7
2012-06-26 10:13:35,509 [pool-4-thread-4 ] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 7 is com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@c94114
2012-06-26 10:13:35,509 [pool-4-thread-4 ] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==bodyMessage=: [cmdId=7, posId=pos-0002, challengeResponse=[15, 100, -99, -82, 37, -21, 104, 51, -93, 11, 81, -119, 95, -28, 60, -32]]
2012-06-26 10:13:35,509 [pool-4-thread-4 ] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:null
2012-06-26 10:13:35,509 [pool-4-thread-4 ] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId
2012-06-26 10:13:35,509 [pool-4-thread-4 ] [TRACE] .q.m.l.l.i.LoginManagerImpl - Loaded from db: pos.posId:pos-0002, pos.secret:000001, oldChallenge:[77, 50, 107, 85, 55, 83, 66, 100]
2012-06-26 10:13:35,509 [pool-4-thread-4 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - disableChallengeCheck =0
2012-06-26 10:13:35,509 [pool-4-thread-4 ] [TRACE] c.c.q.m.l.c.ChallengeUtil   - checking challenge:response:[15, 100, -99, -82, 37, -21, 104, 51, -93, 11, 81, -119, 95, -28, 60, -32], posKey:000001, random:[77, 50, 107, 85, 55, 83, 66, 100]
2012-06-26 10:13:35,509 [pool-4-thread-4 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - new challenge for POS (POS ID): [67, 105, 101, 99, 114, 84, 50, 77]
2012-06-26 10:13:35,509 [pool-4-thread-4 ] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==serverKey=:JXTPOS
2012-06-26 10:13:35,525 [pool-4-thread-4 ] [DEBUG] ThreadSafeClientConnManager - Get connection: HttpRoute[{}->http://localhost:7070], timeout = 0
2012-06-26 10:13:35,525 [pool-4-thread-4 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - [HttpRoute[{}->http://localhost:7070]] total kept alive: 0, total issued: 0, total allocated: 0 out of 20
2012-06-26 10:13:35,525 [pool-4-thread-4 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - No free connections [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 10:13:35,525 [pool-4-thread-4 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Available capacity: 2 out of 2 [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 10:13:35,525 [pool-4-thread-4 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Creating new connection [HttpRoute[{}->http://localhost:7070]]
2012-06-26 10:13:35,525 [pool-4-thread-4 ] [DEBUG] ultClientConnectionOperator - Connecting to localhost:7070
2012-06-26 10:13:36,570 [pool-4-thread-4 ] [DEBUG] i.c.DefaultClientConnection - Connection closed
2012-06-26 10:13:36,570 [pool-4-thread-4 ] [DEBUG] i.c.DefaultClientConnection - Connection shut down
2012-06-26 10:13:36,570 [pool-4-thread-4 ] [DEBUG] ThreadSafeClientConnManager - Released connection is not reusable.
2012-06-26 10:13:36,570 [pool-4-thread-4 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Releasing connection [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 10:13:36,570 [pool-4-thread-4 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Notifying no-one, there are no waiting threads
2012-06-26 10:13:36,570 [pool-4-thread-4 ] [ERROR] q.m.p.h.LoginCommandHandler - initGrouponCache fail:com.chinarewards.qqgbvpn.qqapi.exception.ParseXMLException: com.chinarewards.qqgbvpn.qqapi.exception.SendPostTimeOutException: org.apache.http.conn.HttpHostConnectException: Connection to http://localhost:7070 refused
2012-06-26 10:13:36,586 [pool-4-thread-4 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 10:13:36,633 [pool-4-thread-4 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 10:13:36,633 [pool-4-thread-4 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 10:13:36,633 [pool-4-thread-4 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 10:13:36,633 [pool-4-thread-4 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 32
2012-06-26 10:13:36,633 [pool-4-thread-4 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (8)
2012-06-26 10:13:36,633 [pool-4-thread-4 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageResponseCodec@b03512
2012-06-26 10:13:36,633 [pool-4-thread-4 ] [DEBUG] c.LoginMessageResponseCodec - login/bind message encode
2012-06-26 10:13:36,633 [pool-4-thread-4 ] [TRACE] c.LoginMessageResponseCodec - LoginResponseMessage: [cmdId=8, result=0, challenge=[67, 105, 101, 99, 114, 84, 50, 77]]
2012-06-26 10:13:36,633 [pool-4-thread-4 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0xb26a
2012-06-26 10:13:36,633 [pool-4-thread-4 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 10:13:36,633 [pool-4-thread-4 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 B2 6A 00 00 00 1E ...........j....
00000010 00 00 00 08 00 00 43 69 65 63 72 54 32 4D       ......CiecrT2M

2012-06-26 10:13:36,633 [pool-4-thread-4 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 10:13:36,633 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 10:13:36,633 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 10:13:36,633 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 32: not mark to return session ID to client
2012-06-26 10:13:36,633 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 10:13:36,633 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 10:13:36,633 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 10:13:36,633 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2182, Mina session ID 32, identified POS ID pos-0002
2012-06-26 10:13:36,633 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 33 of 33 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 D8 04 00 00 00 21 ...............!
00000010 00 00 00 C9 00 0B 31 31 31 31 31 31 31 31 31 31 ......1111111111
00000020 31                                              1

2012-06-26 10:13:36,633 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=33 cap=1024: 00 00 00 10 00 00 00 00 00 00 D8 04 00 00 00 21...]
2012-06-26 10:13:36,633 [NioProcessor-3  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 32
2012-06-26 10:13:36,633 [NioProcessor-3  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 10:13:36,633 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 10:13:36,633 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 32
2012-06-26 10:13:36,633 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =33
2012-06-26 10:13:36,633 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 33 of 33 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 D8 04 00 00 00 21 ...............!
00000010 00 00 00 C9 00 0B 31 31 31 31 31 31 31 31 31 31 ......1111111111
00000020 31                                              1

2012-06-26 10:13:36,633 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 33, current position: 0
2012-06-26 10:13:36,633 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 10:13:36,633 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd804} messageSize:{0x21} sessionKey:{null}
2012-06-26 10:13:36,633 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 17
2012-06-26 10:13:36,633 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=17, in.remaining=17
2012-06-26 10:13:36,633 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 10:13:36,633 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 201
2012-06-26 10:13:36,633 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 201: com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftMessageCodec@c71191
2012-06-26 10:13:36,633 [NioProcessor-3  ] [DEBUG] m.c.ReceiveGiftMessageCodec - receive gift request message decode
2012-06-26 10:13:36,633 [NioProcessor-3  ] [DEBUG] m.c.ReceiveGiftMessageCodec - in.remaining()=17
2012-06-26 10:13:36,633 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 10:13:36,633 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd804} messageSize:{0x21} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@15268d7
2012-06-26 10:13:36,633 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 10:13:36,633 [NioProcessor-3  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 10:13:36,633 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 10:13:36,633 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 10:13:36,633 [NioProcessor-3  ] [DEBUG] c.c.q.m.p.f.LoginFilter     - isLogin=true
2012-06-26 10:13:36,633 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 10:13:36,633 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 10:13:36,633 [NioProcessor-3  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2182, Mina session ID 32, identified POS ID pos-0002, message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd804} messageSize:{0x21} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@15268d7
2012-06-26 10:13:36,633 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 10:13:36,633 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 10:13:36,633 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 10:13:36,633 [NioProcessor-3  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 10:13:36,633 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 10:13:36,633 [pool-4-thread-5 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 10:13:36,633 [pool-4-thread-5 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 10:13:36,633 [pool-4-thread-5 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@805298 obtained for command ID 201
2012-06-26 10:13:36,633 [pool-4-thread-5 ] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 201 is com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@805298
2012-06-26 10:13:36,633 [pool-4-thread-5 ] [DEBUG] h.ReceiveGiftCommandHandler - ReceiveGiftHandler======execute==bodyMessage=: com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@15268d7
2012-06-26 10:13:36,664 [pool-4-thread-5 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 10:13:36,664 [pool-4-thread-5 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 10:13:36,664 [pool-4-thread-5 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 10:13:36,664 [pool-4-thread-5 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 10:13:36,664 [pool-4-thread-5 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 32
2012-06-26 10:13:36,664 [pool-4-thread-5 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (202)
2012-06-26 10:13:36,664 [pool-4-thread-5 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftResponseMessageCodec@6245a4
2012-06-26 10:13:36,664 [pool-4-thread-5 ] [DEBUG] iveGiftResponseMessageCodec - receive gift response message encode
2012-06-26 10:13:36,664 [pool-4-thread-5 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0xc3bc
2012-06-26 10:13:36,664 [pool-4-thread-5 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 10:13:36,664 [pool-4-thread-5 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 55 of 55 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 C3 BC 00 00 00 37 ...............7
00000010 00 00 00 CA 00 00 00 01 07 DC 06 1A 0A 0D 24 02 ..............$.
00000020 79 01 E0 00 08 C1 EC C8 A1 C0 F1 C6 B7 00 08 D2 y...............
00000030 D1 C1 EC C8 A1 B9 FD                            .......

2012-06-26 10:13:36,664 [pool-4-thread-5 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 10:13:36,664 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 10:13:36,664 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 10:13:36,664 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 32: not mark to return session ID to client
2012-06-26 10:13:36,664 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 10:13:36,664 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 10:13:36,664 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 10:13:36,664 [NioProcessor-3  ] [INFO ] o.a.m.f.l.LoggingFilter     - CLOSED
2012-06-26 10:13:36,664 [NioProcessor-3  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 10:13:41,141 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:13:41,141 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:13:41,141 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 10:13:41,141 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 10:13:41,141 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:13:51,156 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:13:51,156 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:13:51,156 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 10:13:51,156 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 10:13:51,156 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:14:01,172 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:14:01,172 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:14:01,172 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 10:14:01,172 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 10:14:01,172 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:14:11,172 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:14:11,172 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:14:11,172 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 10:14:11,172 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 10:14:11,172 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:14:21,171 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:14:21,171 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:14:21,171 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 10:14:21,171 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 10:14:21,171 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:14:31,171 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:14:31,171 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:14:31,171 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 10:14:31,171 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 10:14:31,171 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:14:41,171 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:14:41,171 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:14:41,171 [Finalizer       ] [DEBUG] ThreadSafeClientConnManager - Shutting down
2012-06-26 10:14:41,171 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 10:14:41,171 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 10:14:41,171 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:14:51,171 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:14:51,171 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:14:51,171 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 10:14:51,171 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 10:14:51,171 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:15:01,171 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:15:01,171 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:15:01,171 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 10:15:01,171 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 10:15:01,171 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:15:11,170 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:15:11,170 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:15:11,170 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 10:15:11,170 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 10:15:11,170 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:15:21,170 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:15:21,170 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:15:21,170 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 10:15:21,170 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 10:15:21,170 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:15:31,170 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:15:31,170 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:15:31,170 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 10:15:31,170 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 10:15:31,170 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:15:41,170 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:15:41,170 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:15:41,170 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 10:15:41,170 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 10:15:41,170 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:15:51,170 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:15:51,170 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:15:51,170 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 10:15:51,170 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 10:15:51,170 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:16:01,170 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:16:01,170 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:16:01,170 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 10:16:01,170 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 10:16:01,170 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:16:11,171 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:16:11,171 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:16:11,171 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 10:16:11,171 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 10:16:11,171 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:16:21,173 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:16:21,173 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:16:21,173 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 10:16:21,173 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 10:16:21,173 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:16:25,574 [NioProcessor-1  ] [INFO ] c.c.q.m.p.f.LoggingFilter   - incoming connection from remote address: 127.0.0.1:2187, Mina session ID: 33
2012-06-26 10:16:25,574 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - Currently managed session count: 1
2012-06-26 10:16:25,574 [NioProcessor-1  ] [INFO ] o.a.m.f.l.LoggingFilter     - CREATED
2012-06-26 10:16:25,574 [NioProcessor-1  ] [INFO ] o.a.m.f.l.LoggingFilter     - OPENED
2012-06-26 10:16:25,574 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2187, Mina session ID 33, identified POS ID null
2012-06-26 10:16:25,574 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 10:16:25,574 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=32 cap=2048: 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20...]
2012-06-26 10:16:25,589 [NioProcessor-1  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 33
2012-06-26 10:16:25,589 [NioProcessor-1  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 10:16:25,589 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 10:16:25,605 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 33
2012-06-26 10:16:25,605 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =32
2012-06-26 10:16:25,605 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 10:16:25,605 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 32, current position: 0
2012-06-26 10:16:25,605 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 10:16:25,605 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}
2012-06-26 10:16:25,605 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 16
2012-06-26 10:16:25,605 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=16, in.remaining=16
2012-06-26 10:16:25,605 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 10:16:25,605 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 5
2012-06-26 10:16:25,605 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 5: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageCodec@1f52b85
2012-06-26 10:16:25,605 [NioProcessor-1  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - init request message decode
2012-06-26 10:16:25,605 [NioProcessor-1  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - in.remaining()=16
2012-06-26 10:16:25,605 [NioProcessor-1  ] [TRACE] .m.p.s.m.c.InitMessageCodec - InitRequestMessage: [cmdId=5, posId=pos-0002]
2012-06-26 10:16:25,605 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 10:16:25,605 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 10:16:25,605 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 10:16:25,605 [NioProcessor-1  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 10:16:25,605 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 10:16:25,605 [NioProcessor-1  ] [DEBUG] p.f.SessionKeyMessageFilter - Mina session ID 33: created session key 4db867ee3bbf4f1aa4be50da593afa55
2012-06-26 10:16:25,605 [NioProcessor-1  ] [DEBUG] p.f.SessionKeyMessageFilter - creating session for mina session ID 33 using session ID 4db867ee3bbf4f1aa4be50da593afa55
2012-06-26 10:16:25,605 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 10:16:25,605 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 10:16:25,605 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 10:16:25,605 [NioProcessor-1  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2187, Mina session ID 33, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 10:16:25,605 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 10:16:25,605 [pool-4-thread-6 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 10:16:25,605 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 10:16:25,605 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 10:16:25,605 [NioProcessor-1  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 10:16:25,605 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 10:16:25,605 [pool-4-thread-6 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 10:16:25,605 [pool-4-thread-6 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@12a2259 obtained for command ID 5
2012-06-26 10:16:25,605 [pool-4-thread-6 ] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 5 is com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@12a2259
2012-06-26 10:16:25,605 [pool-4-thread-6 ] [DEBUG] .q.m.p.h.InitCommandHandler - InitCommandHandler======execute==bodyMessage=:  [cmdId=5, posId=pos-0002]
2012-06-26 10:16:25,605 [pool-4-thread-6 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - InitResponse() invoke
2012-06-26 10:16:25,605 [pool-4-thread-6 ] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:ALLOWED
2012-06-26 10:16:25,605 [pool-4-thread-6 ] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId AND p.ostatus = :ostatus
2012-06-26 10:16:25,605 [pool-4-thread-6 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - POS ID:pos-0002, init challenge saved - [48, 122, 103, 116, 70, 71, 89, 48]
2012-06-26 10:16:25,605 [pool-4-thread-6 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 10:16:25,652 [pool-4-thread-6 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 10:16:25,652 [pool-4-thread-6 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 10:16:25,652 [pool-4-thread-6 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 10:16:25,652 [pool-4-thread-6 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 33
2012-06-26 10:16:25,652 [pool-4-thread-6 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (6)
2012-06-26 10:16:25,652 [pool-4-thread-6 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageResponseCodec@1ea414e
2012-06-26 10:16:25,652 [pool-4-thread-6 ] [DEBUG] .c.InitMessageResponseCodec - init response message encode
2012-06-26 10:16:25,652 [pool-4-thread-6 ] [TRACE] .c.InitMessageResponseCodec - InitResponseMessage: [cmdId=6, result=0, challenge=[48, 122, 103, 116, 70, 71, 89, 48]]
2012-06-26 10:16:25,652 [pool-4-thread-6 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0xc874
2012-06-26 10:16:25,652 [pool-4-thread-6 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 10:16:25,652 [pool-4-thread-6 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 C8 74 00 00 00 1E ...........t....
00000010 00 00 00 06 00 00 30 7A 67 74 46 47 59 30       ......0zgtFGY0

2012-06-26 10:16:25,652 [pool-4-thread-6 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 10:16:25,652 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 10:16:25,652 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 10:16:25,652 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 33: not mark to return session ID to client
2012-06-26 10:16:25,652 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 10:16:25,652 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 10:16:25,652 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 10:16:25,870 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2187, Mina session ID 33, identified POS ID pos-0002
2012-06-26 10:16:25,870 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 51 B1 00 00 00 30 ..........Q....0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 11 82 C5 AF AB 5A 1E 2E 26 30 99 92 96 CF 72 CA .....Z..&0....r.

2012-06-26 10:16:25,870 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=48 cap=2048: 00 00 00 01 00 00 00 00 00 00 51 B1 00 00 00 30...]
2012-06-26 10:16:25,870 [NioProcessor-1  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 33
2012-06-26 10:16:25,870 [NioProcessor-1  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 10:16:25,870 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 10:16:25,870 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 33
2012-06-26 10:16:25,870 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =48
2012-06-26 10:16:25,870 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 51 B1 00 00 00 30 ..........Q....0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 11 82 C5 AF AB 5A 1E 2E 26 30 99 92 96 CF 72 CA .....Z..&0....r.

2012-06-26 10:16:25,870 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 48, current position: 0
2012-06-26 10:16:25,870 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 10:16:25,870 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x51b1} messageSize:{0x30} sessionKey:{null}
2012-06-26 10:16:25,870 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 32
2012-06-26 10:16:25,870 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=32, in.remaining=32
2012-06-26 10:16:25,870 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 10:16:25,870 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 7
2012-06-26 10:16:25,870 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 7: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageCodec@d18636
2012-06-26 10:16:25,870 [NioProcessor-1  ] [DEBUG] m.p.s.m.c.LoginMessageCodec - login/bind message decode
2012-06-26 10:16:25,870 [NioProcessor-1  ] [TRACE] m.p.s.m.c.LoginMessageCodec - LoginRequestMessage: [cmdId=7, posId=pos-0002, challengeResponse=[17, -126, -59, -81, -85, 90, 30, 46, 38, 48, -103, -110, -106, -49, 114, -54]]
2012-06-26 10:16:25,870 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 10:16:25,870 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x51b1} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[17, -126, -59, -81, -85, 90, 30, 46, 38, 48, -103, -110, -106, -49, 114, -54]]
2012-06-26 10:16:25,870 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 10:16:25,870 [NioProcessor-1  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 10:16:25,870 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 10:16:25,870 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 10:16:25,870 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 10:16:25,870 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 10:16:25,870 [NioProcessor-1  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2187, Mina session ID 33, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x51b1} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[17, -126, -59, -81, -85, 90, 30, 46, 38, 48, -103, -110, -106, -49, 114, -54]]
2012-06-26 10:16:25,870 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 10:16:25,870 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 10:16:25,870 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 10:16:25,870 [NioProcessor-1  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 10:16:25,870 [pool-4-thread-7 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 10:16:25,870 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 10:16:25,870 [pool-4-thread-7 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 10:16:25,870 [pool-4-thread-7 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@1cc3baa obtained for command ID 7
2012-06-26 10:16:25,870 [pool-4-thread-7 ] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 7 is com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@1cc3baa
2012-06-26 10:16:25,870 [pool-4-thread-7 ] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==bodyMessage=: [cmdId=7, posId=pos-0002, challengeResponse=[17, -126, -59, -81, -85, 90, 30, 46, 38, 48, -103, -110, -106, -49, 114, -54]]
2012-06-26 10:16:25,870 [pool-4-thread-7 ] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:null
2012-06-26 10:16:25,870 [pool-4-thread-7 ] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId
2012-06-26 10:16:25,870 [pool-4-thread-7 ] [TRACE] .q.m.l.l.i.LoginManagerImpl - Loaded from db: pos.posId:pos-0002, pos.secret:000001, oldChallenge:[48, 122, 103, 116, 70, 71, 89, 48]
2012-06-26 10:16:25,870 [pool-4-thread-7 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - disableChallengeCheck =0
2012-06-26 10:16:25,870 [pool-4-thread-7 ] [TRACE] c.c.q.m.l.c.ChallengeUtil   - checking challenge:response:[17, -126, -59, -81, -85, 90, 30, 46, 38, 48, -103, -110, -106, -49, 114, -54], posKey:000001, random:[48, 122, 103, 116, 70, 71, 89, 48]
2012-06-26 10:16:25,870 [pool-4-thread-7 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - new challenge for POS (POS ID): [118, 83, 102, 78, 106, 100, 51, 77]
2012-06-26 10:16:25,886 [pool-4-thread-7 ] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==serverKey=:JXTPOS
2012-06-26 10:16:25,886 [pool-4-thread-7 ] [DEBUG] ThreadSafeClientConnManager - Get connection: HttpRoute[{}->http://localhost:7070], timeout = 0
2012-06-26 10:16:25,886 [pool-4-thread-7 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - [HttpRoute[{}->http://localhost:7070]] total kept alive: 0, total issued: 0, total allocated: 0 out of 20
2012-06-26 10:16:25,886 [pool-4-thread-7 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - No free connections [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 10:16:25,886 [pool-4-thread-7 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Available capacity: 2 out of 2 [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 10:16:25,886 [pool-4-thread-7 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Creating new connection [HttpRoute[{}->http://localhost:7070]]
2012-06-26 10:16:25,886 [pool-4-thread-7 ] [DEBUG] ultClientConnectionOperator - Connecting to localhost:7070
2012-06-26 10:16:27,025 [pool-4-thread-7 ] [DEBUG] i.c.DefaultClientConnection - Connection closed
2012-06-26 10:16:27,025 [pool-4-thread-7 ] [DEBUG] i.c.DefaultClientConnection - Connection shut down
2012-06-26 10:16:27,025 [pool-4-thread-7 ] [DEBUG] ThreadSafeClientConnManager - Released connection is not reusable.
2012-06-26 10:16:27,025 [pool-4-thread-7 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Releasing connection [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 10:16:27,025 [pool-4-thread-7 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Notifying no-one, there are no waiting threads
2012-06-26 10:16:27,025 [pool-4-thread-7 ] [ERROR] q.m.p.h.LoginCommandHandler - initGrouponCache fail:com.chinarewards.qqgbvpn.qqapi.exception.ParseXMLException: com.chinarewards.qqgbvpn.qqapi.exception.SendPostTimeOutException: org.apache.http.conn.HttpHostConnectException: Connection to http://localhost:7070 refused
2012-06-26 10:16:27,040 [pool-4-thread-7 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 10:16:27,087 [pool-4-thread-7 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 10:16:27,087 [pool-4-thread-7 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 10:16:27,087 [pool-4-thread-7 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 10:16:27,087 [pool-4-thread-7 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 33
2012-06-26 10:16:27,087 [pool-4-thread-7 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (8)
2012-06-26 10:16:27,087 [pool-4-thread-7 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageResponseCodec@165d118
2012-06-26 10:16:27,087 [pool-4-thread-7 ] [DEBUG] c.LoginMessageResponseCodec - login/bind message encode
2012-06-26 10:16:27,087 [pool-4-thread-7 ] [TRACE] c.LoginMessageResponseCodec - LoginResponseMessage: [cmdId=8, result=0, challenge=[118, 83, 102, 78, 106, 100, 51, 77]]
2012-06-26 10:16:27,087 [pool-4-thread-7 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0x8585
2012-06-26 10:16:27,087 [pool-4-thread-7 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 10:16:27,087 [pool-4-thread-7 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 85 85 00 00 00 1E ................
00000010 00 00 00 08 00 00 76 53 66 4E 6A 64 33 4D       ......vSfNjd3M

2012-06-26 10:16:27,087 [pool-4-thread-7 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 10:16:27,087 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 10:16:27,087 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 10:16:27,087 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 33: not mark to return session ID to client
2012-06-26 10:16:27,087 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 10:16:27,087 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 10:16:27,087 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 10:16:27,087 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2187, Mina session ID 33, identified POS ID pos-0002
2012-06-26 10:16:27,087 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 33 of 33 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 D8 04 00 00 00 21 ...............!
00000010 00 00 00 C9 00 0B 31 31 31 31 31 31 31 31 31 31 ......1111111111
00000020 31                                              1

2012-06-26 10:16:27,087 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=33 cap=1024: 00 00 00 10 00 00 00 00 00 00 D8 04 00 00 00 21...]
2012-06-26 10:16:27,087 [NioProcessor-1  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 33
2012-06-26 10:16:27,087 [NioProcessor-1  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 10:16:27,087 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 10:16:27,087 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 33
2012-06-26 10:16:27,087 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =33
2012-06-26 10:16:27,087 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 33 of 33 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 D8 04 00 00 00 21 ...............!
00000010 00 00 00 C9 00 0B 31 31 31 31 31 31 31 31 31 31 ......1111111111
00000020 31                                              1

2012-06-26 10:16:27,087 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 33, current position: 0
2012-06-26 10:16:27,087 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 10:16:27,087 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd804} messageSize:{0x21} sessionKey:{null}
2012-06-26 10:16:27,087 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 17
2012-06-26 10:16:27,087 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=17, in.remaining=17
2012-06-26 10:16:27,087 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 10:16:27,087 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 201
2012-06-26 10:16:27,087 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 201: com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftMessageCodec@c8aeb3
2012-06-26 10:16:27,087 [NioProcessor-1  ] [DEBUG] m.c.ReceiveGiftMessageCodec - receive gift request message decode
2012-06-26 10:16:27,087 [NioProcessor-1  ] [DEBUG] m.c.ReceiveGiftMessageCodec - in.remaining()=17
2012-06-26 10:16:27,087 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 10:16:27,087 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd804} messageSize:{0x21} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@1459c6f
2012-06-26 10:16:27,087 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 10:16:27,087 [NioProcessor-1  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 10:16:27,087 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 10:16:27,087 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 10:16:27,087 [NioProcessor-1  ] [DEBUG] c.c.q.m.p.f.LoginFilter     - isLogin=true
2012-06-26 10:16:27,087 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 10:16:27,087 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 10:16:27,087 [NioProcessor-1  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2187, Mina session ID 33, identified POS ID pos-0002, message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd804} messageSize:{0x21} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@1459c6f
2012-06-26 10:16:27,087 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 10:16:27,087 [pool-4-thread-8 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 10:16:27,087 [Finalizer       ] [DEBUG] ThreadSafeClientConnManager - Shutting down
2012-06-26 10:16:27,087 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 10:16:27,087 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 10:16:27,087 [NioProcessor-1  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 10:16:27,087 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 10:16:27,087 [pool-4-thread-8 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 10:16:27,087 [pool-4-thread-8 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@197507c obtained for command ID 201
2012-06-26 10:16:27,087 [pool-4-thread-8 ] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 201 is com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@197507c
2012-06-26 10:16:27,087 [pool-4-thread-8 ] [DEBUG] h.ReceiveGiftCommandHandler - ReceiveGiftHandler======execute==bodyMessage=: com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@1459c6f
2012-06-26 10:16:27,118 [pool-4-thread-8 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 10:16:27,118 [pool-4-thread-8 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 10:16:27,118 [pool-4-thread-8 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 10:16:27,118 [pool-4-thread-8 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 10:16:27,118 [pool-4-thread-8 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 33
2012-06-26 10:16:27,118 [pool-4-thread-8 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (202)
2012-06-26 10:16:27,118 [pool-4-thread-8 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftResponseMessageCodec@1f71773
2012-06-26 10:16:27,118 [pool-4-thread-8 ] [DEBUG] iveGiftResponseMessageCodec - receive gift response message encode
2012-06-26 10:16:27,118 [pool-4-thread-8 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0xeebb
2012-06-26 10:16:27,118 [pool-4-thread-8 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 10:16:27,118 [pool-4-thread-8 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 55 of 55 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 EE BB 00 00 00 37 ...............7
00000010 00 00 00 CA 00 00 00 01 07 DC 06 1A 0A 10 1B 00 ................
00000020 57 01 E0 00 08 C1 EC C8 A1 C0 F1 C6 B7 00 08 D2 W...............
00000030 D1 C1 EC C8 A1 B9 FD                            .......

2012-06-26 10:16:27,118 [pool-4-thread-8 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 10:16:27,118 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 10:16:27,118 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 10:16:27,118 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 33: not mark to return session ID to client
2012-06-26 10:16:27,118 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 10:16:27,118 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 10:16:27,118 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 10:16:27,118 [NioProcessor-1  ] [INFO ] o.a.m.f.l.LoggingFilter     - CLOSED
2012-06-26 10:16:27,118 [NioProcessor-1  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 10:16:31,269 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:16:31,269 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:16:31,269 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 10:16:31,269 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 10:16:31,269 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:16:41,271 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:16:41,271 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:16:41,271 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 10:16:41,271 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 10:16:41,271 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:16:51,273 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:16:51,273 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:16:51,273 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 10:16:51,273 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 10:16:51,273 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:17:01,275 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:17:01,275 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:17:01,275 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 10:17:01,275 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 10:17:01,275 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:17:11,277 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:17:11,277 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:17:11,277 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 10:17:11,277 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 10:17:11,277 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:17:21,278 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:17:21,278 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:17:21,278 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 10:17:21,278 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 10:17:21,278 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:17:31,280 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:17:31,280 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:17:31,280 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 10:17:31,280 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 10:17:31,280 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:17:41,282 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:17:41,282 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:17:41,282 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 10:17:41,282 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 10:17:41,282 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:17:51,284 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:17:51,284 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:17:51,284 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 10:17:51,284 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 10:17:51,284 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:18:02,990 [main            ] [INFO ] c.c.q.m.BootStrap           - Home directory: D:\posnetv2
2012-06-26 10:18:02,990 [main            ] [DEBUG] c.c.q.c.ConfigReader        - Home directory is set to D:\posnetv2
2012-06-26 10:18:02,990 [main            ] [DEBUG] c.c.q.c.ConfigReader        - Configuration subdirectory is set to conf
2012-06-26 10:18:02,990 [main            ] [DEBUG] c.c.q.c.ConfigReader        - Configuration directory is set to D:\posnetv2\conf
2012-06-26 10:18:02,990 [main            ] [DEBUG] c.c.q.c.ConfigReader        - Config file: D:\posnetv2\conf\posnet.ini
2012-06-26 10:18:02,990 [main            ] [DEBUG] c.c.q.c.ConfigReader        - Reading configuration file D:\posnetv2\conf\posnet.ini
2012-06-26 10:18:02,990 [main            ] [DEBUG] c.c.q.c.ConfigReader        - - D:\posnetv2\conf\posnet.ini is an .ini file, load using PropertiesConfiguration.
2012-06-26 10:18:03,021 [main            ] [DEBUG] c.c.PropertiesConfiguration - FileName set to posnet.ini
2012-06-26 10:18:03,021 [main            ] [DEBUG] c.c.PropertiesConfiguration - Base path set to D:\posnetv2\conf
2012-06-26 10:18:03,036 [main            ] [DEBUG] o.a.c.c.ConfigurationUtils  - ConfigurationUtils.locate(): base is D:\posnetv2\conf, name is posnet.ini
2012-06-26 10:18:03,036 [main            ] [DEBUG] o.a.c.c.DefaultFileSystem   - Could not locate file posnet.ini at D:\posnetv2\conf: unknown protocol: d
2012-06-26 10:18:03,036 [main            ] [DEBUG] o.a.c.c.ConfigurationUtils  - Loading configuration from the path D:\posnetv2\conf\posnet.ini
2012-06-26 10:18:03,067 [main            ] [DEBUG] o.a.c.c.ConfigurationUtils  - ConfigurationUtils.locate(): base is D:\posnetv2\conf, name is dispatcher.ini
2012-06-26 10:18:03,067 [main            ] [DEBUG] o.a.c.c.DefaultFileSystem   - Could not locate file dispatcher.ini at D:\posnetv2\conf: unknown protocol: d
2012-06-26 10:18:03,067 [main            ] [DEBUG] o.a.c.c.ConfigurationUtils  - Loading configuration from the path D:\posnetv2\conf\dispatcher.ini
2012-06-26 10:18:03,083 [main            ] [DEBUG] c.c.q.m.BootStrap           - System configuration:
2012-06-26 10:18:03,083 [main            ] [DEBUG] c.c.q.m.BootStrap           - - server.port: 1234
2012-06-26 10:18:03,083 [main            ] [DEBUG] c.c.q.m.BootStrap           - - server.client_max_idle_time: 20
2012-06-26 10:18:03,083 [main            ] [DEBUG] c.c.q.m.BootStrap           - - server.session.timeout_check_interval: 10
2012-06-26 10:18:03,083 [main            ] [DEBUG] c.c.q.m.BootStrap           - - server.session.client_timeout: 210
2012-06-26 10:18:03,083 [main            ] [DEBUG] c.c.q.m.BootStrap           - - server.disable_checksum_check: 0
2012-06-26 10:18:03,083 [main            ] [DEBUG] c.c.q.m.BootStrap           - - server.service_handler.thread_pool_size: 20
2012-06-26 10:18:03,083 [main            ] [DEBUG] c.c.q.m.BootStrap           - - firmware.location: D:\posnetv2\posnet2-mgmtui\firmware
2012-06-26 10:18:03,083 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.hibernate.show_sql: [true, true]
2012-06-26 10:18:03,083 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.hibernate.hbm2ddl.auto: false
2012-06-26 10:18:03,083 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.ext.hibernate.dialect: org.hibernate.dialect.MySQL5Dialect
2012-06-26 10:18:03,083 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.user: root
2012-06-26 10:18:03,083 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.password: 167118
2012-06-26 10:18:03,083 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.driver: com.mysql.jdbc.Driver
2012-06-26 10:18:03,083 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.url: jdbc:mysql://localhost/posnet?autoReconnect=true&useUnicode=true&characterEncoding=UTF-8
2012-06-26 10:18:03,083 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.ext.hibernate.connection.provider_class: org.hibernate.connection.C3P0ConnectionProvider
2012-06-26 10:18:03,083 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.ext.hibernate.c3p0.minPoolSize: 5
2012-06-26 10:18:03,083 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.ext.hibernate.c3p0.maxPoolSize: 20
2012-06-26 10:18:03,083 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.ext.hibernate.c3p0.maxIdleTime: 1800
2012-06-26 10:18:03,083 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.ext.hibernate.c3p0.testConnectionOnCheckout: true
2012-06-26 10:18:03,083 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.ext.hibernate.c3p0.maxStatements: 50
2012-06-26 10:18:03,083 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.ext.hibernate.c3p0.maxStatementsPerConnection: 10
2012-06-26 10:18:03,083 [main            ] [DEBUG] c.c.q.m.BootStrap           - - qq.groupbuy.url.groupBuyingSearchGroupon: http://localhost:7070/testdata/TuanSearchListVO.xml
2012-06-26 10:18:03,083 [main            ] [DEBUG] c.c.q.m.BootStrap           - - qq.groupbuy.url.groupBuyingValidationUrl: http://localhost:7070/testdata/TuanValidateResultVO.xml
2012-06-26 10:18:03,083 [main            ] [DEBUG] c.c.q.m.BootStrap           - - qq.groupbuy.url.groupBuyingUnbindPosUrl: http://localhost:7070/testdata/TuanUnbindVO.xml
2012-06-26 10:18:03,083 [main            ] [DEBUG] c.c.q.m.BootStrap           - - txserver.key: JXTPOS
2012-06-26 10:18:03,083 [main            ] [DEBUG] c.c.q.m.BootStrap           - - qq.meishi.wsapi.host: localhost:7070
2012-06-26 10:18:03,083 [main            ] [DEBUG] c.c.q.m.BootStrap           - - qq.meishi.wsapi.url: http://localhost:7070/qq-meishi/data
2012-06-26 10:18:03,083 [main            ] [DEBUG] c.c.q.m.BootStrap           - - qq.meishi.wsapi.secretKey: NDA2ZTkwOTExZjlkZDY3ZTIxMTU1OTY0NmVlYzVmY2Q=
2012-06-26 10:18:03,083 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.1.handler: com.chinarewards.qqgbvpn.main.protocol.handler.SearchCommandHandler
2012-06-26 10:18:03,083 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.1.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.SearchBodyMessageCodec
2012-06-26 10:18:03,083 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.2.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.SearchBodyMessageResponseCodec
2012-06-26 10:18:03,083 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.3.handler: com.chinarewards.qqgbvpn.main.protocol.handler.ValidateCommandHandler
2012-06-26 10:18:03,083 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.3.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.ValidateBodyMessageCodec
2012-06-26 10:18:03,083 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.4.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.ValidateBodyMessageResponseCodec
2012-06-26 10:18:03,083 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.5.handler: com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler
2012-06-26 10:18:03,083 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.5.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageCodec
2012-06-26 10:18:03,083 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.6.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageResponseCodec
2012-06-26 10:18:03,083 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.7.handler: com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler
2012-06-26 10:18:03,083 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.7.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageCodec
2012-06-26 10:18:03,083 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.8.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageResponseCodec
2012-06-26 10:18:03,083 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.9.handler: com.chinarewards.qqgbvpn.main.protocol.handler.BindCommandHandler
2012-06-26 10:18:03,083 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.9.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageCodec
2012-06-26 10:18:03,083 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.10.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageResponseCodec
2012-06-26 10:18:03,083 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.11.handler: com.chinarewards.qqgbvpn.main.protocol.handler.ValidationCallbackHandler
2012-06-26 10:18:03,083 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.11.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.ValidationCallbackCodec
2012-06-26 10:18:03,083 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.12.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.ValidationCallbackResponseCodec
2012-06-26 10:18:03,083 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.13.handler: com.chinarewards.qqgbvpn.main.protocol.handler.FirmwareUpgradeRequestCommandHandler
2012-06-26 10:18:03,083 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.13.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.FirmwareRequestMessageCodec
2012-06-26 10:18:03,083 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.14.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.FirmwareResponseMessageCodec
2012-06-26 10:18:03,083 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.15.handler: com.chinarewards.qqgbvpn.main.protocol.handler.GetFirmwareFragmentHandler
2012-06-26 10:18:03,083 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.15.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.GetFirmwareFragmentRequestMessageCodec
2012-06-26 10:18:03,083 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.16.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.GetFirmwareFragmentResponseMessageCodec
2012-06-26 10:18:03,083 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.17.handler: com.chinarewards.qqgbvpn.main.protocol.handler.FirmwareUpDoneHandler
2012-06-26 10:18:03,083 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.17.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.FirmwareUpDoneRequestCodec
2012-06-26 10:18:03,083 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.18.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.FirmwareUpDoneResponseCodec
2012-06-26 10:18:03,083 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.19.handler: com.chinarewards.qqgbvpn.main.protocol.handler.HuaxiaSearchCommandHandler
2012-06-26 10:18:03,083 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.19.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.HuaxiaSearchBodyMessageCodec
2012-06-26 10:18:03,083 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.20.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.HuaxiaSearchBodyMessageResponseCodec
2012-06-26 10:18:03,083 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.21.handler: com.chinarewards.qqgbvpn.main.protocol.handler.HuaxiaConfirmCommandHandler
2012-06-26 10:18:03,083 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.21.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.HuaxiaConfirmBodyMessageCodec
2012-06-26 10:18:03,083 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.22.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.HuaxiaConfirmBodyMessageResponseCodec
2012-06-26 10:18:03,083 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.23.handler: com.chinarewards.qqgbvpn.main.protocol.handler.HuaxiaAckCommandHandler
2012-06-26 10:18:03,083 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.23.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.HuaxiaAckBodyMessageCodec
2012-06-26 10:18:03,083 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.24.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.HuaxiaAckBodyMessageResponseCodec
2012-06-26 10:18:03,083 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.25.handler: com.chinarewards.qqgbvpn.main.protocol.handler.PosEchoCommandHandler
2012-06-26 10:18:03,083 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.25.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.PosEchoCommandRequestMessageCodec
2012-06-26 10:18:03,083 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.26.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.PosEchoCommandResponseMessageCodec
2012-06-26 10:18:03,083 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.27.handler: com.chinarewards.qqgbvpn.main.protocol.handler.ValidateCommandHandler2
2012-06-26 10:18:03,083 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.27.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.ValidateBodyMessageCodec2
2012-06-26 10:18:03,083 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.28.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.ValidateBodyMessageResponseCodec2
2012-06-26 10:18:03,083 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.101.handler: com.chinarewards.qqgbvpn.main.protocol.handler.QQMeishiCommandHandler
2012-06-26 10:18:03,083 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.101.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.QQMeishiBodyMessageCodec
2012-06-26 10:18:03,083 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.102.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.QQMeishiBodyMessageResponseCodec
2012-06-26 10:18:03,083 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.201.handler: com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler
2012-06-26 10:18:03,083 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.201.codec: com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftMessageCodec
2012-06-26 10:18:03,083 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.202.codec: com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftResponseMessageCodec
2012-06-26 10:18:03,083 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.110.handler: com.chinarewards.timeserver.main.protocol.handler.TimeServerHandler
2012-06-26 10:18:03,083 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.110.codec: com.chinarewards.timeserver.main.protocol.socket.mina.codec.TimeServerMessageCodec
2012-06-26 10:18:03,083 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.111.codec: com.chinarewards.timeserver.main.protocol.socket.mina.codec.TimeServerMessageResponseCodec
2012-06-26 10:18:03,083 [main            ] [DEBUG] c.c.q.m.BootStrap           - - qq.vip.adidas.des.secretkey: qqadidas
2012-06-26 10:18:03,083 [main            ] [INFO ] c.c.q.m.BootStrap           - Bootstrapping...
2012-06-26 10:18:03,083 [main            ] [INFO ] c.c.q.m.BootStrap           - Initializing dependency injection environment...
2012-06-26 10:18:03,130 [main            ] [INFO ] c.c.q.m.BootStrap           - Creating Guice injector. If it is stucked, there is a chance the database is down.
2012-06-26 10:18:03,270 [main            ] [DEBUG] .q.m.p.ServiceHandlerModule - Finished configuration
2012-06-26 10:18:03,270 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.SearchCommandHandler to Guice
2012-06-26 10:18:03,270 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.QQMeishiCommandHandler to Guice
2012-06-26 10:18:03,270 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.ValidateCommandHandler to Guice
2012-06-26 10:18:03,270 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler to Guice
2012-06-26 10:18:03,270 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler to Guice
2012-06-26 10:18:03,270 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler to Guice
2012-06-26 10:18:03,270 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.timeserver.main.protocol.handler.TimeServerHandler to Guice
2012-06-26 10:18:03,270 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.BindCommandHandler to Guice
2012-06-26 10:18:03,270 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.ValidationCallbackHandler to Guice
2012-06-26 10:18:03,270 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.FirmwareUpgradeRequestCommandHandler to Guice
2012-06-26 10:18:03,270 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.GetFirmwareFragmentHandler to Guice
2012-06-26 10:18:03,270 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.FirmwareUpDoneHandler to Guice
2012-06-26 10:18:03,270 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.HuaxiaSearchCommandHandler to Guice
2012-06-26 10:18:03,270 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.HuaxiaConfirmCommandHandler to Guice
2012-06-26 10:18:03,270 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.HuaxiaAckCommandHandler to Guice
2012-06-26 10:18:03,270 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.PosEchoCommandHandler to Guice
2012-06-26 10:18:03,270 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.ValidateCommandHandler2 to Guice
2012-06-26 10:18:03,270 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Configuration completed
2012-06-26 10:18:03,612 [main            ] [INFO ] c.c.q.m.BootStrap           - Bootstrapping completed
2012-06-26 10:18:03,612 [main            ] [DEBUG] dule$ServiceMappingProvider - Returning ServiceMapping
2012-06-26 10:18:03,612 [main            ] [DEBUG] $$EnhancerByGuice$$97046352 - ServiceHandlerObjectFactory is com.chinarewards.qqgbvpn.main.protocol.guice.GuiceServiceHandlerObjectFactory@992bae
2012-06-26 10:18:04,951 [main            ] [DEBUG] c.c.q.m.PosServer           - idleTime=20
2012-06-26 10:18:04,997 [main            ] [DEBUG] c.c.q.m.PosServer           -  monitor port =9999
2012-06-26 10:18:04,997 [main            ] [DEBUG] c.c.q.m.PosServer           -  JMXServiceURL =service:jmx:rmi:///jndi/rmi://localhost:9999/jmxrmi
2012-06-26 10:18:05,029 [main            ] [INFO ] c.c.q.m.PosServer           - Client idle timeout set to 20 seconds
2012-06-26 10:18:05,029 [main            ] [DEBUG] c.c.q.m.PosServer           - config server.session.timeout_check_interval=10
2012-06-26 10:18:05,044 [main            ] [INFO ] c.c.q.m.PosServer           - Server running, listening on 1234
2012-06-26 10:18:05,044 [main            ] [INFO ] c.c.q.m.r.RMIRegistry       - Start listener rmi server, port=9999
2012-06-26 10:18:06,180 [main            ] [INFO ] c.c.q.m.r.RMIRegistry       - no existing RMI registry found on port 9999, creating...
2012-06-26 10:18:06,180 [main            ] [INFO ] c.c.q.m.r.RMIRegistry       - RMI server create success.
2012-06-26 10:18:11,861 [NioProcessor-2  ] [INFO ] c.c.q.m.p.f.LoggingFilter   - incoming connection from remote address: 127.0.0.1:2209, Mina session ID: 1
2012-06-26 10:18:11,861 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - Currently managed session count: 1
2012-06-26 10:18:11,861 [NioProcessor-2  ] [INFO ] o.a.m.f.l.LoggingFilter     - CREATED
2012-06-26 10:18:11,861 [NioProcessor-2  ] [INFO ] o.a.m.f.l.LoggingFilter     - OPENED
2012-06-26 10:18:11,861 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2209, Mina session ID 1, identified POS ID null
2012-06-26 10:18:11,893 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 10:18:11,893 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=32 cap=2048: 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20...]
2012-06-26 10:18:11,893 [NioProcessor-2  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 1
2012-06-26 10:18:11,893 [NioProcessor-2  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 10:18:11,893 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 10:18:11,893 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 1
2012-06-26 10:18:11,893 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =32
2012-06-26 10:18:11,893 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 10:18:11,893 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 32, current position: 0
2012-06-26 10:18:11,893 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 10:18:11,893 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}
2012-06-26 10:18:11,893 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 16
2012-06-26 10:18:11,893 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=16, in.remaining=16
2012-06-26 10:18:11,893 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 10:18:11,893 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 5
2012-06-26 10:18:11,893 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 5: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageCodec@1e6978d
2012-06-26 10:18:11,893 [NioProcessor-2  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - init request message decode
2012-06-26 10:18:11,893 [NioProcessor-2  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - in.remaining()=16
2012-06-26 10:18:11,893 [NioProcessor-2  ] [TRACE] .m.p.s.m.c.InitMessageCodec - InitRequestMessage: [cmdId=5, posId=pos-0002]
2012-06-26 10:18:11,893 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 10:18:11,893 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 10:18:11,893 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 10:18:11,893 [NioProcessor-2  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 10:18:11,893 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 10:18:11,893 [NioProcessor-2  ] [DEBUG] p.f.SessionKeyMessageFilter - Mina session ID 1: created session key a56f449cba97425aa57849c8365d1ea0
2012-06-26 10:18:11,893 [NioProcessor-2  ] [DEBUG] p.f.SessionKeyMessageFilter - creating session for mina session ID 1 using session ID a56f449cba97425aa57849c8365d1ea0
2012-06-26 10:18:11,908 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 10:18:11,908 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 10:18:11,908 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 10:18:11,908 [NioProcessor-2  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2209, Mina session ID 1, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 10:18:11,908 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 10:18:11,908 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 10:18:11,908 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 10:18:11,908 [NioProcessor-2  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 10:18:11,908 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 10:18:11,908 [pool-4-thread-1 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 10:18:11,955 [pool-4-thread-1 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 10:18:11,955 [pool-4-thread-1 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@10275fa obtained for command ID 5
2012-06-26 10:18:11,955 [pool-4-thread-1 ] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 5 is com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@10275fa
2012-06-26 10:18:11,955 [pool-4-thread-1 ] [DEBUG] .q.m.p.h.InitCommandHandler - InitCommandHandler======execute==bodyMessage=:  [cmdId=5, posId=pos-0002]
2012-06-26 10:18:11,955 [pool-4-thread-1 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - InitResponse() invoke
2012-06-26 10:18:11,955 [pool-4-thread-1 ] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:ALLOWED
2012-06-26 10:18:11,955 [pool-4-thread-1 ] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId AND p.ostatus = :ostatus
2012-06-26 10:18:12,142 [pool-4-thread-1 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - POS ID:pos-0002, init challenge saved - [67, 106, 53, 71, 85, 57, 76, 109]
2012-06-26 10:18:12,344 [pool-4-thread-1 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 10:18:12,359 [pool-4-thread-1 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 10:18:12,375 [pool-4-thread-1 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 10:18:12,375 [pool-4-thread-1 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 10:18:12,375 [pool-4-thread-1 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 1
2012-06-26 10:18:12,375 [pool-4-thread-1 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (6)
2012-06-26 10:18:12,375 [pool-4-thread-1 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageResponseCodec@1f93ace
2012-06-26 10:18:12,375 [pool-4-thread-1 ] [DEBUG] .c.InitMessageResponseCodec - init response message encode
2012-06-26 10:18:12,375 [pool-4-thread-1 ] [TRACE] .c.InitMessageResponseCodec - InitResponseMessage: [cmdId=6, result=0, challenge=[67, 106, 53, 71, 85, 57, 76, 109]]
2012-06-26 10:18:12,375 [pool-4-thread-1 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0xe582
2012-06-26 10:18:12,375 [pool-4-thread-1 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 10:18:12,375 [pool-4-thread-1 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 E5 82 00 00 00 1E ................
00000010 00 00 00 06 00 00 43 6A 35 47 55 39 4C 6D       ......Cj5GU9Lm

2012-06-26 10:18:12,375 [pool-4-thread-1 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 10:18:12,375 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 10:18:12,375 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 10:18:12,375 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 1: not mark to return session ID to client
2012-06-26 10:18:12,375 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 10:18:12,375 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 10:18:12,375 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 10:18:12,593 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2209, Mina session ID 1, identified POS ID pos-0002
2012-06-26 10:18:12,593 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 51 94 00 00 00 30 ..........Q....0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 E2 35 52 ED 72 64 4D 22 F1 B5 BB 31 2A DF 9D C3 .5R.rdM"...1*...

2012-06-26 10:18:12,593 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=48 cap=2048: 00 00 00 01 00 00 00 00 00 00 51 94 00 00 00 30...]
2012-06-26 10:18:12,593 [NioProcessor-2  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 1
2012-06-26 10:18:12,593 [NioProcessor-2  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 10:18:12,593 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 10:18:12,593 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 1
2012-06-26 10:18:12,593 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =48
2012-06-26 10:18:12,593 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 51 94 00 00 00 30 ..........Q....0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 E2 35 52 ED 72 64 4D 22 F1 B5 BB 31 2A DF 9D C3 .5R.rdM"...1*...

2012-06-26 10:18:12,593 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 48, current position: 0
2012-06-26 10:18:12,593 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 10:18:12,593 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x5194} messageSize:{0x30} sessionKey:{null}
2012-06-26 10:18:12,593 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 32
2012-06-26 10:18:12,593 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=32, in.remaining=32
2012-06-26 10:18:12,593 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 10:18:12,593 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 7
2012-06-26 10:18:12,593 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 7: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageCodec@1bb8694
2012-06-26 10:18:12,593 [NioProcessor-2  ] [DEBUG] m.p.s.m.c.LoginMessageCodec - login/bind message decode
2012-06-26 10:18:12,593 [NioProcessor-2  ] [TRACE] m.p.s.m.c.LoginMessageCodec - LoginRequestMessage: [cmdId=7, posId=pos-0002, challengeResponse=[-30, 53, 82, -19, 114, 100, 77, 34, -15, -75, -69, 49, 42, -33, -99, -61]]
2012-06-26 10:18:12,593 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 10:18:12,593 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x5194} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[-30, 53, 82, -19, 114, 100, 77, 34, -15, -75, -69, 49, 42, -33, -99, -61]]
2012-06-26 10:18:12,593 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 10:18:12,593 [NioProcessor-2  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 10:18:12,593 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 10:18:12,593 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 10:18:12,593 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 10:18:12,593 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 10:18:12,593 [NioProcessor-2  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2209, Mina session ID 1, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x5194} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[-30, 53, 82, -19, 114, 100, 77, 34, -15, -75, -69, 49, 42, -33, -99, -61]]
2012-06-26 10:18:12,593 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 10:18:12,593 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 10:18:12,593 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 10:18:12,593 [NioProcessor-2  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 10:18:12,593 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 10:18:12,593 [pool-4-thread-2 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 10:18:12,593 [pool-4-thread-2 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 10:18:12,593 [pool-4-thread-2 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@dcdffc obtained for command ID 7
2012-06-26 10:18:12,593 [pool-4-thread-2 ] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 7 is com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@dcdffc
2012-06-26 10:18:12,593 [pool-4-thread-2 ] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==bodyMessage=: [cmdId=7, posId=pos-0002, challengeResponse=[-30, 53, 82, -19, 114, 100, 77, 34, -15, -75, -69, 49, 42, -33, -99, -61]]
2012-06-26 10:18:12,593 [pool-4-thread-2 ] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:null
2012-06-26 10:18:12,593 [pool-4-thread-2 ] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId
2012-06-26 10:18:12,608 [pool-4-thread-2 ] [TRACE] .q.m.l.l.i.LoginManagerImpl - Loaded from db: pos.posId:pos-0002, pos.secret:000001, oldChallenge:[67, 106, 53, 71, 85, 57, 76, 109]
2012-06-26 10:18:12,608 [pool-4-thread-2 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - disableChallengeCheck =0
2012-06-26 10:18:12,608 [pool-4-thread-2 ] [TRACE] c.c.q.m.l.c.ChallengeUtil   - checking challenge:response:[-30, 53, 82, -19, 114, 100, 77, 34, -15, -75, -69, 49, 42, -33, -99, -61], posKey:000001, random:[67, 106, 53, 71, 85, 57, 76, 109]
2012-06-26 10:18:12,842 [pool-4-thread-2 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - new challenge for POS (POS ID): [76, 73, 107, 48, 100, 101, 48, 113]
2012-06-26 10:18:12,842 [pool-4-thread-2 ] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==serverKey=:JXTPOS
2012-06-26 10:18:12,998 [pool-4-thread-2 ] [DEBUG] ThreadSafeClientConnManager - Get connection: HttpRoute[{}->http://localhost:7070], timeout = 0
2012-06-26 10:18:12,998 [pool-4-thread-2 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - [HttpRoute[{}->http://localhost:7070]] total kept alive: 0, total issued: 0, total allocated: 0 out of 20
2012-06-26 10:18:12,998 [pool-4-thread-2 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - No free connections [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 10:18:12,998 [pool-4-thread-2 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Available capacity: 2 out of 2 [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 10:18:12,998 [pool-4-thread-2 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Creating new connection [HttpRoute[{}->http://localhost:7070]]
2012-06-26 10:18:13,029 [pool-4-thread-2 ] [DEBUG] ultClientConnectionOperator - Connecting to localhost:7070
2012-06-26 10:18:14,009 [pool-4-thread-2 ] [DEBUG] i.c.DefaultClientConnection - Connection closed
2012-06-26 10:18:14,009 [pool-4-thread-2 ] [DEBUG] i.c.DefaultClientConnection - Connection shut down
2012-06-26 10:18:14,009 [pool-4-thread-2 ] [DEBUG] ThreadSafeClientConnManager - Released connection is not reusable.
2012-06-26 10:18:14,009 [pool-4-thread-2 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Releasing connection [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 10:18:14,009 [pool-4-thread-2 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Notifying no-one, there are no waiting threads
2012-06-26 10:18:14,009 [pool-4-thread-2 ] [ERROR] q.m.p.h.LoginCommandHandler - initGrouponCache fail:com.chinarewards.qqgbvpn.qqapi.exception.ParseXMLException: com.chinarewards.qqgbvpn.qqapi.exception.SendPostTimeOutException: org.apache.http.conn.HttpHostConnectException: Connection to http://localhost:7070 refused
2012-06-26 10:18:14,040 [pool-4-thread-2 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 10:18:14,072 [pool-4-thread-2 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 10:18:14,072 [pool-4-thread-2 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 10:18:14,072 [pool-4-thread-2 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 10:18:14,072 [pool-4-thread-2 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 1
2012-06-26 10:18:14,072 [pool-4-thread-2 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (8)
2012-06-26 10:18:14,072 [pool-4-thread-2 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageResponseCodec@12342ed
2012-06-26 10:18:14,072 [pool-4-thread-2 ] [DEBUG] c.LoginMessageResponseCodec - login/bind message encode
2012-06-26 10:18:14,072 [pool-4-thread-2 ] [TRACE] c.LoginMessageResponseCodec - LoginResponseMessage: [cmdId=8, result=0, challenge=[76, 73, 107, 48, 100, 101, 48, 113]]
2012-06-26 10:18:14,072 [pool-4-thread-2 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0xb388
2012-06-26 10:18:14,072 [pool-4-thread-2 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 10:18:14,072 [pool-4-thread-2 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 B3 88 00 00 00 1E ................
00000010 00 00 00 08 00 00 4C 49 6B 30 64 65 30 71       ......LIk0de0q

2012-06-26 10:18:14,072 [pool-4-thread-2 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 10:18:14,072 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 10:18:14,072 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 10:18:14,072 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 1: not mark to return session ID to client
2012-06-26 10:18:14,072 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 10:18:14,072 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 10:18:14,072 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 10:18:14,072 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2209, Mina session ID 1, identified POS ID pos-0002
2012-06-26 10:18:14,072 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 33 of 33 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 D8 04 00 00 00 21 ...............!
00000010 00 00 00 C9 00 0B 31 31 31 31 31 31 31 31 31 31 ......1111111111
00000020 31                                              1

2012-06-26 10:18:14,072 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=33 cap=1024: 00 00 00 10 00 00 00 00 00 00 D8 04 00 00 00 21...]
2012-06-26 10:18:14,072 [Finalizer       ] [DEBUG] ThreadSafeClientConnManager - Shutting down
2012-06-26 10:18:14,072 [NioProcessor-2  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 1
2012-06-26 10:18:14,072 [NioProcessor-2  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 10:18:14,072 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 10:18:14,072 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 1
2012-06-26 10:18:14,072 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =33
2012-06-26 10:18:14,072 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 33 of 33 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 D8 04 00 00 00 21 ...............!
00000010 00 00 00 C9 00 0B 31 31 31 31 31 31 31 31 31 31 ......1111111111
00000020 31                                              1

2012-06-26 10:18:14,072 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 33, current position: 0
2012-06-26 10:18:14,072 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 10:18:14,072 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd804} messageSize:{0x21} sessionKey:{null}
2012-06-26 10:18:14,072 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 17
2012-06-26 10:18:14,072 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=17, in.remaining=17
2012-06-26 10:18:14,072 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 10:18:14,072 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 201
2012-06-26 10:18:14,072 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 201: com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftMessageCodec@1e136a8
2012-06-26 10:18:14,072 [NioProcessor-2  ] [DEBUG] m.c.ReceiveGiftMessageCodec - receive gift request message decode
2012-06-26 10:18:14,072 [NioProcessor-2  ] [DEBUG] m.c.ReceiveGiftMessageCodec - in.remaining()=17
2012-06-26 10:18:14,072 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 10:18:14,072 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd804} messageSize:{0x21} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@a97f68
2012-06-26 10:18:14,072 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 10:18:14,072 [NioProcessor-2  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 10:18:14,072 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 10:18:14,072 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 10:18:14,072 [NioProcessor-2  ] [DEBUG] c.c.q.m.p.f.LoginFilter     - isLogin=true
2012-06-26 10:18:14,072 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 10:18:14,072 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 10:18:14,072 [NioProcessor-2  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2209, Mina session ID 1, identified POS ID pos-0002, message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd804} messageSize:{0x21} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@a97f68
2012-06-26 10:18:14,072 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 10:18:14,072 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 10:18:14,072 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 10:18:14,072 [NioProcessor-2  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 10:18:14,072 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 10:18:14,072 [pool-4-thread-3 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 10:18:14,072 [pool-4-thread-3 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 10:18:14,072 [pool-4-thread-3 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@19a6087 obtained for command ID 201
2012-06-26 10:18:14,072 [pool-4-thread-3 ] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 201 is com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@19a6087
2012-06-26 10:18:14,072 [pool-4-thread-3 ] [DEBUG] h.ReceiveGiftCommandHandler - ReceiveGiftHandler======execute==bodyMessage=: com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@a97f68
2012-06-26 10:18:14,149 [pool-4-thread-3 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 10:18:14,149 [pool-4-thread-3 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 10:18:14,149 [pool-4-thread-3 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 10:18:14,149 [pool-4-thread-3 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 10:18:14,149 [pool-4-thread-3 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 1
2012-06-26 10:18:14,149 [pool-4-thread-3 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (202)
2012-06-26 10:18:14,149 [pool-4-thread-3 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftResponseMessageCodec@130cb4b
2012-06-26 10:18:14,149 [pool-4-thread-3 ] [DEBUG] iveGiftResponseMessageCodec - receive gift response message encode
2012-06-26 10:18:14,149 [pool-4-thread-3 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0x64d4
2012-06-26 10:18:14,149 [pool-4-thread-3 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 10:18:14,149 [pool-4-thread-3 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 55 of 55 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 64 D4 00 00 00 37 ..........d....7
00000010 00 00 00 CA 00 00 00 00 07 DC 06 1A 0A 12 0E 00 ................
00000020 48 01 E0 00 08 C1 EC C8 A1 C0 F1 C6 B7 00 08 BD H...............
00000030 BB D2 D7 B3 C9 B9 A6                            .......

2012-06-26 10:18:14,149 [pool-4-thread-3 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 10:18:14,149 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 10:18:14,149 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 10:18:14,149 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 1: not mark to return session ID to client
2012-06-26 10:18:14,149 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 10:18:14,149 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 10:18:14,149 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 10:18:14,165 [NioProcessor-2  ] [INFO ] o.a.m.f.l.LoggingFilter     - CLOSED
2012-06-26 10:18:14,165 [NioProcessor-2  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 10:18:15,099 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:18:15,099 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:18:15,099 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 10:18:15,099 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 10:18:15,099 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:18:25,076 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:18:25,076 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:18:25,076 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 10:18:25,076 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 10:18:25,076 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:18:29,807 [NioProcessor-3  ] [INFO ] c.c.q.m.p.f.LoggingFilter   - incoming connection from remote address: 127.0.0.1:2213, Mina session ID: 2
2012-06-26 10:18:29,807 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - Currently managed session count: 1
2012-06-26 10:18:29,807 [NioProcessor-3  ] [INFO ] o.a.m.f.l.LoggingFilter     - CREATED
2012-06-26 10:18:29,807 [NioProcessor-3  ] [INFO ] o.a.m.f.l.LoggingFilter     - OPENED
2012-06-26 10:18:29,807 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2213, Mina session ID 2, identified POS ID null
2012-06-26 10:18:29,807 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 10:18:29,807 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=32 cap=2048: 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20...]
2012-06-26 10:18:29,838 [NioProcessor-3  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 2
2012-06-26 10:18:29,838 [NioProcessor-3  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 10:18:29,838 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 10:18:29,838 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 2
2012-06-26 10:18:29,838 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =32
2012-06-26 10:18:29,838 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 10:18:29,838 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 32, current position: 0
2012-06-26 10:18:29,838 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 10:18:29,838 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}
2012-06-26 10:18:29,838 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 16
2012-06-26 10:18:29,838 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=16, in.remaining=16
2012-06-26 10:18:29,838 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 10:18:29,838 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 5
2012-06-26 10:18:29,838 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 5: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageCodec@1c71508
2012-06-26 10:18:29,838 [NioProcessor-3  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - init request message decode
2012-06-26 10:18:29,838 [NioProcessor-3  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - in.remaining()=16
2012-06-26 10:18:29,838 [NioProcessor-3  ] [TRACE] .m.p.s.m.c.InitMessageCodec - InitRequestMessage: [cmdId=5, posId=pos-0002]
2012-06-26 10:18:29,838 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 10:18:29,838 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 10:18:29,838 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 10:18:29,838 [NioProcessor-3  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 10:18:29,838 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 10:18:29,838 [NioProcessor-3  ] [DEBUG] p.f.SessionKeyMessageFilter - Mina session ID 2: created session key 36ab1b7f96484cdb9873c5ffa38b2c53
2012-06-26 10:18:29,838 [NioProcessor-3  ] [DEBUG] p.f.SessionKeyMessageFilter - creating session for mina session ID 2 using session ID 36ab1b7f96484cdb9873c5ffa38b2c53
2012-06-26 10:18:29,838 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 10:18:29,838 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 10:18:29,838 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 10:18:29,838 [NioProcessor-3  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2213, Mina session ID 2, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 10:18:29,838 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 10:18:29,838 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 10:18:29,838 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 10:18:29,838 [NioProcessor-3  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 10:18:29,838 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 10:18:29,838 [pool-4-thread-4 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 10:18:29,838 [pool-4-thread-4 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 10:18:29,838 [pool-4-thread-4 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@62fb35 obtained for command ID 5
2012-06-26 10:18:29,838 [pool-4-thread-4 ] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 5 is com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@62fb35
2012-06-26 10:18:29,838 [pool-4-thread-4 ] [DEBUG] .q.m.p.h.InitCommandHandler - InitCommandHandler======execute==bodyMessage=:  [cmdId=5, posId=pos-0002]
2012-06-26 10:18:29,838 [pool-4-thread-4 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - InitResponse() invoke
2012-06-26 10:18:29,838 [pool-4-thread-4 ] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:ALLOWED
2012-06-26 10:18:29,838 [pool-4-thread-4 ] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId AND p.ostatus = :ostatus
2012-06-26 10:18:29,838 [pool-4-thread-4 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - POS ID:pos-0002, init challenge saved - [86, 117, 51, 56, 70, 68, 81, 74]
2012-06-26 10:18:29,838 [pool-4-thread-4 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 10:18:29,869 [pool-4-thread-4 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 10:18:29,869 [pool-4-thread-4 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 10:18:29,869 [pool-4-thread-4 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 10:18:29,869 [pool-4-thread-4 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 2
2012-06-26 10:18:29,869 [pool-4-thread-4 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (6)
2012-06-26 10:18:29,869 [pool-4-thread-4 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageResponseCodec@4e5056
2012-06-26 10:18:29,869 [pool-4-thread-4 ] [DEBUG] .c.InitMessageResponseCodec - init response message encode
2012-06-26 10:18:29,869 [pool-4-thread-4 ] [TRACE] .c.InitMessageResponseCodec - InitResponseMessage: [cmdId=6, result=0, challenge=[86, 117, 51, 56, 70, 68, 81, 74]]
2012-06-26 10:18:29,869 [pool-4-thread-4 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0xde9e
2012-06-26 10:18:29,869 [pool-4-thread-4 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 10:18:29,869 [pool-4-thread-4 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 DE 9E 00 00 00 1E ................
00000010 00 00 00 06 00 00 56 75 33 38 46 44 51 4A       ......Vu38FDQJ

2012-06-26 10:18:29,869 [pool-4-thread-4 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 10:18:29,869 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 10:18:29,869 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 10:18:29,869 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 2: not mark to return session ID to client
2012-06-26 10:18:29,869 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 10:18:29,869 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 10:18:29,869 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 10:18:30,087 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2213, Mina session ID 2, identified POS ID pos-0002
2012-06-26 10:18:30,103 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 CF 4F 00 00 00 30 ...........O...0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 8E BC 37 BC AE 52 82 09 1B D5 B2 C5 E8 E1 3E 27 ..7..R........>'

2012-06-26 10:18:30,103 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=48 cap=2048: 00 00 00 01 00 00 00 00 00 00 CF 4F 00 00 00 30...]
2012-06-26 10:18:30,103 [NioProcessor-3  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 2
2012-06-26 10:18:30,103 [NioProcessor-3  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 10:18:30,103 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 10:18:30,103 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 2
2012-06-26 10:18:30,103 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =48
2012-06-26 10:18:30,103 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 CF 4F 00 00 00 30 ...........O...0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 8E BC 37 BC AE 52 82 09 1B D5 B2 C5 E8 E1 3E 27 ..7..R........>'

2012-06-26 10:18:30,103 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 48, current position: 0
2012-06-26 10:18:30,103 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 10:18:30,103 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xcf4f} messageSize:{0x30} sessionKey:{null}
2012-06-26 10:18:30,103 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 32
2012-06-26 10:18:30,103 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=32, in.remaining=32
2012-06-26 10:18:30,103 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 10:18:30,103 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 7
2012-06-26 10:18:30,103 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 7: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageCodec@97aaa6
2012-06-26 10:18:30,103 [NioProcessor-3  ] [DEBUG] m.p.s.m.c.LoginMessageCodec - login/bind message decode
2012-06-26 10:18:30,103 [NioProcessor-3  ] [TRACE] m.p.s.m.c.LoginMessageCodec - LoginRequestMessage: [cmdId=7, posId=pos-0002, challengeResponse=[-114, -68, 55, -68, -82, 82, -126, 9, 27, -43, -78, -59, -24, -31, 62, 39]]
2012-06-26 10:18:30,103 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 10:18:30,103 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xcf4f} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[-114, -68, 55, -68, -82, 82, -126, 9, 27, -43, -78, -59, -24, -31, 62, 39]]
2012-06-26 10:18:30,103 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 10:18:30,103 [NioProcessor-3  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 10:18:30,103 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 10:18:30,103 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 10:18:30,103 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 10:18:30,103 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 10:18:30,103 [NioProcessor-3  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2213, Mina session ID 2, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xcf4f} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[-114, -68, 55, -68, -82, 82, -126, 9, 27, -43, -78, -59, -24, -31, 62, 39]]
2012-06-26 10:18:30,103 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 10:18:30,103 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 10:18:30,103 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 10:18:30,103 [NioProcessor-3  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 10:18:30,103 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 10:18:30,103 [pool-4-thread-5 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 10:18:30,103 [pool-4-thread-5 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 10:18:30,103 [pool-4-thread-5 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@18a6890 obtained for command ID 7
2012-06-26 10:18:30,103 [pool-4-thread-5 ] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 7 is com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@18a6890
2012-06-26 10:18:30,103 [pool-4-thread-5 ] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==bodyMessage=: [cmdId=7, posId=pos-0002, challengeResponse=[-114, -68, 55, -68, -82, 82, -126, 9, 27, -43, -78, -59, -24, -31, 62, 39]]
2012-06-26 10:18:30,103 [pool-4-thread-5 ] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:null
2012-06-26 10:18:30,103 [pool-4-thread-5 ] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId
2012-06-26 10:18:30,103 [pool-4-thread-5 ] [TRACE] .q.m.l.l.i.LoginManagerImpl - Loaded from db: pos.posId:pos-0002, pos.secret:000001, oldChallenge:[86, 117, 51, 56, 70, 68, 81, 74]
2012-06-26 10:18:30,103 [pool-4-thread-5 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - disableChallengeCheck =0
2012-06-26 10:18:30,103 [pool-4-thread-5 ] [TRACE] c.c.q.m.l.c.ChallengeUtil   - checking challenge:response:[-114, -68, 55, -68, -82, 82, -126, 9, 27, -43, -78, -59, -24, -31, 62, 39], posKey:000001, random:[86, 117, 51, 56, 70, 68, 81, 74]
2012-06-26 10:18:30,103 [pool-4-thread-5 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - new challenge for POS (POS ID): [102, 66, 108, 49, 73, 73, 80, 73]
2012-06-26 10:18:30,103 [pool-4-thread-5 ] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==serverKey=:JXTPOS
2012-06-26 10:18:30,118 [pool-4-thread-5 ] [DEBUG] ThreadSafeClientConnManager - Get connection: HttpRoute[{}->http://localhost:7070], timeout = 0
2012-06-26 10:18:30,118 [pool-4-thread-5 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - [HttpRoute[{}->http://localhost:7070]] total kept alive: 0, total issued: 0, total allocated: 0 out of 20
2012-06-26 10:18:30,118 [pool-4-thread-5 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - No free connections [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 10:18:30,118 [pool-4-thread-5 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Available capacity: 2 out of 2 [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 10:18:30,118 [pool-4-thread-5 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Creating new connection [HttpRoute[{}->http://localhost:7070]]
2012-06-26 10:18:30,118 [pool-4-thread-5 ] [DEBUG] ultClientConnectionOperator - Connecting to localhost:7070
2012-06-26 10:18:31,130 [pool-4-thread-5 ] [DEBUG] i.c.DefaultClientConnection - Connection closed
2012-06-26 10:18:31,130 [pool-4-thread-5 ] [DEBUG] i.c.DefaultClientConnection - Connection shut down
2012-06-26 10:18:31,130 [pool-4-thread-5 ] [DEBUG] ThreadSafeClientConnManager - Released connection is not reusable.
2012-06-26 10:18:31,130 [pool-4-thread-5 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Releasing connection [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 10:18:31,130 [pool-4-thread-5 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Notifying no-one, there are no waiting threads
2012-06-26 10:18:31,130 [pool-4-thread-5 ] [ERROR] q.m.p.h.LoginCommandHandler - initGrouponCache fail:com.chinarewards.qqgbvpn.qqapi.exception.ParseXMLException: com.chinarewards.qqgbvpn.qqapi.exception.SendPostTimeOutException: org.apache.http.conn.HttpHostConnectException: Connection to http://localhost:7070 refused
2012-06-26 10:18:31,146 [pool-4-thread-5 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 10:18:31,208 [pool-4-thread-5 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 10:18:31,208 [pool-4-thread-5 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 10:18:31,208 [pool-4-thread-5 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 10:18:31,208 [pool-4-thread-5 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 2
2012-06-26 10:18:31,208 [pool-4-thread-5 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (8)
2012-06-26 10:18:31,208 [pool-4-thread-5 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageResponseCodec@140d415
2012-06-26 10:18:31,208 [pool-4-thread-5 ] [DEBUG] c.LoginMessageResponseCodec - login/bind message encode
2012-06-26 10:18:31,208 [pool-4-thread-5 ] [TRACE] c.LoginMessageResponseCodec - LoginResponseMessage: [cmdId=8, result=0, challenge=[102, 66, 108, 49, 73, 73, 80, 73]]
2012-06-26 10:18:31,208 [pool-4-thread-5 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0x93d2
2012-06-26 10:18:31,208 [pool-4-thread-5 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 10:18:31,208 [pool-4-thread-5 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 93 D2 00 00 00 1E ................
00000010 00 00 00 08 00 00 66 42 6C 31 49 49 50 49       ......fBl1IIPI

2012-06-26 10:18:31,208 [pool-4-thread-5 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 10:18:31,208 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 10:18:31,208 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 10:18:31,208 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 2: not mark to return session ID to client
2012-06-26 10:18:31,208 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 10:18:31,208 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 10:18:31,208 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 10:18:31,208 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2213, Mina session ID 2, identified POS ID pos-0002
2012-06-26 10:18:31,208 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 28 of 28 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 65 68 00 00 00 1C ..........eh....
00000010 00 00 00 C9 00 06 31 32 33 34 35 36             ......123456

2012-06-26 10:18:31,208 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=28 cap=1024: 00 00 00 10 00 00 00 00 00 00 65 68 00 00 00 1C...]
2012-06-26 10:18:31,208 [NioProcessor-3  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 2
2012-06-26 10:18:31,208 [NioProcessor-3  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 10:18:31,208 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 10:18:31,208 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 2
2012-06-26 10:18:31,208 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =28
2012-06-26 10:18:31,208 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 28 of 28 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 65 68 00 00 00 1C ..........eh....
00000010 00 00 00 C9 00 06 31 32 33 34 35 36             ......123456

2012-06-26 10:18:31,208 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 28, current position: 0
2012-06-26 10:18:31,208 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 10:18:31,208 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0x6568} messageSize:{0x1c} sessionKey:{null}
2012-06-26 10:18:31,208 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 12
2012-06-26 10:18:31,208 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=12, in.remaining=12
2012-06-26 10:18:31,208 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 10:18:31,208 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 201
2012-06-26 10:18:31,208 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 201: com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftMessageCodec@123baa0
2012-06-26 10:18:31,208 [NioProcessor-3  ] [DEBUG] m.c.ReceiveGiftMessageCodec - receive gift request message decode
2012-06-26 10:18:31,208 [NioProcessor-3  ] [DEBUG] m.c.ReceiveGiftMessageCodec - in.remaining()=12
2012-06-26 10:18:31,208 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 10:18:31,208 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0x6568} messageSize:{0x1c} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@b16f5f
2012-06-26 10:18:31,208 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 10:18:31,208 [NioProcessor-3  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 10:18:31,208 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 10:18:31,208 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 10:18:31,208 [NioProcessor-3  ] [DEBUG] c.c.q.m.p.f.LoginFilter     - isLogin=true
2012-06-26 10:18:31,208 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 10:18:31,208 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 10:18:31,208 [NioProcessor-3  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2213, Mina session ID 2, identified POS ID pos-0002, message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0x6568} messageSize:{0x1c} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@b16f5f
2012-06-26 10:18:31,208 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 10:18:31,208 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 10:18:31,208 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 10:18:31,208 [NioProcessor-3  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 10:18:31,208 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 10:18:31,208 [pool-4-thread-6 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 10:18:31,208 [pool-4-thread-6 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 10:18:31,208 [pool-4-thread-6 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@a218a5 obtained for command ID 201
2012-06-26 10:18:31,208 [pool-4-thread-6 ] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 201 is com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@a218a5
2012-06-26 10:18:31,208 [pool-4-thread-6 ] [DEBUG] h.ReceiveGiftCommandHandler - ReceiveGiftHandler======execute==bodyMessage=: com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@b16f5f
2012-06-26 10:18:31,223 [pool-4-thread-6 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 10:18:31,223 [pool-4-thread-6 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 10:18:31,223 [pool-4-thread-6 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 10:18:31,223 [pool-4-thread-6 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 10:18:31,223 [pool-4-thread-6 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 2
2012-06-26 10:18:31,223 [pool-4-thread-6 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (202)
2012-06-26 10:18:31,223 [pool-4-thread-6 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftResponseMessageCodec@645fd
2012-06-26 10:18:31,223 [pool-4-thread-6 ] [DEBUG] iveGiftResponseMessageCodec - receive gift response message encode
2012-06-26 10:18:31,223 [pool-4-thread-6 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0xe166
2012-06-26 10:18:31,223 [pool-4-thread-6 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 10:18:31,223 [pool-4-thread-6 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 69 of 69 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 E1 66 00 00 00 45 ...........f...E
00000010 00 00 00 CA 00 00 00 02 07 DC 06 1A 0A 12 1F 00 ................
00000020 DF 01 E0 00 08 C1 EC C8 A1 C0 F1 C6 B7 00 16 31 ...............1
00000030 32 33 34 35 36 0A CE DE D0 A7 0A B0 B4 4F 4B BC 23456........OK.
00000040 FC B7 B5 BB D8                                  .....

2012-06-26 10:18:31,223 [pool-4-thread-6 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 10:18:31,223 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 10:18:31,223 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 10:18:31,223 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 2: not mark to return session ID to client
2012-06-26 10:18:31,223 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 10:18:31,223 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 10:18:31,223 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 10:18:31,223 [NioProcessor-3  ] [INFO ] o.a.m.f.l.LoggingFilter     - CLOSED
2012-06-26 10:18:31,223 [NioProcessor-3  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 10:18:31,426 [NioProcessor-1  ] [INFO ] c.c.q.m.p.f.LoggingFilter   - incoming connection from remote address: 127.0.0.1:2215, Mina session ID: 3
2012-06-26 10:18:31,426 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - Currently managed session count: 1
2012-06-26 10:18:31,426 [NioProcessor-1  ] [INFO ] o.a.m.f.l.LoggingFilter     - CREATED
2012-06-26 10:18:31,426 [NioProcessor-1  ] [INFO ] o.a.m.f.l.LoggingFilter     - OPENED
2012-06-26 10:18:31,426 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2215, Mina session ID 3, identified POS ID null
2012-06-26 10:18:31,426 [Finalizer       ] [DEBUG] ThreadSafeClientConnManager - Shutting down
2012-06-26 10:18:31,426 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 10:18:31,426 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=32 cap=2048: 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20...]
2012-06-26 10:18:31,426 [NioProcessor-1  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 3
2012-06-26 10:18:31,426 [NioProcessor-1  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 10:18:31,426 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 10:18:31,426 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 3
2012-06-26 10:18:31,426 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =32
2012-06-26 10:18:31,426 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 10:18:31,426 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 32, current position: 0
2012-06-26 10:18:31,426 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 10:18:31,426 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}
2012-06-26 10:18:31,426 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 16
2012-06-26 10:18:31,426 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=16, in.remaining=16
2012-06-26 10:18:31,426 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 10:18:31,426 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 5
2012-06-26 10:18:31,426 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 5: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageCodec@19d7af3
2012-06-26 10:18:31,426 [NioProcessor-1  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - init request message decode
2012-06-26 10:18:31,426 [NioProcessor-1  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - in.remaining()=16
2012-06-26 10:18:31,426 [NioProcessor-1  ] [TRACE] .m.p.s.m.c.InitMessageCodec - InitRequestMessage: [cmdId=5, posId=pos-0002]
2012-06-26 10:18:31,426 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 10:18:31,426 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 10:18:31,426 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 10:18:31,426 [NioProcessor-1  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 10:18:31,426 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 10:18:31,426 [NioProcessor-1  ] [DEBUG] p.f.SessionKeyMessageFilter - Mina session ID 3: created session key 8b4f6e074aa04d27b492f4c3decd27d7
2012-06-26 10:18:31,426 [NioProcessor-1  ] [DEBUG] p.f.SessionKeyMessageFilter - creating session for mina session ID 3 using session ID 8b4f6e074aa04d27b492f4c3decd27d7
2012-06-26 10:18:31,426 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 10:18:31,426 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 10:18:31,426 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 10:18:31,426 [NioProcessor-1  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2215, Mina session ID 3, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 10:18:31,426 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 10:18:31,426 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 10:18:31,426 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 10:18:31,426 [NioProcessor-1  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 10:18:31,426 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 10:18:31,426 [pool-4-thread-7 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 10:18:31,426 [pool-4-thread-7 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 10:18:31,441 [pool-4-thread-7 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@e77781 obtained for command ID 5
2012-06-26 10:18:31,441 [pool-4-thread-7 ] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 5 is com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@e77781
2012-06-26 10:18:31,441 [pool-4-thread-7 ] [DEBUG] .q.m.p.h.InitCommandHandler - InitCommandHandler======execute==bodyMessage=:  [cmdId=5, posId=pos-0002]
2012-06-26 10:18:31,441 [pool-4-thread-7 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - InitResponse() invoke
2012-06-26 10:18:31,441 [pool-4-thread-7 ] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:ALLOWED
2012-06-26 10:18:31,441 [pool-4-thread-7 ] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId AND p.ostatus = :ostatus
2012-06-26 10:18:31,441 [pool-4-thread-7 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - POS ID:pos-0002, init challenge saved - [97, 115, 104, 97, 105, 86, 55, 109]
2012-06-26 10:18:31,441 [pool-4-thread-7 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 10:18:31,473 [pool-4-thread-7 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 10:18:31,473 [pool-4-thread-7 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 10:18:31,473 [pool-4-thread-7 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 10:18:31,473 [pool-4-thread-7 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 3
2012-06-26 10:18:31,473 [pool-4-thread-7 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (6)
2012-06-26 10:18:31,473 [pool-4-thread-7 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageResponseCodec@31d5e2
2012-06-26 10:18:31,473 [pool-4-thread-7 ] [DEBUG] .c.InitMessageResponseCodec - init response message encode
2012-06-26 10:18:31,473 [pool-4-thread-7 ] [TRACE] .c.InitMessageResponseCodec - InitResponseMessage: [cmdId=6, result=0, challenge=[97, 115, 104, 97, 105, 86, 55, 109]]
2012-06-26 10:18:31,473 [pool-4-thread-7 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0x9542
2012-06-26 10:18:31,473 [pool-4-thread-7 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 10:18:31,473 [pool-4-thread-7 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 95 42 00 00 00 1E ...........B....
00000010 00 00 00 06 00 00 61 73 68 61 69 56 37 6D       ......ashaiV7m

2012-06-26 10:18:31,473 [pool-4-thread-7 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 10:18:31,473 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 10:18:31,473 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 10:18:31,473 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 3: not mark to return session ID to client
2012-06-26 10:18:31,473 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 10:18:31,473 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 10:18:31,473 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 10:18:31,473 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2215, Mina session ID 3, identified POS ID pos-0002
2012-06-26 10:18:31,473 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 6C C1 00 00 00 30 ..........l....0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 4F D2 07 B7 E6 7C B5 77 35 7B 15 B6 21 4A EF 0D O....|.w5{..!J..

2012-06-26 10:18:31,473 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=48 cap=2048: 00 00 00 01 00 00 00 00 00 00 6C C1 00 00 00 30...]
2012-06-26 10:18:31,473 [NioProcessor-1  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 3
2012-06-26 10:18:31,473 [NioProcessor-1  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 10:18:31,473 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 10:18:31,473 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 3
2012-06-26 10:18:31,473 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =48
2012-06-26 10:18:31,473 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 6C C1 00 00 00 30 ..........l....0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 4F D2 07 B7 E6 7C B5 77 35 7B 15 B6 21 4A EF 0D O....|.w5{..!J..

2012-06-26 10:18:31,473 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 48, current position: 0
2012-06-26 10:18:31,473 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 10:18:31,473 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x6cc1} messageSize:{0x30} sessionKey:{null}
2012-06-26 10:18:31,473 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 32
2012-06-26 10:18:31,473 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=32, in.remaining=32
2012-06-26 10:18:31,473 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 10:18:31,473 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 7
2012-06-26 10:18:31,473 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 7: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageCodec@1af328
2012-06-26 10:18:31,473 [NioProcessor-1  ] [DEBUG] m.p.s.m.c.LoginMessageCodec - login/bind message decode
2012-06-26 10:18:31,473 [NioProcessor-1  ] [TRACE] m.p.s.m.c.LoginMessageCodec - LoginRequestMessage: [cmdId=7, posId=pos-0002, challengeResponse=[79, -46, 7, -73, -26, 124, -75, 119, 53, 123, 21, -74, 33, 74, -17, 13]]
2012-06-26 10:18:31,473 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 10:18:31,473 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x6cc1} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[79, -46, 7, -73, -26, 124, -75, 119, 53, 123, 21, -74, 33, 74, -17, 13]]
2012-06-26 10:18:31,473 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 10:18:31,473 [NioProcessor-1  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 10:18:31,473 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 10:18:31,473 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 10:18:31,473 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 10:18:31,473 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 10:18:31,473 [NioProcessor-1  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2215, Mina session ID 3, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x6cc1} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[79, -46, 7, -73, -26, 124, -75, 119, 53, 123, 21, -74, 33, 74, -17, 13]]
2012-06-26 10:18:31,473 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 10:18:31,473 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 10:18:31,473 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 10:18:31,473 [NioProcessor-1  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 10:18:31,473 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 10:18:31,473 [pool-4-thread-8 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 10:18:31,473 [pool-4-thread-8 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 10:18:31,473 [pool-4-thread-8 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@7b4ed7 obtained for command ID 7
2012-06-26 10:18:31,473 [pool-4-thread-8 ] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 7 is com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@7b4ed7
2012-06-26 10:18:31,473 [pool-4-thread-8 ] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==bodyMessage=: [cmdId=7, posId=pos-0002, challengeResponse=[79, -46, 7, -73, -26, 124, -75, 119, 53, 123, 21, -74, 33, 74, -17, 13]]
2012-06-26 10:18:31,473 [pool-4-thread-8 ] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:null
2012-06-26 10:18:31,473 [pool-4-thread-8 ] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId
2012-06-26 10:18:31,473 [pool-4-thread-8 ] [TRACE] .q.m.l.l.i.LoginManagerImpl - Loaded from db: pos.posId:pos-0002, pos.secret:000001, oldChallenge:[97, 115, 104, 97, 105, 86, 55, 109]
2012-06-26 10:18:31,473 [pool-4-thread-8 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - disableChallengeCheck =0
2012-06-26 10:18:31,473 [pool-4-thread-8 ] [TRACE] c.c.q.m.l.c.ChallengeUtil   - checking challenge:response:[79, -46, 7, -73, -26, 124, -75, 119, 53, 123, 21, -74, 33, 74, -17, 13], posKey:000001, random:[97, 115, 104, 97, 105, 86, 55, 109]
2012-06-26 10:18:31,473 [pool-4-thread-8 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - new challenge for POS (POS ID): [119, 122, 100, 112, 103, 49, 111, 86]
2012-06-26 10:18:31,473 [pool-4-thread-8 ] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==serverKey=:JXTPOS
2012-06-26 10:18:31,488 [pool-4-thread-8 ] [DEBUG] ThreadSafeClientConnManager - Get connection: HttpRoute[{}->http://localhost:7070], timeout = 0
2012-06-26 10:18:31,488 [pool-4-thread-8 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - [HttpRoute[{}->http://localhost:7070]] total kept alive: 0, total issued: 0, total allocated: 0 out of 20
2012-06-26 10:18:31,488 [pool-4-thread-8 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - No free connections [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 10:18:31,488 [pool-4-thread-8 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Available capacity: 2 out of 2 [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 10:18:31,488 [pool-4-thread-8 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Creating new connection [HttpRoute[{}->http://localhost:7070]]
2012-06-26 10:18:31,488 [pool-4-thread-8 ] [DEBUG] ultClientConnectionOperator - Connecting to localhost:7070
2012-06-26 10:18:32,546 [pool-4-thread-8 ] [DEBUG] i.c.DefaultClientConnection - Connection closed
2012-06-26 10:18:32,546 [pool-4-thread-8 ] [DEBUG] i.c.DefaultClientConnection - Connection shut down
2012-06-26 10:18:32,546 [pool-4-thread-8 ] [DEBUG] ThreadSafeClientConnManager - Released connection is not reusable.
2012-06-26 10:18:32,546 [pool-4-thread-8 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Releasing connection [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 10:18:32,546 [pool-4-thread-8 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Notifying no-one, there are no waiting threads
2012-06-26 10:18:32,546 [pool-4-thread-8 ] [ERROR] q.m.p.h.LoginCommandHandler - initGrouponCache fail:com.chinarewards.qqgbvpn.qqapi.exception.ParseXMLException: com.chinarewards.qqgbvpn.qqapi.exception.SendPostTimeOutException: org.apache.http.conn.HttpHostConnectException: Connection to http://localhost:7070 refused
2012-06-26 10:18:32,562 [pool-4-thread-8 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 10:18:32,578 [pool-4-thread-8 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 10:18:32,578 [pool-4-thread-8 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 10:18:32,578 [pool-4-thread-8 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 10:18:32,578 [pool-4-thread-8 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 3
2012-06-26 10:18:32,578 [pool-4-thread-8 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (8)
2012-06-26 10:18:32,578 [pool-4-thread-8 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageResponseCodec@1930611
2012-06-26 10:18:32,578 [pool-4-thread-8 ] [DEBUG] c.LoginMessageResponseCodec - login/bind message encode
2012-06-26 10:18:32,578 [pool-4-thread-8 ] [TRACE] c.LoginMessageResponseCodec - LoginResponseMessage: [cmdId=8, result=0, challenge=[119, 122, 100, 112, 103, 49, 111, 86]]
2012-06-26 10:18:32,578 [pool-4-thread-8 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0x4d66
2012-06-26 10:18:32,578 [pool-4-thread-8 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 10:18:32,578 [pool-4-thread-8 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 4D 66 00 00 00 1E ..........Mf....
00000010 00 00 00 08 00 00 77 7A 64 70 67 31 6F 56       ......wzdpg1oV

2012-06-26 10:18:32,578 [pool-4-thread-8 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 10:18:32,578 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 10:18:32,578 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 10:18:32,578 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 3: not mark to return session ID to client
2012-06-26 10:18:32,578 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 10:18:32,578 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 10:18:32,578 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 10:18:32,578 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2215, Mina session ID 3, identified POS ID pos-0002
2012-06-26 10:18:32,578 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 33 of 33 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 D8 04 00 00 00 21 ...............!
00000010 00 00 00 C9 00 0B 31 31 31 31 31 31 31 31 31 31 ......1111111111
00000020 31                                              1

2012-06-26 10:18:32,578 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=33 cap=1024: 00 00 00 10 00 00 00 00 00 00 D8 04 00 00 00 21...]
2012-06-26 10:18:32,578 [NioProcessor-1  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 3
2012-06-26 10:18:32,578 [NioProcessor-1  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 10:18:32,578 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 10:18:32,578 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 3
2012-06-26 10:18:32,578 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =33
2012-06-26 10:18:32,578 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 33 of 33 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 D8 04 00 00 00 21 ...............!
00000010 00 00 00 C9 00 0B 31 31 31 31 31 31 31 31 31 31 ......1111111111
00000020 31                                              1

2012-06-26 10:18:32,578 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 33, current position: 0
2012-06-26 10:18:32,578 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 10:18:32,578 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd804} messageSize:{0x21} sessionKey:{null}
2012-06-26 10:18:32,578 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 17
2012-06-26 10:18:32,578 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=17, in.remaining=17
2012-06-26 10:18:32,578 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 10:18:32,578 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 201
2012-06-26 10:18:32,578 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 201: com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftMessageCodec@1735f84
2012-06-26 10:18:32,578 [NioProcessor-1  ] [DEBUG] m.c.ReceiveGiftMessageCodec - receive gift request message decode
2012-06-26 10:18:32,578 [NioProcessor-1  ] [DEBUG] m.c.ReceiveGiftMessageCodec - in.remaining()=17
2012-06-26 10:18:32,578 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 10:18:32,578 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd804} messageSize:{0x21} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@183e965
2012-06-26 10:18:32,578 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 10:18:32,578 [NioProcessor-1  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 10:18:32,578 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 10:18:32,578 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 10:18:32,578 [NioProcessor-1  ] [DEBUG] c.c.q.m.p.f.LoginFilter     - isLogin=true
2012-06-26 10:18:32,578 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 10:18:32,578 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 10:18:32,578 [NioProcessor-1  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2215, Mina session ID 3, identified POS ID pos-0002, message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd804} messageSize:{0x21} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@183e965
2012-06-26 10:18:32,578 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 10:18:32,578 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 10:18:32,578 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 10:18:32,578 [pool-4-thread-9 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 10:18:32,578 [NioProcessor-1  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 10:18:32,578 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 10:18:32,578 [pool-4-thread-9 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 10:18:32,578 [pool-4-thread-9 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@18b4ccb obtained for command ID 201
2012-06-26 10:18:32,578 [pool-4-thread-9 ] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 201 is com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@18b4ccb
2012-06-26 10:18:32,578 [pool-4-thread-9 ] [DEBUG] h.ReceiveGiftCommandHandler - ReceiveGiftHandler======execute==bodyMessage=: com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@183e965
2012-06-26 10:18:32,624 [pool-4-thread-9 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 10:18:32,624 [pool-4-thread-9 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 10:18:32,624 [pool-4-thread-9 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 10:18:32,624 [pool-4-thread-9 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 10:18:32,624 [pool-4-thread-9 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 3
2012-06-26 10:18:32,624 [pool-4-thread-9 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (202)
2012-06-26 10:18:32,624 [pool-4-thread-9 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftResponseMessageCodec@406b09
2012-06-26 10:18:32,624 [pool-4-thread-9 ] [DEBUG] iveGiftResponseMessageCodec - receive gift response message encode
2012-06-26 10:18:32,624 [pool-4-thread-9 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0x58d2
2012-06-26 10:18:32,624 [pool-4-thread-9 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 10:18:32,624 [pool-4-thread-9 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 55 of 55 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 58 D2 00 00 00 37 ..........X....7
00000010 00 00 00 CA 00 00 00 00 07 DC 06 1A 0A 12 20 02 .............. .
00000020 42 01 E0 00 08 C1 EC C8 A1 C0 F1 C6 B7 00 08 BD B...............
00000030 BB D2 D7 B3 C9 B9 A6                            .......

2012-06-26 10:18:32,624 [pool-4-thread-9 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 10:18:32,624 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 10:18:32,624 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 10:18:32,624 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 3: not mark to return session ID to client
2012-06-26 10:18:32,624 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 10:18:32,624 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 10:18:32,624 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 10:18:32,624 [NioProcessor-1  ] [INFO ] o.a.m.f.l.LoggingFilter     - CLOSED
2012-06-26 10:18:32,624 [NioProcessor-1  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 10:18:32,796 [NioProcessor-2  ] [INFO ] c.c.q.m.p.f.LoggingFilter   - incoming connection from remote address: 127.0.0.1:2217, Mina session ID: 4
2012-06-26 10:18:32,796 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - Currently managed session count: 1
2012-06-26 10:18:32,796 [NioProcessor-2  ] [INFO ] o.a.m.f.l.LoggingFilter     - CREATED
2012-06-26 10:18:32,796 [NioProcessor-2  ] [INFO ] o.a.m.f.l.LoggingFilter     - OPENED
2012-06-26 10:18:32,796 [NioProcessor-2  ] [INFO ] o.a.m.f.l.LoggingFilter     - CLOSED
2012-06-26 10:18:32,796 [NioProcessor-2  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 10:18:33,029 [NioProcessor-3  ] [INFO ] c.c.q.m.p.f.LoggingFilter   - incoming connection from remote address: 127.0.0.1:2218, Mina session ID: 5
2012-06-26 10:18:33,029 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - Currently managed session count: 1
2012-06-26 10:18:33,029 [NioProcessor-3  ] [INFO ] o.a.m.f.l.LoggingFilter     - CREATED
2012-06-26 10:18:33,029 [NioProcessor-3  ] [INFO ] o.a.m.f.l.LoggingFilter     - OPENED
2012-06-26 10:18:33,029 [Finalizer       ] [DEBUG] ThreadSafeClientConnManager - Shutting down
2012-06-26 10:18:33,029 [NioProcessor-3  ] [INFO ] o.a.m.f.l.LoggingFilter     - CLOSED
2012-06-26 10:18:33,029 [NioProcessor-3  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 10:18:35,146 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:18:35,146 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:18:35,146 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 10:18:35,146 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=3
2012-06-26 10:18:35,146 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:18:45,123 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:18:45,123 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:18:45,123 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 10:18:45,123 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=3
2012-06-26 10:18:45,123 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:18:55,099 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:18:55,099 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:18:55,099 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 10:18:55,099 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=3
2012-06-26 10:18:55,099 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:19:05,076 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:19:05,076 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:19:05,076 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 10:19:05,076 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=3
2012-06-26 10:19:05,076 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:19:15,053 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:19:15,053 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:19:15,053 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 10:19:15,053 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=3
2012-06-26 10:19:15,053 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:19:25,030 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:19:25,030 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:19:25,030 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 10:19:25,030 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=3
2012-06-26 10:19:25,030 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:19:35,006 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:19:35,006 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:19:35,006 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 10:19:35,006 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=3
2012-06-26 10:19:35,006 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:19:44,983 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:19:44,983 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:19:44,983 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 10:19:44,983 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=3
2012-06-26 10:19:44,983 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:19:54,960 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:19:54,960 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:19:54,960 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 10:19:54,960 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=3
2012-06-26 10:19:54,960 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:20:04,937 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:20:04,937 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:20:04,937 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 10:20:04,937 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=3
2012-06-26 10:20:04,937 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:20:14,914 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:20:14,914 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:20:14,914 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 10:20:14,914 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=3
2012-06-26 10:20:14,914 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:20:24,890 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:20:24,890 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:20:24,890 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 10:20:24,890 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=3
2012-06-26 10:20:24,890 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:20:34,867 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:20:34,867 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:20:34,867 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 10:20:34,867 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=3
2012-06-26 10:20:34,867 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:20:44,844 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:20:44,844 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:20:44,844 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 10:20:44,844 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=3
2012-06-26 10:20:44,844 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:20:54,821 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:20:54,821 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:20:54,821 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 10:20:54,821 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=3
2012-06-26 10:20:54,821 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:21:04,813 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:21:04,813 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:21:04,813 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 10:21:04,813 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=3
2012-06-26 10:21:04,813 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:21:14,790 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:21:14,790 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:21:14,790 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 10:21:14,790 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=3
2012-06-26 10:21:14,790 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:21:24,767 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:21:24,767 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:21:24,767 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 10:21:24,767 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=3
2012-06-26 10:21:24,767 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:21:34,743 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:21:34,743 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:21:34,743 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 10:21:34,743 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=3
2012-06-26 10:21:34,743 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:21:44,720 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:21:44,720 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:21:44,720 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 10:21:44,720 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 10:21:44,720 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:21:54,697 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:21:54,697 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:21:54,697 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 10:21:54,697 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 10:21:54,697 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:22:04,674 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:22:04,674 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:22:04,674 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 10:22:04,674 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 10:22:04,674 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:22:14,650 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:22:14,650 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:22:14,650 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 10:22:14,650 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 10:22:14,650 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:22:24,627 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:22:24,627 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:22:24,627 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 10:22:24,627 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 10:22:24,627 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:22:34,604 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:22:34,604 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:22:34,604 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 10:22:34,604 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 10:22:34,604 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:22:44,581 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:22:44,581 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:22:44,581 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 10:22:44,581 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 10:22:44,581 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:22:54,564 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:22:54,564 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:22:54,564 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 10:22:54,564 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 10:22:54,564 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:22:57,681 [NioProcessor-1  ] [INFO ] c.c.q.m.p.f.LoggingFilter   - incoming connection from remote address: 127.0.0.1:2267, Mina session ID: 6
2012-06-26 10:22:57,681 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - Currently managed session count: 1
2012-06-26 10:22:57,681 [NioProcessor-1  ] [INFO ] o.a.m.f.l.LoggingFilter     - CREATED
2012-06-26 10:22:57,681 [NioProcessor-1  ] [INFO ] o.a.m.f.l.LoggingFilter     - OPENED
2012-06-26 10:22:57,681 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2267, Mina session ID 6, identified POS ID null
2012-06-26 10:22:57,681 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 10:22:57,681 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=32 cap=2048: 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20...]
2012-06-26 10:22:57,713 [NioProcessor-1  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 6
2012-06-26 10:22:57,713 [NioProcessor-1  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 10:22:57,713 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 10:22:57,713 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 6
2012-06-26 10:22:57,713 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =32
2012-06-26 10:22:57,713 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 10:22:57,713 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 32, current position: 0
2012-06-26 10:22:57,713 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 10:22:57,713 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}
2012-06-26 10:22:57,713 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 16
2012-06-26 10:22:57,713 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=16, in.remaining=16
2012-06-26 10:22:57,713 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 10:22:57,713 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 5
2012-06-26 10:22:57,713 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 5: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageCodec@1cdc190
2012-06-26 10:22:57,713 [NioProcessor-1  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - init request message decode
2012-06-26 10:22:57,713 [NioProcessor-1  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - in.remaining()=16
2012-06-26 10:22:57,713 [NioProcessor-1  ] [TRACE] .m.p.s.m.c.InitMessageCodec - InitRequestMessage: [cmdId=5, posId=pos-0002]
2012-06-26 10:22:57,713 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 10:22:57,713 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 10:22:57,713 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 10:22:57,713 [NioProcessor-1  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 10:22:57,713 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 10:22:57,713 [NioProcessor-1  ] [DEBUG] p.f.SessionKeyMessageFilter - Mina session ID 6: created session key 65212eeebf424989ae172cd17212c5ad
2012-06-26 10:22:57,713 [NioProcessor-1  ] [DEBUG] p.f.SessionKeyMessageFilter - creating session for mina session ID 6 using session ID 65212eeebf424989ae172cd17212c5ad
2012-06-26 10:22:57,713 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 10:22:57,713 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 10:22:57,713 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 10:22:57,713 [NioProcessor-1  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2267, Mina session ID 6, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 10:22:57,713 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 10:22:57,713 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 10:22:57,713 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 10:22:57,713 [pool-4-thread-10] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 10:22:57,713 [NioProcessor-1  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 10:22:57,713 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 10:22:57,713 [pool-4-thread-10] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 10:22:57,713 [pool-4-thread-10] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@12b29ed obtained for command ID 5
2012-06-26 10:22:57,713 [pool-4-thread-10] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 5 is com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@12b29ed
2012-06-26 10:22:57,713 [pool-4-thread-10] [DEBUG] .q.m.p.h.InitCommandHandler - InitCommandHandler======execute==bodyMessage=:  [cmdId=5, posId=pos-0002]
2012-06-26 10:22:57,713 [pool-4-thread-10] [DEBUG] .q.m.l.l.i.LoginManagerImpl - InitResponse() invoke
2012-06-26 10:22:57,713 [pool-4-thread-10] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:ALLOWED
2012-06-26 10:22:57,713 [pool-4-thread-10] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId AND p.ostatus = :ostatus
2012-06-26 10:22:57,713 [pool-4-thread-10] [DEBUG] .q.m.l.l.i.LoginManagerImpl - POS ID:pos-0002, init challenge saved - [56, 87, 120, 72, 81, 70, 120, 122]
2012-06-26 10:22:57,713 [pool-4-thread-10] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 10:22:57,744 [pool-4-thread-10] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 10:22:57,744 [pool-4-thread-10] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 10:22:57,744 [pool-4-thread-10] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 10:22:57,744 [pool-4-thread-10] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 6
2012-06-26 10:22:57,744 [pool-4-thread-10] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (6)
2012-06-26 10:22:57,744 [pool-4-thread-10] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageResponseCodec@12eabae
2012-06-26 10:22:57,744 [pool-4-thread-10] [DEBUG] .c.InitMessageResponseCodec - init response message encode
2012-06-26 10:22:57,744 [pool-4-thread-10] [TRACE] .c.InitMessageResponseCodec - InitResponseMessage: [cmdId=6, result=0, challenge=[56, 87, 120, 72, 81, 70, 120, 122]]
2012-06-26 10:22:57,744 [pool-4-thread-10] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0x857a
2012-06-26 10:22:57,744 [pool-4-thread-10] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 10:22:57,744 [pool-4-thread-10] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 85 7A 00 00 00 1E ...........z....
00000010 00 00 00 06 00 00 38 57 78 48 51 46 78 7A       ......8WxHQFxz

2012-06-26 10:22:57,744 [pool-4-thread-10] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 10:22:57,744 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 10:22:57,744 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 10:22:57,744 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 6: not mark to return session ID to client
2012-06-26 10:22:57,744 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 10:22:57,744 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 10:22:57,744 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 10:22:57,962 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2267, Mina session ID 6, identified POS ID pos-0002
2012-06-26 10:22:57,962 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 92 65 00 00 00 30 ...........e...0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 41 EC 0A 9D 90 93 18 1A 48 14 63 0D 54 9B 34 6F A.......H.c.T.4o

2012-06-26 10:22:57,962 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=48 cap=2048: 00 00 00 01 00 00 00 00 00 00 92 65 00 00 00 30...]
2012-06-26 10:22:57,962 [NioProcessor-1  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 6
2012-06-26 10:22:57,962 [NioProcessor-1  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 10:22:57,962 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 10:22:57,962 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 6
2012-06-26 10:22:57,962 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =48
2012-06-26 10:22:57,962 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 92 65 00 00 00 30 ...........e...0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 41 EC 0A 9D 90 93 18 1A 48 14 63 0D 54 9B 34 6F A.......H.c.T.4o

2012-06-26 10:22:57,962 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 48, current position: 0
2012-06-26 10:22:57,962 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 10:22:57,962 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x9265} messageSize:{0x30} sessionKey:{null}
2012-06-26 10:22:57,962 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 32
2012-06-26 10:22:57,962 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=32, in.remaining=32
2012-06-26 10:22:57,962 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 10:22:57,962 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 7
2012-06-26 10:22:57,962 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 7: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageCodec@8b3bb3
2012-06-26 10:22:57,962 [NioProcessor-1  ] [DEBUG] m.p.s.m.c.LoginMessageCodec - login/bind message decode
2012-06-26 10:22:57,962 [NioProcessor-1  ] [TRACE] m.p.s.m.c.LoginMessageCodec - LoginRequestMessage: [cmdId=7, posId=pos-0002, challengeResponse=[65, -20, 10, -99, -112, -109, 24, 26, 72, 20, 99, 13, 84, -101, 52, 111]]
2012-06-26 10:22:57,962 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 10:22:57,962 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x9265} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[65, -20, 10, -99, -112, -109, 24, 26, 72, 20, 99, 13, 84, -101, 52, 111]]
2012-06-26 10:22:57,962 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 10:22:57,962 [NioProcessor-1  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 10:22:57,962 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 10:22:57,962 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 10:22:57,962 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 10:22:57,962 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 10:22:57,962 [NioProcessor-1  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2267, Mina session ID 6, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x9265} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[65, -20, 10, -99, -112, -109, 24, 26, 72, 20, 99, 13, 84, -101, 52, 111]]
2012-06-26 10:22:57,962 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 10:22:57,962 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 10:22:57,962 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 10:22:57,962 [NioProcessor-1  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 10:22:57,962 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 10:22:57,962 [pool-4-thread-11] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 10:22:57,962 [pool-4-thread-11] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 10:22:57,962 [pool-4-thread-11] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@6212dd obtained for command ID 7
2012-06-26 10:22:57,962 [pool-4-thread-11] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 7 is com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@6212dd
2012-06-26 10:22:57,962 [pool-4-thread-11] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==bodyMessage=: [cmdId=7, posId=pos-0002, challengeResponse=[65, -20, 10, -99, -112, -109, 24, 26, 72, 20, 99, 13, 84, -101, 52, 111]]
2012-06-26 10:22:57,962 [pool-4-thread-11] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:null
2012-06-26 10:22:57,962 [pool-4-thread-11] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId
2012-06-26 10:22:57,962 [pool-4-thread-11] [TRACE] .q.m.l.l.i.LoginManagerImpl - Loaded from db: pos.posId:pos-0002, pos.secret:000001, oldChallenge:[56, 87, 120, 72, 81, 70, 120, 122]
2012-06-26 10:22:57,962 [pool-4-thread-11] [DEBUG] .q.m.l.l.i.LoginManagerImpl - disableChallengeCheck =0
2012-06-26 10:22:57,962 [pool-4-thread-11] [TRACE] c.c.q.m.l.c.ChallengeUtil   - checking challenge:response:[65, -20, 10, -99, -112, -109, 24, 26, 72, 20, 99, 13, 84, -101, 52, 111], posKey:000001, random:[56, 87, 120, 72, 81, 70, 120, 122]
2012-06-26 10:22:57,962 [pool-4-thread-11] [DEBUG] .q.m.l.l.i.LoginManagerImpl - new challenge for POS (POS ID): [78, 55, 52, 68, 75, 48, 111, 109]
2012-06-26 10:22:57,978 [pool-4-thread-11] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==serverKey=:JXTPOS
2012-06-26 10:22:57,978 [pool-4-thread-11] [DEBUG] ThreadSafeClientConnManager - Get connection: HttpRoute[{}->http://localhost:7070], timeout = 0
2012-06-26 10:22:57,978 [pool-4-thread-11] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - [HttpRoute[{}->http://localhost:7070]] total kept alive: 0, total issued: 0, total allocated: 0 out of 20
2012-06-26 10:22:57,978 [pool-4-thread-11] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - No free connections [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 10:22:57,978 [pool-4-thread-11] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Available capacity: 2 out of 2 [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 10:22:57,978 [pool-4-thread-11] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Creating new connection [HttpRoute[{}->http://localhost:7070]]
2012-06-26 10:22:57,978 [pool-4-thread-11] [DEBUG] ultClientConnectionOperator - Connecting to localhost:7070
2012-06-26 10:22:58,991 [pool-4-thread-11] [DEBUG] i.c.DefaultClientConnection - Connection closed
2012-06-26 10:22:58,991 [pool-4-thread-11] [DEBUG] i.c.DefaultClientConnection - Connection shut down
2012-06-26 10:22:58,991 [pool-4-thread-11] [DEBUG] ThreadSafeClientConnManager - Released connection is not reusable.
2012-06-26 10:22:58,991 [pool-4-thread-11] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Releasing connection [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 10:22:58,991 [pool-4-thread-11] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Notifying no-one, there are no waiting threads
2012-06-26 10:22:58,991 [pool-4-thread-11] [ERROR] q.m.p.h.LoginCommandHandler - initGrouponCache fail:com.chinarewards.qqgbvpn.qqapi.exception.ParseXMLException: com.chinarewards.qqgbvpn.qqapi.exception.SendPostTimeOutException: org.apache.http.conn.HttpHostConnectException: Connection to http://localhost:7070 refused
2012-06-26 10:22:59,022 [pool-4-thread-11] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 10:22:59,022 [pool-4-thread-11] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 10:22:59,022 [pool-4-thread-11] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 10:22:59,022 [pool-4-thread-11] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 10:22:59,022 [pool-4-thread-11] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 6
2012-06-26 10:22:59,022 [pool-4-thread-11] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (8)
2012-06-26 10:22:59,022 [pool-4-thread-11] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageResponseCodec@1959352
2012-06-26 10:22:59,022 [pool-4-thread-11] [DEBUG] c.LoginMessageResponseCodec - login/bind message encode
2012-06-26 10:22:59,022 [pool-4-thread-11] [TRACE] c.LoginMessageResponseCodec - LoginResponseMessage: [cmdId=8, result=0, challenge=[78, 55, 52, 68, 75, 48, 111, 109]]
2012-06-26 10:22:59,022 [pool-4-thread-11] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0xc2bf
2012-06-26 10:22:59,022 [pool-4-thread-11] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 10:22:59,022 [pool-4-thread-11] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 C2 BF 00 00 00 1E ................
00000010 00 00 00 08 00 00 4E 37 34 44 4B 30 6F 6D       ......N74DK0om

2012-06-26 10:22:59,022 [pool-4-thread-11] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 10:22:59,022 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 10:22:59,022 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 10:22:59,022 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 6: not mark to return session ID to client
2012-06-26 10:22:59,022 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 10:22:59,022 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 10:22:59,022 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 10:22:59,022 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2267, Mina session ID 6, identified POS ID pos-0002
2012-06-26 10:22:59,022 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 33 of 33 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 D8 04 00 00 00 21 ...............!
00000010 00 00 00 C9 00 0B 31 31 31 31 31 31 31 31 31 31 ......1111111111
00000020 31                                              1

2012-06-26 10:22:59,022 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=33 cap=1024: 00 00 00 10 00 00 00 00 00 00 D8 04 00 00 00 21...]
2012-06-26 10:22:59,022 [NioProcessor-1  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 6
2012-06-26 10:22:59,022 [NioProcessor-1  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 10:22:59,022 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 10:22:59,022 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 6
2012-06-26 10:22:59,022 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =33
2012-06-26 10:22:59,022 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 33 of 33 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 D8 04 00 00 00 21 ...............!
00000010 00 00 00 C9 00 0B 31 31 31 31 31 31 31 31 31 31 ......1111111111
00000020 31                                              1

2012-06-26 10:22:59,022 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 33, current position: 0
2012-06-26 10:22:59,022 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 10:22:59,022 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd804} messageSize:{0x21} sessionKey:{null}
2012-06-26 10:22:59,022 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 17
2012-06-26 10:22:59,022 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=17, in.remaining=17
2012-06-26 10:22:59,022 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 10:22:59,022 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 201
2012-06-26 10:22:59,022 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 201: com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftMessageCodec@fb1135
2012-06-26 10:22:59,022 [NioProcessor-1  ] [DEBUG] m.c.ReceiveGiftMessageCodec - receive gift request message decode
2012-06-26 10:22:59,022 [NioProcessor-1  ] [DEBUG] m.c.ReceiveGiftMessageCodec - in.remaining()=17
2012-06-26 10:22:59,022 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 10:22:59,022 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd804} messageSize:{0x21} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@126c5a5
2012-06-26 10:22:59,022 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 10:22:59,022 [NioProcessor-1  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 10:22:59,022 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 10:22:59,022 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 10:22:59,022 [NioProcessor-1  ] [DEBUG] c.c.q.m.p.f.LoginFilter     - isLogin=true
2012-06-26 10:22:59,022 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 10:22:59,022 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 10:22:59,022 [NioProcessor-1  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2267, Mina session ID 6, identified POS ID pos-0002, message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd804} messageSize:{0x21} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@126c5a5
2012-06-26 10:22:59,022 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 10:22:59,022 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 10:22:59,022 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 10:22:59,022 [NioProcessor-1  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 10:22:59,022 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 10:22:59,022 [pool-4-thread-12] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 10:22:59,022 [pool-4-thread-12] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 10:22:59,022 [pool-4-thread-12] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@1a81bd5 obtained for command ID 201
2012-06-26 10:22:59,022 [pool-4-thread-12] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 201 is com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@1a81bd5
2012-06-26 10:22:59,022 [pool-4-thread-12] [DEBUG] h.ReceiveGiftCommandHandler - ReceiveGiftHandler======execute==bodyMessage=: com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@126c5a5
2012-06-26 10:22:59,069 [pool-4-thread-12] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 10:22:59,069 [pool-4-thread-12] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 10:22:59,069 [pool-4-thread-12] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 10:22:59,069 [pool-4-thread-12] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 10:22:59,069 [pool-4-thread-12] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 6
2012-06-26 10:22:59,069 [pool-4-thread-12] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (202)
2012-06-26 10:22:59,069 [pool-4-thread-12] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftResponseMessageCodec@114ef62
2012-06-26 10:22:59,069 [pool-4-thread-12] [DEBUG] iveGiftResponseMessageCodec - receive gift response message encode
2012-06-26 10:22:59,069 [pool-4-thread-12] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0x69d0
2012-06-26 10:22:59,069 [pool-4-thread-12] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 10:22:59,069 [pool-4-thread-12] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 55 of 55 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 69 D0 00 00 00 37 ..........i....7
00000010 00 00 00 CA 00 00 00 00 07 DC 06 1A 0A 16 3B 00 ..............;.
00000020 16 01 E0 00 08 C1 EC C8 A1 C0 F1 C6 B7 00 08 BD ................
00000030 BB D2 D7 B3 C9 B9 A6                            .......

2012-06-26 10:22:59,069 [pool-4-thread-12] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 10:22:59,069 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 10:22:59,069 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 10:22:59,069 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 6: not mark to return session ID to client
2012-06-26 10:22:59,069 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 10:22:59,069 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 10:22:59,069 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 10:22:59,069 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2267, Mina session ID 6, identified POS ID pos-0002
2012-06-26 10:22:59,069 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 33 of 33 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 D8 04 00 00 00 21 ...............!
00000010 00 00 00 C9 00 0B 31 31 31 31 31 31 31 31 31 31 ......1111111111
00000020 31                                              1

2012-06-26 10:22:59,069 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=33 cap=1024: 00 00 00 10 00 00 00 00 00 00 D8 04 00 00 00 21...]
2012-06-26 10:22:59,069 [NioProcessor-1  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 6
2012-06-26 10:22:59,069 [NioProcessor-1  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 10:22:59,069 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 10:22:59,069 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 6
2012-06-26 10:22:59,069 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =33
2012-06-26 10:22:59,069 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 33 of 33 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 D8 04 00 00 00 21 ...............!
00000010 00 00 00 C9 00 0B 31 31 31 31 31 31 31 31 31 31 ......1111111111
00000020 31                                              1

2012-06-26 10:22:59,069 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 33, current position: 0
2012-06-26 10:22:59,069 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 10:22:59,069 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd804} messageSize:{0x21} sessionKey:{null}
2012-06-26 10:22:59,069 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 17
2012-06-26 10:22:59,069 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=17, in.remaining=17
2012-06-26 10:22:59,069 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 10:22:59,069 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 201
2012-06-26 10:22:59,069 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 201: com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftMessageCodec@187e184
2012-06-26 10:22:59,069 [NioProcessor-1  ] [DEBUG] m.c.ReceiveGiftMessageCodec - receive gift request message decode
2012-06-26 10:22:59,069 [NioProcessor-1  ] [DEBUG] m.c.ReceiveGiftMessageCodec - in.remaining()=17
2012-06-26 10:22:59,069 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 10:22:59,069 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd804} messageSize:{0x21} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@1e6cf07
2012-06-26 10:22:59,069 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 10:22:59,069 [NioProcessor-1  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 10:22:59,069 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 10:22:59,069 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 10:22:59,069 [NioProcessor-1  ] [DEBUG] c.c.q.m.p.f.LoginFilter     - isLogin=true
2012-06-26 10:22:59,069 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 10:22:59,069 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 10:22:59,069 [NioProcessor-1  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2267, Mina session ID 6, identified POS ID pos-0002, message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd804} messageSize:{0x21} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@1e6cf07
2012-06-26 10:22:59,069 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 10:22:59,069 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 10:22:59,069 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 10:22:59,069 [NioProcessor-1  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 10:22:59,069 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 10:22:59,069 [pool-4-thread-13] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 10:22:59,069 [pool-4-thread-13] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 10:22:59,069 [pool-4-thread-13] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@19ae493 obtained for command ID 201
2012-06-26 10:22:59,069 [pool-4-thread-13] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 201 is com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@19ae493
2012-06-26 10:22:59,069 [pool-4-thread-13] [DEBUG] h.ReceiveGiftCommandHandler - ReceiveGiftHandler======execute==bodyMessage=: com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@1e6cf07
2012-06-26 10:22:59,084 [pool-4-thread-13] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 10:22:59,084 [pool-4-thread-13] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 10:22:59,084 [pool-4-thread-13] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 10:22:59,084 [pool-4-thread-13] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 10:22:59,084 [pool-4-thread-13] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 6
2012-06-26 10:22:59,084 [pool-4-thread-13] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (202)
2012-06-26 10:22:59,084 [pool-4-thread-13] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftResponseMessageCodec@da9067
2012-06-26 10:22:59,084 [pool-4-thread-13] [DEBUG] iveGiftResponseMessageCodec - receive gift response message encode
2012-06-26 10:22:59,084 [pool-4-thread-13] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0x3ad0
2012-06-26 10:22:59,084 [pool-4-thread-13] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 10:22:59,084 [pool-4-thread-13] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 55 of 55 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 3A D0 00 00 00 37 ..........:....7
00000010 00 00 00 CA 00 00 00 00 07 DC 06 1A 0A 16 3B 00 ..............;.
00000020 45 01 E0 00 08 C1 EC C8 A1 C0 F1 C6 B7 00 08 BD E...............
00000030 BB D2 D7 B3 C9 B9 A6                            .......

2012-06-26 10:22:59,084 [pool-4-thread-13] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 10:22:59,084 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 10:22:59,084 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 10:22:59,084 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 6: not mark to return session ID to client
2012-06-26 10:22:59,084 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 10:22:59,084 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 10:22:59,084 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 10:22:59,084 [NioProcessor-1  ] [INFO ] o.a.m.f.l.LoggingFilter     - CLOSED
2012-06-26 10:22:59,084 [NioProcessor-1  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 10:23:04,602 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:23:04,602 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:23:04,602 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 10:23:04,602 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 10:23:04,602 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:23:14,595 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:23:14,595 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:23:14,595 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 10:23:14,595 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 10:23:14,595 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:23:24,587 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:23:24,587 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:23:24,587 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 10:23:24,587 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 10:23:24,587 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:23:34,579 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:23:34,579 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:23:34,579 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 10:23:34,579 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 10:23:34,579 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:23:44,571 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:23:44,571 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:23:44,571 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 10:23:44,571 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 10:23:44,571 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:23:54,563 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:23:54,563 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:23:54,563 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 10:23:54,563 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 10:23:54,563 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:24:04,555 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:24:04,555 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:24:04,555 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 10:24:04,555 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 10:24:04,555 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:24:14,562 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:24:14,562 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:24:14,562 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 10:24:14,562 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 10:24:14,562 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:24:24,554 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:24:24,554 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:24:24,554 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 10:24:24,554 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 10:24:24,554 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:24:34,546 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:24:34,546 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:24:34,546 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 10:24:34,546 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 10:24:34,546 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:24:44,538 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:24:44,538 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:24:44,538 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 10:24:44,538 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 10:24:44,538 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:24:54,530 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:24:54,530 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:24:54,530 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 10:24:54,530 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 10:24:54,530 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:25:04,523 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:25:04,523 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:25:04,523 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 10:25:04,523 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 10:25:04,523 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:25:14,515 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:25:14,515 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:25:14,515 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 10:25:14,515 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 10:25:14,515 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:25:24,491 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:25:24,491 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:25:24,491 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 10:25:24,491 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 10:25:24,491 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:25:34,499 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:25:34,499 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:25:34,499 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 10:25:34,499 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 10:25:34,499 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:25:44,491 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:25:44,491 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:25:44,491 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 10:25:44,491 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 10:25:44,491 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:25:54,483 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:25:54,483 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:25:54,483 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 10:25:54,483 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 10:25:54,483 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:26:04,475 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:26:04,475 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:26:04,475 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 10:26:04,475 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 10:26:04,475 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:26:14,467 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:26:14,467 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:26:14,467 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 10:26:14,467 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 10:26:14,467 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:26:24,459 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:26:24,459 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:26:24,459 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 10:26:24,459 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 10:26:24,459 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:26:34,451 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:26:34,451 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:26:34,451 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 10:26:34,451 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 10:26:34,451 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:26:39,423 [main            ] [INFO ] c.c.q.m.BootStrap           - Home directory: D:\posnetv2
2012-06-26 10:26:39,439 [main            ] [DEBUG] c.c.q.c.ConfigReader        - Home directory is set to D:\posnetv2
2012-06-26 10:26:39,439 [main            ] [DEBUG] c.c.q.c.ConfigReader        - Configuration subdirectory is set to conf
2012-06-26 10:26:39,439 [main            ] [DEBUG] c.c.q.c.ConfigReader        - Configuration directory is set to D:\posnetv2\conf
2012-06-26 10:26:39,439 [main            ] [DEBUG] c.c.q.c.ConfigReader        - Config file: D:\posnetv2\conf\posnet.ini
2012-06-26 10:26:39,439 [main            ] [DEBUG] c.c.q.c.ConfigReader        - Reading configuration file D:\posnetv2\conf\posnet.ini
2012-06-26 10:26:39,439 [main            ] [DEBUG] c.c.q.c.ConfigReader        - - D:\posnetv2\conf\posnet.ini is an .ini file, load using PropertiesConfiguration.
2012-06-26 10:26:39,470 [main            ] [DEBUG] c.c.PropertiesConfiguration - FileName set to posnet.ini
2012-06-26 10:26:39,470 [main            ] [DEBUG] c.c.PropertiesConfiguration - Base path set to D:\posnetv2\conf
2012-06-26 10:26:39,470 [main            ] [DEBUG] o.a.c.c.ConfigurationUtils  - ConfigurationUtils.locate(): base is D:\posnetv2\conf, name is posnet.ini
2012-06-26 10:26:39,470 [main            ] [DEBUG] o.a.c.c.DefaultFileSystem   - Could not locate file posnet.ini at D:\posnetv2\conf: unknown protocol: d
2012-06-26 10:26:39,470 [main            ] [DEBUG] o.a.c.c.ConfigurationUtils  - Loading configuration from the path D:\posnetv2\conf\posnet.ini
2012-06-26 10:26:39,501 [main            ] [DEBUG] o.a.c.c.ConfigurationUtils  - ConfigurationUtils.locate(): base is D:\posnetv2\conf, name is dispatcher.ini
2012-06-26 10:26:39,501 [main            ] [DEBUG] o.a.c.c.DefaultFileSystem   - Could not locate file dispatcher.ini at D:\posnetv2\conf: unknown protocol: d
2012-06-26 10:26:39,501 [main            ] [DEBUG] o.a.c.c.ConfigurationUtils  - Loading configuration from the path D:\posnetv2\conf\dispatcher.ini
2012-06-26 10:26:39,517 [main            ] [DEBUG] c.c.q.m.BootStrap           - System configuration:
2012-06-26 10:26:39,517 [main            ] [DEBUG] c.c.q.m.BootStrap           - - server.port: 1234
2012-06-26 10:26:39,517 [main            ] [DEBUG] c.c.q.m.BootStrap           - - server.client_max_idle_time: 20
2012-06-26 10:26:39,517 [main            ] [DEBUG] c.c.q.m.BootStrap           - - server.session.timeout_check_interval: 10
2012-06-26 10:26:39,517 [main            ] [DEBUG] c.c.q.m.BootStrap           - - server.session.client_timeout: 210
2012-06-26 10:26:39,517 [main            ] [DEBUG] c.c.q.m.BootStrap           - - server.disable_checksum_check: 0
2012-06-26 10:26:39,517 [main            ] [DEBUG] c.c.q.m.BootStrap           - - server.service_handler.thread_pool_size: 20
2012-06-26 10:26:39,517 [main            ] [DEBUG] c.c.q.m.BootStrap           - - firmware.location: D:\posnetv2\posnet2-mgmtui\firmware
2012-06-26 10:26:39,517 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.hibernate.show_sql: [true, true]
2012-06-26 10:26:39,517 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.hibernate.hbm2ddl.auto: false
2012-06-26 10:26:39,517 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.ext.hibernate.dialect: org.hibernate.dialect.MySQL5Dialect
2012-06-26 10:26:39,517 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.user: root
2012-06-26 10:26:39,517 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.password: 167118
2012-06-26 10:26:39,517 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.driver: com.mysql.jdbc.Driver
2012-06-26 10:26:39,517 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.url: jdbc:mysql://localhost/posnet?autoReconnect=true&useUnicode=true&characterEncoding=UTF-8
2012-06-26 10:26:39,517 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.ext.hibernate.connection.provider_class: org.hibernate.connection.C3P0ConnectionProvider
2012-06-26 10:26:39,517 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.ext.hibernate.c3p0.minPoolSize: 5
2012-06-26 10:26:39,517 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.ext.hibernate.c3p0.maxPoolSize: 20
2012-06-26 10:26:39,517 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.ext.hibernate.c3p0.maxIdleTime: 1800
2012-06-26 10:26:39,517 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.ext.hibernate.c3p0.testConnectionOnCheckout: true
2012-06-26 10:26:39,517 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.ext.hibernate.c3p0.maxStatements: 50
2012-06-26 10:26:39,517 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.ext.hibernate.c3p0.maxStatementsPerConnection: 10
2012-06-26 10:26:39,517 [main            ] [DEBUG] c.c.q.m.BootStrap           - - qq.groupbuy.url.groupBuyingSearchGroupon: http://localhost:7070/testdata/TuanSearchListVO.xml
2012-06-26 10:26:39,517 [main            ] [DEBUG] c.c.q.m.BootStrap           - - qq.groupbuy.url.groupBuyingValidationUrl: http://localhost:7070/testdata/TuanValidateResultVO.xml
2012-06-26 10:26:39,517 [main            ] [DEBUG] c.c.q.m.BootStrap           - - qq.groupbuy.url.groupBuyingUnbindPosUrl: http://localhost:7070/testdata/TuanUnbindVO.xml
2012-06-26 10:26:39,517 [main            ] [DEBUG] c.c.q.m.BootStrap           - - txserver.key: JXTPOS
2012-06-26 10:26:39,517 [main            ] [DEBUG] c.c.q.m.BootStrap           - - qq.meishi.wsapi.host: localhost:7070
2012-06-26 10:26:39,517 [main            ] [DEBUG] c.c.q.m.BootStrap           - - qq.meishi.wsapi.url: http://localhost:7070/qq-meishi/data
2012-06-26 10:26:39,517 [main            ] [DEBUG] c.c.q.m.BootStrap           - - qq.meishi.wsapi.secretKey: NDA2ZTkwOTExZjlkZDY3ZTIxMTU1OTY0NmVlYzVmY2Q=
2012-06-26 10:26:39,517 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.1.handler: com.chinarewards.qqgbvpn.main.protocol.handler.SearchCommandHandler
2012-06-26 10:26:39,517 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.1.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.SearchBodyMessageCodec
2012-06-26 10:26:39,517 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.2.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.SearchBodyMessageResponseCodec
2012-06-26 10:26:39,517 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.3.handler: com.chinarewards.qqgbvpn.main.protocol.handler.ValidateCommandHandler
2012-06-26 10:26:39,517 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.3.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.ValidateBodyMessageCodec
2012-06-26 10:26:39,517 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.4.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.ValidateBodyMessageResponseCodec
2012-06-26 10:26:39,517 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.5.handler: com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler
2012-06-26 10:26:39,517 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.5.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageCodec
2012-06-26 10:26:39,517 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.6.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageResponseCodec
2012-06-26 10:26:39,517 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.7.handler: com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler
2012-06-26 10:26:39,517 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.7.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageCodec
2012-06-26 10:26:39,517 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.8.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageResponseCodec
2012-06-26 10:26:39,517 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.9.handler: com.chinarewards.qqgbvpn.main.protocol.handler.BindCommandHandler
2012-06-26 10:26:39,517 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.9.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageCodec
2012-06-26 10:26:39,517 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.10.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageResponseCodec
2012-06-26 10:26:39,517 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.11.handler: com.chinarewards.qqgbvpn.main.protocol.handler.ValidationCallbackHandler
2012-06-26 10:26:39,517 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.11.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.ValidationCallbackCodec
2012-06-26 10:26:39,517 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.12.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.ValidationCallbackResponseCodec
2012-06-26 10:26:39,517 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.13.handler: com.chinarewards.qqgbvpn.main.protocol.handler.FirmwareUpgradeRequestCommandHandler
2012-06-26 10:26:39,517 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.13.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.FirmwareRequestMessageCodec
2012-06-26 10:26:39,517 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.14.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.FirmwareResponseMessageCodec
2012-06-26 10:26:39,517 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.15.handler: com.chinarewards.qqgbvpn.main.protocol.handler.GetFirmwareFragmentHandler
2012-06-26 10:26:39,517 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.15.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.GetFirmwareFragmentRequestMessageCodec
2012-06-26 10:26:39,517 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.16.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.GetFirmwareFragmentResponseMessageCodec
2012-06-26 10:26:39,517 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.17.handler: com.chinarewards.qqgbvpn.main.protocol.handler.FirmwareUpDoneHandler
2012-06-26 10:26:39,517 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.17.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.FirmwareUpDoneRequestCodec
2012-06-26 10:26:39,517 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.18.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.FirmwareUpDoneResponseCodec
2012-06-26 10:26:39,517 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.19.handler: com.chinarewards.qqgbvpn.main.protocol.handler.HuaxiaSearchCommandHandler
2012-06-26 10:26:39,517 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.19.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.HuaxiaSearchBodyMessageCodec
2012-06-26 10:26:39,517 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.20.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.HuaxiaSearchBodyMessageResponseCodec
2012-06-26 10:26:39,517 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.21.handler: com.chinarewards.qqgbvpn.main.protocol.handler.HuaxiaConfirmCommandHandler
2012-06-26 10:26:39,517 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.21.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.HuaxiaConfirmBodyMessageCodec
2012-06-26 10:26:39,533 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.22.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.HuaxiaConfirmBodyMessageResponseCodec
2012-06-26 10:26:39,533 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.23.handler: com.chinarewards.qqgbvpn.main.protocol.handler.HuaxiaAckCommandHandler
2012-06-26 10:26:39,533 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.23.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.HuaxiaAckBodyMessageCodec
2012-06-26 10:26:39,533 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.24.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.HuaxiaAckBodyMessageResponseCodec
2012-06-26 10:26:39,533 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.25.handler: com.chinarewards.qqgbvpn.main.protocol.handler.PosEchoCommandHandler
2012-06-26 10:26:39,533 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.25.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.PosEchoCommandRequestMessageCodec
2012-06-26 10:26:39,533 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.26.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.PosEchoCommandResponseMessageCodec
2012-06-26 10:26:39,533 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.27.handler: com.chinarewards.qqgbvpn.main.protocol.handler.ValidateCommandHandler2
2012-06-26 10:26:39,533 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.27.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.ValidateBodyMessageCodec2
2012-06-26 10:26:39,533 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.28.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.ValidateBodyMessageResponseCodec2
2012-06-26 10:26:39,533 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.101.handler: com.chinarewards.qqgbvpn.main.protocol.handler.QQMeishiCommandHandler
2012-06-26 10:26:39,533 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.101.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.QQMeishiBodyMessageCodec
2012-06-26 10:26:39,533 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.102.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.QQMeishiBodyMessageResponseCodec
2012-06-26 10:26:39,533 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.201.handler: com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler
2012-06-26 10:26:39,533 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.201.codec: com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftMessageCodec
2012-06-26 10:26:39,533 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.202.codec: com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftResponseMessageCodec
2012-06-26 10:26:39,533 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.110.handler: com.chinarewards.timeserver.main.protocol.handler.TimeServerHandler
2012-06-26 10:26:39,533 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.110.codec: com.chinarewards.timeserver.main.protocol.socket.mina.codec.TimeServerMessageCodec
2012-06-26 10:26:39,533 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.111.codec: com.chinarewards.timeserver.main.protocol.socket.mina.codec.TimeServerMessageResponseCodec
2012-06-26 10:26:39,533 [main            ] [DEBUG] c.c.q.m.BootStrap           - - qq.vip.adidas.des.secretkey: qqadidas
2012-06-26 10:26:39,533 [main            ] [INFO ] c.c.q.m.BootStrap           - Bootstrapping...
2012-06-26 10:26:39,533 [main            ] [INFO ] c.c.q.m.BootStrap           - Initializing dependency injection environment...
2012-06-26 10:26:39,564 [main            ] [INFO ] c.c.q.m.BootStrap           - Creating Guice injector. If it is stucked, there is a chance the database is down.
2012-06-26 10:26:39,704 [main            ] [DEBUG] .q.m.p.ServiceHandlerModule - Finished configuration
2012-06-26 10:26:39,704 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.SearchCommandHandler to Guice
2012-06-26 10:26:39,704 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.QQMeishiCommandHandler to Guice
2012-06-26 10:26:39,704 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.ValidateCommandHandler to Guice
2012-06-26 10:26:39,704 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler to Guice
2012-06-26 10:26:39,704 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler to Guice
2012-06-26 10:26:39,704 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler to Guice
2012-06-26 10:26:39,704 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.timeserver.main.protocol.handler.TimeServerHandler to Guice
2012-06-26 10:26:39,704 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.BindCommandHandler to Guice
2012-06-26 10:26:39,720 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.ValidationCallbackHandler to Guice
2012-06-26 10:26:39,720 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.FirmwareUpgradeRequestCommandHandler to Guice
2012-06-26 10:26:39,720 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.GetFirmwareFragmentHandler to Guice
2012-06-26 10:26:39,720 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.FirmwareUpDoneHandler to Guice
2012-06-26 10:26:39,720 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.HuaxiaSearchCommandHandler to Guice
2012-06-26 10:26:39,720 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.HuaxiaConfirmCommandHandler to Guice
2012-06-26 10:26:39,720 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.HuaxiaAckCommandHandler to Guice
2012-06-26 10:26:39,720 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.PosEchoCommandHandler to Guice
2012-06-26 10:26:39,720 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.ValidateCommandHandler2 to Guice
2012-06-26 10:26:39,720 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Configuration completed
2012-06-26 10:26:40,063 [main            ] [INFO ] c.c.q.m.BootStrap           - Bootstrapping completed
2012-06-26 10:26:40,063 [main            ] [DEBUG] dule$ServiceMappingProvider - Returning ServiceMapping
2012-06-26 10:26:40,063 [main            ] [DEBUG] $$EnhancerByGuice$$97046352 - ServiceHandlerObjectFactory is com.chinarewards.qqgbvpn.main.protocol.guice.GuiceServiceHandlerObjectFactory@992bae
2012-06-26 10:26:41,388 [main            ] [DEBUG] c.c.q.m.PosServer           - idleTime=20
2012-06-26 10:26:41,434 [main            ] [DEBUG] c.c.q.m.PosServer           -  monitor port =9999
2012-06-26 10:26:41,450 [main            ] [DEBUG] c.c.q.m.PosServer           -  JMXServiceURL =service:jmx:rmi:///jndi/rmi://localhost:9999/jmxrmi
2012-06-26 10:26:41,466 [main            ] [INFO ] c.c.q.m.PosServer           - Client idle timeout set to 20 seconds
2012-06-26 10:26:41,481 [main            ] [DEBUG] c.c.q.m.PosServer           - config server.session.timeout_check_interval=10
2012-06-26 10:26:41,481 [main            ] [INFO ] c.c.q.m.PosServer           - Server running, listening on 1234
2012-06-26 10:26:41,481 [main            ] [INFO ] c.c.q.m.r.RMIRegistry       - Start listener rmi server, port=9999
2012-06-26 10:26:42,510 [main            ] [INFO ] c.c.q.m.r.RMIRegistry       - no existing RMI registry found on port 9999, creating...
2012-06-26 10:26:42,510 [main            ] [INFO ] c.c.q.m.r.RMIRegistry       - RMI server create success.
2012-06-26 10:26:51,504 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:26:51,504 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:26:51,504 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 10:26:51,504 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 10:26:51,504 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:27:01,496 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:27:01,496 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:27:01,496 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 10:27:01,496 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 10:27:01,496 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:27:11,488 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:27:11,488 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:27:11,488 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 10:27:11,488 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 10:27:11,488 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:27:21,480 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:27:21,480 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:27:21,480 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 10:27:21,480 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 10:27:21,480 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:27:31,472 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:27:31,472 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:27:31,472 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 10:27:31,472 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 10:27:31,472 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:27:41,465 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:27:41,465 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:27:41,465 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 10:27:41,465 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 10:27:41,465 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:27:51,457 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:27:51,457 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:27:51,457 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 10:27:51,457 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 10:27:51,457 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:28:01,439 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:28:01,439 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:28:01,439 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 10:28:01,439 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 10:28:01,439 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:28:11,437 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:28:11,437 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:28:11,437 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 10:28:11,437 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 10:28:11,437 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:28:21,434 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:28:21,434 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:28:21,434 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 10:28:21,434 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 10:28:21,434 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:28:31,432 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:28:31,432 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:28:31,432 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 10:28:31,432 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 10:28:31,432 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:28:41,429 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:28:41,429 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:28:41,429 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 10:28:41,429 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 10:28:41,429 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:28:51,442 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:28:51,442 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:28:51,442 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 10:28:51,442 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 10:28:51,442 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:29:01,424 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:29:01,424 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:29:01,424 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 10:29:01,424 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 10:29:01,424 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:29:11,422 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:29:11,422 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:29:11,422 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 10:29:11,422 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 10:29:11,422 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:29:21,419 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:29:21,419 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:29:21,419 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 10:29:21,419 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 10:29:21,419 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:29:31,417 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:29:31,417 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:29:31,417 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 10:29:31,417 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 10:29:31,417 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:29:41,414 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:29:41,414 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:29:41,414 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 10:29:41,414 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 10:29:41,414 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:29:51,412 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:29:51,412 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:29:51,412 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 10:29:51,412 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 10:29:51,412 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:30:01,409 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:30:01,409 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:30:01,409 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 10:30:01,409 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 10:30:01,409 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:30:09,894 [NioProcessor-2  ] [INFO ] c.c.q.m.p.f.LoggingFilter   - incoming connection from remote address: 127.0.0.1:2310, Mina session ID: 1
2012-06-26 10:30:09,894 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - Currently managed session count: 1
2012-06-26 10:30:09,894 [NioProcessor-2  ] [INFO ] o.a.m.f.l.LoggingFilter     - CREATED
2012-06-26 10:30:09,894 [NioProcessor-2  ] [INFO ] o.a.m.f.l.LoggingFilter     - OPENED
2012-06-26 10:30:09,894 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2310, Mina session ID 1, identified POS ID null
2012-06-26 10:30:09,894 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 10:30:09,909 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=32 cap=2048: 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20...]
2012-06-26 10:30:09,925 [NioProcessor-2  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 1
2012-06-26 10:30:09,925 [NioProcessor-2  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 10:30:09,925 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 10:30:09,925 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 1
2012-06-26 10:30:09,925 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =32
2012-06-26 10:30:09,925 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 10:30:09,925 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 32, current position: 0
2012-06-26 10:30:09,925 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 10:30:09,925 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}
2012-06-26 10:30:09,925 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 16
2012-06-26 10:30:09,925 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=16, in.remaining=16
2012-06-26 10:30:09,925 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 10:30:09,925 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 5
2012-06-26 10:30:09,925 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 5: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageCodec@3461d1
2012-06-26 10:30:09,925 [NioProcessor-2  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - init request message decode
2012-06-26 10:30:09,925 [NioProcessor-2  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - in.remaining()=16
2012-06-26 10:30:09,925 [NioProcessor-2  ] [TRACE] .m.p.s.m.c.InitMessageCodec - InitRequestMessage: [cmdId=5, posId=pos-0002]
2012-06-26 10:30:09,925 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 10:30:09,925 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 10:30:09,925 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 10:30:09,925 [NioProcessor-2  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 10:30:09,925 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 10:30:09,925 [NioProcessor-2  ] [DEBUG] p.f.SessionKeyMessageFilter - Mina session ID 1: created session key 16a9fbde2a514e0aa1deb207f680bebd
2012-06-26 10:30:09,925 [NioProcessor-2  ] [DEBUG] p.f.SessionKeyMessageFilter - creating session for mina session ID 1 using session ID 16a9fbde2a514e0aa1deb207f680bebd
2012-06-26 10:30:09,941 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 10:30:09,941 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 10:30:09,941 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 10:30:09,941 [NioProcessor-2  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2310, Mina session ID 1, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 10:30:09,941 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 10:30:09,941 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 10:30:09,941 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 10:30:09,941 [NioProcessor-2  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 10:30:09,941 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 10:30:09,941 [pool-4-thread-1 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 10:30:09,987 [pool-4-thread-1 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 10:30:09,987 [pool-4-thread-1 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@25ef73 obtained for command ID 5
2012-06-26 10:30:09,987 [pool-4-thread-1 ] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 5 is com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@25ef73
2012-06-26 10:30:09,987 [pool-4-thread-1 ] [DEBUG] .q.m.p.h.InitCommandHandler - InitCommandHandler======execute==bodyMessage=:  [cmdId=5, posId=pos-0002]
2012-06-26 10:30:09,987 [pool-4-thread-1 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - InitResponse() invoke
2012-06-26 10:30:09,987 [pool-4-thread-1 ] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:ALLOWED
2012-06-26 10:30:09,987 [pool-4-thread-1 ] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId AND p.ostatus = :ostatus
2012-06-26 10:30:10,174 [pool-4-thread-1 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - POS ID:pos-0002, init challenge saved - [79, 105, 52, 99, 117, 65, 66, 118]
2012-06-26 10:30:10,377 [pool-4-thread-1 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 10:30:10,408 [pool-4-thread-1 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 10:30:10,408 [pool-4-thread-1 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 10:30:10,408 [pool-4-thread-1 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 10:30:10,408 [pool-4-thread-1 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 1
2012-06-26 10:30:10,408 [pool-4-thread-1 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (6)
2012-06-26 10:30:10,408 [pool-4-thread-1 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageResponseCodec@87cd5c
2012-06-26 10:30:10,408 [pool-4-thread-1 ] [DEBUG] .c.InitMessageResponseCodec - init response message encode
2012-06-26 10:30:10,408 [pool-4-thread-1 ] [TRACE] .c.InitMessageResponseCodec - InitResponseMessage: [cmdId=6, result=0, challenge=[79, 105, 52, 99, 117, 65, 66, 118]]
2012-06-26 10:30:10,408 [pool-4-thread-1 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0xc456
2012-06-26 10:30:10,408 [pool-4-thread-1 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 10:30:10,408 [pool-4-thread-1 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 C4 56 00 00 00 1E ...........V....
00000010 00 00 00 06 00 00 4F 69 34 63 75 41 42 76       ......Oi4cuABv

2012-06-26 10:30:10,408 [pool-4-thread-1 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 10:30:10,408 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 10:30:10,408 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 10:30:10,408 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 1: not mark to return session ID to client
2012-06-26 10:30:10,408 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 10:30:10,424 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 10:30:10,424 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 10:30:10,627 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2310, Mina session ID 1, identified POS ID pos-0002
2012-06-26 10:30:10,627 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 87 41 00 00 00 30 ...........A...0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 54 A6 80 62 56 70 0D 75 0C 89 8C 90 74 1A EE 64 T..bVp.u....t..d

2012-06-26 10:30:10,627 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=48 cap=2048: 00 00 00 01 00 00 00 00 00 00 87 41 00 00 00 30...]
2012-06-26 10:30:10,627 [NioProcessor-2  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 1
2012-06-26 10:30:10,627 [NioProcessor-2  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 10:30:10,627 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 10:30:10,627 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 1
2012-06-26 10:30:10,627 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =48
2012-06-26 10:30:10,627 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 87 41 00 00 00 30 ...........A...0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 54 A6 80 62 56 70 0D 75 0C 89 8C 90 74 1A EE 64 T..bVp.u....t..d

2012-06-26 10:30:10,627 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 48, current position: 0
2012-06-26 10:30:10,627 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 10:30:10,627 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x8741} messageSize:{0x30} sessionKey:{null}
2012-06-26 10:30:10,627 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 32
2012-06-26 10:30:10,627 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=32, in.remaining=32
2012-06-26 10:30:10,627 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 10:30:10,627 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 7
2012-06-26 10:30:10,627 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 7: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageCodec@508be
2012-06-26 10:30:10,627 [NioProcessor-2  ] [DEBUG] m.p.s.m.c.LoginMessageCodec - login/bind message decode
2012-06-26 10:30:10,627 [NioProcessor-2  ] [TRACE] m.p.s.m.c.LoginMessageCodec - LoginRequestMessage: [cmdId=7, posId=pos-0002, challengeResponse=[84, -90, -128, 98, 86, 112, 13, 117, 12, -119, -116, -112, 116, 26, -18, 100]]
2012-06-26 10:30:10,627 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 10:30:10,627 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x8741} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[84, -90, -128, 98, 86, 112, 13, 117, 12, -119, -116, -112, 116, 26, -18, 100]]
2012-06-26 10:30:10,627 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 10:30:10,627 [NioProcessor-2  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 10:30:10,627 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 10:30:10,627 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 10:30:10,627 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 10:30:10,627 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 10:30:10,627 [NioProcessor-2  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2310, Mina session ID 1, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x8741} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[84, -90, -128, 98, 86, 112, 13, 117, 12, -119, -116, -112, 116, 26, -18, 100]]
2012-06-26 10:30:10,627 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 10:30:10,627 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 10:30:10,627 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 10:30:10,627 [NioProcessor-2  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 10:30:10,627 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 10:30:10,627 [pool-4-thread-2 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 10:30:10,642 [pool-4-thread-2 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 10:30:10,642 [pool-4-thread-2 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@a8a81c obtained for command ID 7
2012-06-26 10:30:10,642 [pool-4-thread-2 ] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 7 is com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@a8a81c
2012-06-26 10:30:10,642 [pool-4-thread-2 ] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==bodyMessage=: [cmdId=7, posId=pos-0002, challengeResponse=[84, -90, -128, 98, 86, 112, 13, 117, 12, -119, -116, -112, 116, 26, -18, 100]]
2012-06-26 10:30:10,642 [pool-4-thread-2 ] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:null
2012-06-26 10:30:10,642 [pool-4-thread-2 ] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId
2012-06-26 10:30:10,642 [pool-4-thread-2 ] [TRACE] .q.m.l.l.i.LoginManagerImpl - Loaded from db: pos.posId:pos-0002, pos.secret:000001, oldChallenge:[79, 105, 52, 99, 117, 65, 66, 118]
2012-06-26 10:30:10,642 [pool-4-thread-2 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - disableChallengeCheck =0
2012-06-26 10:30:10,642 [pool-4-thread-2 ] [TRACE] c.c.q.m.l.c.ChallengeUtil   - checking challenge:response:[84, -90, -128, 98, 86, 112, 13, 117, 12, -119, -116, -112, 116, 26, -18, 100], posKey:000001, random:[79, 105, 52, 99, 117, 65, 66, 118]
2012-06-26 10:30:10,876 [pool-4-thread-2 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - new challenge for POS (POS ID): [89, 99, 84, 72, 84, 77, 68, 113]
2012-06-26 10:30:10,876 [pool-4-thread-2 ] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==serverKey=:JXTPOS
2012-06-26 10:30:11,048 [pool-4-thread-2 ] [DEBUG] ThreadSafeClientConnManager - Get connection: HttpRoute[{}->http://localhost:7070], timeout = 0
2012-06-26 10:30:11,048 [pool-4-thread-2 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - [HttpRoute[{}->http://localhost:7070]] total kept alive: 0, total issued: 0, total allocated: 0 out of 20
2012-06-26 10:30:11,048 [pool-4-thread-2 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - No free connections [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 10:30:11,048 [pool-4-thread-2 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Available capacity: 2 out of 2 [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 10:30:11,048 [pool-4-thread-2 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Creating new connection [HttpRoute[{}->http://localhost:7070]]
2012-06-26 10:30:11,079 [pool-4-thread-2 ] [DEBUG] ultClientConnectionOperator - Connecting to localhost:7070
2012-06-26 10:30:11,438 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:30:11,438 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:30:11,438 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 10:30:11,438 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 10:30:11,438 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:30:12,155 [pool-4-thread-2 ] [DEBUG] i.c.DefaultClientConnection - Connection closed
2012-06-26 10:30:12,155 [pool-4-thread-2 ] [DEBUG] i.c.DefaultClientConnection - Connection shut down
2012-06-26 10:30:12,155 [pool-4-thread-2 ] [DEBUG] ThreadSafeClientConnManager - Released connection is not reusable.
2012-06-26 10:30:12,155 [pool-4-thread-2 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Releasing connection [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 10:30:12,155 [pool-4-thread-2 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Notifying no-one, there are no waiting threads
2012-06-26 10:30:12,155 [pool-4-thread-2 ] [ERROR] q.m.p.h.LoginCommandHandler - initGrouponCache fail:com.chinarewards.qqgbvpn.qqapi.exception.ParseXMLException: com.chinarewards.qqgbvpn.qqapi.exception.SendPostTimeOutException: org.apache.http.conn.HttpHostConnectException: Connection to http://localhost:7070 refused
2012-06-26 10:30:12,155 [pool-4-thread-2 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 10:30:12,186 [pool-4-thread-2 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 10:30:12,186 [pool-4-thread-2 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 10:30:12,202 [pool-4-thread-2 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 10:30:12,202 [pool-4-thread-2 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 1
2012-06-26 10:30:12,202 [pool-4-thread-2 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (8)
2012-06-26 10:30:12,202 [pool-4-thread-2 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageResponseCodec@1e136a8
2012-06-26 10:30:12,202 [pool-4-thread-2 ] [DEBUG] c.LoginMessageResponseCodec - login/bind message encode
2012-06-26 10:30:12,202 [pool-4-thread-2 ] [TRACE] c.LoginMessageResponseCodec - LoginResponseMessage: [cmdId=8, result=0, challenge=[89, 99, 84, 72, 84, 77, 68, 113]]
2012-06-26 10:30:12,202 [pool-4-thread-2 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0xb96e
2012-06-26 10:30:12,202 [pool-4-thread-2 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 10:30:12,202 [pool-4-thread-2 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 B9 6E 00 00 00 1E ...........n....
00000010 00 00 00 08 00 00 59 63 54 48 54 4D 44 71       ......YcTHTMDq

2012-06-26 10:30:12,202 [pool-4-thread-2 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 10:30:12,202 [Finalizer       ] [DEBUG] ThreadSafeClientConnManager - Shutting down
2012-06-26 10:30:12,202 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 10:30:12,202 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 10:30:12,202 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 1: not mark to return session ID to client
2012-06-26 10:30:12,202 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 10:30:12,202 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 10:30:12,202 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 10:30:12,202 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2310, Mina session ID 1, identified POS ID pos-0002
2012-06-26 10:30:12,202 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 33 of 33 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 D8 04 00 00 00 21 ...............!
00000010 00 00 00 C9 00 0B 31 31 31 31 31 31 31 31 31 31 ......1111111111
00000020 31                                              1

2012-06-26 10:30:12,202 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=33 cap=1024: 00 00 00 10 00 00 00 00 00 00 D8 04 00 00 00 21...]
2012-06-26 10:30:12,202 [NioProcessor-2  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 1
2012-06-26 10:30:12,202 [NioProcessor-2  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 10:30:12,202 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 10:30:12,202 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 1
2012-06-26 10:30:12,202 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =33
2012-06-26 10:30:12,202 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 33 of 33 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 D8 04 00 00 00 21 ...............!
00000010 00 00 00 C9 00 0B 31 31 31 31 31 31 31 31 31 31 ......1111111111
00000020 31                                              1

2012-06-26 10:30:12,202 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 33, current position: 0
2012-06-26 10:30:12,202 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 10:30:12,202 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd804} messageSize:{0x21} sessionKey:{null}
2012-06-26 10:30:12,202 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 17
2012-06-26 10:30:12,202 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=17, in.remaining=17
2012-06-26 10:30:12,202 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 10:30:12,202 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 201
2012-06-26 10:30:12,202 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 201: com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftMessageCodec@3ba4f1
2012-06-26 10:30:12,202 [NioProcessor-2  ] [DEBUG] m.c.ReceiveGiftMessageCodec - receive gift request message decode
2012-06-26 10:30:12,202 [NioProcessor-2  ] [DEBUG] m.c.ReceiveGiftMessageCodec - in.remaining()=17
2012-06-26 10:30:12,202 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 10:30:12,202 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd804} messageSize:{0x21} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@101d01
2012-06-26 10:30:12,202 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 10:30:12,202 [NioProcessor-2  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 10:30:12,202 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 10:30:12,202 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 10:30:12,202 [NioProcessor-2  ] [DEBUG] c.c.q.m.p.f.LoginFilter     - isLogin=true
2012-06-26 10:30:12,202 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 10:30:12,202 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 10:30:12,202 [NioProcessor-2  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2310, Mina session ID 1, identified POS ID pos-0002, message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd804} messageSize:{0x21} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@101d01
2012-06-26 10:30:12,202 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 10:30:12,202 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 10:30:12,202 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 10:30:12,202 [NioProcessor-2  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 10:30:12,202 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 10:30:12,202 [pool-4-thread-3 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 10:30:12,202 [pool-4-thread-3 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 10:30:12,202 [pool-4-thread-3 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@123961b obtained for command ID 201
2012-06-26 10:30:12,202 [pool-4-thread-3 ] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 201 is com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@123961b
2012-06-26 10:30:12,202 [pool-4-thread-3 ] [DEBUG] h.ReceiveGiftCommandHandler - ReceiveGiftHandler======execute==bodyMessage=: com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@101d01
2012-06-26 10:30:12,249 [pool-4-thread-3 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 10:30:12,296 [pool-4-thread-3 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 10:30:12,296 [pool-4-thread-3 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 10:30:12,296 [pool-4-thread-3 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 10:30:12,296 [pool-4-thread-3 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 1
2012-06-26 10:30:12,296 [pool-4-thread-3 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (202)
2012-06-26 10:30:12,296 [pool-4-thread-3 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftResponseMessageCodec@1c71508
2012-06-26 10:30:12,296 [pool-4-thread-3 ] [DEBUG] iveGiftResponseMessageCodec - receive gift response message encode
2012-06-26 10:30:12,296 [pool-4-thread-3 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0xe4c7
2012-06-26 10:30:12,296 [pool-4-thread-3 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 10:30:12,296 [pool-4-thread-3 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 55 of 55 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 E4 C7 00 00 00 37 ...............7
00000010 00 00 00 CA 00 00 00 00 07 DC 06 1A 0A 1E 0C 00 ................
00000020 CA 01 E0 00 08 C1 EC C8 A1 C0 F1 C6 B7 00 08 BD ................
00000030 BB D2 D7 B3 C9 B9 A6                            .......

2012-06-26 10:30:12,296 [pool-4-thread-3 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 10:30:12,296 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 10:30:12,296 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 10:30:12,296 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 1: not mark to return session ID to client
2012-06-26 10:30:12,296 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 10:30:12,296 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 10:30:12,296 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 10:30:12,296 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2310, Mina session ID 1, identified POS ID pos-0002
2012-06-26 10:30:12,296 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 33 of 33 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 D8 04 00 00 00 21 ...............!
00000010 00 00 00 C9 00 0B 31 31 31 31 31 31 31 31 31 31 ......1111111111
00000020 31                                              1

2012-06-26 10:30:12,296 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=33 cap=1024: 00 00 00 10 00 00 00 00 00 00 D8 04 00 00 00 21...]
2012-06-26 10:30:12,296 [NioProcessor-2  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 1
2012-06-26 10:30:12,296 [NioProcessor-2  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 10:30:12,296 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 10:30:12,296 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 1
2012-06-26 10:30:12,296 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =33
2012-06-26 10:30:12,296 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 33 of 33 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 D8 04 00 00 00 21 ...............!
00000010 00 00 00 C9 00 0B 31 31 31 31 31 31 31 31 31 31 ......1111111111
00000020 31                                              1

2012-06-26 10:30:12,296 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 33, current position: 0
2012-06-26 10:30:12,296 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 10:30:12,296 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd804} messageSize:{0x21} sessionKey:{null}
2012-06-26 10:30:12,296 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 17
2012-06-26 10:30:12,296 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=17, in.remaining=17
2012-06-26 10:30:12,296 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 10:30:12,296 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 201
2012-06-26 10:30:12,296 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 201: com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftMessageCodec@1ffbcb
2012-06-26 10:30:12,296 [NioProcessor-2  ] [DEBUG] m.c.ReceiveGiftMessageCodec - receive gift request message decode
2012-06-26 10:30:12,296 [NioProcessor-2  ] [DEBUG] m.c.ReceiveGiftMessageCodec - in.remaining()=17
2012-06-26 10:30:12,327 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 10:30:12,327 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd804} messageSize:{0x21} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@1cbcf91
2012-06-26 10:30:12,327 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 10:30:12,327 [NioProcessor-2  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 10:30:12,327 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 10:30:12,327 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 10:30:12,327 [NioProcessor-2  ] [DEBUG] c.c.q.m.p.f.LoginFilter     - isLogin=true
2012-06-26 10:30:12,327 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 10:30:12,327 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 10:30:12,327 [NioProcessor-2  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2310, Mina session ID 1, identified POS ID pos-0002, message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd804} messageSize:{0x21} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@1cbcf91
2012-06-26 10:30:12,327 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 10:30:12,327 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 10:30:12,327 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 10:30:12,327 [NioProcessor-2  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 10:30:12,327 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 10:30:12,327 [pool-4-thread-4 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 10:30:12,327 [pool-4-thread-4 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 10:30:12,327 [pool-4-thread-4 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@556949 obtained for command ID 201
2012-06-26 10:30:12,327 [pool-4-thread-4 ] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 201 is com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@556949
2012-06-26 10:30:12,327 [pool-4-thread-4 ] [DEBUG] h.ReceiveGiftCommandHandler - ReceiveGiftHandler======execute==bodyMessage=: com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@1cbcf91
2012-06-26 10:30:12,327 [pool-4-thread-4 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 10:30:12,327 [pool-4-thread-4 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 10:30:12,327 [pool-4-thread-4 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 10:30:12,327 [pool-4-thread-4 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 10:30:12,327 [pool-4-thread-4 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 1
2012-06-26 10:30:12,327 [pool-4-thread-4 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (202)
2012-06-26 10:30:12,327 [pool-4-thread-4 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftResponseMessageCodec@18a6890
2012-06-26 10:30:12,327 [pool-4-thread-4 ] [DEBUG] iveGiftResponseMessageCodec - receive gift response message encode
2012-06-26 10:30:12,327 [pool-4-thread-4 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0xdad
2012-06-26 10:30:12,327 [pool-4-thread-4 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 10:30:12,327 [pool-4-thread-4 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 55 of 55 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 0D AD 00 00 00 37 ...............7
00000010 00 00 00 CA 00 00 00 01 07 DC 06 1A 0A 1E 0C 01 ................
00000020 47 01 E0 00 08 C1 EC C8 A1 C0 F1 C6 B7 00 08 D2 G...............
00000030 D1 C1 EC C8 A1 B9 FD                            .......

2012-06-26 10:30:12,327 [pool-4-thread-4 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 10:30:12,327 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 10:30:12,327 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 10:30:12,327 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 1: not mark to return session ID to client
2012-06-26 10:30:12,327 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 10:30:12,327 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 10:30:12,327 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 10:30:12,327 [NioProcessor-2  ] [INFO ] o.a.m.f.l.LoggingFilter     - CLOSED
2012-06-26 10:30:12,327 [NioProcessor-2  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 10:30:21,451 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:30:21,451 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:30:21,451 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 10:30:21,451 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 10:30:21,451 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:30:31,448 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:30:31,448 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:30:31,448 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 10:30:31,448 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 10:30:31,448 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:30:41,446 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:30:41,446 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:30:41,446 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 10:30:41,446 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 10:30:41,446 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:30:49,837 [NioProcessor-3  ] [INFO ] c.c.q.m.p.f.LoggingFilter   - incoming connection from remote address: 127.0.0.1:2314, Mina session ID: 2
2012-06-26 10:30:49,837 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - Currently managed session count: 1
2012-06-26 10:30:49,837 [NioProcessor-3  ] [INFO ] o.a.m.f.l.LoggingFilter     - CREATED
2012-06-26 10:30:49,837 [NioProcessor-3  ] [INFO ] o.a.m.f.l.LoggingFilter     - OPENED
2012-06-26 10:30:49,868 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2314, Mina session ID 2, identified POS ID null
2012-06-26 10:30:49,868 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 10:30:49,868 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=32 cap=2048: 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20...]
2012-06-26 10:30:49,868 [NioProcessor-3  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 2
2012-06-26 10:30:49,868 [NioProcessor-3  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 10:30:49,868 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 10:30:49,868 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 2
2012-06-26 10:30:49,868 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =32
2012-06-26 10:30:49,868 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 10:30:49,868 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 32, current position: 0
2012-06-26 10:30:49,868 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 10:30:49,868 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}
2012-06-26 10:30:49,868 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 16
2012-06-26 10:30:49,868 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=16, in.remaining=16
2012-06-26 10:30:49,868 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 10:30:49,868 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 5
2012-06-26 10:30:49,868 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 5: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageCodec@183268e
2012-06-26 10:30:49,868 [NioProcessor-3  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - init request message decode
2012-06-26 10:30:49,868 [NioProcessor-3  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - in.remaining()=16
2012-06-26 10:30:49,868 [NioProcessor-3  ] [TRACE] .m.p.s.m.c.InitMessageCodec - InitRequestMessage: [cmdId=5, posId=pos-0002]
2012-06-26 10:30:49,868 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 10:30:49,868 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 10:30:49,868 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 10:30:49,868 [NioProcessor-3  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 10:30:49,868 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 10:30:49,868 [NioProcessor-3  ] [DEBUG] p.f.SessionKeyMessageFilter - Mina session ID 2: created session key edc1476dbb7c430da21a400dbfb0542d
2012-06-26 10:30:49,868 [NioProcessor-3  ] [DEBUG] p.f.SessionKeyMessageFilter - creating session for mina session ID 2 using session ID edc1476dbb7c430da21a400dbfb0542d
2012-06-26 10:30:49,868 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 10:30:49,868 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 10:30:49,868 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 10:30:49,868 [NioProcessor-3  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2314, Mina session ID 2, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 10:30:49,868 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 10:30:49,868 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 10:30:49,868 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 10:30:49,868 [NioProcessor-3  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 10:30:49,868 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 10:30:49,868 [pool-4-thread-5 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 10:30:49,868 [pool-4-thread-5 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 10:30:49,868 [pool-4-thread-5 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@88b858 obtained for command ID 5
2012-06-26 10:30:49,868 [pool-4-thread-5 ] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 5 is com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@88b858
2012-06-26 10:30:49,868 [pool-4-thread-5 ] [DEBUG] .q.m.p.h.InitCommandHandler - InitCommandHandler======execute==bodyMessage=:  [cmdId=5, posId=pos-0002]
2012-06-26 10:30:49,868 [pool-4-thread-5 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - InitResponse() invoke
2012-06-26 10:30:49,868 [pool-4-thread-5 ] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:ALLOWED
2012-06-26 10:30:49,868 [pool-4-thread-5 ] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId AND p.ostatus = :ostatus
2012-06-26 10:30:49,868 [pool-4-thread-5 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - POS ID:pos-0002, init challenge saved - [118, 48, 72, 52, 73, 88, 57, 101]
2012-06-26 10:30:49,868 [pool-4-thread-5 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 10:30:49,884 [pool-4-thread-5 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 10:30:49,884 [pool-4-thread-5 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 10:30:49,884 [pool-4-thread-5 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 10:30:49,884 [pool-4-thread-5 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 2
2012-06-26 10:30:49,884 [pool-4-thread-5 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (6)
2012-06-26 10:30:49,884 [pool-4-thread-5 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageResponseCodec@1de152f
2012-06-26 10:30:49,884 [pool-4-thread-5 ] [DEBUG] .c.InitMessageResponseCodec - init response message encode
2012-06-26 10:30:49,884 [pool-4-thread-5 ] [TRACE] .c.InitMessageResponseCodec - InitResponseMessage: [cmdId=6, result=0, challenge=[118, 48, 72, 52, 73, 88, 57, 101]]
2012-06-26 10:30:49,884 [pool-4-thread-5 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0xbeb8
2012-06-26 10:30:49,884 [pool-4-thread-5 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 10:30:49,884 [pool-4-thread-5 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BE B8 00 00 00 1E ................
00000010 00 00 00 06 00 00 76 30 48 34 49 58 39 65       ......v0H4IX9e

2012-06-26 10:30:49,884 [pool-4-thread-5 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 10:30:49,884 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 10:30:49,884 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 10:30:49,884 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 2: not mark to return session ID to client
2012-06-26 10:30:49,884 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 10:30:49,884 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 10:30:49,884 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 10:30:50,102 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2314, Mina session ID 2, identified POS ID pos-0002
2012-06-26 10:30:50,102 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 17 54 00 00 00 30 ...........T...0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 7E B1 E6 16 F7 30 BF F1 DE DF 38 F0 A3 F5 CC C3 ~....0....8.....

2012-06-26 10:30:50,102 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=48 cap=2048: 00 00 00 01 00 00 00 00 00 00 17 54 00 00 00 30...]
2012-06-26 10:30:50,102 [NioProcessor-3  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 2
2012-06-26 10:30:50,102 [NioProcessor-3  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 10:30:50,102 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 10:30:50,102 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 2
2012-06-26 10:30:50,102 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =48
2012-06-26 10:30:50,102 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 17 54 00 00 00 30 ...........T...0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 7E B1 E6 16 F7 30 BF F1 DE DF 38 F0 A3 F5 CC C3 ~....0....8.....

2012-06-26 10:30:50,102 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 48, current position: 0
2012-06-26 10:30:50,102 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 10:30:50,102 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x1754} messageSize:{0x30} sessionKey:{null}
2012-06-26 10:30:50,102 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 32
2012-06-26 10:30:50,102 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=32, in.remaining=32
2012-06-26 10:30:50,102 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 10:30:50,102 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 7
2012-06-26 10:30:50,102 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 7: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageCodec@123baa0
2012-06-26 10:30:50,102 [NioProcessor-3  ] [DEBUG] m.p.s.m.c.LoginMessageCodec - login/bind message decode
2012-06-26 10:30:50,102 [NioProcessor-3  ] [TRACE] m.p.s.m.c.LoginMessageCodec - LoginRequestMessage: [cmdId=7, posId=pos-0002, challengeResponse=[126, -79, -26, 22, -9, 48, -65, -15, -34, -33, 56, -16, -93, -11, -52, -61]]
2012-06-26 10:30:50,102 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 10:30:50,102 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x1754} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[126, -79, -26, 22, -9, 48, -65, -15, -34, -33, 56, -16, -93, -11, -52, -61]]
2012-06-26 10:30:50,102 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 10:30:50,102 [NioProcessor-3  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 10:30:50,102 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 10:30:50,102 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 10:30:50,102 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 10:30:50,102 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 10:30:50,102 [NioProcessor-3  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2314, Mina session ID 2, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x1754} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[126, -79, -26, 22, -9, 48, -65, -15, -34, -33, 56, -16, -93, -11, -52, -61]]
2012-06-26 10:30:50,102 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 10:30:50,102 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 10:30:50,102 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 10:30:50,102 [NioProcessor-3  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 10:30:50,102 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 10:30:50,102 [pool-4-thread-6 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 10:30:50,102 [pool-4-thread-6 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 10:30:50,102 [pool-4-thread-6 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@595420 obtained for command ID 7
2012-06-26 10:30:50,102 [pool-4-thread-6 ] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 7 is com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@595420
2012-06-26 10:30:50,102 [pool-4-thread-6 ] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==bodyMessage=: [cmdId=7, posId=pos-0002, challengeResponse=[126, -79, -26, 22, -9, 48, -65, -15, -34, -33, 56, -16, -93, -11, -52, -61]]
2012-06-26 10:30:50,102 [pool-4-thread-6 ] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:null
2012-06-26 10:30:50,102 [pool-4-thread-6 ] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId
2012-06-26 10:30:50,118 [pool-4-thread-6 ] [TRACE] .q.m.l.l.i.LoginManagerImpl - Loaded from db: pos.posId:pos-0002, pos.secret:000001, oldChallenge:[118, 48, 72, 52, 73, 88, 57, 101]
2012-06-26 10:30:50,118 [pool-4-thread-6 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - disableChallengeCheck =0
2012-06-26 10:30:50,118 [pool-4-thread-6 ] [TRACE] c.c.q.m.l.c.ChallengeUtil   - checking challenge:response:[126, -79, -26, 22, -9, 48, -65, -15, -34, -33, 56, -16, -93, -11, -52, -61], posKey:000001, random:[118, 48, 72, 52, 73, 88, 57, 101]
2012-06-26 10:30:50,118 [pool-4-thread-6 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - new challenge for POS (POS ID): [54, 55, 82, 79, 49, 115, 112, 107]
2012-06-26 10:30:50,118 [pool-4-thread-6 ] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==serverKey=:JXTPOS
2012-06-26 10:30:50,118 [pool-4-thread-6 ] [DEBUG] ThreadSafeClientConnManager - Get connection: HttpRoute[{}->http://localhost:7070], timeout = 0
2012-06-26 10:30:50,118 [pool-4-thread-6 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - [HttpRoute[{}->http://localhost:7070]] total kept alive: 0, total issued: 0, total allocated: 0 out of 20
2012-06-26 10:30:50,118 [pool-4-thread-6 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - No free connections [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 10:30:50,118 [pool-4-thread-6 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Available capacity: 2 out of 2 [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 10:30:50,118 [pool-4-thread-6 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Creating new connection [HttpRoute[{}->http://localhost:7070]]
2012-06-26 10:30:50,118 [pool-4-thread-6 ] [DEBUG] ultClientConnectionOperator - Connecting to localhost:7070
2012-06-26 10:30:51,022 [pool-4-thread-6 ] [DEBUG] i.c.DefaultClientConnection - Connection closed
2012-06-26 10:30:51,022 [pool-4-thread-6 ] [DEBUG] i.c.DefaultClientConnection - Connection shut down
2012-06-26 10:30:51,022 [pool-4-thread-6 ] [DEBUG] ThreadSafeClientConnManager - Released connection is not reusable.
2012-06-26 10:30:51,022 [pool-4-thread-6 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Releasing connection [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 10:30:51,022 [pool-4-thread-6 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Notifying no-one, there are no waiting threads
2012-06-26 10:30:51,022 [pool-4-thread-6 ] [ERROR] q.m.p.h.LoginCommandHandler - initGrouponCache fail:com.chinarewards.qqgbvpn.qqapi.exception.ParseXMLException: com.chinarewards.qqgbvpn.qqapi.exception.SendPostTimeOutException: org.apache.http.conn.HttpHostConnectException: Connection to http://localhost:7070 refused
2012-06-26 10:30:51,053 [pool-4-thread-6 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 10:30:51,053 [pool-4-thread-6 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 10:30:51,053 [pool-4-thread-6 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 10:30:51,053 [pool-4-thread-6 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 10:30:51,053 [pool-4-thread-6 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 2
2012-06-26 10:30:51,053 [pool-4-thread-6 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (8)
2012-06-26 10:30:51,053 [pool-4-thread-6 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageResponseCodec@1ae717f
2012-06-26 10:30:51,053 [pool-4-thread-6 ] [DEBUG] c.LoginMessageResponseCodec - login/bind message encode
2012-06-26 10:30:51,053 [pool-4-thread-6 ] [TRACE] c.LoginMessageResponseCodec - LoginResponseMessage: [cmdId=8, result=0, challenge=[54, 55, 82, 79, 49, 115, 112, 107]]
2012-06-26 10:30:51,053 [pool-4-thread-6 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0xd573
2012-06-26 10:30:51,053 [pool-4-thread-6 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 10:30:51,053 [pool-4-thread-6 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 D5 73 00 00 00 1E ...........s....
00000010 00 00 00 08 00 00 36 37 52 4F 31 73 70 6B       ......67RO1spk

2012-06-26 10:30:51,053 [pool-4-thread-6 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 10:30:51,053 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 10:30:51,053 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 10:30:51,053 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 2: not mark to return session ID to client
2012-06-26 10:30:51,053 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 10:30:51,053 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 10:30:51,053 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 10:30:51,053 [Finalizer       ] [DEBUG] ThreadSafeClientConnManager - Shutting down
2012-06-26 10:30:51,053 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2314, Mina session ID 2, identified POS ID pos-0002
2012-06-26 10:30:51,053 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 33 of 33 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 D8 04 00 00 00 21 ...............!
00000010 00 00 00 C9 00 0B 31 31 31 31 31 31 31 31 31 31 ......1111111111
00000020 31                                              1

2012-06-26 10:30:51,053 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=33 cap=1024: 00 00 00 10 00 00 00 00 00 00 D8 04 00 00 00 21...]
2012-06-26 10:30:51,053 [NioProcessor-3  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 2
2012-06-26 10:30:51,053 [NioProcessor-3  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 10:30:51,053 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 10:30:51,053 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 2
2012-06-26 10:30:51,053 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =33
2012-06-26 10:30:51,053 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 33 of 33 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 D8 04 00 00 00 21 ...............!
00000010 00 00 00 C9 00 0B 31 31 31 31 31 31 31 31 31 31 ......1111111111
00000020 31                                              1

2012-06-26 10:30:51,053 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 33, current position: 0
2012-06-26 10:30:51,053 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 10:30:51,053 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd804} messageSize:{0x21} sessionKey:{null}
2012-06-26 10:30:51,053 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 17
2012-06-26 10:30:51,053 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=17, in.remaining=17
2012-06-26 10:30:51,053 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 10:30:51,053 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 201
2012-06-26 10:30:51,053 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 201: com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftMessageCodec@37a04c
2012-06-26 10:30:51,053 [NioProcessor-3  ] [DEBUG] m.c.ReceiveGiftMessageCodec - receive gift request message decode
2012-06-26 10:30:51,053 [NioProcessor-3  ] [DEBUG] m.c.ReceiveGiftMessageCodec - in.remaining()=17
2012-06-26 10:30:51,053 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 10:30:51,053 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd804} messageSize:{0x21} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@1fd10fa
2012-06-26 10:30:51,053 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 10:30:51,053 [NioProcessor-3  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 10:30:51,053 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 10:30:51,053 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 10:30:51,053 [NioProcessor-3  ] [DEBUG] c.c.q.m.p.f.LoginFilter     - isLogin=true
2012-06-26 10:30:51,053 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 10:30:51,053 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 10:30:51,053 [NioProcessor-3  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2314, Mina session ID 2, identified POS ID pos-0002, message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd804} messageSize:{0x21} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@1fd10fa
2012-06-26 10:30:51,053 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 10:30:51,053 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 10:30:51,053 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 10:30:51,053 [NioProcessor-3  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 10:30:51,053 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 10:30:51,053 [pool-4-thread-7 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 10:30:51,053 [pool-4-thread-7 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 10:30:51,053 [pool-4-thread-7 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@1d86a73 obtained for command ID 201
2012-06-26 10:30:51,053 [pool-4-thread-7 ] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 201 is com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@1d86a73
2012-06-26 10:30:51,053 [pool-4-thread-7 ] [DEBUG] h.ReceiveGiftCommandHandler - ReceiveGiftHandler======execute==bodyMessage=: com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@1fd10fa
2012-06-26 10:30:51,053 [pool-4-thread-7 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 10:30:51,053 [pool-4-thread-7 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 10:30:51,053 [pool-4-thread-7 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 10:30:51,053 [pool-4-thread-7 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 10:30:51,053 [pool-4-thread-7 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 2
2012-06-26 10:30:51,053 [pool-4-thread-7 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (202)
2012-06-26 10:30:51,053 [pool-4-thread-7 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftResponseMessageCodec@aee320
2012-06-26 10:30:51,053 [pool-4-thread-7 ] [DEBUG] iveGiftResponseMessageCodec - receive gift response message encode
2012-06-26 10:30:51,053 [pool-4-thread-7 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0xf8ad
2012-06-26 10:30:51,053 [pool-4-thread-7 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 10:30:51,053 [pool-4-thread-7 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 55 of 55 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 F8 AD 00 00 00 37 ...............7
00000010 00 00 00 CA 00 00 00 01 07 DC 06 1A 0A 1E 33 00 ..............3.
00000020 35 01 E0 00 08 C1 EC C8 A1 C0 F1 C6 B7 00 08 D2 5...............
00000030 D1 C1 EC C8 A1 B9 FD                            .......

2012-06-26 10:30:51,053 [pool-4-thread-7 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 10:30:51,053 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 10:30:51,053 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 10:30:51,053 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 2: not mark to return session ID to client
2012-06-26 10:30:51,053 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 10:30:51,053 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 10:30:51,053 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 10:30:51,085 [NioProcessor-3  ] [INFO ] o.a.m.f.l.LoggingFilter     - CLOSED
2012-06-26 10:30:51,085 [NioProcessor-3  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 10:30:51,443 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:30:51,443 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:30:51,443 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 10:30:51,443 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 10:30:51,443 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:31:01,425 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:31:01,425 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:31:01,425 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 10:31:01,425 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 10:31:01,425 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:31:11,423 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:31:11,423 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:31:11,423 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 10:31:11,423 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 10:31:11,423 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:31:21,436 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:31:21,436 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:31:21,436 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 10:31:21,436 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 10:31:21,436 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:31:31,433 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:31:31,433 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:31:31,433 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 10:31:31,433 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 10:31:31,433 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:31:41,431 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:31:41,431 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:31:41,431 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 10:31:41,431 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 10:31:41,431 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:31:51,428 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:31:51,428 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:31:51,428 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 10:31:51,428 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 10:31:51,428 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:32:01,426 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:32:01,426 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:32:01,426 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 10:32:01,426 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 10:32:01,426 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:32:11,423 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:32:11,423 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:32:11,423 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 10:32:11,423 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 10:32:11,423 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:32:21,421 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:32:21,421 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:32:21,421 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 10:32:21,421 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 10:32:21,421 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:32:31,434 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:32:31,434 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:32:31,434 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 10:32:31,434 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 10:32:31,434 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:32:41,431 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:32:41,431 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:32:41,431 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 10:32:41,431 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 10:32:41,431 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:32:51,429 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:32:51,429 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:32:51,429 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 10:32:51,429 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 10:32:51,429 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:33:01,429 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:33:01,429 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:33:01,429 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 10:33:01,429 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 10:33:01,429 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:33:11,428 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:33:11,428 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:33:11,428 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 10:33:11,428 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 10:33:11,428 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:33:21,427 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:33:21,427 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:33:21,427 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 10:33:21,427 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 10:33:21,427 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:33:31,427 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:33:31,427 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:33:31,427 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 10:33:31,427 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 10:33:31,427 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:33:41,442 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:33:41,442 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:33:41,442 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 10:33:41,442 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 10:33:41,442 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:33:51,441 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:33:51,441 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:33:51,441 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 10:33:51,441 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 10:33:51,441 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:34:01,441 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:34:01,441 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:34:01,441 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 10:34:01,441 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 10:34:01,441 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:34:11,440 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:34:11,440 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:34:11,440 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 10:34:11,440 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 10:34:11,440 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:34:21,439 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:34:21,439 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:34:21,439 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 10:34:21,439 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 10:34:21,439 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:34:23,857 [NioProcessor-1  ] [INFO ] c.c.q.m.p.f.LoggingFilter   - incoming connection from remote address: 127.0.0.1:2325, Mina session ID: 3
2012-06-26 10:34:23,857 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - Currently managed session count: 1
2012-06-26 10:34:23,857 [NioProcessor-1  ] [INFO ] o.a.m.f.l.LoggingFilter     - CREATED
2012-06-26 10:34:23,857 [NioProcessor-1  ] [INFO ] o.a.m.f.l.LoggingFilter     - OPENED
2012-06-26 10:34:23,857 [NioProcessor-1  ] [INFO ] o.a.m.f.l.LoggingFilter     - CLOSED
2012-06-26 10:34:23,857 [NioProcessor-1  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 10:34:31,454 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:34:31,454 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:34:31,454 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 10:34:31,454 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 10:34:31,454 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:34:41,454 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:34:41,454 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:34:41,454 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 10:34:41,454 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 10:34:41,454 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:34:51,453 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:34:51,453 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:34:51,453 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 10:34:51,453 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 10:34:51,453 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:35:01,453 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:35:01,453 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:35:01,453 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 10:35:01,453 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 10:35:01,453 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:35:11,452 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:35:11,452 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:35:11,452 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 10:35:11,452 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 10:35:11,452 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:35:21,452 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:35:21,452 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:35:21,452 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 10:35:21,452 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 10:35:21,452 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:35:31,467 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:35:31,467 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:35:31,467 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 10:35:31,467 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 10:35:31,467 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:35:31,889 [NioProcessor-2  ] [INFO ] c.c.q.m.p.f.LoggingFilter   - incoming connection from remote address: 127.0.0.1:2328, Mina session ID: 4
2012-06-26 10:35:31,889 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - Currently managed session count: 1
2012-06-26 10:35:31,889 [NioProcessor-2  ] [INFO ] o.a.m.f.l.LoggingFilter     - CREATED
2012-06-26 10:35:31,889 [NioProcessor-2  ] [INFO ] o.a.m.f.l.LoggingFilter     - OPENED
2012-06-26 10:35:31,889 [NioProcessor-2  ] [INFO ] o.a.m.f.l.LoggingFilter     - CLOSED
2012-06-26 10:35:31,889 [NioProcessor-2  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 10:35:41,483 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:35:41,483 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:35:41,483 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 10:35:41,483 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 10:35:41,483 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:35:51,482 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:35:51,482 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:35:51,482 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 10:35:51,482 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 10:35:51,482 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:36:01,482 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:36:01,482 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:36:01,482 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 10:36:01,482 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 10:36:01,482 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:36:11,482 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:36:11,482 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:36:11,482 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 10:36:11,482 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 10:36:11,482 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:36:21,482 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:36:21,482 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:36:21,482 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 10:36:21,482 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 10:36:21,482 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:36:31,482 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:36:31,482 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:36:31,482 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 10:36:31,482 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 10:36:31,482 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:36:41,481 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:36:41,481 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:36:41,481 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 10:36:41,481 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 10:36:41,481 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:36:51,481 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:36:51,481 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:36:51,481 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 10:36:51,481 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 10:36:51,481 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:37:01,481 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:37:01,481 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:37:01,481 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 10:37:01,481 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 10:37:01,481 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:37:11,481 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:37:11,481 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:37:11,481 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 10:37:11,481 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 10:37:11,481 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:37:21,481 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:37:21,481 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:37:21,481 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 10:37:21,481 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 10:37:21,481 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:37:31,480 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:37:31,480 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:37:31,480 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 10:37:31,480 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 10:37:31,480 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:37:33,384 [NioProcessor-3  ] [INFO ] c.c.q.m.p.f.LoggingFilter   - incoming connection from remote address: 127.0.0.1:2336, Mina session ID: 5
2012-06-26 10:37:33,384 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - Currently managed session count: 1
2012-06-26 10:37:33,384 [NioProcessor-3  ] [INFO ] o.a.m.f.l.LoggingFilter     - CREATED
2012-06-26 10:37:33,384 [NioProcessor-3  ] [INFO ] o.a.m.f.l.LoggingFilter     - OPENED
2012-06-26 10:37:33,415 [NioProcessor-3  ] [INFO ] o.a.m.f.l.LoggingFilter     - CLOSED
2012-06-26 10:37:33,415 [NioProcessor-3  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 10:37:41,511 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:37:41,511 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:37:41,511 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 10:37:41,511 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 10:37:41,511 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:37:51,511 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:37:51,511 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:37:51,511 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 10:37:51,511 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 10:37:51,511 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:38:01,511 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:38:01,511 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:38:01,511 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 10:38:01,511 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 10:38:01,511 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:38:11,511 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:38:11,511 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:38:11,511 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 10:38:11,511 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 10:38:11,511 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:38:21,511 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:38:21,511 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:38:21,511 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 10:38:21,511 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 10:38:21,511 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:38:31,526 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:38:31,526 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:38:31,526 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 10:38:31,526 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 10:38:31,526 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:38:37,017 [NioProcessor-1  ] [INFO ] c.c.q.m.p.f.LoggingFilter   - incoming connection from remote address: 127.0.0.1:2339, Mina session ID: 6
2012-06-26 10:38:37,017 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - Currently managed session count: 1
2012-06-26 10:38:37,017 [NioProcessor-1  ] [INFO ] o.a.m.f.l.LoggingFilter     - CREATED
2012-06-26 10:38:37,017 [NioProcessor-1  ] [INFO ] o.a.m.f.l.LoggingFilter     - OPENED
2012-06-26 10:38:37,080 [NioProcessor-1  ] [INFO ] o.a.m.f.l.LoggingFilter     - CLOSED
2012-06-26 10:38:37,080 [NioProcessor-1  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 10:38:41,557 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:38:41,557 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:38:41,557 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 10:38:41,557 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 10:38:41,557 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:38:51,557 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:38:51,557 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:38:51,557 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 10:38:51,557 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 10:38:51,557 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:39:01,557 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:39:01,557 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:39:01,557 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 10:39:01,557 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 10:39:01,557 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:39:05,004 [NioProcessor-2  ] [INFO ] c.c.q.m.p.f.LoggingFilter   - incoming connection from remote address: 127.0.0.1:2342, Mina session ID: 7
2012-06-26 10:39:05,004 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - Currently managed session count: 1
2012-06-26 10:39:05,004 [NioProcessor-2  ] [INFO ] o.a.m.f.l.LoggingFilter     - CREATED
2012-06-26 10:39:05,004 [NioProcessor-2  ] [INFO ] o.a.m.f.l.LoggingFilter     - OPENED
2012-06-26 10:39:05,160 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2342, Mina session ID 7, identified POS ID null
2012-06-26 10:39:05,160 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 10:39:05,160 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=32 cap=2048: 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20...]
2012-06-26 10:39:05,160 [NioProcessor-2  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 7
2012-06-26 10:39:05,160 [NioProcessor-2  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 10:39:05,160 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 10:39:05,160 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 7
2012-06-26 10:39:05,160 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =32
2012-06-26 10:39:05,160 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 10:39:05,160 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 32, current position: 0
2012-06-26 10:39:05,160 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 10:39:05,160 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}
2012-06-26 10:39:05,160 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 16
2012-06-26 10:39:05,160 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=16, in.remaining=16
2012-06-26 10:39:05,160 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 10:39:05,160 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 5
2012-06-26 10:39:05,160 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 5: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageCodec@15ede11
2012-06-26 10:39:05,160 [NioProcessor-2  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - init request message decode
2012-06-26 10:39:05,160 [NioProcessor-2  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - in.remaining()=16
2012-06-26 10:39:05,160 [NioProcessor-2  ] [TRACE] .m.p.s.m.c.InitMessageCodec - InitRequestMessage: [cmdId=5, posId=pos-0002]
2012-06-26 10:39:05,160 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 10:39:05,160 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 10:39:05,160 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 10:39:05,160 [NioProcessor-2  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 10:39:05,160 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 10:39:05,160 [NioProcessor-2  ] [DEBUG] p.f.SessionKeyMessageFilter - Mina session ID 7: created session key 426817c993ec4facac8828dffc88943c
2012-06-26 10:39:05,160 [NioProcessor-2  ] [DEBUG] p.f.SessionKeyMessageFilter - creating session for mina session ID 7 using session ID 426817c993ec4facac8828dffc88943c
2012-06-26 10:39:05,160 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 10:39:05,160 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 10:39:05,160 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 10:39:05,160 [NioProcessor-2  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2342, Mina session ID 7, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 10:39:05,160 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 10:39:05,160 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 10:39:05,160 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 10:39:05,160 [NioProcessor-2  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 10:39:05,160 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 10:39:05,160 [pool-4-thread-8 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 10:39:05,160 [pool-4-thread-8 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 10:39:05,160 [pool-4-thread-8 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@1da366c obtained for command ID 5
2012-06-26 10:39:05,160 [pool-4-thread-8 ] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 5 is com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@1da366c
2012-06-26 10:39:05,160 [pool-4-thread-8 ] [DEBUG] .q.m.p.h.InitCommandHandler - InitCommandHandler======execute==bodyMessage=:  [cmdId=5, posId=pos-0002]
2012-06-26 10:39:05,160 [pool-4-thread-8 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - InitResponse() invoke
2012-06-26 10:39:05,160 [pool-4-thread-8 ] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:ALLOWED
2012-06-26 10:39:05,160 [pool-4-thread-8 ] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId AND p.ostatus = :ostatus
2012-06-26 10:39:05,176 [pool-4-thread-8 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - POS ID:pos-0002, init challenge saved - [76, 110, 78, 101, 66, 108, 97, 90]
2012-06-26 10:39:05,176 [pool-4-thread-8 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 10:39:05,207 [pool-4-thread-8 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 10:39:05,207 [pool-4-thread-8 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 10:39:05,207 [pool-4-thread-8 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 10:39:05,207 [pool-4-thread-8 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 7
2012-06-26 10:39:05,207 [pool-4-thread-8 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (6)
2012-06-26 10:39:05,207 [pool-4-thread-8 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageResponseCodec@10948cf
2012-06-26 10:39:05,207 [pool-4-thread-8 ] [DEBUG] .c.InitMessageResponseCodec - init response message encode
2012-06-26 10:39:05,207 [pool-4-thread-8 ] [TRACE] .c.InitMessageResponseCodec - InitResponseMessage: [cmdId=6, result=0, challenge=[76, 110, 78, 101, 66, 108, 97, 90]]
2012-06-26 10:39:05,207 [pool-4-thread-8 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0xc140
2012-06-26 10:39:05,207 [pool-4-thread-8 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 10:39:05,207 [pool-4-thread-8 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 C1 40 00 00 00 1E ...........@....
00000010 00 00 00 06 00 00 4C 6E 4E 65 42 6C 61 5A       ......LnNeBlaZ

2012-06-26 10:39:05,207 [pool-4-thread-8 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 10:39:05,207 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 10:39:05,207 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 10:39:05,207 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 7: not mark to return session ID to client
2012-06-26 10:39:05,207 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 10:39:05,207 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 10:39:05,207 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 10:39:05,425 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2342, Mina session ID 7, identified POS ID pos-0002
2012-06-26 10:39:05,425 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 18 63 00 00 00 30 ...........c...0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 1D 20 67 4A 2E 68 7B 39 2F 80 C5 9C DF 55 A0 E6 . gJ.h{9/....U..

2012-06-26 10:39:05,425 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=48 cap=2048: 00 00 00 01 00 00 00 00 00 00 18 63 00 00 00 30...]
2012-06-26 10:39:05,425 [NioProcessor-2  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 7
2012-06-26 10:39:05,425 [NioProcessor-2  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 10:39:05,425 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 10:39:05,425 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 7
2012-06-26 10:39:05,425 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =48
2012-06-26 10:39:05,425 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 18 63 00 00 00 30 ...........c...0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 1D 20 67 4A 2E 68 7B 39 2F 80 C5 9C DF 55 A0 E6 . gJ.h{9/....U..

2012-06-26 10:39:05,425 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 48, current position: 0
2012-06-26 10:39:05,425 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 10:39:05,425 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x1863} messageSize:{0x30} sessionKey:{null}
2012-06-26 10:39:05,425 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 32
2012-06-26 10:39:05,425 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=32, in.remaining=32
2012-06-26 10:39:05,425 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 10:39:05,425 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 7
2012-06-26 10:39:05,425 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 7: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageCodec@fc9e7e
2012-06-26 10:39:05,425 [NioProcessor-2  ] [DEBUG] m.p.s.m.c.LoginMessageCodec - login/bind message decode
2012-06-26 10:39:05,425 [NioProcessor-2  ] [TRACE] m.p.s.m.c.LoginMessageCodec - LoginRequestMessage: [cmdId=7, posId=pos-0002, challengeResponse=[29, 32, 103, 74, 46, 104, 123, 57, 47, -128, -59, -100, -33, 85, -96, -26]]
2012-06-26 10:39:05,425 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 10:39:05,425 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x1863} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[29, 32, 103, 74, 46, 104, 123, 57, 47, -128, -59, -100, -33, 85, -96, -26]]
2012-06-26 10:39:05,425 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 10:39:05,425 [NioProcessor-2  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 10:39:05,425 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 10:39:05,425 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 10:39:05,425 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 10:39:05,425 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 10:39:05,425 [NioProcessor-2  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2342, Mina session ID 7, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x1863} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[29, 32, 103, 74, 46, 104, 123, 57, 47, -128, -59, -100, -33, 85, -96, -26]]
2012-06-26 10:39:05,425 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 10:39:05,425 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 10:39:05,425 [pool-4-thread-9 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 10:39:05,425 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 10:39:05,425 [NioProcessor-2  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 10:39:05,425 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 10:39:05,425 [pool-4-thread-9 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 10:39:05,425 [pool-4-thread-9 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@1ad6884 obtained for command ID 7
2012-06-26 10:39:05,425 [pool-4-thread-9 ] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 7 is com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@1ad6884
2012-06-26 10:39:05,425 [pool-4-thread-9 ] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==bodyMessage=: [cmdId=7, posId=pos-0002, challengeResponse=[29, 32, 103, 74, 46, 104, 123, 57, 47, -128, -59, -100, -33, 85, -96, -26]]
2012-06-26 10:39:05,425 [pool-4-thread-9 ] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:null
2012-06-26 10:39:05,425 [pool-4-thread-9 ] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId
2012-06-26 10:39:05,425 [pool-4-thread-9 ] [TRACE] .q.m.l.l.i.LoginManagerImpl - Loaded from db: pos.posId:pos-0002, pos.secret:000001, oldChallenge:[76, 110, 78, 101, 66, 108, 97, 90]
2012-06-26 10:39:05,425 [pool-4-thread-9 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - disableChallengeCheck =0
2012-06-26 10:39:05,425 [pool-4-thread-9 ] [TRACE] c.c.q.m.l.c.ChallengeUtil   - checking challenge:response:[29, 32, 103, 74, 46, 104, 123, 57, 47, -128, -59, -100, -33, 85, -96, -26], posKey:000001, random:[76, 110, 78, 101, 66, 108, 97, 90]
2012-06-26 10:39:05,425 [pool-4-thread-9 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - new challenge for POS (POS ID): [102, 90, 112, 79, 67, 77, 118, 117]
2012-06-26 10:39:05,425 [pool-4-thread-9 ] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==serverKey=:JXTPOS
2012-06-26 10:39:05,441 [pool-4-thread-9 ] [DEBUG] ThreadSafeClientConnManager - Get connection: HttpRoute[{}->http://localhost:7070], timeout = 0
2012-06-26 10:39:05,441 [pool-4-thread-9 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - [HttpRoute[{}->http://localhost:7070]] total kept alive: 0, total issued: 0, total allocated: 0 out of 20
2012-06-26 10:39:05,441 [pool-4-thread-9 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - No free connections [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 10:39:05,441 [pool-4-thread-9 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Available capacity: 2 out of 2 [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 10:39:05,441 [pool-4-thread-9 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Creating new connection [HttpRoute[{}->http://localhost:7070]]
2012-06-26 10:39:05,441 [pool-4-thread-9 ] [DEBUG] ultClientConnectionOperator - Connecting to localhost:7070
2012-06-26 10:39:06,564 [pool-4-thread-9 ] [DEBUG] i.c.DefaultClientConnection - Connection closed
2012-06-26 10:39:06,564 [pool-4-thread-9 ] [DEBUG] i.c.DefaultClientConnection - Connection shut down
2012-06-26 10:39:06,564 [pool-4-thread-9 ] [DEBUG] ThreadSafeClientConnManager - Released connection is not reusable.
2012-06-26 10:39:06,564 [pool-4-thread-9 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Releasing connection [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 10:39:06,564 [pool-4-thread-9 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Notifying no-one, there are no waiting threads
2012-06-26 10:39:06,564 [pool-4-thread-9 ] [ERROR] q.m.p.h.LoginCommandHandler - initGrouponCache fail:com.chinarewards.qqgbvpn.qqapi.exception.ParseXMLException: com.chinarewards.qqgbvpn.qqapi.exception.SendPostTimeOutException: org.apache.http.conn.HttpHostConnectException: Connection to http://localhost:7070 refused
2012-06-26 10:39:06,580 [pool-4-thread-9 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 10:39:06,611 [pool-4-thread-9 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 10:39:06,611 [pool-4-thread-9 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 10:39:06,611 [pool-4-thread-9 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 10:39:06,611 [pool-4-thread-9 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 7
2012-06-26 10:39:06,611 [pool-4-thread-9 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (8)
2012-06-26 10:39:06,611 [pool-4-thread-9 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageResponseCodec@10cec16
2012-06-26 10:39:06,611 [pool-4-thread-9 ] [DEBUG] c.LoginMessageResponseCodec - login/bind message encode
2012-06-26 10:39:06,611 [pool-4-thread-9 ] [TRACE] c.LoginMessageResponseCodec - LoginResponseMessage: [cmdId=8, result=0, challenge=[102, 90, 112, 79, 67, 77, 118, 117]]
2012-06-26 10:39:06,611 [pool-4-thread-9 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0x6f6c
2012-06-26 10:39:06,611 [pool-4-thread-9 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 10:39:06,611 [pool-4-thread-9 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 6F 6C 00 00 00 1E ..........ol....
00000010 00 00 00 08 00 00 66 5A 70 4F 43 4D 76 75       ......fZpOCMvu

2012-06-26 10:39:06,611 [pool-4-thread-9 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 10:39:06,611 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 10:39:06,611 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 10:39:06,611 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 7: not mark to return session ID to client
2012-06-26 10:39:06,611 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 10:39:06,611 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 10:39:06,611 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 10:39:06,611 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2342, Mina session ID 7, identified POS ID pos-0002
2012-06-26 10:39:06,611 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 33 of 33 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 D8 04 00 00 00 21 ...............!
00000010 00 00 00 C9 00 0B 31 31 31 31 31 31 31 31 31 31 ......1111111111
00000020 31                                              1

2012-06-26 10:39:06,611 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=33 cap=1024: 00 00 00 10 00 00 00 00 00 00 D8 04 00 00 00 21...]
2012-06-26 10:39:06,611 [NioProcessor-2  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 7
2012-06-26 10:39:06,611 [NioProcessor-2  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 10:39:06,611 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 10:39:06,611 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 7
2012-06-26 10:39:06,611 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =33
2012-06-26 10:39:06,611 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 33 of 33 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 D8 04 00 00 00 21 ...............!
00000010 00 00 00 C9 00 0B 31 31 31 31 31 31 31 31 31 31 ......1111111111
00000020 31                                              1

2012-06-26 10:39:06,611 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 33, current position: 0
2012-06-26 10:39:06,611 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 10:39:06,611 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd804} messageSize:{0x21} sessionKey:{null}
2012-06-26 10:39:06,611 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 17
2012-06-26 10:39:06,611 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=17, in.remaining=17
2012-06-26 10:39:06,611 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 10:39:06,611 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 201
2012-06-26 10:39:06,611 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 201: com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftMessageCodec@1966070
2012-06-26 10:39:06,611 [NioProcessor-2  ] [DEBUG] m.c.ReceiveGiftMessageCodec - receive gift request message decode
2012-06-26 10:39:06,611 [NioProcessor-2  ] [DEBUG] m.c.ReceiveGiftMessageCodec - in.remaining()=17
2012-06-26 10:39:06,611 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 10:39:06,611 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd804} messageSize:{0x21} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@1959352
2012-06-26 10:39:06,611 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 10:39:06,611 [NioProcessor-2  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 10:39:06,611 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 10:39:06,611 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 10:39:06,611 [NioProcessor-2  ] [DEBUG] c.c.q.m.p.f.LoginFilter     - isLogin=true
2012-06-26 10:39:06,611 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 10:39:06,611 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 10:39:06,611 [NioProcessor-2  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2342, Mina session ID 7, identified POS ID pos-0002, message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd804} messageSize:{0x21} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@1959352
2012-06-26 10:39:06,611 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 10:39:06,611 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 10:39:06,611 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 10:39:06,611 [NioProcessor-2  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 10:39:06,611 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 10:39:06,611 [pool-4-thread-10] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 10:39:06,611 [pool-4-thread-10] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 10:39:06,611 [pool-4-thread-10] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@1e3e7d2 obtained for command ID 201
2012-06-26 10:39:06,611 [pool-4-thread-10] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 201 is com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@1e3e7d2
2012-06-26 10:39:06,611 [pool-4-thread-10] [DEBUG] h.ReceiveGiftCommandHandler - ReceiveGiftHandler======execute==bodyMessage=: com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@1959352
2012-06-26 10:39:06,611 [pool-4-thread-10] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 10:39:06,611 [pool-4-thread-10] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 10:39:06,611 [pool-4-thread-10] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 10:39:06,611 [pool-4-thread-10] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 10:39:06,611 [pool-4-thread-10] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 7
2012-06-26 10:39:06,611 [pool-4-thread-10] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (202)
2012-06-26 10:39:06,611 [pool-4-thread-10] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftResponseMessageCodec@1342f5b
2012-06-26 10:39:06,611 [pool-4-thread-10] [DEBUG] iveGiftResponseMessageCodec - receive gift response message encode
2012-06-26 10:39:06,611 [pool-4-thread-10] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0xf7a2
2012-06-26 10:39:06,611 [pool-4-thread-10] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 10:39:06,611 [Finalizer       ] [DEBUG] ThreadSafeClientConnManager - Shutting down
2012-06-26 10:39:06,611 [pool-4-thread-10] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 55 of 55 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 F7 A2 00 00 00 37 ...............7
00000010 00 00 00 CA 00 00 00 01 07 DC 06 1A 0A 27 06 02 .............'..
00000020 63 01 E0 00 08 C1 EC C8 A1 C0 F1 C6 B7 00 08 D2 c...............
00000030 D1 C1 EC C8 A1 B9 FD                            .......

2012-06-26 10:39:06,611 [pool-4-thread-10] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 10:39:06,627 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 10:39:06,627 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 10:39:06,627 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 7: not mark to return session ID to client
2012-06-26 10:39:06,627 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 10:39:06,627 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 10:39:06,627 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 10:39:06,627 [NioProcessor-2  ] [INFO ] o.a.m.f.l.LoggingFilter     - CLOSED
2012-06-26 10:39:06,627 [NioProcessor-2  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 10:39:11,603 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:39:11,603 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:39:11,603 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 10:39:11,603 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 10:39:11,603 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:39:21,603 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:39:21,603 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:39:21,603 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 10:39:21,603 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 10:39:21,603 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:39:31,603 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:39:31,603 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:39:31,603 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 10:39:31,603 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 10:39:31,603 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:39:41,603 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:39:41,603 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:39:41,603 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 10:39:41,603 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 10:39:41,603 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:39:51,618 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:39:51,618 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:39:51,618 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 10:39:51,618 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 10:39:51,618 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:40:01,602 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:40:01,602 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:40:01,602 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 10:40:01,602 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 10:40:01,602 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:40:11,602 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:40:11,602 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:40:11,602 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 10:40:11,602 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 10:40:11,602 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:40:15,487 [NioProcessor-3  ] [INFO ] c.c.q.m.p.f.LoggingFilter   - incoming connection from remote address: 127.0.0.1:2347, Mina session ID: 8
2012-06-26 10:40:15,487 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - Currently managed session count: 1
2012-06-26 10:40:15,487 [NioProcessor-3  ] [INFO ] o.a.m.f.l.LoggingFilter     - CREATED
2012-06-26 10:40:15,487 [NioProcessor-3  ] [INFO ] o.a.m.f.l.LoggingFilter     - OPENED
2012-06-26 10:40:15,627 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2347, Mina session ID 8, identified POS ID null
2012-06-26 10:40:15,627 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 10:40:15,627 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=32 cap=2048: 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20...]
2012-06-26 10:40:15,627 [NioProcessor-3  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 8
2012-06-26 10:40:15,627 [NioProcessor-3  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 10:40:15,627 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 10:40:15,627 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 8
2012-06-26 10:40:15,627 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =32
2012-06-26 10:40:15,627 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 10:40:15,627 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 32, current position: 0
2012-06-26 10:40:15,627 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 10:40:15,627 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}
2012-06-26 10:40:15,627 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 16
2012-06-26 10:40:15,627 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=16, in.remaining=16
2012-06-26 10:40:15,627 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 10:40:15,627 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 5
2012-06-26 10:40:15,627 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 5: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageCodec@187c12a
2012-06-26 10:40:15,627 [NioProcessor-3  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - init request message decode
2012-06-26 10:40:15,627 [NioProcessor-3  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - in.remaining()=16
2012-06-26 10:40:15,627 [NioProcessor-3  ] [TRACE] .m.p.s.m.c.InitMessageCodec - InitRequestMessage: [cmdId=5, posId=pos-0002]
2012-06-26 10:40:15,627 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 10:40:15,627 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 10:40:15,627 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 10:40:15,627 [NioProcessor-3  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 10:40:15,627 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 10:40:15,627 [NioProcessor-3  ] [DEBUG] p.f.SessionKeyMessageFilter - Mina session ID 8: created session key 6d3707978b0647bba9b70af89e6cc2a5
2012-06-26 10:40:15,627 [NioProcessor-3  ] [DEBUG] p.f.SessionKeyMessageFilter - creating session for mina session ID 8 using session ID 6d3707978b0647bba9b70af89e6cc2a5
2012-06-26 10:40:15,627 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 10:40:15,627 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 10:40:15,627 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 10:40:15,627 [NioProcessor-3  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2347, Mina session ID 8, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 10:40:15,627 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 10:40:15,627 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 10:40:15,627 [pool-4-thread-11] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 10:40:15,627 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 10:40:15,627 [NioProcessor-3  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 10:40:15,627 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 10:40:15,627 [pool-4-thread-11] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 10:40:15,627 [pool-4-thread-11] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@a96606 obtained for command ID 5
2012-06-26 10:40:15,627 [pool-4-thread-11] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 5 is com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@a96606
2012-06-26 10:40:15,627 [pool-4-thread-11] [DEBUG] .q.m.p.h.InitCommandHandler - InitCommandHandler======execute==bodyMessage=:  [cmdId=5, posId=pos-0002]
2012-06-26 10:40:15,627 [pool-4-thread-11] [DEBUG] .q.m.l.l.i.LoginManagerImpl - InitResponse() invoke
2012-06-26 10:40:15,627 [pool-4-thread-11] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:ALLOWED
2012-06-26 10:40:15,627 [pool-4-thread-11] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId AND p.ostatus = :ostatus
2012-06-26 10:40:15,627 [pool-4-thread-11] [DEBUG] .q.m.l.l.i.LoginManagerImpl - POS ID:pos-0002, init challenge saved - [106, 109, 101, 102, 100, 76, 113, 116]
2012-06-26 10:40:15,643 [pool-4-thread-11] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 10:40:15,674 [pool-4-thread-11] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 10:40:15,674 [pool-4-thread-11] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 10:40:15,674 [pool-4-thread-11] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 10:40:15,674 [pool-4-thread-11] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 8
2012-06-26 10:40:15,674 [pool-4-thread-11] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (6)
2012-06-26 10:40:15,674 [pool-4-thread-11] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageResponseCodec@bed1fd
2012-06-26 10:40:15,689 [pool-4-thread-11] [DEBUG] .c.InitMessageResponseCodec - init response message encode
2012-06-26 10:40:15,689 [pool-4-thread-11] [TRACE] .c.InitMessageResponseCodec - InitResponseMessage: [cmdId=6, result=0, challenge=[106, 109, 101, 102, 100, 76, 113, 116]]
2012-06-26 10:40:15,689 [pool-4-thread-11] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0x5a46
2012-06-26 10:40:15,689 [pool-4-thread-11] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 10:40:15,689 [pool-4-thread-11] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 5A 46 00 00 00 1E ..........ZF....
00000010 00 00 00 06 00 00 6A 6D 65 66 64 4C 71 74       ......jmefdLqt

2012-06-26 10:40:15,689 [pool-4-thread-11] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 10:40:15,689 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 10:40:15,689 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 10:40:15,689 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 8: not mark to return session ID to client
2012-06-26 10:40:15,689 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 10:40:15,689 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 10:40:15,689 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 10:40:15,908 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2347, Mina session ID 8, identified POS ID pos-0002
2012-06-26 10:40:15,908 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 10 85 00 00 00 30 ...............0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 B8 E5 A7 29 C6 68 42 30 8A 73 43 DF C0 74 B3 D3 ...).hB0.sC..t..

2012-06-26 10:40:15,908 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=48 cap=2048: 00 00 00 01 00 00 00 00 00 00 10 85 00 00 00 30...]
2012-06-26 10:40:15,908 [NioProcessor-3  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 8
2012-06-26 10:40:15,908 [NioProcessor-3  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 10:40:15,908 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 10:40:15,908 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 8
2012-06-26 10:40:15,908 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =48
2012-06-26 10:40:15,908 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 10 85 00 00 00 30 ...............0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 B8 E5 A7 29 C6 68 42 30 8A 73 43 DF C0 74 B3 D3 ...).hB0.sC..t..

2012-06-26 10:40:15,908 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 48, current position: 0
2012-06-26 10:40:15,908 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 10:40:15,908 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x1085} messageSize:{0x30} sessionKey:{null}
2012-06-26 10:40:15,908 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 32
2012-06-26 10:40:15,908 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=32, in.remaining=32
2012-06-26 10:40:15,908 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 10:40:15,908 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 7
2012-06-26 10:40:15,908 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 7: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageCodec@161c9d1
2012-06-26 10:40:15,908 [NioProcessor-3  ] [DEBUG] m.p.s.m.c.LoginMessageCodec - login/bind message decode
2012-06-26 10:40:15,908 [NioProcessor-3  ] [TRACE] m.p.s.m.c.LoginMessageCodec - LoginRequestMessage: [cmdId=7, posId=pos-0002, challengeResponse=[-72, -27, -89, 41, -58, 104, 66, 48, -118, 115, 67, -33, -64, 116, -77, -45]]
2012-06-26 10:40:15,908 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 10:40:15,908 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x1085} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[-72, -27, -89, 41, -58, 104, 66, 48, -118, 115, 67, -33, -64, 116, -77, -45]]
2012-06-26 10:40:15,908 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 10:40:15,908 [NioProcessor-3  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 10:40:15,908 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 10:40:15,908 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 10:40:15,908 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 10:40:15,908 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 10:40:15,908 [NioProcessor-3  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2347, Mina session ID 8, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x1085} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[-72, -27, -89, 41, -58, 104, 66, 48, -118, 115, 67, -33, -64, 116, -77, -45]]
2012-06-26 10:40:15,908 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 10:40:15,908 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 10:40:15,908 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 10:40:15,908 [NioProcessor-3  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 10:40:15,908 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 10:40:15,908 [pool-4-thread-12] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 10:40:15,908 [pool-4-thread-12] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 10:40:15,908 [pool-4-thread-12] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@12f8a84 obtained for command ID 7
2012-06-26 10:40:15,908 [pool-4-thread-12] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 7 is com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@12f8a84
2012-06-26 10:40:15,908 [pool-4-thread-12] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==bodyMessage=: [cmdId=7, posId=pos-0002, challengeResponse=[-72, -27, -89, 41, -58, 104, 66, 48, -118, 115, 67, -33, -64, 116, -77, -45]]
2012-06-26 10:40:15,908 [pool-4-thread-12] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:null
2012-06-26 10:40:15,908 [pool-4-thread-12] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId
2012-06-26 10:40:15,908 [pool-4-thread-12] [TRACE] .q.m.l.l.i.LoginManagerImpl - Loaded from db: pos.posId:pos-0002, pos.secret:000001, oldChallenge:[106, 109, 101, 102, 100, 76, 113, 116]
2012-06-26 10:40:15,908 [pool-4-thread-12] [DEBUG] .q.m.l.l.i.LoginManagerImpl - disableChallengeCheck =0
2012-06-26 10:40:15,908 [pool-4-thread-12] [TRACE] c.c.q.m.l.c.ChallengeUtil   - checking challenge:response:[-72, -27, -89, 41, -58, 104, 66, 48, -118, 115, 67, -33, -64, 116, -77, -45], posKey:000001, random:[106, 109, 101, 102, 100, 76, 113, 116]
2012-06-26 10:40:15,908 [pool-4-thread-12] [DEBUG] .q.m.l.l.i.LoginManagerImpl - new challenge for POS (POS ID): [65, 48, 119, 51, 104, 68, 75, 107]
2012-06-26 10:40:15,908 [pool-4-thread-12] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==serverKey=:JXTPOS
2012-06-26 10:40:15,923 [pool-4-thread-12] [DEBUG] ThreadSafeClientConnManager - Get connection: HttpRoute[{}->http://localhost:7070], timeout = 0
2012-06-26 10:40:15,923 [pool-4-thread-12] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - [HttpRoute[{}->http://localhost:7070]] total kept alive: 0, total issued: 0, total allocated: 0 out of 20
2012-06-26 10:40:15,923 [pool-4-thread-12] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - No free connections [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 10:40:15,923 [pool-4-thread-12] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Available capacity: 2 out of 2 [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 10:40:15,923 [pool-4-thread-12] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Creating new connection [HttpRoute[{}->http://localhost:7070]]
2012-06-26 10:40:15,923 [pool-4-thread-12] [DEBUG] ultClientConnectionOperator - Connecting to localhost:7070
2012-06-26 10:40:17,031 [pool-4-thread-12] [DEBUG] i.c.DefaultClientConnection - Connection closed
2012-06-26 10:40:17,031 [pool-4-thread-12] [DEBUG] i.c.DefaultClientConnection - Connection shut down
2012-06-26 10:40:17,031 [pool-4-thread-12] [DEBUG] ThreadSafeClientConnManager - Released connection is not reusable.
2012-06-26 10:40:17,031 [pool-4-thread-12] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Releasing connection [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 10:40:17,031 [pool-4-thread-12] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Notifying no-one, there are no waiting threads
2012-06-26 10:40:17,031 [pool-4-thread-12] [ERROR] q.m.p.h.LoginCommandHandler - initGrouponCache fail:com.chinarewards.qqgbvpn.qqapi.exception.ParseXMLException: com.chinarewards.qqgbvpn.qqapi.exception.SendPostTimeOutException: org.apache.http.conn.HttpHostConnectException: Connection to http://localhost:7070 refused
2012-06-26 10:40:17,047 [pool-4-thread-12] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 10:40:17,062 [pool-4-thread-12] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 10:40:17,062 [pool-4-thread-12] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 10:40:17,062 [pool-4-thread-12] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 10:40:17,062 [pool-4-thread-12] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 8
2012-06-26 10:40:17,062 [pool-4-thread-12] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (8)
2012-06-26 10:40:17,062 [pool-4-thread-12] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageResponseCodec@54f169
2012-06-26 10:40:17,062 [pool-4-thread-12] [DEBUG] c.LoginMessageResponseCodec - login/bind message encode
2012-06-26 10:40:17,062 [pool-4-thread-12] [TRACE] c.LoginMessageResponseCodec - LoginResponseMessage: [cmdId=8, result=0, challenge=[65, 48, 119, 51, 104, 68, 75, 107]]
2012-06-26 10:40:17,062 [pool-4-thread-12] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0x93c5
2012-06-26 10:40:17,062 [pool-4-thread-12] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 10:40:17,062 [pool-4-thread-12] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 93 C5 00 00 00 1E ................
00000010 00 00 00 08 00 00 41 30 77 33 68 44 4B 6B       ......A0w3hDKk

2012-06-26 10:40:17,062 [pool-4-thread-12] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 10:40:17,062 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 10:40:17,062 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 10:40:17,062 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 8: not mark to return session ID to client
2012-06-26 10:40:17,062 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 10:40:17,062 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 10:40:17,062 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 10:40:17,062 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2347, Mina session ID 8, identified POS ID pos-0002
2012-06-26 10:40:17,062 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 33 of 33 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 D8 04 00 00 00 21 ...............!
00000010 00 00 00 C9 00 0B 31 31 31 31 31 31 31 31 31 31 ......1111111111
00000020 31                                              1

2012-06-26 10:40:17,062 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=33 cap=1024: 00 00 00 10 00 00 00 00 00 00 D8 04 00 00 00 21...]
2012-06-26 10:40:17,062 [NioProcessor-3  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 8
2012-06-26 10:40:17,062 [NioProcessor-3  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 10:40:17,062 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 10:40:17,062 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 8
2012-06-26 10:40:17,062 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =33
2012-06-26 10:40:17,062 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 33 of 33 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 D8 04 00 00 00 21 ...............!
00000010 00 00 00 C9 00 0B 31 31 31 31 31 31 31 31 31 31 ......1111111111
00000020 31                                              1

2012-06-26 10:40:17,062 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 33, current position: 0
2012-06-26 10:40:17,062 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 10:40:17,062 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd804} messageSize:{0x21} sessionKey:{null}
2012-06-26 10:40:17,062 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 17
2012-06-26 10:40:17,062 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=17, in.remaining=17
2012-06-26 10:40:17,062 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 10:40:17,062 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 201
2012-06-26 10:40:17,062 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 201: com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftMessageCodec@b524aa
2012-06-26 10:40:17,062 [NioProcessor-3  ] [DEBUG] m.c.ReceiveGiftMessageCodec - receive gift request message decode
2012-06-26 10:40:17,062 [NioProcessor-3  ] [DEBUG] m.c.ReceiveGiftMessageCodec - in.remaining()=17
2012-06-26 10:40:17,062 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 10:40:17,062 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd804} messageSize:{0x21} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@7a3a30
2012-06-26 10:40:17,062 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 10:40:17,062 [NioProcessor-3  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 10:40:17,062 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 10:40:17,062 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 10:40:17,062 [NioProcessor-3  ] [DEBUG] c.c.q.m.p.f.LoginFilter     - isLogin=true
2012-06-26 10:40:17,062 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 10:40:17,062 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 10:40:17,062 [NioProcessor-3  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2347, Mina session ID 8, identified POS ID pos-0002, message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd804} messageSize:{0x21} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@7a3a30
2012-06-26 10:40:17,062 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 10:40:17,062 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 10:40:17,062 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 10:40:17,062 [NioProcessor-3  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 10:40:17,062 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 10:40:17,062 [pool-4-thread-13] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 10:40:17,062 [pool-4-thread-13] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 10:40:17,062 [pool-4-thread-13] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@172290f obtained for command ID 201
2012-06-26 10:40:17,062 [pool-4-thread-13] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 201 is com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@172290f
2012-06-26 10:40:17,062 [pool-4-thread-13] [DEBUG] h.ReceiveGiftCommandHandler - ReceiveGiftHandler======execute==bodyMessage=: com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@7a3a30
2012-06-26 10:40:17,062 [Finalizer       ] [DEBUG] ThreadSafeClientConnManager - Shutting down
2012-06-26 10:40:17,078 [pool-4-thread-13] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 10:40:17,094 [pool-4-thread-13] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 10:40:17,094 [pool-4-thread-13] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 10:40:17,094 [pool-4-thread-13] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 10:40:17,094 [pool-4-thread-13] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 8
2012-06-26 10:40:17,094 [pool-4-thread-13] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (202)
2012-06-26 10:40:17,094 [pool-4-thread-13] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftResponseMessageCodec@1d590d
2012-06-26 10:40:17,094 [pool-4-thread-13] [DEBUG] iveGiftResponseMessageCodec - receive gift response message encode
2012-06-26 10:40:17,094 [pool-4-thread-13] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0x6bbe
2012-06-26 10:40:17,094 [pool-4-thread-13] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 10:40:17,094 [pool-4-thread-13] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 55 of 55 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 6B BE 00 00 00 37 ..........k....7
00000010 00 00 00 CA 00 00 00 00 07 DC 06 1A 0A 28 11 00 .............(..
00000020 3E 01 E0 00 08 C1 EC C8 A1 C0 F1 C6 B7 00 08 BD >...............
00000030 BB D2 D7 B3 C9 B9 A6                            .......

2012-06-26 10:40:17,094 [pool-4-thread-13] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 10:40:17,094 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 10:40:17,094 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 10:40:17,094 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 8: not mark to return session ID to client
2012-06-26 10:40:17,094 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 10:40:17,094 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 10:40:17,094 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 10:40:17,094 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2347, Mina session ID 8, identified POS ID pos-0002
2012-06-26 10:40:17,094 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 33 of 33 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 D8 04 00 00 00 21 ...............!
00000010 00 00 00 C9 00 0B 31 31 31 31 31 31 31 31 31 31 ......1111111111
00000020 31                                              1

2012-06-26 10:40:17,094 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=33 cap=1024: 00 00 00 10 00 00 00 00 00 00 D8 04 00 00 00 21...]
2012-06-26 10:40:17,094 [NioProcessor-3  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 8
2012-06-26 10:40:17,094 [NioProcessor-3  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 10:40:17,094 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 10:40:17,094 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 8
2012-06-26 10:40:17,094 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =33
2012-06-26 10:40:17,094 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 33 of 33 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 D8 04 00 00 00 21 ...............!
00000010 00 00 00 C9 00 0B 31 31 31 31 31 31 31 31 31 31 ......1111111111
00000020 31                                              1

2012-06-26 10:40:17,094 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 33, current position: 0
2012-06-26 10:40:17,094 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 10:40:17,094 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd804} messageSize:{0x21} sessionKey:{null}
2012-06-26 10:40:17,094 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 17
2012-06-26 10:40:17,094 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=17, in.remaining=17
2012-06-26 10:40:17,094 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 10:40:17,094 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 201
2012-06-26 10:40:17,094 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 201: com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftMessageCodec@10c0fa7
2012-06-26 10:40:17,094 [NioProcessor-3  ] [DEBUG] m.c.ReceiveGiftMessageCodec - receive gift request message decode
2012-06-26 10:40:17,094 [NioProcessor-3  ] [DEBUG] m.c.ReceiveGiftMessageCodec - in.remaining()=17
2012-06-26 10:40:17,094 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 10:40:17,094 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd804} messageSize:{0x21} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@d7a9c9
2012-06-26 10:40:17,094 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 10:40:17,094 [NioProcessor-3  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 10:40:17,094 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 10:40:17,094 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 10:40:17,094 [NioProcessor-3  ] [DEBUG] c.c.q.m.p.f.LoginFilter     - isLogin=true
2012-06-26 10:40:17,094 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 10:40:17,094 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 10:40:17,094 [NioProcessor-3  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2347, Mina session ID 8, identified POS ID pos-0002, message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd804} messageSize:{0x21} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@d7a9c9
2012-06-26 10:40:17,094 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 10:40:17,094 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 10:40:17,094 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 10:40:17,094 [NioProcessor-3  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 10:40:17,094 [pool-4-thread-14] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 10:40:17,094 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 10:40:17,094 [pool-4-thread-14] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 10:40:17,094 [pool-4-thread-14] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@1e852be obtained for command ID 201
2012-06-26 10:40:17,109 [pool-4-thread-14] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 201 is com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@1e852be
2012-06-26 10:40:17,125 [pool-4-thread-14] [DEBUG] h.ReceiveGiftCommandHandler - ReceiveGiftHandler======execute==bodyMessage=: com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@d7a9c9
2012-06-26 10:40:17,125 [pool-4-thread-14] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 10:40:17,125 [pool-4-thread-14] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 10:40:17,125 [pool-4-thread-14] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 10:40:17,125 [pool-4-thread-14] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 10:40:17,125 [pool-4-thread-14] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 8
2012-06-26 10:40:17,125 [pool-4-thread-14] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (202)
2012-06-26 10:40:17,125 [pool-4-thread-14] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftResponseMessageCodec@eeabe8
2012-06-26 10:40:17,125 [pool-4-thread-14] [DEBUG] iveGiftResponseMessageCodec - receive gift response message encode
2012-06-26 10:40:17,125 [pool-4-thread-14] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0xd2a3
2012-06-26 10:40:17,125 [pool-4-thread-14] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 10:40:17,125 [pool-4-thread-14] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 55 of 55 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 D2 A3 00 00 00 37 ...............7
00000010 00 00 00 CA 00 00 00 01 07 DC 06 1A 0A 28 11 00 .............(..
00000020 7D 01 E0 00 08 C1 EC C8 A1 C0 F1 C6 B7 00 08 D2 }...............
00000030 D1 C1 EC C8 A1 B9 FD                            .......

2012-06-26 10:40:17,125 [pool-4-thread-14] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 10:40:17,125 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 10:40:17,125 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 10:40:17,125 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 8: not mark to return session ID to client
2012-06-26 10:40:17,125 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 10:40:17,125 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 10:40:17,125 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 10:40:17,125 [NioProcessor-3  ] [INFO ] o.a.m.f.l.LoggingFilter     - CLOSED
2012-06-26 10:40:17,125 [NioProcessor-3  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 10:40:21,680 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:40:21,680 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:40:21,680 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 10:40:21,680 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 10:40:21,680 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:40:31,680 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:40:31,680 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:40:31,680 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 10:40:31,680 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 10:40:31,680 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:40:41,681 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:40:41,681 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:40:41,681 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 10:40:41,681 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 10:40:41,681 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:40:51,681 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:40:51,681 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:40:51,681 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 10:40:51,681 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 10:40:51,681 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:41:01,712 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:41:01,712 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:41:01,712 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 10:41:01,712 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 10:41:01,712 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:41:11,713 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:41:11,713 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:41:11,713 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 10:41:11,713 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 10:41:11,713 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:41:21,713 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:41:21,713 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:41:21,713 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 10:41:21,713 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 10:41:21,713 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:41:31,713 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:41:31,713 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:41:31,713 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 10:41:31,713 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 10:41:31,713 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:41:32,072 [NioProcessor-1  ] [INFO ] c.c.q.m.p.f.LoggingFilter   - incoming connection from remote address: 127.0.0.1:2353, Mina session ID: 9
2012-06-26 10:41:32,072 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - Currently managed session count: 1
2012-06-26 10:41:32,072 [NioProcessor-1  ] [INFO ] o.a.m.f.l.LoggingFilter     - CREATED
2012-06-26 10:41:32,072 [NioProcessor-1  ] [INFO ] o.a.m.f.l.LoggingFilter     - OPENED
2012-06-26 10:41:32,212 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2353, Mina session ID 9, identified POS ID null
2012-06-26 10:41:32,212 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 10:41:32,212 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=32 cap=2048: 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20...]
2012-06-26 10:41:32,212 [NioProcessor-1  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 9
2012-06-26 10:41:32,212 [NioProcessor-1  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 10:41:32,212 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 10:41:32,212 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 9
2012-06-26 10:41:32,212 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =32
2012-06-26 10:41:32,212 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 10:41:32,212 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 32, current position: 0
2012-06-26 10:41:32,212 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 10:41:32,212 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}
2012-06-26 10:41:32,212 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 16
2012-06-26 10:41:32,212 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=16, in.remaining=16
2012-06-26 10:41:32,228 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 10:41:32,228 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 5
2012-06-26 10:41:32,228 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 5: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageCodec@f04dae
2012-06-26 10:41:32,228 [NioProcessor-1  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - init request message decode
2012-06-26 10:41:32,228 [NioProcessor-1  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - in.remaining()=16
2012-06-26 10:41:32,228 [NioProcessor-1  ] [TRACE] .m.p.s.m.c.InitMessageCodec - InitRequestMessage: [cmdId=5, posId=pos-0002]
2012-06-26 10:41:32,228 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 10:41:32,228 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 10:41:32,228 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 10:41:32,228 [NioProcessor-1  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 10:41:32,228 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 10:41:32,228 [NioProcessor-1  ] [DEBUG] p.f.SessionKeyMessageFilter - Mina session ID 9: created session key e8bf1d573f784d1aa33a0fa75075b0b5
2012-06-26 10:41:32,228 [NioProcessor-1  ] [DEBUG] p.f.SessionKeyMessageFilter - creating session for mina session ID 9 using session ID e8bf1d573f784d1aa33a0fa75075b0b5
2012-06-26 10:41:32,228 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 10:41:32,228 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 10:41:32,228 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 10:41:32,228 [NioProcessor-1  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2353, Mina session ID 9, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 10:41:32,228 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 10:41:32,228 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 10:41:32,228 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 10:41:32,228 [NioProcessor-1  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 10:41:32,228 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 10:41:32,228 [pool-4-thread-15] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 10:41:32,228 [pool-4-thread-15] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 10:41:32,228 [pool-4-thread-15] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@f8ae79 obtained for command ID 5
2012-06-26 10:41:32,228 [pool-4-thread-15] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 5 is com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@f8ae79
2012-06-26 10:41:32,228 [pool-4-thread-15] [DEBUG] .q.m.p.h.InitCommandHandler - InitCommandHandler======execute==bodyMessage=:  [cmdId=5, posId=pos-0002]
2012-06-26 10:41:32,228 [pool-4-thread-15] [DEBUG] .q.m.l.l.i.LoginManagerImpl - InitResponse() invoke
2012-06-26 10:41:32,228 [pool-4-thread-15] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:ALLOWED
2012-06-26 10:41:32,228 [pool-4-thread-15] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId AND p.ostatus = :ostatus
2012-06-26 10:41:32,228 [pool-4-thread-15] [DEBUG] .q.m.l.l.i.LoginManagerImpl - POS ID:pos-0002, init challenge saved - [118, 51, 72, 119, 104, 52, 98, 109]
2012-06-26 10:41:32,228 [pool-4-thread-15] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 10:41:32,259 [pool-4-thread-15] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 10:41:32,259 [pool-4-thread-15] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 10:41:32,259 [pool-4-thread-15] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 10:41:32,259 [pool-4-thread-15] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 9
2012-06-26 10:41:32,259 [pool-4-thread-15] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (6)
2012-06-26 10:41:32,259 [pool-4-thread-15] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageResponseCodec@51630a
2012-06-26 10:41:32,259 [pool-4-thread-15] [DEBUG] .c.InitMessageResponseCodec - init response message encode
2012-06-26 10:41:32,259 [pool-4-thread-15] [TRACE] .c.InitMessageResponseCodec - InitResponseMessage: [cmdId=6, result=0, challenge=[118, 51, 72, 119, 104, 52, 98, 109]]
2012-06-26 10:41:32,259 [pool-4-thread-15] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0x768e
2012-06-26 10:41:32,259 [pool-4-thread-15] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 10:41:32,259 [pool-4-thread-15] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 76 8E 00 00 00 1E ..........v.....
00000010 00 00 00 06 00 00 76 33 48 77 68 34 62 6D       ......v3Hwh4bm

2012-06-26 10:41:32,259 [pool-4-thread-15] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 10:41:32,259 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 10:41:32,259 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 10:41:32,259 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 9: not mark to return session ID to client
2012-06-26 10:41:32,259 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 10:41:32,259 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 10:41:32,259 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 10:41:32,478 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2353, Mina session ID 9, identified POS ID pos-0002
2012-06-26 10:41:32,478 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 E7 C9 00 00 00 30 ...............0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 EA D7 CE 51 66 98 D9 20 18 12 00 34 60 31 62 A4 ...Qf.. ...4`1b.

2012-06-26 10:41:32,478 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=48 cap=2048: 00 00 00 01 00 00 00 00 00 00 E7 C9 00 00 00 30...]
2012-06-26 10:41:32,478 [NioProcessor-1  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 9
2012-06-26 10:41:32,478 [NioProcessor-1  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 10:41:32,478 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 10:41:32,478 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 9
2012-06-26 10:41:32,478 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =48
2012-06-26 10:41:32,478 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 E7 C9 00 00 00 30 ...............0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 EA D7 CE 51 66 98 D9 20 18 12 00 34 60 31 62 A4 ...Qf.. ...4`1b.

2012-06-26 10:41:32,478 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 48, current position: 0
2012-06-26 10:41:32,478 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 10:41:32,478 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xe7c9} messageSize:{0x30} sessionKey:{null}
2012-06-26 10:41:32,478 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 32
2012-06-26 10:41:32,478 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=32, in.remaining=32
2012-06-26 10:41:32,478 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 10:41:32,478 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 7
2012-06-26 10:41:32,478 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 7: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageCodec@30a895
2012-06-26 10:41:32,478 [NioProcessor-1  ] [DEBUG] m.p.s.m.c.LoginMessageCodec - login/bind message decode
2012-06-26 10:41:32,478 [NioProcessor-1  ] [TRACE] m.p.s.m.c.LoginMessageCodec - LoginRequestMessage: [cmdId=7, posId=pos-0002, challengeResponse=[-22, -41, -50, 81, 102, -104, -39, 32, 24, 18, 0, 52, 96, 49, 98, -92]]
2012-06-26 10:41:32,478 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 10:41:32,478 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xe7c9} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[-22, -41, -50, 81, 102, -104, -39, 32, 24, 18, 0, 52, 96, 49, 98, -92]]
2012-06-26 10:41:32,478 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 10:41:32,478 [NioProcessor-1  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 10:41:32,478 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 10:41:32,478 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 10:41:32,478 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 10:41:32,478 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 10:41:32,478 [NioProcessor-1  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2353, Mina session ID 9, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xe7c9} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[-22, -41, -50, 81, 102, -104, -39, 32, 24, 18, 0, 52, 96, 49, 98, -92]]
2012-06-26 10:41:32,493 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 10:41:32,493 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 10:41:32,493 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 10:41:32,493 [NioProcessor-1  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 10:41:32,493 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 10:41:32,493 [pool-4-thread-16] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 10:41:32,493 [pool-4-thread-16] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 10:41:32,493 [pool-4-thread-16] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@145d424 obtained for command ID 7
2012-06-26 10:41:32,493 [pool-4-thread-16] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 7 is com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@145d424
2012-06-26 10:41:32,493 [pool-4-thread-16] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==bodyMessage=: [cmdId=7, posId=pos-0002, challengeResponse=[-22, -41, -50, 81, 102, -104, -39, 32, 24, 18, 0, 52, 96, 49, 98, -92]]
2012-06-26 10:41:32,493 [pool-4-thread-16] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:null
2012-06-26 10:41:32,493 [pool-4-thread-16] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId
2012-06-26 10:41:32,493 [pool-4-thread-16] [TRACE] .q.m.l.l.i.LoginManagerImpl - Loaded from db: pos.posId:pos-0002, pos.secret:000001, oldChallenge:[118, 51, 72, 119, 104, 52, 98, 109]
2012-06-26 10:41:32,493 [pool-4-thread-16] [DEBUG] .q.m.l.l.i.LoginManagerImpl - disableChallengeCheck =0
2012-06-26 10:41:32,493 [pool-4-thread-16] [TRACE] c.c.q.m.l.c.ChallengeUtil   - checking challenge:response:[-22, -41, -50, 81, 102, -104, -39, 32, 24, 18, 0, 52, 96, 49, 98, -92], posKey:000001, random:[118, 51, 72, 119, 104, 52, 98, 109]
2012-06-26 10:41:32,493 [pool-4-thread-16] [DEBUG] .q.m.l.l.i.LoginManagerImpl - new challenge for POS (POS ID): [104, 70, 83, 100, 84, 97, 102, 52]
2012-06-26 10:41:32,493 [pool-4-thread-16] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==serverKey=:JXTPOS
2012-06-26 10:41:32,493 [pool-4-thread-16] [DEBUG] ThreadSafeClientConnManager - Get connection: HttpRoute[{}->http://localhost:7070], timeout = 0
2012-06-26 10:41:32,493 [pool-4-thread-16] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - [HttpRoute[{}->http://localhost:7070]] total kept alive: 0, total issued: 0, total allocated: 0 out of 20
2012-06-26 10:41:32,493 [pool-4-thread-16] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - No free connections [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 10:41:32,493 [pool-4-thread-16] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Available capacity: 2 out of 2 [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 10:41:32,493 [pool-4-thread-16] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Creating new connection [HttpRoute[{}->http://localhost:7070]]
2012-06-26 10:41:32,509 [pool-4-thread-16] [DEBUG] ultClientConnectionOperator - Connecting to localhost:7070
2012-06-26 10:41:33,523 [pool-4-thread-16] [DEBUG] i.c.DefaultClientConnection - Connection closed
2012-06-26 10:41:33,523 [pool-4-thread-16] [DEBUG] i.c.DefaultClientConnection - Connection shut down
2012-06-26 10:41:33,523 [pool-4-thread-16] [DEBUG] ThreadSafeClientConnManager - Released connection is not reusable.
2012-06-26 10:41:33,523 [pool-4-thread-16] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Releasing connection [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 10:41:33,523 [pool-4-thread-16] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Notifying no-one, there are no waiting threads
2012-06-26 10:41:33,523 [pool-4-thread-16] [ERROR] q.m.p.h.LoginCommandHandler - initGrouponCache fail:com.chinarewards.qqgbvpn.qqapi.exception.ParseXMLException: com.chinarewards.qqgbvpn.qqapi.exception.SendPostTimeOutException: org.apache.http.conn.HttpHostConnectException: Connection to http://localhost:7070 refused
2012-06-26 10:41:33,538 [pool-4-thread-16] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 10:41:33,570 [pool-4-thread-16] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 10:41:33,570 [pool-4-thread-16] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 10:41:33,570 [pool-4-thread-16] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 10:41:33,570 [pool-4-thread-16] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 9
2012-06-26 10:41:33,570 [pool-4-thread-16] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (8)
2012-06-26 10:41:33,570 [pool-4-thread-16] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageResponseCodec@fcc13d
2012-06-26 10:41:33,570 [pool-4-thread-16] [DEBUG] c.LoginMessageResponseCodec - login/bind message encode
2012-06-26 10:41:33,570 [pool-4-thread-16] [TRACE] c.LoginMessageResponseCodec - LoginResponseMessage: [cmdId=8, result=0, challenge=[104, 70, 83, 100, 84, 97, 102, 52]]
2012-06-26 10:41:33,570 [pool-4-thread-16] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0x8998
2012-06-26 10:41:33,570 [pool-4-thread-16] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 10:41:33,570 [pool-4-thread-16] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 89 98 00 00 00 1E ................
00000010 00 00 00 08 00 00 68 46 53 64 54 61 66 34       ......hFSdTaf4

2012-06-26 10:41:33,570 [pool-4-thread-16] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 10:41:33,570 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 10:41:33,570 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 10:41:33,570 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 9: not mark to return session ID to client
2012-06-26 10:41:33,570 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 10:41:33,570 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 10:41:33,570 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 10:41:33,570 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2353, Mina session ID 9, identified POS ID pos-0002
2012-06-26 10:41:33,570 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 33 of 33 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 D8 04 00 00 00 21 ...............!
00000010 00 00 00 C9 00 0B 31 31 31 31 31 31 31 31 31 31 ......1111111111
00000020 31                                              1

2012-06-26 10:41:33,570 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=33 cap=1024: 00 00 00 10 00 00 00 00 00 00 D8 04 00 00 00 21...]
2012-06-26 10:41:33,570 [NioProcessor-1  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 9
2012-06-26 10:41:33,570 [NioProcessor-1  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 10:41:33,570 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 10:41:33,570 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 9
2012-06-26 10:41:33,570 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =33
2012-06-26 10:41:33,570 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 33 of 33 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 D8 04 00 00 00 21 ...............!
00000010 00 00 00 C9 00 0B 31 31 31 31 31 31 31 31 31 31 ......1111111111
00000020 31                                              1

2012-06-26 10:41:33,570 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 33, current position: 0
2012-06-26 10:41:33,570 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 10:41:33,570 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd804} messageSize:{0x21} sessionKey:{null}
2012-06-26 10:41:33,570 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 17
2012-06-26 10:41:33,570 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=17, in.remaining=17
2012-06-26 10:41:33,570 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 10:41:33,570 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 201
2012-06-26 10:41:33,570 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 201: com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftMessageCodec@1f2bc83
2012-06-26 10:41:33,570 [NioProcessor-1  ] [DEBUG] m.c.ReceiveGiftMessageCodec - receive gift request message decode
2012-06-26 10:41:33,570 [NioProcessor-1  ] [DEBUG] m.c.ReceiveGiftMessageCodec - in.remaining()=17
2012-06-26 10:41:33,570 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 10:41:33,570 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd804} messageSize:{0x21} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@1364ee5
2012-06-26 10:41:33,570 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 10:41:33,570 [NioProcessor-1  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 10:41:33,570 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 10:41:33,570 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 10:41:33,570 [NioProcessor-1  ] [DEBUG] c.c.q.m.p.f.LoginFilter     - isLogin=true
2012-06-26 10:41:33,570 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 10:41:33,570 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 10:41:33,570 [NioProcessor-1  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2353, Mina session ID 9, identified POS ID pos-0002, message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd804} messageSize:{0x21} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@1364ee5
2012-06-26 10:41:33,570 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 10:41:33,570 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 10:41:33,570 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 10:41:33,570 [NioProcessor-1  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 10:41:33,570 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 10:41:33,570 [pool-4-thread-17] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 10:41:33,570 [pool-4-thread-17] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 10:41:33,570 [pool-4-thread-17] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@10e0eb5 obtained for command ID 201
2012-06-26 10:41:33,570 [pool-4-thread-17] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 201 is com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@10e0eb5
2012-06-26 10:41:33,570 [pool-4-thread-17] [DEBUG] h.ReceiveGiftCommandHandler - ReceiveGiftHandler======execute==bodyMessage=: com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@1364ee5
2012-06-26 10:41:33,570 [pool-4-thread-17] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 10:41:33,601 [pool-4-thread-17] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 10:41:33,601 [pool-4-thread-17] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 10:41:33,601 [pool-4-thread-17] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 10:41:33,601 [pool-4-thread-17] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 9
2012-06-26 10:41:33,601 [pool-4-thread-17] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (202)
2012-06-26 10:41:33,601 [pool-4-thread-17] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftResponseMessageCodec@b1cb25
2012-06-26 10:41:33,601 [pool-4-thread-17] [DEBUG] iveGiftResponseMessageCodec - receive gift response message encode
2012-06-26 10:41:33,601 [pool-4-thread-17] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0x5fbb
2012-06-26 10:41:33,601 [pool-4-thread-17] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 10:41:33,601 [pool-4-thread-17] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 55 of 55 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 5F BB 00 00 00 37 .........._....7
00000010 00 00 00 CA 00 00 00 00 07 DC 06 1A 0A 29 21 02 .............)!.
00000020 3A 01 E0 00 08 C1 EC C8 A1 C0 F1 C6 B7 00 08 BD :...............
00000030 BB D2 D7 B3 C9 B9 A6                            .......

2012-06-26 10:41:33,601 [pool-4-thread-17] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 10:41:33,601 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 10:41:33,601 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 10:41:33,601 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 9: not mark to return session ID to client
2012-06-26 10:41:33,601 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 10:41:33,601 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 10:41:33,601 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 10:41:33,601 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2353, Mina session ID 9, identified POS ID pos-0002
2012-06-26 10:41:33,601 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 33 of 33 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 D8 04 00 00 00 21 ...............!
00000010 00 00 00 C9 00 0B 31 31 31 31 31 31 31 31 31 31 ......1111111111
00000020 31                                              1

2012-06-26 10:41:33,601 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=33 cap=1024: 00 00 00 10 00 00 00 00 00 00 D8 04 00 00 00 21...]
2012-06-26 10:41:33,601 [NioProcessor-1  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 9
2012-06-26 10:41:33,601 [NioProcessor-1  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 10:41:33,601 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 10:41:33,601 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 9
2012-06-26 10:41:33,601 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =33
2012-06-26 10:41:33,601 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 33 of 33 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 D8 04 00 00 00 21 ...............!
00000010 00 00 00 C9 00 0B 31 31 31 31 31 31 31 31 31 31 ......1111111111
00000020 31                                              1

2012-06-26 10:41:33,601 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 33, current position: 0
2012-06-26 10:41:33,601 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 10:41:33,601 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd804} messageSize:{0x21} sessionKey:{null}
2012-06-26 10:41:33,601 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 17
2012-06-26 10:41:33,601 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=17, in.remaining=17
2012-06-26 10:41:33,601 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 10:41:33,601 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 201
2012-06-26 10:41:33,601 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 201: com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftMessageCodec@9021e3
2012-06-26 10:41:33,601 [NioProcessor-1  ] [DEBUG] m.c.ReceiveGiftMessageCodec - receive gift request message decode
2012-06-26 10:41:33,601 [NioProcessor-1  ] [DEBUG] m.c.ReceiveGiftMessageCodec - in.remaining()=17
2012-06-26 10:41:33,601 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 10:41:33,601 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd804} messageSize:{0x21} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@a0c486
2012-06-26 10:41:33,601 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 10:41:33,601 [NioProcessor-1  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 10:41:33,601 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 10:41:33,601 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 10:41:33,601 [NioProcessor-1  ] [DEBUG] c.c.q.m.p.f.LoginFilter     - isLogin=true
2012-06-26 10:41:33,601 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 10:41:33,601 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 10:41:33,601 [NioProcessor-1  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2353, Mina session ID 9, identified POS ID pos-0002, message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd804} messageSize:{0x21} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@a0c486
2012-06-26 10:41:33,632 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 10:41:33,632 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 10:41:33,632 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 10:41:33,632 [NioProcessor-1  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 10:41:33,632 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 10:41:33,632 [pool-4-thread-18] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 10:41:33,632 [pool-4-thread-18] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 10:41:33,632 [Finalizer       ] [DEBUG] ThreadSafeClientConnManager - Shutting down
2012-06-26 10:41:33,632 [pool-4-thread-18] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@1289e48 obtained for command ID 201
2012-06-26 10:41:33,632 [pool-4-thread-18] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 201 is com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@1289e48
2012-06-26 10:41:33,632 [pool-4-thread-18] [DEBUG] h.ReceiveGiftCommandHandler - ReceiveGiftHandler======execute==bodyMessage=: com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@a0c486
2012-06-26 10:41:33,632 [pool-4-thread-18] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 10:41:33,632 [pool-4-thread-18] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 10:41:33,632 [pool-4-thread-18] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 10:41:33,632 [pool-4-thread-18] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 10:41:33,632 [pool-4-thread-18] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 9
2012-06-26 10:41:33,632 [pool-4-thread-18] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (202)
2012-06-26 10:41:33,632 [pool-4-thread-18] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftResponseMessageCodec@6743e2
2012-06-26 10:41:33,632 [pool-4-thread-18] [DEBUG] iveGiftResponseMessageCodec - receive gift response message encode
2012-06-26 10:41:33,632 [pool-4-thread-18] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0xc7a0
2012-06-26 10:41:33,632 [pool-4-thread-18] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 10:41:33,632 [pool-4-thread-18] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 55 of 55 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 C7 A0 00 00 00 37 ...............7
00000010 00 00 00 CA 00 00 00 01 07 DC 06 1A 0A 29 21 02 .............)!.
00000020 78 01 E0 00 08 C1 EC C8 A1 C0 F1 C6 B7 00 08 D2 x...............
00000030 D1 C1 EC C8 A1 B9 FD                            .......

2012-06-26 10:41:33,632 [pool-4-thread-18] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 10:41:33,632 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 10:41:33,632 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 10:41:33,632 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 9: not mark to return session ID to client
2012-06-26 10:41:33,632 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 10:41:33,632 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 10:41:33,632 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 10:41:33,632 [NioProcessor-1  ] [INFO ] o.a.m.f.l.LoggingFilter     - CLOSED
2012-06-26 10:41:33,632 [NioProcessor-1  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 10:41:41,760 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:41:41,760 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:41:41,760 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 10:41:41,760 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=3
2012-06-26 10:41:41,760 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:41:51,760 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:41:51,760 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:41:51,760 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 10:41:51,760 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=3
2012-06-26 10:41:51,760 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:42:01,761 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:42:01,761 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:42:01,761 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 10:42:01,761 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=3
2012-06-26 10:42:01,761 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:42:11,776 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:42:11,776 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:42:11,776 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 10:42:11,776 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=3
2012-06-26 10:42:11,776 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:42:21,777 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:42:21,777 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:42:21,777 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 10:42:21,777 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=3
2012-06-26 10:42:21,777 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:42:31,777 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:42:31,777 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:42:31,777 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 10:42:31,777 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=3
2012-06-26 10:42:31,777 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:42:41,777 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:42:41,777 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:42:41,777 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 10:42:41,777 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 10:42:41,777 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:42:51,777 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:42:51,777 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:42:51,777 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 10:42:51,777 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 10:42:51,777 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:43:01,778 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:43:01,778 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:43:01,778 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 10:43:01,778 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 10:43:01,778 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:43:11,794 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:43:11,794 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:43:11,794 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 10:43:11,794 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 10:43:11,794 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:43:21,794 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:43:21,794 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:43:21,794 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 10:43:21,794 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 10:43:21,794 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:43:31,810 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:43:31,810 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:43:31,810 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 10:43:31,810 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 10:43:31,810 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:43:41,810 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:43:41,810 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:43:41,810 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 10:43:41,810 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 10:43:41,810 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:43:51,810 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:43:51,810 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:43:51,810 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 10:43:51,810 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 10:43:51,810 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:44:01,810 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:44:01,810 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:44:01,810 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 10:44:01,810 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 10:44:01,810 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:44:11,811 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:44:11,811 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:44:11,811 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 10:44:11,811 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 10:44:11,811 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:44:21,811 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:44:21,811 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:44:21,811 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 10:44:21,811 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 10:44:21,811 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:44:31,811 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:44:31,811 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:44:31,811 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 10:44:31,811 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 10:44:31,811 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:44:41,811 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:44:41,811 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:44:41,811 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 10:44:41,811 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 10:44:41,811 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:44:51,812 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:44:51,812 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:44:51,812 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 10:44:51,812 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 10:44:51,812 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:45:01,812 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:45:01,812 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:45:01,812 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 10:45:01,812 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 10:45:01,812 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:45:11,828 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:45:11,828 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:45:11,828 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 10:45:11,828 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 10:45:11,828 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:45:20,876 [NioProcessor-2  ] [INFO ] c.c.q.m.p.f.LoggingFilter   - incoming connection from remote address: 127.0.0.1:2371, Mina session ID: 10
2012-06-26 10:45:20,876 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - Currently managed session count: 1
2012-06-26 10:45:20,876 [NioProcessor-2  ] [INFO ] o.a.m.f.l.LoggingFilter     - CREATED
2012-06-26 10:45:20,876 [NioProcessor-2  ] [INFO ] o.a.m.f.l.LoggingFilter     - OPENED
2012-06-26 10:45:20,876 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2371, Mina session ID 10, identified POS ID null
2012-06-26 10:45:20,876 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 10:45:20,876 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=32 cap=2048: 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20...]
2012-06-26 10:45:20,876 [NioProcessor-2  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 10
2012-06-26 10:45:20,876 [NioProcessor-2  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 10:45:20,876 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 10:45:20,876 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 10
2012-06-26 10:45:20,876 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =32
2012-06-26 10:45:20,876 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 10:45:20,876 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 32, current position: 0
2012-06-26 10:45:20,876 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 10:45:20,876 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}
2012-06-26 10:45:20,876 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 16
2012-06-26 10:45:20,876 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=16, in.remaining=16
2012-06-26 10:45:20,876 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 10:45:20,876 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 5
2012-06-26 10:45:20,876 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 5: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageCodec@1e514a9
2012-06-26 10:45:20,876 [NioProcessor-2  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - init request message decode
2012-06-26 10:45:20,876 [NioProcessor-2  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - in.remaining()=16
2012-06-26 10:45:20,876 [NioProcessor-2  ] [TRACE] .m.p.s.m.c.InitMessageCodec - InitRequestMessage: [cmdId=5, posId=pos-0002]
2012-06-26 10:45:20,876 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 10:45:20,876 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 10:45:20,876 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 10:45:20,876 [NioProcessor-2  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 10:45:20,876 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 10:45:20,876 [NioProcessor-2  ] [DEBUG] p.f.SessionKeyMessageFilter - Mina session ID 10: created session key 3abc368463fa4e01ad8fc7e84ea91ce9
2012-06-26 10:45:20,876 [NioProcessor-2  ] [DEBUG] p.f.SessionKeyMessageFilter - creating session for mina session ID 10 using session ID 3abc368463fa4e01ad8fc7e84ea91ce9
2012-06-26 10:45:20,876 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 10:45:20,876 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 10:45:20,876 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 10:45:20,876 [NioProcessor-2  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2371, Mina session ID 10, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 10:45:20,876 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 10:45:20,876 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 10:45:20,876 [pool-4-thread-19] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 10:45:20,876 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 10:45:20,876 [NioProcessor-2  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 10:45:20,876 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 10:45:20,876 [pool-4-thread-19] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 10:45:20,876 [pool-4-thread-19] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@4ca42b obtained for command ID 5
2012-06-26 10:45:20,876 [pool-4-thread-19] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 5 is com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@4ca42b
2012-06-26 10:45:20,876 [pool-4-thread-19] [DEBUG] .q.m.p.h.InitCommandHandler - InitCommandHandler======execute==bodyMessage=:  [cmdId=5, posId=pos-0002]
2012-06-26 10:45:20,876 [pool-4-thread-19] [DEBUG] .q.m.l.l.i.LoginManagerImpl - InitResponse() invoke
2012-06-26 10:45:20,876 [pool-4-thread-19] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:ALLOWED
2012-06-26 10:45:20,876 [pool-4-thread-19] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId AND p.ostatus = :ostatus
2012-06-26 10:45:20,892 [pool-4-thread-19] [DEBUG] .q.m.l.l.i.LoginManagerImpl - POS ID:pos-0002, init challenge saved - [85, 112, 103, 72, 54, 78, 107, 70]
2012-06-26 10:45:20,892 [pool-4-thread-19] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 10:45:20,908 [pool-4-thread-19] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 10:45:20,908 [pool-4-thread-19] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 10:45:20,908 [pool-4-thread-19] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 10:45:20,908 [pool-4-thread-19] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 10
2012-06-26 10:45:20,908 [pool-4-thread-19] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (6)
2012-06-26 10:45:20,908 [pool-4-thread-19] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageResponseCodec@1c5a33b
2012-06-26 10:45:20,908 [pool-4-thread-19] [DEBUG] .c.InitMessageResponseCodec - init response message encode
2012-06-26 10:45:20,908 [pool-4-thread-19] [TRACE] .c.InitMessageResponseCodec - InitResponseMessage: [cmdId=6, result=0, challenge=[85, 112, 103, 72, 54, 78, 107, 70]]
2012-06-26 10:45:20,908 [pool-4-thread-19] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0xa18d
2012-06-26 10:45:20,923 [pool-4-thread-19] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 10:45:20,923 [pool-4-thread-19] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 A1 8D 00 00 00 1E ................
00000010 00 00 00 06 00 00 55 70 67 48 36 4E 6B 46       ......UpgH6NkF

2012-06-26 10:45:20,923 [pool-4-thread-19] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 10:45:20,923 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 10:45:20,923 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 10:45:20,923 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 10: not mark to return session ID to client
2012-06-26 10:45:20,923 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 10:45:20,923 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 10:45:20,923 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 10:45:21,142 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2371, Mina session ID 10, identified POS ID pos-0002
2012-06-26 10:45:21,142 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 30 6B 00 00 00 30 ..........0k...0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 71 26 D1 D8 DD 9E 51 C5 68 30 FD AE AE E7 04 33 q&....Q.h0.....3

2012-06-26 10:45:21,142 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=48 cap=2048: 00 00 00 01 00 00 00 00 00 00 30 6B 00 00 00 30...]
2012-06-26 10:45:21,142 [NioProcessor-2  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 10
2012-06-26 10:45:21,142 [NioProcessor-2  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 10:45:21,142 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 10:45:21,142 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 10
2012-06-26 10:45:21,142 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =48
2012-06-26 10:45:21,142 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 30 6B 00 00 00 30 ..........0k...0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 71 26 D1 D8 DD 9E 51 C5 68 30 FD AE AE E7 04 33 q&....Q.h0.....3

2012-06-26 10:45:21,142 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 48, current position: 0
2012-06-26 10:45:21,142 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 10:45:21,142 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x306b} messageSize:{0x30} sessionKey:{null}
2012-06-26 10:45:21,142 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 32
2012-06-26 10:45:21,142 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=32, in.remaining=32
2012-06-26 10:45:21,142 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 10:45:21,142 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 7
2012-06-26 10:45:21,142 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 7: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageCodec@14c02d4
2012-06-26 10:45:21,142 [NioProcessor-2  ] [DEBUG] m.p.s.m.c.LoginMessageCodec - login/bind message decode
2012-06-26 10:45:21,142 [NioProcessor-2  ] [TRACE] m.p.s.m.c.LoginMessageCodec - LoginRequestMessage: [cmdId=7, posId=pos-0002, challengeResponse=[113, 38, -47, -40, -35, -98, 81, -59, 104, 48, -3, -82, -82, -25, 4, 51]]
2012-06-26 10:45:21,142 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 10:45:21,142 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x306b} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[113, 38, -47, -40, -35, -98, 81, -59, 104, 48, -3, -82, -82, -25, 4, 51]]
2012-06-26 10:45:21,142 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 10:45:21,142 [NioProcessor-2  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 10:45:21,142 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 10:45:21,142 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 10:45:21,142 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 10:45:21,142 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 10:45:21,142 [NioProcessor-2  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2371, Mina session ID 10, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x306b} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[113, 38, -47, -40, -35, -98, 81, -59, 104, 48, -3, -82, -82, -25, 4, 51]]
2012-06-26 10:45:21,142 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 10:45:21,142 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 10:45:21,142 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 10:45:21,142 [NioProcessor-2  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 10:45:21,142 [pool-4-thread-20] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 10:45:21,142 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 10:45:21,142 [pool-4-thread-20] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 10:45:21,142 [pool-4-thread-20] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@e64795 obtained for command ID 7
2012-06-26 10:45:21,142 [pool-4-thread-20] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 7 is com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@e64795
2012-06-26 10:45:21,142 [pool-4-thread-20] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==bodyMessage=: [cmdId=7, posId=pos-0002, challengeResponse=[113, 38, -47, -40, -35, -98, 81, -59, 104, 48, -3, -82, -82, -25, 4, 51]]
2012-06-26 10:45:21,142 [pool-4-thread-20] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:null
2012-06-26 10:45:21,142 [pool-4-thread-20] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId
2012-06-26 10:45:21,142 [pool-4-thread-20] [TRACE] .q.m.l.l.i.LoginManagerImpl - Loaded from db: pos.posId:pos-0002, pos.secret:000001, oldChallenge:[85, 112, 103, 72, 54, 78, 107, 70]
2012-06-26 10:45:21,142 [pool-4-thread-20] [DEBUG] .q.m.l.l.i.LoginManagerImpl - disableChallengeCheck =0
2012-06-26 10:45:21,142 [pool-4-thread-20] [TRACE] c.c.q.m.l.c.ChallengeUtil   - checking challenge:response:[113, 38, -47, -40, -35, -98, 81, -59, 104, 48, -3, -82, -82, -25, 4, 51], posKey:000001, random:[85, 112, 103, 72, 54, 78, 107, 70]
2012-06-26 10:45:21,142 [pool-4-thread-20] [DEBUG] .q.m.l.l.i.LoginManagerImpl - new challenge for POS (POS ID): [71, 98, 88, 65, 120, 116, 71, 54]
2012-06-26 10:45:21,142 [pool-4-thread-20] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==serverKey=:JXTPOS
2012-06-26 10:45:21,157 [pool-4-thread-20] [DEBUG] ThreadSafeClientConnManager - Get connection: HttpRoute[{}->http://localhost:7070], timeout = 0
2012-06-26 10:45:21,157 [pool-4-thread-20] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - [HttpRoute[{}->http://localhost:7070]] total kept alive: 0, total issued: 0, total allocated: 0 out of 20
2012-06-26 10:45:21,157 [pool-4-thread-20] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - No free connections [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 10:45:21,157 [pool-4-thread-20] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Available capacity: 2 out of 2 [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 10:45:21,157 [pool-4-thread-20] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Creating new connection [HttpRoute[{}->http://localhost:7070]]
2012-06-26 10:45:21,157 [pool-4-thread-20] [DEBUG] ultClientConnectionOperator - Connecting to localhost:7070
2012-06-26 10:45:21,813 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:45:21,813 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:45:21,813 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 10:45:21,813 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 10:45:21,813 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:45:22,078 [pool-4-thread-20] [DEBUG] i.c.DefaultClientConnection - Connection closed
2012-06-26 10:45:22,078 [pool-4-thread-20] [DEBUG] i.c.DefaultClientConnection - Connection shut down
2012-06-26 10:45:22,078 [pool-4-thread-20] [DEBUG] ThreadSafeClientConnManager - Released connection is not reusable.
2012-06-26 10:45:22,078 [pool-4-thread-20] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Releasing connection [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 10:45:22,078 [pool-4-thread-20] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Notifying no-one, there are no waiting threads
2012-06-26 10:45:22,078 [pool-4-thread-20] [ERROR] q.m.p.h.LoginCommandHandler - initGrouponCache fail:com.chinarewards.qqgbvpn.qqapi.exception.ParseXMLException: com.chinarewards.qqgbvpn.qqapi.exception.SendPostTimeOutException: org.apache.http.conn.HttpHostConnectException: Connection to http://localhost:7070 refused
2012-06-26 10:45:22,078 [pool-4-thread-20] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 10:45:22,140 [pool-4-thread-20] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 10:45:22,140 [pool-4-thread-20] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 10:45:22,140 [pool-4-thread-20] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 10:45:22,140 [pool-4-thread-20] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 10
2012-06-26 10:45:22,140 [pool-4-thread-20] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (8)
2012-06-26 10:45:22,140 [pool-4-thread-20] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageResponseCodec@ed3b53
2012-06-26 10:45:22,140 [pool-4-thread-20] [DEBUG] c.LoginMessageResponseCodec - login/bind message encode
2012-06-26 10:45:22,140 [pool-4-thread-20] [TRACE] c.LoginMessageResponseCodec - LoginResponseMessage: [cmdId=8, result=0, challenge=[71, 98, 88, 65, 120, 116, 71, 54]]
2012-06-26 10:45:22,140 [pool-4-thread-20] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0xa08a
2012-06-26 10:45:22,140 [pool-4-thread-20] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 10:45:22,140 [pool-4-thread-20] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 A0 8A 00 00 00 1E ................
00000010 00 00 00 08 00 00 47 62 58 41 78 74 47 36       ......GbXAxtG6

2012-06-26 10:45:22,140 [pool-4-thread-20] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 10:45:22,140 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 10:45:22,140 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 10:45:22,140 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 10: not mark to return session ID to client
2012-06-26 10:45:22,140 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 10:45:22,140 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 10:45:22,140 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 10:45:22,140 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2371, Mina session ID 10, identified POS ID pos-0002
2012-06-26 10:45:22,140 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 33 of 33 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 D1 FF 00 00 00 21 ...............!
00000010 00 00 00 C9 00 0B 32 32 32 32 32 32 32 32 32 32 ......2222222222
00000020 32                                              2

2012-06-26 10:45:22,140 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=33 cap=1024: 00 00 00 10 00 00 00 00 00 00 D1 FF 00 00 00 21...]
2012-06-26 10:45:22,140 [NioProcessor-2  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 10
2012-06-26 10:45:22,140 [NioProcessor-2  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 10:45:22,140 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 10:45:22,140 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 10
2012-06-26 10:45:22,140 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =33
2012-06-26 10:45:22,140 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 33 of 33 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 D1 FF 00 00 00 21 ...............!
00000010 00 00 00 C9 00 0B 32 32 32 32 32 32 32 32 32 32 ......2222222222
00000020 32                                              2

2012-06-26 10:45:22,140 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 33, current position: 0
2012-06-26 10:45:22,140 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 10:45:22,140 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd1ff} messageSize:{0x21} sessionKey:{null}
2012-06-26 10:45:22,140 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 17
2012-06-26 10:45:22,140 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=17, in.remaining=17
2012-06-26 10:45:22,140 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 10:45:22,140 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 201
2012-06-26 10:45:22,140 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 201: com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftMessageCodec@d1f0ad
2012-06-26 10:45:22,140 [NioProcessor-2  ] [DEBUG] m.c.ReceiveGiftMessageCodec - receive gift request message decode
2012-06-26 10:45:22,140 [NioProcessor-2  ] [DEBUG] m.c.ReceiveGiftMessageCodec - in.remaining()=17
2012-06-26 10:45:22,140 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 10:45:22,140 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd1ff} messageSize:{0x21} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@110195c
2012-06-26 10:45:22,140 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 10:45:22,140 [NioProcessor-2  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 10:45:22,140 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 10:45:22,140 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 10:45:22,140 [NioProcessor-2  ] [DEBUG] c.c.q.m.p.f.LoginFilter     - isLogin=true
2012-06-26 10:45:22,140 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 10:45:22,140 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 10:45:22,140 [NioProcessor-2  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2371, Mina session ID 10, identified POS ID pos-0002, message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd1ff} messageSize:{0x21} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@110195c
2012-06-26 10:45:22,140 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 10:45:22,140 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 10:45:22,140 [pool-4-thread-1 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 10:45:22,140 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 10:45:22,140 [NioProcessor-2  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 10:45:22,140 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 10:45:22,140 [pool-4-thread-1 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 10:45:22,140 [pool-4-thread-1 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@18e1b obtained for command ID 201
2012-06-26 10:45:22,140 [pool-4-thread-1 ] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 201 is com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@18e1b
2012-06-26 10:45:22,140 [pool-4-thread-1 ] [DEBUG] h.ReceiveGiftCommandHandler - ReceiveGiftHandler======execute==bodyMessage=: com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@110195c
2012-06-26 10:45:22,140 [pool-4-thread-1 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 10:45:22,140 [pool-4-thread-1 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 10:45:22,140 [pool-4-thread-1 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 10:45:22,140 [pool-4-thread-1 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 10:45:22,140 [pool-4-thread-1 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 10
2012-06-26 10:45:22,140 [pool-4-thread-1 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (202)
2012-06-26 10:45:22,140 [pool-4-thread-1 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftResponseMessageCodec@1eb139e
2012-06-26 10:45:22,140 [pool-4-thread-1 ] [DEBUG] iveGiftResponseMessageCodec - receive gift response message encode
2012-06-26 10:45:22,140 [pool-4-thread-1 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0xbe9e
2012-06-26 10:45:22,140 [pool-4-thread-1 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 10:45:22,140 [pool-4-thread-1 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 55 of 55 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 BE 9E 00 00 00 37 ...............7
00000010 00 00 00 CA 00 00 00 01 07 DC 06 1A 0A 2D 16 00 .............-..
00000020 8C 01 E0 00 08 C1 EC C8 A1 C0 F1 C6 B7 00 08 D2 ................
00000030 D1 C1 EC C8 A1 B9 FD                            .......

2012-06-26 10:45:22,140 [pool-4-thread-1 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 10:45:22,140 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 10:45:22,140 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 10:45:22,140 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 10: not mark to return session ID to client
2012-06-26 10:45:22,140 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 10:45:22,156 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 10:45:22,156 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 10:45:22,156 [NioProcessor-2  ] [INFO ] o.a.m.f.l.LoggingFilter     - CLOSED
2012-06-26 10:45:22,156 [NioProcessor-2  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 10:45:31,797 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:45:31,797 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:45:31,797 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 10:45:31,797 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 10:45:31,797 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:45:41,782 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:45:41,782 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:45:41,782 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 10:45:41,782 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 10:45:41,782 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:45:50,394 [NioProcessor-3  ] [INFO ] c.c.q.m.p.f.LoggingFilter   - incoming connection from remote address: 127.0.0.1:2375, Mina session ID: 11
2012-06-26 10:45:50,394 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - Currently managed session count: 1
2012-06-26 10:45:50,394 [NioProcessor-3  ] [INFO ] o.a.m.f.l.LoggingFilter     - CREATED
2012-06-26 10:45:50,394 [NioProcessor-3  ] [INFO ] o.a.m.f.l.LoggingFilter     - OPENED
2012-06-26 10:45:50,394 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2375, Mina session ID 11, identified POS ID null
2012-06-26 10:45:50,394 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 10:45:50,394 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=32 cap=2048: 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20...]
2012-06-26 10:45:50,394 [NioProcessor-3  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 11
2012-06-26 10:45:50,394 [NioProcessor-3  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 10:45:50,394 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 10:45:50,394 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 11
2012-06-26 10:45:50,394 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =32
2012-06-26 10:45:50,394 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 10:45:50,394 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 32, current position: 0
2012-06-26 10:45:50,394 [Finalizer       ] [DEBUG] ThreadSafeClientConnManager - Shutting down
2012-06-26 10:45:50,394 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 10:45:50,394 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}
2012-06-26 10:45:50,394 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 16
2012-06-26 10:45:50,394 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=16, in.remaining=16
2012-06-26 10:45:50,394 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 10:45:50,394 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 5
2012-06-26 10:45:50,394 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 5: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageCodec@13e3940
2012-06-26 10:45:50,394 [NioProcessor-3  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - init request message decode
2012-06-26 10:45:50,394 [NioProcessor-3  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - in.remaining()=16
2012-06-26 10:45:50,394 [NioProcessor-3  ] [TRACE] .m.p.s.m.c.InitMessageCodec - InitRequestMessage: [cmdId=5, posId=pos-0002]
2012-06-26 10:45:50,394 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 10:45:50,394 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 10:45:50,394 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 10:45:50,394 [NioProcessor-3  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 10:45:50,394 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 10:45:50,394 [NioProcessor-3  ] [DEBUG] p.f.SessionKeyMessageFilter - Mina session ID 11: created session key e851b56497894dfcab7f9f1e3b608f81
2012-06-26 10:45:50,394 [NioProcessor-3  ] [DEBUG] p.f.SessionKeyMessageFilter - creating session for mina session ID 11 using session ID e851b56497894dfcab7f9f1e3b608f81
2012-06-26 10:45:50,394 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 10:45:50,394 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 10:45:50,394 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 10:45:50,394 [NioProcessor-3  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2375, Mina session ID 11, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 10:45:50,394 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 10:45:50,394 [pool-4-thread-2 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 10:45:50,394 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 10:45:50,394 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 10:45:50,394 [NioProcessor-3  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 10:45:50,394 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 10:45:50,394 [pool-4-thread-2 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 10:45:50,394 [pool-4-thread-2 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@155e3ab obtained for command ID 5
2012-06-26 10:45:50,394 [pool-4-thread-2 ] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 5 is com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@155e3ab
2012-06-26 10:45:50,394 [pool-4-thread-2 ] [DEBUG] .q.m.p.h.InitCommandHandler - InitCommandHandler======execute==bodyMessage=:  [cmdId=5, posId=pos-0002]
2012-06-26 10:45:50,394 [pool-4-thread-2 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - InitResponse() invoke
2012-06-26 10:45:50,394 [pool-4-thread-2 ] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:ALLOWED
2012-06-26 10:45:50,394 [pool-4-thread-2 ] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId AND p.ostatus = :ostatus
2012-06-26 10:45:50,394 [pool-4-thread-2 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - POS ID:pos-0002, init challenge saved - [112, 97, 116, 118, 74, 111, 87, 115]
2012-06-26 10:45:50,410 [pool-4-thread-2 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 10:45:50,441 [pool-4-thread-2 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 10:45:50,441 [pool-4-thread-2 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 10:45:50,441 [pool-4-thread-2 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 10:45:50,441 [pool-4-thread-2 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 11
2012-06-26 10:45:50,441 [pool-4-thread-2 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (6)
2012-06-26 10:45:50,441 [pool-4-thread-2 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageResponseCodec@33c78b
2012-06-26 10:45:50,441 [pool-4-thread-2 ] [DEBUG] .c.InitMessageResponseCodec - init response message encode
2012-06-26 10:45:50,441 [pool-4-thread-2 ] [TRACE] .c.InitMessageResponseCodec - InitResponseMessage: [cmdId=6, result=0, challenge=[112, 97, 116, 118, 74, 111, 87, 115]]
2012-06-26 10:45:50,441 [pool-4-thread-2 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0x7920
2012-06-26 10:45:50,441 [pool-4-thread-2 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 10:45:50,441 [pool-4-thread-2 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 79 20 00 00 00 1E ..........y ....
00000010 00 00 00 06 00 00 70 61 74 76 4A 6F 57 73       ......patvJoWs

2012-06-26 10:45:50,441 [pool-4-thread-2 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 10:45:50,441 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 10:45:50,441 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 10:45:50,441 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 11: not mark to return session ID to client
2012-06-26 10:45:50,441 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 10:45:50,441 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 10:45:50,441 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 10:45:50,660 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2375, Mina session ID 11, identified POS ID pos-0002
2012-06-26 10:45:50,660 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 72 BF 00 00 00 30 ..........r....0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 94 20 48 EA 33 DC 80 8A C3 2F E3 5A 95 99 7B 73 . H.3..../.Z..{s

2012-06-26 10:45:50,660 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=48 cap=2048: 00 00 00 01 00 00 00 00 00 00 72 BF 00 00 00 30...]
2012-06-26 10:45:50,660 [NioProcessor-3  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 11
2012-06-26 10:45:50,660 [NioProcessor-3  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 10:45:50,660 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 10:45:50,660 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 11
2012-06-26 10:45:50,660 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =48
2012-06-26 10:45:50,660 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 72 BF 00 00 00 30 ..........r....0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 94 20 48 EA 33 DC 80 8A C3 2F E3 5A 95 99 7B 73 . H.3..../.Z..{s

2012-06-26 10:45:50,660 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 48, current position: 0
2012-06-26 10:45:50,660 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 10:45:50,660 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x72bf} messageSize:{0x30} sessionKey:{null}
2012-06-26 10:45:50,660 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 32
2012-06-26 10:45:50,660 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=32, in.remaining=32
2012-06-26 10:45:50,660 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 10:45:50,660 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 7
2012-06-26 10:45:50,660 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 7: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageCodec@16f4ce0
2012-06-26 10:45:50,660 [NioProcessor-3  ] [DEBUG] m.p.s.m.c.LoginMessageCodec - login/bind message decode
2012-06-26 10:45:50,660 [NioProcessor-3  ] [TRACE] m.p.s.m.c.LoginMessageCodec - LoginRequestMessage: [cmdId=7, posId=pos-0002, challengeResponse=[-108, 32, 72, -22, 51, -36, -128, -118, -61, 47, -29, 90, -107, -103, 123, 115]]
2012-06-26 10:45:50,660 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 10:45:50,660 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x72bf} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[-108, 32, 72, -22, 51, -36, -128, -118, -61, 47, -29, 90, -107, -103, 123, 115]]
2012-06-26 10:45:50,660 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 10:45:50,660 [NioProcessor-3  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 10:45:50,660 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 10:45:50,660 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 10:45:50,660 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 10:45:50,660 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 10:45:50,660 [NioProcessor-3  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2375, Mina session ID 11, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x72bf} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[-108, 32, 72, -22, 51, -36, -128, -118, -61, 47, -29, 90, -107, -103, 123, 115]]
2012-06-26 10:45:50,660 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 10:45:50,660 [pool-4-thread-3 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 10:45:50,660 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 10:45:50,660 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 10:45:50,660 [NioProcessor-3  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 10:45:50,660 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 10:45:50,660 [pool-4-thread-3 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 10:45:50,675 [pool-4-thread-3 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@18df055 obtained for command ID 7
2012-06-26 10:45:50,675 [pool-4-thread-3 ] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 7 is com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@18df055
2012-06-26 10:45:50,675 [pool-4-thread-3 ] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==bodyMessage=: [cmdId=7, posId=pos-0002, challengeResponse=[-108, 32, 72, -22, 51, -36, -128, -118, -61, 47, -29, 90, -107, -103, 123, 115]]
2012-06-26 10:45:50,675 [pool-4-thread-3 ] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:null
2012-06-26 10:45:50,675 [pool-4-thread-3 ] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId
2012-06-26 10:45:50,675 [pool-4-thread-3 ] [TRACE] .q.m.l.l.i.LoginManagerImpl - Loaded from db: pos.posId:pos-0002, pos.secret:000001, oldChallenge:[112, 97, 116, 118, 74, 111, 87, 115]
2012-06-26 10:45:50,675 [pool-4-thread-3 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - disableChallengeCheck =0
2012-06-26 10:45:50,675 [pool-4-thread-3 ] [TRACE] c.c.q.m.l.c.ChallengeUtil   - checking challenge:response:[-108, 32, 72, -22, 51, -36, -128, -118, -61, 47, -29, 90, -107, -103, 123, 115], posKey:000001, random:[112, 97, 116, 118, 74, 111, 87, 115]
2012-06-26 10:45:50,675 [pool-4-thread-3 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - new challenge for POS (POS ID): [86, 79, 73, 57, 85, 118, 76, 102]
2012-06-26 10:45:50,675 [pool-4-thread-3 ] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==serverKey=:JXTPOS
2012-06-26 10:45:50,675 [pool-4-thread-3 ] [DEBUG] ThreadSafeClientConnManager - Get connection: HttpRoute[{}->http://localhost:7070], timeout = 0
2012-06-26 10:45:50,675 [pool-4-thread-3 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - [HttpRoute[{}->http://localhost:7070]] total kept alive: 0, total issued: 0, total allocated: 0 out of 20
2012-06-26 10:45:50,675 [pool-4-thread-3 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - No free connections [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 10:45:50,675 [pool-4-thread-3 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Available capacity: 2 out of 2 [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 10:45:50,675 [pool-4-thread-3 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Creating new connection [HttpRoute[{}->http://localhost:7070]]
2012-06-26 10:45:50,675 [pool-4-thread-3 ] [DEBUG] ultClientConnectionOperator - Connecting to localhost:7070
2012-06-26 10:45:51,611 [pool-4-thread-3 ] [DEBUG] i.c.DefaultClientConnection - Connection closed
2012-06-26 10:45:51,611 [pool-4-thread-3 ] [DEBUG] i.c.DefaultClientConnection - Connection shut down
2012-06-26 10:45:51,611 [pool-4-thread-3 ] [DEBUG] ThreadSafeClientConnManager - Released connection is not reusable.
2012-06-26 10:45:51,611 [pool-4-thread-3 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Releasing connection [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 10:45:51,611 [pool-4-thread-3 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Notifying no-one, there are no waiting threads
2012-06-26 10:45:51,611 [pool-4-thread-3 ] [ERROR] q.m.p.h.LoginCommandHandler - initGrouponCache fail:com.chinarewards.qqgbvpn.qqapi.exception.ParseXMLException: com.chinarewards.qqgbvpn.qqapi.exception.SendPostTimeOutException: org.apache.http.conn.HttpHostConnectException: Connection to http://localhost:7070 refused
2012-06-26 10:45:51,611 [pool-4-thread-3 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 10:45:51,627 [pool-4-thread-3 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 10:45:51,627 [pool-4-thread-3 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 10:45:51,627 [pool-4-thread-3 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 10:45:51,627 [pool-4-thread-3 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 11
2012-06-26 10:45:51,627 [pool-4-thread-3 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (8)
2012-06-26 10:45:51,627 [pool-4-thread-3 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageResponseCodec@81ca25
2012-06-26 10:45:51,627 [pool-4-thread-3 ] [DEBUG] c.LoginMessageResponseCodec - login/bind message encode
2012-06-26 10:45:51,627 [pool-4-thread-3 ] [TRACE] c.LoginMessageResponseCodec - LoginResponseMessage: [cmdId=8, result=0, challenge=[86, 79, 73, 57, 85, 118, 76, 102]]
2012-06-26 10:45:51,627 [pool-4-thread-3 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0xbe73
2012-06-26 10:45:51,627 [pool-4-thread-3 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 10:45:51,627 [pool-4-thread-3 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BE 73 00 00 00 1E ...........s....
00000010 00 00 00 08 00 00 56 4F 49 39 55 76 4C 66       ......VOI9UvLf

2012-06-26 10:45:51,627 [pool-4-thread-3 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 10:45:51,627 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 10:45:51,627 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 10:45:51,627 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 11: not mark to return session ID to client
2012-06-26 10:45:51,627 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 10:45:51,627 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 10:45:51,627 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 10:45:51,627 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2375, Mina session ID 11, identified POS ID pos-0002
2012-06-26 10:45:51,627 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 33 of 33 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 D1 FF 00 00 00 21 ...............!
00000010 00 00 00 C9 00 0B 32 32 32 32 32 32 32 32 32 32 ......2222222222
00000020 32                                              2

2012-06-26 10:45:51,627 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=33 cap=1024: 00 00 00 10 00 00 00 00 00 00 D1 FF 00 00 00 21...]
2012-06-26 10:45:51,627 [NioProcessor-3  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 11
2012-06-26 10:45:51,627 [NioProcessor-3  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 10:45:51,627 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 10:45:51,627 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 11
2012-06-26 10:45:51,627 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =33
2012-06-26 10:45:51,627 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 33 of 33 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 D1 FF 00 00 00 21 ...............!
00000010 00 00 00 C9 00 0B 32 32 32 32 32 32 32 32 32 32 ......2222222222
00000020 32                                              2

2012-06-26 10:45:51,627 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 33, current position: 0
2012-06-26 10:45:51,627 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 10:45:51,627 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd1ff} messageSize:{0x21} sessionKey:{null}
2012-06-26 10:45:51,627 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 17
2012-06-26 10:45:51,627 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=17, in.remaining=17
2012-06-26 10:45:51,627 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 10:45:51,627 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 201
2012-06-26 10:45:51,627 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 201: com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftMessageCodec@fe53cf
2012-06-26 10:45:51,627 [NioProcessor-3  ] [DEBUG] m.c.ReceiveGiftMessageCodec - receive gift request message decode
2012-06-26 10:45:51,627 [NioProcessor-3  ] [DEBUG] m.c.ReceiveGiftMessageCodec - in.remaining()=17
2012-06-26 10:45:51,627 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 10:45:51,627 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd1ff} messageSize:{0x21} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@130500f
2012-06-26 10:45:51,627 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 10:45:51,627 [NioProcessor-3  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 10:45:51,627 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 10:45:51,627 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 10:45:51,627 [NioProcessor-3  ] [DEBUG] c.c.q.m.p.f.LoginFilter     - isLogin=true
2012-06-26 10:45:51,627 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 10:45:51,627 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 10:45:51,627 [NioProcessor-3  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2375, Mina session ID 11, identified POS ID pos-0002, message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd1ff} messageSize:{0x21} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@130500f
2012-06-26 10:45:51,627 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 10:45:51,627 [pool-4-thread-4 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 10:45:51,627 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 10:45:51,627 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 10:45:51,627 [NioProcessor-3  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 10:45:51,627 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 10:45:51,627 [pool-4-thread-4 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 10:45:51,627 [pool-4-thread-4 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@1e3940a obtained for command ID 201
2012-06-26 10:45:51,627 [pool-4-thread-4 ] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 201 is com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@1e3940a
2012-06-26 10:45:51,627 [pool-4-thread-4 ] [DEBUG] h.ReceiveGiftCommandHandler - ReceiveGiftHandler======execute==bodyMessage=: com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@130500f
2012-06-26 10:45:51,627 [pool-4-thread-4 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 10:45:51,627 [pool-4-thread-4 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 10:45:51,627 [pool-4-thread-4 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 10:45:51,627 [pool-4-thread-4 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 10:45:51,627 [pool-4-thread-4 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 11
2012-06-26 10:45:51,627 [pool-4-thread-4 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (202)
2012-06-26 10:45:51,627 [pool-4-thread-4 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftResponseMessageCodec@1ef4b
2012-06-26 10:45:51,627 [pool-4-thread-4 ] [DEBUG] iveGiftResponseMessageCodec - receive gift response message encode
2012-06-26 10:45:51,642 [pool-4-thread-4 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0xba9c
2012-06-26 10:45:51,642 [pool-4-thread-4 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 10:45:51,642 [pool-4-thread-4 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 55 of 55 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 BA 9C 00 00 00 37 ...............7
00000010 00 00 00 CA 00 00 00 01 07 DC 06 1A 0A 2D 33 02 .............-3.
00000020 73 01 E0 00 08 C1 EC C8 A1 C0 F1 C6 B7 00 08 D2 s...............
00000030 D1 C1 EC C8 A1 B9 FD                            .......

2012-06-26 10:45:51,642 [pool-4-thread-4 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 10:45:51,642 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 10:45:51,642 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 10:45:51,642 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 11: not mark to return session ID to client
2012-06-26 10:45:51,642 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 10:45:51,642 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 10:45:51,642 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 10:45:51,642 [NioProcessor-3  ] [INFO ] o.a.m.f.l.LoggingFilter     - CLOSED
2012-06-26 10:45:51,642 [NioProcessor-3  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 10:45:51,767 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:45:51,767 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:45:51,767 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 10:45:51,767 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 10:45:51,767 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:46:01,752 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:46:01,752 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:46:01,752 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 10:46:01,752 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 10:46:01,752 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:46:11,737 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:46:11,737 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:46:11,737 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 10:46:11,737 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 10:46:11,737 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:46:21,722 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:46:21,722 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:46:21,722 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 10:46:21,722 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 10:46:21,722 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:46:31,707 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:46:31,707 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:46:31,707 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 10:46:31,707 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 10:46:31,707 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:46:41,692 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:46:41,692 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:46:41,692 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 10:46:41,692 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 10:46:41,692 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:46:42,690 [Finalizer       ] [DEBUG] ThreadSafeClientConnManager - Shutting down
2012-06-26 10:46:51,677 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:46:51,677 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:46:51,677 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 10:46:51,677 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 10:46:51,677 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:47:01,662 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:47:01,662 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:47:01,662 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 10:47:01,662 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 10:47:01,662 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:47:11,646 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:47:11,646 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:47:11,646 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 10:47:11,646 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 10:47:11,646 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:47:21,631 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:47:21,631 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:47:21,631 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 10:47:21,631 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 10:47:21,631 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:47:31,616 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:47:31,616 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:47:31,616 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 10:47:31,616 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 10:47:31,616 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:47:41,601 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:47:41,601 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:47:41,601 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 10:47:41,601 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 10:47:41,601 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:47:51,586 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:47:51,586 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:47:51,586 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 10:47:51,586 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 10:47:51,586 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:48:01,571 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:48:01,571 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:48:01,571 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 10:48:01,571 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 10:48:01,571 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:48:11,556 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:48:11,556 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:48:11,556 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 10:48:11,556 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 10:48:11,556 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:48:21,541 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:48:21,541 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:48:21,541 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 10:48:21,541 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 10:48:21,541 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:48:31,526 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:48:31,526 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:48:31,526 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 10:48:31,526 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 10:48:31,526 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:48:41,510 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:48:41,510 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:48:41,510 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 10:48:41,510 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 10:48:41,510 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:48:51,495 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:48:51,495 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:48:51,495 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 10:48:51,495 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 10:48:51,495 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:49:01,496 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:49:01,496 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:49:01,496 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 10:49:01,496 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 10:49:01,496 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:49:11,496 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:49:11,496 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:49:11,496 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 10:49:11,496 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 10:49:11,496 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:49:21,512 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:49:21,512 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:49:21,512 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 10:49:21,512 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 10:49:21,512 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:49:31,513 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:49:31,513 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:49:31,513 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 10:49:31,513 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 10:49:31,513 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:49:41,513 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:49:41,513 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:49:41,513 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 10:49:41,513 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 10:49:41,513 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:49:51,530 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:49:51,530 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:49:51,530 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 10:49:51,530 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 10:49:51,530 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:50:01,530 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:50:01,530 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:50:01,530 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 10:50:01,530 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 10:50:01,530 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:50:11,531 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:50:11,531 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:50:11,531 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 10:50:11,531 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 10:50:11,531 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:50:21,531 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:50:21,531 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:50:21,531 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 10:50:21,531 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 10:50:21,531 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:50:29,082 [NioProcessor-1  ] [INFO ] c.c.q.m.p.f.LoggingFilter   - incoming connection from remote address: 127.0.0.1:2403, Mina session ID: 12
2012-06-26 10:50:29,082 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - Currently managed session count: 1
2012-06-26 10:50:29,082 [NioProcessor-1  ] [INFO ] o.a.m.f.l.LoggingFilter     - CREATED
2012-06-26 10:50:29,082 [NioProcessor-1  ] [INFO ] o.a.m.f.l.LoggingFilter     - OPENED
2012-06-26 10:50:29,082 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2403, Mina session ID 12, identified POS ID null
2012-06-26 10:50:29,082 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 10:50:29,082 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=32 cap=2048: 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20...]
2012-06-26 10:50:29,113 [NioProcessor-1  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 12
2012-06-26 10:50:29,113 [NioProcessor-1  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 10:50:29,113 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 10:50:29,113 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 12
2012-06-26 10:50:29,113 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =32
2012-06-26 10:50:29,113 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 10:50:29,113 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 32, current position: 0
2012-06-26 10:50:29,113 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 10:50:29,113 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}
2012-06-26 10:50:29,113 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 16
2012-06-26 10:50:29,113 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=16, in.remaining=16
2012-06-26 10:50:29,113 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 10:50:29,113 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 5
2012-06-26 10:50:29,113 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 5: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageCodec@38fb59
2012-06-26 10:50:29,113 [NioProcessor-1  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - init request message decode
2012-06-26 10:50:29,113 [NioProcessor-1  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - in.remaining()=16
2012-06-26 10:50:29,113 [NioProcessor-1  ] [TRACE] .m.p.s.m.c.InitMessageCodec - InitRequestMessage: [cmdId=5, posId=pos-0002]
2012-06-26 10:50:29,113 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 10:50:29,113 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 10:50:29,113 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 10:50:29,113 [NioProcessor-1  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 10:50:29,113 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 10:50:29,113 [NioProcessor-1  ] [DEBUG] p.f.SessionKeyMessageFilter - Mina session ID 12: created session key 27b0208ea8814b5996a852fc61198633
2012-06-26 10:50:29,113 [NioProcessor-1  ] [DEBUG] p.f.SessionKeyMessageFilter - creating session for mina session ID 12 using session ID 27b0208ea8814b5996a852fc61198633
2012-06-26 10:50:29,113 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 10:50:29,113 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 10:50:29,113 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 10:50:29,113 [NioProcessor-1  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2403, Mina session ID 12, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 10:50:29,113 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 10:50:29,113 [pool-4-thread-5 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 10:50:29,113 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 10:50:29,113 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 10:50:29,113 [NioProcessor-1  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 10:50:29,113 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 10:50:29,113 [pool-4-thread-5 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 10:50:29,113 [pool-4-thread-5 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@ece36 obtained for command ID 5
2012-06-26 10:50:29,113 [pool-4-thread-5 ] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 5 is com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@ece36
2012-06-26 10:50:29,113 [pool-4-thread-5 ] [DEBUG] .q.m.p.h.InitCommandHandler - InitCommandHandler======execute==bodyMessage=:  [cmdId=5, posId=pos-0002]
2012-06-26 10:50:29,113 [pool-4-thread-5 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - InitResponse() invoke
2012-06-26 10:50:29,113 [pool-4-thread-5 ] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:ALLOWED
2012-06-26 10:50:29,113 [pool-4-thread-5 ] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId AND p.ostatus = :ostatus
2012-06-26 10:50:29,113 [pool-4-thread-5 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - POS ID:pos-0002, init challenge saved - [97, 97, 82, 100, 102, 69, 83, 50]
2012-06-26 10:50:29,113 [pool-4-thread-5 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 10:50:29,145 [pool-4-thread-5 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 10:50:29,145 [pool-4-thread-5 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 10:50:29,145 [pool-4-thread-5 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 10:50:29,145 [pool-4-thread-5 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 12
2012-06-26 10:50:29,145 [pool-4-thread-5 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (6)
2012-06-26 10:50:29,145 [pool-4-thread-5 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageResponseCodec@1115a61
2012-06-26 10:50:29,145 [pool-4-thread-5 ] [DEBUG] .c.InitMessageResponseCodec - init response message encode
2012-06-26 10:50:29,145 [pool-4-thread-5 ] [TRACE] .c.InitMessageResponseCodec - InitResponseMessage: [cmdId=6, result=0, challenge=[97, 97, 82, 100, 102, 69, 83, 50]]
2012-06-26 10:50:29,145 [pool-4-thread-5 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0x929d
2012-06-26 10:50:29,145 [pool-4-thread-5 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 10:50:29,145 [pool-4-thread-5 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 92 9D 00 00 00 1E ................
00000010 00 00 00 06 00 00 61 61 52 64 66 45 53 32       ......aaRdfES2

2012-06-26 10:50:29,145 [pool-4-thread-5 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 10:50:29,145 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 10:50:29,145 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 10:50:29,145 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 12: not mark to return session ID to client
2012-06-26 10:50:29,145 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 10:50:29,145 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 10:50:29,145 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 10:50:29,363 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2403, Mina session ID 12, identified POS ID pos-0002
2012-06-26 10:50:29,363 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 38 27 00 00 00 30 ..........8'...0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 AE 4E 00 4B 48 FD C5 76 26 47 9F 9B 86 3E 7A 72 .N.KH..v&G...>zr

2012-06-26 10:50:29,363 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=48 cap=2048: 00 00 00 01 00 00 00 00 00 00 38 27 00 00 00 30...]
2012-06-26 10:50:29,363 [NioProcessor-1  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 12
2012-06-26 10:50:29,363 [NioProcessor-1  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 10:50:29,363 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 10:50:29,363 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 12
2012-06-26 10:50:29,363 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =48
2012-06-26 10:50:29,363 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 38 27 00 00 00 30 ..........8'...0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 AE 4E 00 4B 48 FD C5 76 26 47 9F 9B 86 3E 7A 72 .N.KH..v&G...>zr

2012-06-26 10:50:29,363 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 48, current position: 0
2012-06-26 10:50:29,363 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 10:50:29,363 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x3827} messageSize:{0x30} sessionKey:{null}
2012-06-26 10:50:29,363 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 32
2012-06-26 10:50:29,363 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=32, in.remaining=32
2012-06-26 10:50:29,363 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 10:50:29,363 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 7
2012-06-26 10:50:29,363 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 7: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageCodec@904f75
2012-06-26 10:50:29,363 [NioProcessor-1  ] [DEBUG] m.p.s.m.c.LoginMessageCodec - login/bind message decode
2012-06-26 10:50:29,363 [NioProcessor-1  ] [TRACE] m.p.s.m.c.LoginMessageCodec - LoginRequestMessage: [cmdId=7, posId=pos-0002, challengeResponse=[-82, 78, 0, 75, 72, -3, -59, 118, 38, 71, -97, -101, -122, 62, 122, 114]]
2012-06-26 10:50:29,363 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 10:50:29,363 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x3827} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[-82, 78, 0, 75, 72, -3, -59, 118, 38, 71, -97, -101, -122, 62, 122, 114]]
2012-06-26 10:50:29,363 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 10:50:29,363 [NioProcessor-1  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 10:50:29,363 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 10:50:29,363 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 10:50:29,363 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 10:50:29,363 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 10:50:29,363 [NioProcessor-1  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2403, Mina session ID 12, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x3827} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[-82, 78, 0, 75, 72, -3, -59, 118, 38, 71, -97, -101, -122, 62, 122, 114]]
2012-06-26 10:50:29,363 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 10:50:29,363 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 10:50:29,363 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 10:50:29,363 [pool-4-thread-6 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 10:50:29,363 [NioProcessor-1  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 10:50:29,363 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 10:50:29,363 [pool-4-thread-6 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 10:50:29,363 [pool-4-thread-6 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@b1bed2 obtained for command ID 7
2012-06-26 10:50:29,363 [pool-4-thread-6 ] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 7 is com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@b1bed2
2012-06-26 10:50:29,363 [pool-4-thread-6 ] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==bodyMessage=: [cmdId=7, posId=pos-0002, challengeResponse=[-82, 78, 0, 75, 72, -3, -59, 118, 38, 71, -97, -101, -122, 62, 122, 114]]
2012-06-26 10:50:29,363 [pool-4-thread-6 ] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:null
2012-06-26 10:50:29,363 [pool-4-thread-6 ] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId
2012-06-26 10:50:29,363 [pool-4-thread-6 ] [TRACE] .q.m.l.l.i.LoginManagerImpl - Loaded from db: pos.posId:pos-0002, pos.secret:000001, oldChallenge:[97, 97, 82, 100, 102, 69, 83, 50]
2012-06-26 10:50:29,363 [pool-4-thread-6 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - disableChallengeCheck =0
2012-06-26 10:50:29,363 [pool-4-thread-6 ] [TRACE] c.c.q.m.l.c.ChallengeUtil   - checking challenge:response:[-82, 78, 0, 75, 72, -3, -59, 118, 38, 71, -97, -101, -122, 62, 122, 114], posKey:000001, random:[97, 97, 82, 100, 102, 69, 83, 50]
2012-06-26 10:50:29,363 [pool-4-thread-6 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - new challenge for POS (POS ID): [82, 87, 105, 116, 56, 73, 109, 115]
2012-06-26 10:50:29,379 [pool-4-thread-6 ] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==serverKey=:JXTPOS
2012-06-26 10:50:29,379 [pool-4-thread-6 ] [DEBUG] ThreadSafeClientConnManager - Get connection: HttpRoute[{}->http://localhost:7070], timeout = 0
2012-06-26 10:50:29,379 [pool-4-thread-6 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - [HttpRoute[{}->http://localhost:7070]] total kept alive: 0, total issued: 0, total allocated: 0 out of 20
2012-06-26 10:50:29,379 [pool-4-thread-6 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - No free connections [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 10:50:29,379 [pool-4-thread-6 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Available capacity: 2 out of 2 [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 10:50:29,379 [pool-4-thread-6 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Creating new connection [HttpRoute[{}->http://localhost:7070]]
2012-06-26 10:50:29,379 [pool-4-thread-6 ] [DEBUG] ultClientConnectionOperator - Connecting to localhost:7070
2012-06-26 10:50:30,408 [pool-4-thread-6 ] [DEBUG] i.c.DefaultClientConnection - Connection closed
2012-06-26 10:50:30,408 [pool-4-thread-6 ] [DEBUG] i.c.DefaultClientConnection - Connection shut down
2012-06-26 10:50:30,408 [pool-4-thread-6 ] [DEBUG] ThreadSafeClientConnManager - Released connection is not reusable.
2012-06-26 10:50:30,408 [pool-4-thread-6 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Releasing connection [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 10:50:30,408 [pool-4-thread-6 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Notifying no-one, there are no waiting threads
2012-06-26 10:50:30,408 [pool-4-thread-6 ] [ERROR] q.m.p.h.LoginCommandHandler - initGrouponCache fail:com.chinarewards.qqgbvpn.qqapi.exception.ParseXMLException: com.chinarewards.qqgbvpn.qqapi.exception.SendPostTimeOutException: org.apache.http.conn.HttpHostConnectException: Connection to http://localhost:7070 refused
2012-06-26 10:50:30,439 [pool-4-thread-6 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 10:50:30,439 [pool-4-thread-6 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 10:50:30,439 [pool-4-thread-6 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 10:50:30,439 [pool-4-thread-6 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 10:50:30,439 [pool-4-thread-6 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 12
2012-06-26 10:50:30,439 [pool-4-thread-6 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (8)
2012-06-26 10:50:30,439 [pool-4-thread-6 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageResponseCodec@193d2f2
2012-06-26 10:50:30,439 [pool-4-thread-6 ] [DEBUG] c.LoginMessageResponseCodec - login/bind message encode
2012-06-26 10:50:30,439 [pool-4-thread-6 ] [TRACE] c.LoginMessageResponseCodec - LoginResponseMessage: [cmdId=8, result=0, challenge=[82, 87, 105, 116, 56, 73, 109, 115]]
2012-06-26 10:50:30,439 [pool-4-thread-6 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0x9e50
2012-06-26 10:50:30,439 [pool-4-thread-6 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 10:50:30,439 [Finalizer       ] [DEBUG] ThreadSafeClientConnManager - Shutting down
2012-06-26 10:50:30,439 [pool-4-thread-6 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 9E 50 00 00 00 1E ...........P....
00000010 00 00 00 08 00 00 52 57 69 74 38 49 6D 73       ......RWit8Ims

2012-06-26 10:50:30,439 [pool-4-thread-6 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 10:50:30,439 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 10:50:30,439 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 10:50:30,439 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 12: not mark to return session ID to client
2012-06-26 10:50:30,439 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 10:50:30,439 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 10:50:30,439 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 10:50:30,439 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2403, Mina session ID 12, identified POS ID pos-0002
2012-06-26 10:50:30,439 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 28 of 28 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 65 68 00 00 00 1C ..........eh....
00000010 00 00 00 C9 00 06 31 32 33 34 35 36             ......123456

2012-06-26 10:50:30,439 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=28 cap=1024: 00 00 00 10 00 00 00 00 00 00 65 68 00 00 00 1C...]
2012-06-26 10:50:30,439 [NioProcessor-1  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 12
2012-06-26 10:50:30,439 [NioProcessor-1  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 10:50:30,439 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 10:50:30,439 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 12
2012-06-26 10:50:30,439 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =28
2012-06-26 10:50:30,439 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 28 of 28 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 65 68 00 00 00 1C ..........eh....
00000010 00 00 00 C9 00 06 31 32 33 34 35 36             ......123456

2012-06-26 10:50:30,439 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 28, current position: 0
2012-06-26 10:50:30,439 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 10:50:30,439 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0x6568} messageSize:{0x1c} sessionKey:{null}
2012-06-26 10:50:30,439 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 12
2012-06-26 10:50:30,439 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=12, in.remaining=12
2012-06-26 10:50:30,439 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 10:50:30,439 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 201
2012-06-26 10:50:30,439 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 201: com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftMessageCodec@4683c2
2012-06-26 10:50:30,439 [NioProcessor-1  ] [DEBUG] m.c.ReceiveGiftMessageCodec - receive gift request message decode
2012-06-26 10:50:30,439 [NioProcessor-1  ] [DEBUG] m.c.ReceiveGiftMessageCodec - in.remaining()=12
2012-06-26 10:50:30,439 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 10:50:30,439 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0x6568} messageSize:{0x1c} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@1743ff4
2012-06-26 10:50:30,439 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 10:50:30,439 [NioProcessor-1  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 10:50:30,439 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 10:50:30,439 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 10:50:30,439 [NioProcessor-1  ] [DEBUG] c.c.q.m.p.f.LoginFilter     - isLogin=true
2012-06-26 10:50:30,439 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 10:50:30,439 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 10:50:30,439 [NioProcessor-1  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2403, Mina session ID 12, identified POS ID pos-0002, message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0x6568} messageSize:{0x1c} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@1743ff4
2012-06-26 10:50:30,439 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 10:50:30,439 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 10:50:30,439 [pool-4-thread-7 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 10:50:30,439 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 10:50:30,439 [NioProcessor-1  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 10:50:30,439 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 10:50:30,455 [pool-4-thread-7 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 10:50:30,455 [pool-4-thread-7 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@46a658 obtained for command ID 201
2012-06-26 10:50:30,455 [pool-4-thread-7 ] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 201 is com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@46a658
2012-06-26 10:50:30,455 [pool-4-thread-7 ] [DEBUG] h.ReceiveGiftCommandHandler - ReceiveGiftHandler======execute==bodyMessage=: com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@1743ff4
2012-06-26 10:50:30,455 [pool-4-thread-7 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 10:50:30,455 [pool-4-thread-7 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 10:50:30,455 [pool-4-thread-7 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 10:50:30,455 [pool-4-thread-7 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 10:50:30,455 [pool-4-thread-7 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 12
2012-06-26 10:50:30,455 [pool-4-thread-7 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (202)
2012-06-26 10:50:30,455 [pool-4-thread-7 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftResponseMessageCodec@142f703
2012-06-26 10:50:30,455 [pool-4-thread-7 ] [DEBUG] iveGiftResponseMessageCodec - receive gift response message encode
2012-06-26 10:50:30,455 [pool-4-thread-7 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0xfa45
2012-06-26 10:50:30,455 [pool-4-thread-7 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 10:50:30,455 [pool-4-thread-7 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 69 of 69 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 FA 45 00 00 00 45 ...........E...E
00000010 00 00 00 CA 00 00 00 02 07 DC 06 1A 0A 32 1E 01 .............2..
00000020 C7 01 E0 00 08 C1 EC C8 A1 C0 F1 C6 B7 00 16 31 ...............1
00000030 32 33 34 35 36 0A CE DE D0 A7 0A B0 B4 4F 4B BC 23456........OK.
00000040 FC B7 B5 BB D8                                  .....

2012-06-26 10:50:30,455 [pool-4-thread-7 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 10:50:30,455 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 10:50:30,455 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 10:50:30,455 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 12: not mark to return session ID to client
2012-06-26 10:50:30,455 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 10:50:30,455 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 10:50:30,455 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 10:50:30,455 [NioProcessor-1  ] [INFO ] o.a.m.f.l.LoggingFilter     - CLOSED
2012-06-26 10:50:30,455 [NioProcessor-1  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 10:50:30,673 [NioProcessor-2  ] [INFO ] c.c.q.m.p.f.LoggingFilter   - incoming connection from remote address: 127.0.0.1:2405, Mina session ID: 13
2012-06-26 10:50:30,673 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - Currently managed session count: 1
2012-06-26 10:50:30,673 [NioProcessor-2  ] [INFO ] o.a.m.f.l.LoggingFilter     - CREATED
2012-06-26 10:50:30,673 [NioProcessor-2  ] [INFO ] o.a.m.f.l.LoggingFilter     - OPENED
2012-06-26 10:50:30,814 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2405, Mina session ID 13, identified POS ID null
2012-06-26 10:50:30,814 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 10:50:30,814 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=32 cap=2048: 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20...]
2012-06-26 10:50:30,814 [NioProcessor-2  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 13
2012-06-26 10:50:30,814 [NioProcessor-2  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 10:50:30,814 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 10:50:30,814 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 13
2012-06-26 10:50:30,814 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =32
2012-06-26 10:50:30,814 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 10:50:30,814 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 32, current position: 0
2012-06-26 10:50:30,814 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 10:50:30,814 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}
2012-06-26 10:50:30,814 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 16
2012-06-26 10:50:30,814 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=16, in.remaining=16
2012-06-26 10:50:30,814 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 10:50:30,814 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 5
2012-06-26 10:50:30,814 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 5: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageCodec@8d0a11
2012-06-26 10:50:30,814 [NioProcessor-2  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - init request message decode
2012-06-26 10:50:30,814 [NioProcessor-2  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - in.remaining()=16
2012-06-26 10:50:30,814 [NioProcessor-2  ] [TRACE] .m.p.s.m.c.InitMessageCodec - InitRequestMessage: [cmdId=5, posId=pos-0002]
2012-06-26 10:50:30,814 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 10:50:30,814 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 10:50:30,814 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 10:50:30,814 [NioProcessor-2  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 10:50:30,814 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 10:50:30,814 [NioProcessor-2  ] [DEBUG] p.f.SessionKeyMessageFilter - Mina session ID 13: created session key ff8edc5ae23c4675ac3d5245168c58e5
2012-06-26 10:50:30,814 [NioProcessor-2  ] [DEBUG] p.f.SessionKeyMessageFilter - creating session for mina session ID 13 using session ID ff8edc5ae23c4675ac3d5245168c58e5
2012-06-26 10:50:30,814 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 10:50:30,814 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 10:50:30,814 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 10:50:30,814 [NioProcessor-2  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2405, Mina session ID 13, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 10:50:30,814 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 10:50:30,814 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 10:50:30,814 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 10:50:30,814 [NioProcessor-2  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 10:50:30,814 [pool-4-thread-8 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 10:50:30,814 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 10:50:30,814 [pool-4-thread-8 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 10:50:30,814 [pool-4-thread-8 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@52c6f obtained for command ID 5
2012-06-26 10:50:30,814 [pool-4-thread-8 ] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 5 is com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@52c6f
2012-06-26 10:50:30,814 [pool-4-thread-8 ] [DEBUG] .q.m.p.h.InitCommandHandler - InitCommandHandler======execute==bodyMessage=:  [cmdId=5, posId=pos-0002]
2012-06-26 10:50:30,814 [pool-4-thread-8 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - InitResponse() invoke
2012-06-26 10:50:30,814 [pool-4-thread-8 ] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:ALLOWED
2012-06-26 10:50:30,814 [pool-4-thread-8 ] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId AND p.ostatus = :ostatus
2012-06-26 10:50:30,814 [pool-4-thread-8 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - POS ID:pos-0002, init challenge saved - [65, 117, 67, 90, 122, 86, 115, 75]
2012-06-26 10:50:30,814 [pool-4-thread-8 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 10:50:30,845 [pool-4-thread-8 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 10:50:30,845 [pool-4-thread-8 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 10:50:30,845 [pool-4-thread-8 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 10:50:30,845 [pool-4-thread-8 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 13
2012-06-26 10:50:30,845 [pool-4-thread-8 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (6)
2012-06-26 10:50:30,845 [pool-4-thread-8 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageResponseCodec@8d1749
2012-06-26 10:50:30,845 [pool-4-thread-8 ] [DEBUG] .c.InitMessageResponseCodec - init response message encode
2012-06-26 10:50:30,845 [pool-4-thread-8 ] [TRACE] .c.InitMessageResponseCodec - InitResponseMessage: [cmdId=6, result=0, challenge=[65, 117, 67, 90, 122, 86, 115, 75]]
2012-06-26 10:50:30,845 [pool-4-thread-8 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0x8d69
2012-06-26 10:50:30,845 [pool-4-thread-8 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 10:50:30,845 [pool-4-thread-8 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 8D 69 00 00 00 1E ...........i....
00000010 00 00 00 06 00 00 41 75 43 5A 7A 56 73 4B       ......AuCZzVsK

2012-06-26 10:50:30,845 [pool-4-thread-8 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 10:50:30,845 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 10:50:30,845 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 10:50:30,845 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 13: not mark to return session ID to client
2012-06-26 10:50:30,845 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 10:50:30,845 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 10:50:30,845 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 10:50:30,845 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2405, Mina session ID 13, identified POS ID pos-0002
2012-06-26 10:50:30,845 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 14 E1 00 00 00 30 ...............0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 67 CD A0 77 E2 C7 5A 47 14 D5 2F C5 3E 84 DE 74 g..w..ZG../.>..t

2012-06-26 10:50:30,845 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=48 cap=2048: 00 00 00 01 00 00 00 00 00 00 14 E1 00 00 00 30...]
2012-06-26 10:50:30,845 [NioProcessor-2  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 13
2012-06-26 10:50:30,845 [NioProcessor-2  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 10:50:30,845 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 10:50:30,845 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 13
2012-06-26 10:50:30,845 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =48
2012-06-26 10:50:30,845 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 14 E1 00 00 00 30 ...............0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 67 CD A0 77 E2 C7 5A 47 14 D5 2F C5 3E 84 DE 74 g..w..ZG../.>..t

2012-06-26 10:50:30,845 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 48, current position: 0
2012-06-26 10:50:30,845 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 10:50:30,845 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x14e1} messageSize:{0x30} sessionKey:{null}
2012-06-26 10:50:30,845 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 32
2012-06-26 10:50:30,845 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=32, in.remaining=32
2012-06-26 10:50:30,845 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 10:50:30,845 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 7
2012-06-26 10:50:30,845 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 7: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageCodec@93a985
2012-06-26 10:50:30,845 [NioProcessor-2  ] [DEBUG] m.p.s.m.c.LoginMessageCodec - login/bind message decode
2012-06-26 10:50:30,845 [NioProcessor-2  ] [TRACE] m.p.s.m.c.LoginMessageCodec - LoginRequestMessage: [cmdId=7, posId=pos-0002, challengeResponse=[103, -51, -96, 119, -30, -57, 90, 71, 20, -43, 47, -59, 62, -124, -34, 116]]
2012-06-26 10:50:30,845 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 10:50:30,845 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x14e1} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[103, -51, -96, 119, -30, -57, 90, 71, 20, -43, 47, -59, 62, -124, -34, 116]]
2012-06-26 10:50:30,845 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 10:50:30,845 [NioProcessor-2  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 10:50:30,845 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 10:50:30,845 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 10:50:30,845 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 10:50:30,845 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 10:50:30,845 [NioProcessor-2  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2405, Mina session ID 13, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x14e1} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[103, -51, -96, 119, -30, -57, 90, 71, 20, -43, 47, -59, 62, -124, -34, 116]]
2012-06-26 10:50:30,845 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 10:50:30,845 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 10:50:30,845 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 10:50:30,845 [NioProcessor-2  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 10:50:30,845 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 10:50:30,845 [pool-4-thread-9 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 10:50:30,845 [pool-4-thread-9 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 10:50:30,845 [pool-4-thread-9 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@fe9ad1 obtained for command ID 7
2012-06-26 10:50:30,845 [pool-4-thread-9 ] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 7 is com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@fe9ad1
2012-06-26 10:50:30,845 [pool-4-thread-9 ] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==bodyMessage=: [cmdId=7, posId=pos-0002, challengeResponse=[103, -51, -96, 119, -30, -57, 90, 71, 20, -43, 47, -59, 62, -124, -34, 116]]
2012-06-26 10:50:30,845 [pool-4-thread-9 ] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:null
2012-06-26 10:50:30,845 [pool-4-thread-9 ] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId
2012-06-26 10:50:30,845 [pool-4-thread-9 ] [TRACE] .q.m.l.l.i.LoginManagerImpl - Loaded from db: pos.posId:pos-0002, pos.secret:000001, oldChallenge:[65, 117, 67, 90, 122, 86, 115, 75]
2012-06-26 10:50:30,845 [pool-4-thread-9 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - disableChallengeCheck =0
2012-06-26 10:50:30,845 [pool-4-thread-9 ] [TRACE] c.c.q.m.l.c.ChallengeUtil   - checking challenge:response:[103, -51, -96, 119, -30, -57, 90, 71, 20, -43, 47, -59, 62, -124, -34, 116], posKey:000001, random:[65, 117, 67, 90, 122, 86, 115, 75]
2012-06-26 10:50:30,845 [pool-4-thread-9 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - new challenge for POS (POS ID): [103, 81, 100, 78, 77, 84, 117, 51]
2012-06-26 10:50:30,845 [pool-4-thread-9 ] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==serverKey=:JXTPOS
2012-06-26 10:50:30,861 [pool-4-thread-9 ] [DEBUG] ThreadSafeClientConnManager - Get connection: HttpRoute[{}->http://localhost:7070], timeout = 0
2012-06-26 10:50:30,861 [pool-4-thread-9 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - [HttpRoute[{}->http://localhost:7070]] total kept alive: 0, total issued: 0, total allocated: 0 out of 20
2012-06-26 10:50:30,861 [pool-4-thread-9 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - No free connections [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 10:50:30,861 [pool-4-thread-9 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Available capacity: 2 out of 2 [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 10:50:30,861 [pool-4-thread-9 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Creating new connection [HttpRoute[{}->http://localhost:7070]]
2012-06-26 10:50:30,861 [pool-4-thread-9 ] [DEBUG] ultClientConnectionOperator - Connecting to localhost:7070
2012-06-26 10:50:31,563 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:50:31,563 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:50:31,563 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 10:50:31,563 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 10:50:31,563 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:50:32,046 [pool-4-thread-9 ] [DEBUG] i.c.DefaultClientConnection - Connection closed
2012-06-26 10:50:32,046 [pool-4-thread-9 ] [DEBUG] i.c.DefaultClientConnection - Connection shut down
2012-06-26 10:50:32,046 [pool-4-thread-9 ] [DEBUG] ThreadSafeClientConnManager - Released connection is not reusable.
2012-06-26 10:50:32,046 [pool-4-thread-9 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Releasing connection [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 10:50:32,046 [pool-4-thread-9 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Notifying no-one, there are no waiting threads
2012-06-26 10:50:32,046 [pool-4-thread-9 ] [ERROR] q.m.p.h.LoginCommandHandler - initGrouponCache fail:com.chinarewards.qqgbvpn.qqapi.exception.ParseXMLException: com.chinarewards.qqgbvpn.qqapi.exception.SendPostTimeOutException: org.apache.http.conn.HttpHostConnectException: Connection to http://localhost:7070 refused
2012-06-26 10:50:32,046 [pool-4-thread-9 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 10:50:32,078 [pool-4-thread-9 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 10:50:32,078 [pool-4-thread-9 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 10:50:32,078 [pool-4-thread-9 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 10:50:32,078 [pool-4-thread-9 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 13
2012-06-26 10:50:32,078 [pool-4-thread-9 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (8)
2012-06-26 10:50:32,078 [pool-4-thread-9 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageResponseCodec@1bca486
2012-06-26 10:50:32,078 [pool-4-thread-9 ] [DEBUG] c.LoginMessageResponseCodec - login/bind message encode
2012-06-26 10:50:32,078 [pool-4-thread-9 ] [TRACE] c.LoginMessageResponseCodec - LoginResponseMessage: [cmdId=8, result=0, challenge=[103, 81, 100, 78, 77, 84, 117, 51]]
2012-06-26 10:50:32,078 [pool-4-thread-9 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0x71b1
2012-06-26 10:50:32,078 [pool-4-thread-9 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 10:50:32,078 [pool-4-thread-9 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 71 B1 00 00 00 1E ..........q.....
00000010 00 00 00 08 00 00 67 51 64 4E 4D 54 75 33       ......gQdNMTu3

2012-06-26 10:50:32,078 [pool-4-thread-9 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 10:50:32,078 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 10:50:32,078 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 10:50:32,078 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 13: not mark to return session ID to client
2012-06-26 10:50:32,078 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 10:50:32,078 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 10:50:32,078 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 10:50:32,078 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2405, Mina session ID 13, identified POS ID pos-0002
2012-06-26 10:50:32,078 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 33 of 33 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 D8 04 00 00 00 21 ...............!
00000010 00 00 00 C9 00 0B 31 31 31 31 31 31 31 31 31 31 ......1111111111
00000020 31                                              1

2012-06-26 10:50:32,078 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=33 cap=1024: 00 00 00 10 00 00 00 00 00 00 D8 04 00 00 00 21...]
2012-06-26 10:50:32,078 [NioProcessor-2  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 13
2012-06-26 10:50:32,078 [NioProcessor-2  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 10:50:32,078 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 10:50:32,078 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 13
2012-06-26 10:50:32,078 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =33
2012-06-26 10:50:32,078 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 33 of 33 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 D8 04 00 00 00 21 ...............!
00000010 00 00 00 C9 00 0B 31 31 31 31 31 31 31 31 31 31 ......1111111111
00000020 31                                              1

2012-06-26 10:50:32,078 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 33, current position: 0
2012-06-26 10:50:32,078 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 10:50:32,078 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd804} messageSize:{0x21} sessionKey:{null}
2012-06-26 10:50:32,078 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 17
2012-06-26 10:50:32,078 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=17, in.remaining=17
2012-06-26 10:50:32,078 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 10:50:32,078 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 201
2012-06-26 10:50:32,078 [Finalizer       ] [DEBUG] ThreadSafeClientConnManager - Shutting down
2012-06-26 10:50:32,078 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 201: com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftMessageCodec@176ee6
2012-06-26 10:50:32,078 [NioProcessor-2  ] [DEBUG] m.c.ReceiveGiftMessageCodec - receive gift request message decode
2012-06-26 10:50:32,078 [NioProcessor-2  ] [DEBUG] m.c.ReceiveGiftMessageCodec - in.remaining()=17
2012-06-26 10:50:32,078 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 10:50:32,078 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd804} messageSize:{0x21} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@114a3c6
2012-06-26 10:50:32,078 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 10:50:32,078 [NioProcessor-2  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 10:50:32,078 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 10:50:32,078 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 10:50:32,078 [NioProcessor-2  ] [DEBUG] c.c.q.m.p.f.LoginFilter     - isLogin=true
2012-06-26 10:50:32,078 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 10:50:32,078 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 10:50:32,078 [NioProcessor-2  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2405, Mina session ID 13, identified POS ID pos-0002, message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd804} messageSize:{0x21} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@114a3c6
2012-06-26 10:50:32,078 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 10:50:32,078 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 10:50:32,078 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 10:50:32,078 [NioProcessor-2  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 10:50:32,078 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 10:50:32,078 [pool-4-thread-10] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 10:50:32,078 [pool-4-thread-10] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 10:50:32,078 [pool-4-thread-10] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@11b99c4 obtained for command ID 201
2012-06-26 10:50:32,078 [pool-4-thread-10] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 201 is com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@11b99c4
2012-06-26 10:50:32,078 [pool-4-thread-10] [DEBUG] h.ReceiveGiftCommandHandler - ReceiveGiftHandler======execute==bodyMessage=: com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@114a3c6
2012-06-26 10:50:32,093 [pool-4-thread-10] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 10:50:32,093 [pool-4-thread-10] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 10:50:32,093 [pool-4-thread-10] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 10:50:32,093 [pool-4-thread-10] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 10:50:32,093 [pool-4-thread-10] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 13
2012-06-26 10:50:32,093 [pool-4-thread-10] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (202)
2012-06-26 10:50:32,093 [pool-4-thread-10] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftResponseMessageCodec@9d9edd
2012-06-26 10:50:32,093 [pool-4-thread-10] [DEBUG] iveGiftResponseMessageCodec - receive gift response message encode
2012-06-26 10:50:32,093 [pool-4-thread-10] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0xe399
2012-06-26 10:50:32,093 [pool-4-thread-10] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 10:50:32,093 [pool-4-thread-10] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 55 of 55 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 E3 99 00 00 00 37 ...............7
00000010 00 00 00 CA 00 00 00 01 07 DC 06 1A 0A 32 20 00 .............2 .
00000020 5D 01 E0 00 08 C1 EC C8 A1 C0 F1 C6 B7 00 08 D2 ]...............
00000030 D1 C1 EC C8 A1 B9 FD                            .......

2012-06-26 10:50:32,093 [pool-4-thread-10] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 10:50:32,093 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 10:50:32,093 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 10:50:32,093 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 13: not mark to return session ID to client
2012-06-26 10:50:32,093 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 10:50:32,093 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 10:50:32,093 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 10:50:32,093 [NioProcessor-2  ] [INFO ] o.a.m.f.l.LoggingFilter     - CLOSED
2012-06-26 10:50:32,093 [NioProcessor-2  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 10:50:32,265 [NioProcessor-3  ] [INFO ] c.c.q.m.p.f.LoggingFilter   - incoming connection from remote address: 127.0.0.1:2407, Mina session ID: 14
2012-06-26 10:50:32,265 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - Currently managed session count: 1
2012-06-26 10:50:32,265 [NioProcessor-3  ] [INFO ] o.a.m.f.l.LoggingFilter     - CREATED
2012-06-26 10:50:32,265 [NioProcessor-3  ] [INFO ] o.a.m.f.l.LoggingFilter     - OPENED
2012-06-26 10:50:32,265 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2407, Mina session ID 14, identified POS ID null
2012-06-26 10:50:32,265 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 10:50:32,265 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=32 cap=2048: 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20...]
2012-06-26 10:50:32,265 [NioProcessor-3  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 14
2012-06-26 10:50:32,265 [NioProcessor-3  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 10:50:32,265 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 10:50:32,265 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 14
2012-06-26 10:50:32,265 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =32
2012-06-26 10:50:32,265 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 10:50:32,265 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 32, current position: 0
2012-06-26 10:50:32,265 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 10:50:32,265 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}
2012-06-26 10:50:32,265 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 16
2012-06-26 10:50:32,265 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=16, in.remaining=16
2012-06-26 10:50:32,265 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 10:50:32,265 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 5
2012-06-26 10:50:32,265 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 5: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageCodec@15b2043
2012-06-26 10:50:32,265 [NioProcessor-3  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - init request message decode
2012-06-26 10:50:32,265 [NioProcessor-3  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - in.remaining()=16
2012-06-26 10:50:32,265 [NioProcessor-3  ] [TRACE] .m.p.s.m.c.InitMessageCodec - InitRequestMessage: [cmdId=5, posId=pos-0002]
2012-06-26 10:50:32,265 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 10:50:32,265 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 10:50:32,265 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 10:50:32,265 [NioProcessor-3  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 10:50:32,265 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 10:50:32,265 [NioProcessor-3  ] [DEBUG] p.f.SessionKeyMessageFilter - Mina session ID 14: created session key 3584bd0f887f4c2ea0796a02d9074a97
2012-06-26 10:50:32,265 [NioProcessor-3  ] [DEBUG] p.f.SessionKeyMessageFilter - creating session for mina session ID 14 using session ID 3584bd0f887f4c2ea0796a02d9074a97
2012-06-26 10:50:32,265 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 10:50:32,265 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 10:50:32,265 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 10:50:32,265 [NioProcessor-3  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2407, Mina session ID 14, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 10:50:32,265 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 10:50:32,265 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 10:50:32,265 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 10:50:32,265 [NioProcessor-3  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 10:50:32,265 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 10:50:32,265 [pool-4-thread-11] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 10:50:32,265 [pool-4-thread-11] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 10:50:32,265 [pool-4-thread-11] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@5fbbf3 obtained for command ID 5
2012-06-26 10:50:32,280 [pool-4-thread-11] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 5 is com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@5fbbf3
2012-06-26 10:50:32,280 [pool-4-thread-11] [DEBUG] .q.m.p.h.InitCommandHandler - InitCommandHandler======execute==bodyMessage=:  [cmdId=5, posId=pos-0002]
2012-06-26 10:50:32,280 [pool-4-thread-11] [DEBUG] .q.m.l.l.i.LoginManagerImpl - InitResponse() invoke
2012-06-26 10:50:32,280 [pool-4-thread-11] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:ALLOWED
2012-06-26 10:50:32,280 [pool-4-thread-11] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId AND p.ostatus = :ostatus
2012-06-26 10:50:32,280 [pool-4-thread-11] [DEBUG] .q.m.l.l.i.LoginManagerImpl - POS ID:pos-0002, init challenge saved - [87, 54, 73, 89, 90, 85, 102, 82]
2012-06-26 10:50:32,280 [pool-4-thread-11] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 10:50:32,296 [pool-4-thread-11] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 10:50:32,296 [pool-4-thread-11] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 10:50:32,296 [pool-4-thread-11] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 10:50:32,296 [pool-4-thread-11] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 14
2012-06-26 10:50:32,296 [pool-4-thread-11] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (6)
2012-06-26 10:50:32,296 [pool-4-thread-11] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageResponseCodec@6f6068
2012-06-26 10:50:32,296 [pool-4-thread-11] [DEBUG] .c.InitMessageResponseCodec - init response message encode
2012-06-26 10:50:32,296 [pool-4-thread-11] [TRACE] .c.InitMessageResponseCodec - InitResponseMessage: [cmdId=6, result=0, challenge=[87, 54, 73, 89, 90, 85, 102, 82]]
2012-06-26 10:50:32,296 [pool-4-thread-11] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0x9ea3
2012-06-26 10:50:32,296 [pool-4-thread-11] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 10:50:32,296 [pool-4-thread-11] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 9E A3 00 00 00 1E ................
00000010 00 00 00 06 00 00 57 36 49 59 5A 55 66 52       ......W6IYZUfR

2012-06-26 10:50:32,296 [pool-4-thread-11] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 10:50:32,296 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 10:50:32,296 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 10:50:32,296 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 14: not mark to return session ID to client
2012-06-26 10:50:32,296 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 10:50:32,296 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 10:50:32,296 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 10:50:32,296 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2407, Mina session ID 14, identified POS ID pos-0002
2012-06-26 10:50:32,296 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 63 47 00 00 00 30 ..........cG...0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 98 FC 38 15 CF 28 D6 41 B5 20 37 7F 19 C3 DB A1 ..8..(.A. 7.....

2012-06-26 10:50:32,296 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=48 cap=2048: 00 00 00 01 00 00 00 00 00 00 63 47 00 00 00 30...]
2012-06-26 10:50:32,296 [NioProcessor-3  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 14
2012-06-26 10:50:32,296 [NioProcessor-3  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 10:50:32,296 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 10:50:32,296 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 14
2012-06-26 10:50:32,296 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =48
2012-06-26 10:50:32,296 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 63 47 00 00 00 30 ..........cG...0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 98 FC 38 15 CF 28 D6 41 B5 20 37 7F 19 C3 DB A1 ..8..(.A. 7.....

2012-06-26 10:50:32,296 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 48, current position: 0
2012-06-26 10:50:32,296 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 10:50:32,296 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x6347} messageSize:{0x30} sessionKey:{null}
2012-06-26 10:50:32,296 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 32
2012-06-26 10:50:32,296 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=32, in.remaining=32
2012-06-26 10:50:32,296 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 10:50:32,296 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 7
2012-06-26 10:50:32,296 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 7: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageCodec@8d8f67
2012-06-26 10:50:32,296 [NioProcessor-3  ] [DEBUG] m.p.s.m.c.LoginMessageCodec - login/bind message decode
2012-06-26 10:50:32,296 [NioProcessor-3  ] [TRACE] m.p.s.m.c.LoginMessageCodec - LoginRequestMessage: [cmdId=7, posId=pos-0002, challengeResponse=[-104, -4, 56, 21, -49, 40, -42, 65, -75, 32, 55, 127, 25, -61, -37, -95]]
2012-06-26 10:50:32,296 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 10:50:32,296 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x6347} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[-104, -4, 56, 21, -49, 40, -42, 65, -75, 32, 55, 127, 25, -61, -37, -95]]
2012-06-26 10:50:32,296 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 10:50:32,296 [NioProcessor-3  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 10:50:32,296 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 10:50:32,296 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 10:50:32,296 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 10:50:32,296 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 10:50:32,296 [NioProcessor-3  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2407, Mina session ID 14, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x6347} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[-104, -4, 56, 21, -49, 40, -42, 65, -75, 32, 55, 127, 25, -61, -37, -95]]
2012-06-26 10:50:32,296 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 10:50:32,296 [pool-4-thread-12] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 10:50:32,296 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 10:50:32,296 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 10:50:32,296 [NioProcessor-3  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 10:50:32,296 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 10:50:32,296 [pool-4-thread-12] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 10:50:32,296 [pool-4-thread-12] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@135f0a obtained for command ID 7
2012-06-26 10:50:32,296 [pool-4-thread-12] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 7 is com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@135f0a
2012-06-26 10:50:32,296 [pool-4-thread-12] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==bodyMessage=: [cmdId=7, posId=pos-0002, challengeResponse=[-104, -4, 56, 21, -49, 40, -42, 65, -75, 32, 55, 127, 25, -61, -37, -95]]
2012-06-26 10:50:32,296 [pool-4-thread-12] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:null
2012-06-26 10:50:32,296 [pool-4-thread-12] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId
2012-06-26 10:50:32,296 [pool-4-thread-12] [TRACE] .q.m.l.l.i.LoginManagerImpl - Loaded from db: pos.posId:pos-0002, pos.secret:000001, oldChallenge:[87, 54, 73, 89, 90, 85, 102, 82]
2012-06-26 10:50:32,296 [pool-4-thread-12] [DEBUG] .q.m.l.l.i.LoginManagerImpl - disableChallengeCheck =0
2012-06-26 10:50:32,296 [pool-4-thread-12] [TRACE] c.c.q.m.l.c.ChallengeUtil   - checking challenge:response:[-104, -4, 56, 21, -49, 40, -42, 65, -75, 32, 55, 127, 25, -61, -37, -95], posKey:000001, random:[87, 54, 73, 89, 90, 85, 102, 82]
2012-06-26 10:50:32,296 [pool-4-thread-12] [DEBUG] .q.m.l.l.i.LoginManagerImpl - new challenge for POS (POS ID): [68, 119, 111, 117, 65, 90, 84, 78]
2012-06-26 10:50:32,296 [pool-4-thread-12] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==serverKey=:JXTPOS
2012-06-26 10:50:32,312 [pool-4-thread-12] [DEBUG] ThreadSafeClientConnManager - Get connection: HttpRoute[{}->http://localhost:7070], timeout = 0
2012-06-26 10:50:32,312 [pool-4-thread-12] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - [HttpRoute[{}->http://localhost:7070]] total kept alive: 0, total issued: 0, total allocated: 0 out of 20
2012-06-26 10:50:32,312 [pool-4-thread-12] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - No free connections [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 10:50:32,312 [pool-4-thread-12] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Available capacity: 2 out of 2 [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 10:50:32,312 [pool-4-thread-12] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Creating new connection [HttpRoute[{}->http://localhost:7070]]
2012-06-26 10:50:32,312 [pool-4-thread-12] [DEBUG] ultClientConnectionOperator - Connecting to localhost:7070
2012-06-26 10:50:33,466 [pool-4-thread-12] [DEBUG] i.c.DefaultClientConnection - Connection closed
2012-06-26 10:50:33,466 [pool-4-thread-12] [DEBUG] i.c.DefaultClientConnection - Connection shut down
2012-06-26 10:50:33,466 [pool-4-thread-12] [DEBUG] ThreadSafeClientConnManager - Released connection is not reusable.
2012-06-26 10:50:33,466 [pool-4-thread-12] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Releasing connection [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 10:50:33,466 [pool-4-thread-12] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Notifying no-one, there are no waiting threads
2012-06-26 10:50:33,466 [pool-4-thread-12] [ERROR] q.m.p.h.LoginCommandHandler - initGrouponCache fail:com.chinarewards.qqgbvpn.qqapi.exception.ParseXMLException: com.chinarewards.qqgbvpn.qqapi.exception.SendPostTimeOutException: org.apache.http.conn.HttpHostConnectException: Connection to http://localhost:7070 refused
2012-06-26 10:50:33,497 [pool-4-thread-12] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 10:50:33,497 [pool-4-thread-12] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 10:50:33,497 [pool-4-thread-12] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 10:50:33,497 [pool-4-thread-12] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 10:50:33,497 [pool-4-thread-12] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 14
2012-06-26 10:50:33,497 [pool-4-thread-12] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (8)
2012-06-26 10:50:33,497 [pool-4-thread-12] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageResponseCodec@2130c2
2012-06-26 10:50:33,497 [pool-4-thread-12] [DEBUG] c.LoginMessageResponseCodec - login/bind message encode
2012-06-26 10:50:33,497 [pool-4-thread-12] [TRACE] c.LoginMessageResponseCodec - LoginResponseMessage: [cmdId=8, result=0, challenge=[68, 119, 111, 117, 65, 90, 84, 78]]
2012-06-26 10:50:33,497 [pool-4-thread-12] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0xb643
2012-06-26 10:50:33,497 [pool-4-thread-12] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 10:50:33,497 [pool-4-thread-12] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 B6 43 00 00 00 1E ...........C....
00000010 00 00 00 08 00 00 44 77 6F 75 41 5A 54 4E       ......DwouAZTN

2012-06-26 10:50:33,497 [pool-4-thread-12] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 10:50:33,497 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 10:50:33,497 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 10:50:33,497 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 14: not mark to return session ID to client
2012-06-26 10:50:33,497 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 10:50:33,497 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 10:50:33,497 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 10:50:33,497 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2407, Mina session ID 14, identified POS ID pos-0002
2012-06-26 10:50:33,497 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 33 of 33 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 D1 FF 00 00 00 21 ...............!
00000010 00 00 00 C9 00 0B 32 32 32 32 32 32 32 32 32 32 ......2222222222
00000020 32                                              2

2012-06-26 10:50:33,497 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=33 cap=1024: 00 00 00 10 00 00 00 00 00 00 D1 FF 00 00 00 21...]
2012-06-26 10:50:33,497 [NioProcessor-3  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 14
2012-06-26 10:50:33,497 [NioProcessor-3  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 10:50:33,497 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 10:50:33,497 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 14
2012-06-26 10:50:33,497 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =33
2012-06-26 10:50:33,497 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 33 of 33 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 D1 FF 00 00 00 21 ...............!
00000010 00 00 00 C9 00 0B 32 32 32 32 32 32 32 32 32 32 ......2222222222
00000020 32                                              2

2012-06-26 10:50:33,497 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 33, current position: 0
2012-06-26 10:50:33,497 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 10:50:33,497 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd1ff} messageSize:{0x21} sessionKey:{null}
2012-06-26 10:50:33,497 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 17
2012-06-26 10:50:33,497 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=17, in.remaining=17
2012-06-26 10:50:33,497 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 10:50:33,497 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 201
2012-06-26 10:50:33,497 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 201: com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftMessageCodec@10812ac
2012-06-26 10:50:33,497 [NioProcessor-3  ] [DEBUG] m.c.ReceiveGiftMessageCodec - receive gift request message decode
2012-06-26 10:50:33,497 [NioProcessor-3  ] [DEBUG] m.c.ReceiveGiftMessageCodec - in.remaining()=17
2012-06-26 10:50:33,497 [Finalizer       ] [DEBUG] ThreadSafeClientConnManager - Shutting down
2012-06-26 10:50:33,497 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 10:50:33,497 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd1ff} messageSize:{0x21} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@e6c6d7
2012-06-26 10:50:33,497 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 10:50:33,497 [NioProcessor-3  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 10:50:33,497 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 10:50:33,497 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 10:50:33,497 [NioProcessor-3  ] [DEBUG] c.c.q.m.p.f.LoginFilter     - isLogin=true
2012-06-26 10:50:33,497 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 10:50:33,497 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 10:50:33,497 [NioProcessor-3  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2407, Mina session ID 14, identified POS ID pos-0002, message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd1ff} messageSize:{0x21} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@e6c6d7
2012-06-26 10:50:33,497 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 10:50:33,497 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 10:50:33,497 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 10:50:33,497 [NioProcessor-3  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 10:50:33,497 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 10:50:33,497 [pool-4-thread-13] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 10:50:33,497 [pool-4-thread-13] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 10:50:33,497 [pool-4-thread-13] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@8fc7a7 obtained for command ID 201
2012-06-26 10:50:33,497 [pool-4-thread-13] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 201 is com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@8fc7a7
2012-06-26 10:50:33,497 [pool-4-thread-13] [DEBUG] h.ReceiveGiftCommandHandler - ReceiveGiftHandler======execute==bodyMessage=: com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@e6c6d7
2012-06-26 10:50:33,497 [pool-4-thread-13] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 10:50:33,497 [pool-4-thread-13] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 10:50:33,497 [pool-4-thread-13] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 10:50:33,497 [pool-4-thread-13] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 10:50:33,497 [pool-4-thread-13] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 14
2012-06-26 10:50:33,497 [pool-4-thread-13] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (202)
2012-06-26 10:50:33,497 [pool-4-thread-13] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftResponseMessageCodec@c1df71
2012-06-26 10:50:33,497 [pool-4-thread-13] [DEBUG] iveGiftResponseMessageCodec - receive gift response message encode
2012-06-26 10:50:33,497 [pool-4-thread-13] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0x4e98
2012-06-26 10:50:33,497 [pool-4-thread-13] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 10:50:33,497 [pool-4-thread-13] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 55 of 55 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 4E 98 00 00 00 37 ..........N....7
00000010 00 00 00 CA 00 00 00 01 07 DC 06 1A 0A 32 21 01 .............2!.
00000020 F1 01 E0 00 08 C1 EC C8 A1 C0 F1 C6 B7 00 08 D2 ................
00000030 D1 C1 EC C8 A1 B9 FD                            .......

2012-06-26 10:50:33,497 [pool-4-thread-13] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 10:50:33,497 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 10:50:33,497 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 10:50:33,497 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 14: not mark to return session ID to client
2012-06-26 10:50:33,497 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 10:50:33,497 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 10:50:33,497 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 10:50:33,497 [NioProcessor-3  ] [INFO ] o.a.m.f.l.LoggingFilter     - CLOSED
2012-06-26 10:50:33,497 [NioProcessor-3  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 10:50:41,594 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:50:41,594 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:50:41,594 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 10:50:41,594 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=3
2012-06-26 10:50:41,594 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:50:51,595 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:50:51,595 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:50:51,595 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 10:50:51,595 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=3
2012-06-26 10:50:51,595 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:51:01,595 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:51:01,595 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:51:01,595 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 10:51:01,595 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=3
2012-06-26 10:51:01,595 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:51:11,596 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:51:11,596 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:51:11,596 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 10:51:11,596 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=3
2012-06-26 10:51:11,596 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:51:21,596 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:51:21,596 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:51:21,596 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 10:51:21,596 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=3
2012-06-26 10:51:21,596 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:51:31,597 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:51:31,597 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:51:31,597 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 10:51:31,597 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=3
2012-06-26 10:51:31,597 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:51:41,597 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:51:41,597 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:51:41,597 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 10:51:41,597 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=3
2012-06-26 10:51:41,597 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:51:42,783 [NioProcessor-1  ] [INFO ] c.c.q.m.p.f.LoggingFilter   - incoming connection from remote address: 127.0.0.1:2413, Mina session ID: 15
2012-06-26 10:51:42,783 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - Currently managed session count: 1
2012-06-26 10:51:42,783 [NioProcessor-1  ] [INFO ] o.a.m.f.l.LoggingFilter     - CREATED
2012-06-26 10:51:42,783 [NioProcessor-1  ] [INFO ] o.a.m.f.l.LoggingFilter     - OPENED
2012-06-26 10:51:42,924 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2413, Mina session ID 15, identified POS ID null
2012-06-26 10:51:42,924 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 10:51:42,924 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=32 cap=2048: 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20...]
2012-06-26 10:51:42,924 [NioProcessor-1  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 15
2012-06-26 10:51:42,924 [NioProcessor-1  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 10:51:42,924 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 10:51:42,924 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 15
2012-06-26 10:51:42,924 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =32
2012-06-26 10:51:42,924 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 10:51:42,924 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 32, current position: 0
2012-06-26 10:51:42,924 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 10:51:42,924 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}
2012-06-26 10:51:42,924 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 16
2012-06-26 10:51:42,924 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=16, in.remaining=16
2012-06-26 10:51:42,924 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 10:51:42,924 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 5
2012-06-26 10:51:42,924 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 5: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageCodec@1bf9b45
2012-06-26 10:51:42,924 [NioProcessor-1  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - init request message decode
2012-06-26 10:51:42,924 [NioProcessor-1  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - in.remaining()=16
2012-06-26 10:51:42,924 [NioProcessor-1  ] [TRACE] .m.p.s.m.c.InitMessageCodec - InitRequestMessage: [cmdId=5, posId=pos-0002]
2012-06-26 10:51:42,924 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 10:51:42,924 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 10:51:42,924 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 10:51:42,924 [NioProcessor-1  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 10:51:42,924 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 10:51:42,924 [NioProcessor-1  ] [DEBUG] p.f.SessionKeyMessageFilter - Mina session ID 15: created session key 45512bf17750404282ca82f37ccfe944
2012-06-26 10:51:42,924 [NioProcessor-1  ] [DEBUG] p.f.SessionKeyMessageFilter - creating session for mina session ID 15 using session ID 45512bf17750404282ca82f37ccfe944
2012-06-26 10:51:42,924 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 10:51:42,924 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 10:51:42,924 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 10:51:42,924 [NioProcessor-1  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2413, Mina session ID 15, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 10:51:42,924 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 10:51:42,924 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 10:51:42,924 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 10:51:42,924 [NioProcessor-1  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 10:51:42,924 [pool-4-thread-14] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 10:51:42,924 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 10:51:42,924 [pool-4-thread-14] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 10:51:42,924 [pool-4-thread-14] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@272fec obtained for command ID 5
2012-06-26 10:51:42,924 [pool-4-thread-14] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 5 is com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@272fec
2012-06-26 10:51:42,924 [pool-4-thread-14] [DEBUG] .q.m.p.h.InitCommandHandler - InitCommandHandler======execute==bodyMessage=:  [cmdId=5, posId=pos-0002]
2012-06-26 10:51:42,924 [pool-4-thread-14] [DEBUG] .q.m.l.l.i.LoginManagerImpl - InitResponse() invoke
2012-06-26 10:51:42,924 [pool-4-thread-14] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:ALLOWED
2012-06-26 10:51:42,924 [pool-4-thread-14] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId AND p.ostatus = :ostatus
2012-06-26 10:51:42,924 [pool-4-thread-14] [DEBUG] .q.m.l.l.i.LoginManagerImpl - POS ID:pos-0002, init challenge saved - [56, 109, 118, 105, 50, 102, 76, 50]
2012-06-26 10:51:42,924 [pool-4-thread-14] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 10:51:43,002 [pool-4-thread-14] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 10:51:43,002 [pool-4-thread-14] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 10:51:43,002 [pool-4-thread-14] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 10:51:43,002 [pool-4-thread-14] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 15
2012-06-26 10:51:43,002 [pool-4-thread-14] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (6)
2012-06-26 10:51:43,002 [pool-4-thread-14] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageResponseCodec@a53564
2012-06-26 10:51:43,002 [pool-4-thread-14] [DEBUG] .c.InitMessageResponseCodec - init response message encode
2012-06-26 10:51:43,002 [pool-4-thread-14] [TRACE] .c.InitMessageResponseCodec - InitResponseMessage: [cmdId=6, result=0, challenge=[56, 109, 118, 105, 50, 102, 76, 50]]
2012-06-26 10:51:43,002 [pool-4-thread-14] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0xd26b
2012-06-26 10:51:43,002 [pool-4-thread-14] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 10:51:43,002 [pool-4-thread-14] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 D2 6B 00 00 00 1E ...........k....
00000010 00 00 00 06 00 00 38 6D 76 69 32 66 4C 32       ......8mvi2fL2

2012-06-26 10:51:43,002 [pool-4-thread-14] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 10:51:43,002 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 10:51:43,002 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 10:51:43,002 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 15: not mark to return session ID to client
2012-06-26 10:51:43,002 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 10:51:43,002 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 10:51:43,002 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 10:51:43,220 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2413, Mina session ID 15, identified POS ID pos-0002
2012-06-26 10:51:43,220 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 45 D1 00 00 00 30 ..........E....0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 F3 AD DA 4A 36 FD 1C 83 78 1A 14 F1 43 B9 83 B9 ...J6...x...C...

2012-06-26 10:51:43,220 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=48 cap=2048: 00 00 00 01 00 00 00 00 00 00 45 D1 00 00 00 30...]
2012-06-26 10:51:43,220 [NioProcessor-1  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 15
2012-06-26 10:51:43,220 [NioProcessor-1  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 10:51:43,220 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 10:51:43,220 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 15
2012-06-26 10:51:43,220 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =48
2012-06-26 10:51:43,220 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 45 D1 00 00 00 30 ..........E....0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 F3 AD DA 4A 36 FD 1C 83 78 1A 14 F1 43 B9 83 B9 ...J6...x...C...

2012-06-26 10:51:43,220 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 48, current position: 0
2012-06-26 10:51:43,220 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 10:51:43,220 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x45d1} messageSize:{0x30} sessionKey:{null}
2012-06-26 10:51:43,220 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 32
2012-06-26 10:51:43,220 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=32, in.remaining=32
2012-06-26 10:51:43,220 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 10:51:43,220 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 7
2012-06-26 10:51:43,220 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 7: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageCodec@19d2f6b
2012-06-26 10:51:43,220 [NioProcessor-1  ] [DEBUG] m.p.s.m.c.LoginMessageCodec - login/bind message decode
2012-06-26 10:51:43,220 [NioProcessor-1  ] [TRACE] m.p.s.m.c.LoginMessageCodec - LoginRequestMessage: [cmdId=7, posId=pos-0002, challengeResponse=[-13, -83, -38, 74, 54, -3, 28, -125, 120, 26, 20, -15, 67, -71, -125, -71]]
2012-06-26 10:51:43,220 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 10:51:43,220 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x45d1} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[-13, -83, -38, 74, 54, -3, 28, -125, 120, 26, 20, -15, 67, -71, -125, -71]]
2012-06-26 10:51:43,220 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 10:51:43,220 [NioProcessor-1  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 10:51:43,220 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 10:51:43,220 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 10:51:43,220 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 10:51:43,220 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 10:51:43,220 [NioProcessor-1  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2413, Mina session ID 15, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x45d1} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[-13, -83, -38, 74, 54, -3, 28, -125, 120, 26, 20, -15, 67, -71, -125, -71]]
2012-06-26 10:51:43,220 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 10:51:43,220 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 10:51:43,220 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 10:51:43,220 [NioProcessor-1  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 10:51:43,220 [pool-4-thread-15] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 10:51:43,220 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 10:51:43,220 [pool-4-thread-15] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 10:51:43,220 [pool-4-thread-15] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@1d3ac6e obtained for command ID 7
2012-06-26 10:51:43,220 [pool-4-thread-15] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 7 is com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@1d3ac6e
2012-06-26 10:51:43,220 [pool-4-thread-15] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==bodyMessage=: [cmdId=7, posId=pos-0002, challengeResponse=[-13, -83, -38, 74, 54, -3, 28, -125, 120, 26, 20, -15, 67, -71, -125, -71]]
2012-06-26 10:51:43,220 [pool-4-thread-15] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:null
2012-06-26 10:51:43,220 [pool-4-thread-15] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId
2012-06-26 10:51:43,220 [pool-4-thread-15] [TRACE] .q.m.l.l.i.LoginManagerImpl - Loaded from db: pos.posId:pos-0002, pos.secret:000001, oldChallenge:[56, 109, 118, 105, 50, 102, 76, 50]
2012-06-26 10:51:43,220 [pool-4-thread-15] [DEBUG] .q.m.l.l.i.LoginManagerImpl - disableChallengeCheck =0
2012-06-26 10:51:43,220 [pool-4-thread-15] [TRACE] c.c.q.m.l.c.ChallengeUtil   - checking challenge:response:[-13, -83, -38, 74, 54, -3, 28, -125, 120, 26, 20, -15, 67, -71, -125, -71], posKey:000001, random:[56, 109, 118, 105, 50, 102, 76, 50]
2012-06-26 10:51:43,220 [pool-4-thread-15] [DEBUG] .q.m.l.l.i.LoginManagerImpl - new challenge for POS (POS ID): [116, 103, 78, 105, 119, 74, 101, 66]
2012-06-26 10:51:43,220 [pool-4-thread-15] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==serverKey=:JXTPOS
2012-06-26 10:51:43,220 [pool-4-thread-15] [DEBUG] ThreadSafeClientConnManager - Get connection: HttpRoute[{}->http://localhost:7070], timeout = 0
2012-06-26 10:51:43,220 [pool-4-thread-15] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - [HttpRoute[{}->http://localhost:7070]] total kept alive: 0, total issued: 0, total allocated: 0 out of 20
2012-06-26 10:51:43,220 [pool-4-thread-15] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - No free connections [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 10:51:43,220 [pool-4-thread-15] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Available capacity: 2 out of 2 [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 10:51:43,220 [pool-4-thread-15] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Creating new connection [HttpRoute[{}->http://localhost:7070]]
2012-06-26 10:51:43,236 [pool-4-thread-15] [DEBUG] ultClientConnectionOperator - Connecting to localhost:7070
2012-06-26 10:51:44,250 [pool-4-thread-15] [DEBUG] i.c.DefaultClientConnection - Connection closed
2012-06-26 10:51:44,250 [pool-4-thread-15] [DEBUG] i.c.DefaultClientConnection - Connection shut down
2012-06-26 10:51:44,250 [pool-4-thread-15] [DEBUG] ThreadSafeClientConnManager - Released connection is not reusable.
2012-06-26 10:51:44,250 [pool-4-thread-15] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Releasing connection [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 10:51:44,250 [pool-4-thread-15] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Notifying no-one, there are no waiting threads
2012-06-26 10:51:44,250 [pool-4-thread-15] [ERROR] q.m.p.h.LoginCommandHandler - initGrouponCache fail:com.chinarewards.qqgbvpn.qqapi.exception.ParseXMLException: com.chinarewards.qqgbvpn.qqapi.exception.SendPostTimeOutException: org.apache.http.conn.HttpHostConnectException: Connection to http://localhost:7070 refused
2012-06-26 10:51:44,281 [pool-4-thread-15] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 10:51:44,296 [pool-4-thread-15] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 10:51:44,296 [pool-4-thread-15] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 10:51:44,296 [pool-4-thread-15] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 10:51:44,296 [pool-4-thread-15] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 15
2012-06-26 10:51:44,296 [pool-4-thread-15] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (8)
2012-06-26 10:51:44,296 [pool-4-thread-15] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageResponseCodec@12ab74f
2012-06-26 10:51:44,296 [pool-4-thread-15] [DEBUG] c.LoginMessageResponseCodec - login/bind message encode
2012-06-26 10:51:44,296 [pool-4-thread-15] [TRACE] c.LoginMessageResponseCodec - LoginResponseMessage: [cmdId=8, result=0, challenge=[116, 103, 78, 105, 119, 74, 101, 66]]
2012-06-26 10:51:44,296 [pool-4-thread-15] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0x607b
2012-06-26 10:51:44,296 [pool-4-thread-15] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 10:51:44,296 [pool-4-thread-15] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 60 7B 00 00 00 1E ..........`{....
00000010 00 00 00 08 00 00 74 67 4E 69 77 4A 65 42       ......tgNiwJeB

2012-06-26 10:51:44,296 [pool-4-thread-15] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 10:51:44,296 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 10:51:44,296 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 10:51:44,296 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 15: not mark to return session ID to client
2012-06-26 10:51:44,296 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 10:51:44,296 [Finalizer       ] [DEBUG] ThreadSafeClientConnManager - Shutting down
2012-06-26 10:51:44,296 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 10:51:44,296 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 10:51:44,296 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2413, Mina session ID 15, identified POS ID pos-0002
2012-06-26 10:51:44,296 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 33 of 33 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 D8 04 00 00 00 21 ...............!
00000010 00 00 00 C9 00 0B 31 31 31 31 31 31 31 31 31 31 ......1111111111
00000020 31                                              1

2012-06-26 10:51:44,296 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=33 cap=1024: 00 00 00 10 00 00 00 00 00 00 D8 04 00 00 00 21...]
2012-06-26 10:51:44,296 [NioProcessor-1  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 15
2012-06-26 10:51:44,296 [NioProcessor-1  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 10:51:44,296 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 10:51:44,296 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 15
2012-06-26 10:51:44,296 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =33
2012-06-26 10:51:44,296 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 33 of 33 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 D8 04 00 00 00 21 ...............!
00000010 00 00 00 C9 00 0B 31 31 31 31 31 31 31 31 31 31 ......1111111111
00000020 31                                              1

2012-06-26 10:51:44,296 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 33, current position: 0
2012-06-26 10:51:44,296 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 10:51:44,296 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd804} messageSize:{0x21} sessionKey:{null}
2012-06-26 10:51:44,296 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 17
2012-06-26 10:51:44,296 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=17, in.remaining=17
2012-06-26 10:51:44,296 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 10:51:44,296 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 201
2012-06-26 10:51:44,296 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 201: com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftMessageCodec@10c0ef2
2012-06-26 10:51:44,296 [NioProcessor-1  ] [DEBUG] m.c.ReceiveGiftMessageCodec - receive gift request message decode
2012-06-26 10:51:44,296 [NioProcessor-1  ] [DEBUG] m.c.ReceiveGiftMessageCodec - in.remaining()=17
2012-06-26 10:51:44,296 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 10:51:44,296 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd804} messageSize:{0x21} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@a93995
2012-06-26 10:51:44,296 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 10:51:44,296 [NioProcessor-1  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 10:51:44,296 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 10:51:44,296 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 10:51:44,296 [NioProcessor-1  ] [DEBUG] c.c.q.m.p.f.LoginFilter     - isLogin=true
2012-06-26 10:51:44,296 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 10:51:44,296 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 10:51:44,296 [NioProcessor-1  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2413, Mina session ID 15, identified POS ID pos-0002, message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd804} messageSize:{0x21} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@a93995
2012-06-26 10:51:44,296 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 10:51:44,296 [pool-4-thread-16] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 10:51:44,296 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 10:51:44,296 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 10:51:44,296 [NioProcessor-1  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 10:51:44,296 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 10:51:44,296 [pool-4-thread-16] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 10:51:44,296 [pool-4-thread-16] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@11d329d obtained for command ID 201
2012-06-26 10:51:44,296 [pool-4-thread-16] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 201 is com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@11d329d
2012-06-26 10:51:44,296 [pool-4-thread-16] [DEBUG] h.ReceiveGiftCommandHandler - ReceiveGiftHandler======execute==bodyMessage=: com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@a93995
2012-06-26 10:51:44,312 [pool-4-thread-16] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 10:51:44,312 [pool-4-thread-16] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 10:51:44,312 [pool-4-thread-16] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 10:51:44,312 [pool-4-thread-16] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 10:51:44,312 [pool-4-thread-16] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 15
2012-06-26 10:51:44,312 [pool-4-thread-16] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (202)
2012-06-26 10:51:44,312 [pool-4-thread-16] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftResponseMessageCodec@533246
2012-06-26 10:51:44,312 [pool-4-thread-16] [DEBUG] iveGiftResponseMessageCodec - receive gift response message encode
2012-06-26 10:51:44,312 [pool-4-thread-16] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0xfc97
2012-06-26 10:51:44,312 [pool-4-thread-16] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 10:51:44,312 [pool-4-thread-16] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 55 of 55 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 FC 97 00 00 00 37 ...............7
00000010 00 00 00 CA 00 00 00 01 07 DC 06 1A 0A 33 2C 01 .............3,.
00000020 38 01 E0 00 08 C1 EC C8 A1 C0 F1 C6 B7 00 08 D2 8...............
00000030 D1 C1 EC C8 A1 B9 FD                            .......

2012-06-26 10:51:44,312 [pool-4-thread-16] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 10:51:44,312 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 10:51:44,312 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 10:51:44,312 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 15: not mark to return session ID to client
2012-06-26 10:51:44,312 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 10:51:44,312 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 10:51:44,312 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 10:51:44,312 [NioProcessor-1  ] [INFO ] o.a.m.f.l.LoggingFilter     - CLOSED
2012-06-26 10:51:44,312 [NioProcessor-1  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 10:51:51,629 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:51:51,629 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:51:51,629 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=4
2012-06-26 10:51:51,629 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=4
2012-06-26 10:51:51,629 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:52:01,630 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:52:01,630 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:52:01,630 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=4
2012-06-26 10:52:01,630 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=4
2012-06-26 10:52:01,630 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:52:11,630 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:52:11,630 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:52:11,630 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=4
2012-06-26 10:52:11,630 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=4
2012-06-26 10:52:11,630 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:52:21,631 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:52:21,631 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:52:21,631 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=4
2012-06-26 10:52:21,631 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=4
2012-06-26 10:52:21,631 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:52:31,647 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:52:31,647 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:52:31,647 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=4
2012-06-26 10:52:31,647 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=4
2012-06-26 10:52:31,647 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:52:41,648 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:52:41,648 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:52:41,648 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=4
2012-06-26 10:52:41,648 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=4
2012-06-26 10:52:41,648 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:52:51,648 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:52:51,648 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:52:51,648 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=4
2012-06-26 10:52:51,648 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=4
2012-06-26 10:52:51,648 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:52:55,314 [NioProcessor-2  ] [INFO ] c.c.q.m.p.f.LoggingFilter   - incoming connection from remote address: 127.0.0.1:2428, Mina session ID: 16
2012-06-26 10:52:55,314 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - Currently managed session count: 1
2012-06-26 10:52:55,314 [NioProcessor-2  ] [INFO ] o.a.m.f.l.LoggingFilter     - CREATED
2012-06-26 10:52:55,314 [NioProcessor-2  ] [INFO ] o.a.m.f.l.LoggingFilter     - OPENED
2012-06-26 10:52:55,470 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2428, Mina session ID 16, identified POS ID null
2012-06-26 10:52:55,470 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 10:52:55,470 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=32 cap=2048: 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20...]
2012-06-26 10:52:55,486 [NioProcessor-2  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 16
2012-06-26 10:52:55,486 [NioProcessor-2  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 10:52:55,486 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 10:52:55,486 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 16
2012-06-26 10:52:55,486 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =32
2012-06-26 10:52:55,486 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 10:52:55,486 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 32, current position: 0
2012-06-26 10:52:55,486 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 10:52:55,486 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}
2012-06-26 10:52:55,486 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 16
2012-06-26 10:52:55,486 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=16, in.remaining=16
2012-06-26 10:52:55,486 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 10:52:55,486 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 5
2012-06-26 10:52:55,486 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 5: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageCodec@1781288
2012-06-26 10:52:55,486 [NioProcessor-2  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - init request message decode
2012-06-26 10:52:55,486 [NioProcessor-2  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - in.remaining()=16
2012-06-26 10:52:55,486 [NioProcessor-2  ] [TRACE] .m.p.s.m.c.InitMessageCodec - InitRequestMessage: [cmdId=5, posId=pos-0002]
2012-06-26 10:52:55,486 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 10:52:55,486 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 10:52:55,486 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 10:52:55,486 [NioProcessor-2  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 10:52:55,486 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 10:52:55,486 [NioProcessor-2  ] [DEBUG] p.f.SessionKeyMessageFilter - Mina session ID 16: created session key 7650bb4094c64bb79ff3ebc2a14f2e17
2012-06-26 10:52:55,486 [NioProcessor-2  ] [DEBUG] p.f.SessionKeyMessageFilter - creating session for mina session ID 16 using session ID 7650bb4094c64bb79ff3ebc2a14f2e17
2012-06-26 10:52:55,486 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 10:52:55,486 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 10:52:55,486 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 10:52:55,486 [NioProcessor-2  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2428, Mina session ID 16, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 10:52:55,486 [pool-4-thread-17] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 10:52:55,486 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 10:52:55,486 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 10:52:55,486 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 10:52:55,486 [NioProcessor-2  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 10:52:55,486 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 10:52:55,486 [pool-4-thread-17] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 10:52:55,486 [pool-4-thread-17] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@7a140f obtained for command ID 5
2012-06-26 10:52:55,486 [pool-4-thread-17] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 5 is com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@7a140f
2012-06-26 10:52:55,486 [pool-4-thread-17] [DEBUG] .q.m.p.h.InitCommandHandler - InitCommandHandler======execute==bodyMessage=:  [cmdId=5, posId=pos-0002]
2012-06-26 10:52:55,486 [pool-4-thread-17] [DEBUG] .q.m.l.l.i.LoginManagerImpl - InitResponse() invoke
2012-06-26 10:52:55,486 [pool-4-thread-17] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:ALLOWED
2012-06-26 10:52:55,486 [pool-4-thread-17] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId AND p.ostatus = :ostatus
2012-06-26 10:52:55,486 [pool-4-thread-17] [DEBUG] .q.m.l.l.i.LoginManagerImpl - POS ID:pos-0002, init challenge saved - [118, 51, 116, 122, 110, 53, 66, 90]
2012-06-26 10:52:55,486 [pool-4-thread-17] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 10:52:55,502 [pool-4-thread-17] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 10:52:55,502 [pool-4-thread-17] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 10:52:55,502 [pool-4-thread-17] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 10:52:55,502 [pool-4-thread-17] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 16
2012-06-26 10:52:55,502 [pool-4-thread-17] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (6)
2012-06-26 10:52:55,502 [pool-4-thread-17] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageResponseCodec@128e909
2012-06-26 10:52:55,502 [pool-4-thread-17] [DEBUG] .c.InitMessageResponseCodec - init response message encode
2012-06-26 10:52:55,502 [pool-4-thread-17] [TRACE] .c.InitMessageResponseCodec - InitResponseMessage: [cmdId=6, result=0, challenge=[118, 51, 116, 122, 110, 53, 66, 90]]
2012-06-26 10:52:55,502 [pool-4-thread-17] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0x649d
2012-06-26 10:52:55,502 [pool-4-thread-17] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 10:52:55,502 [pool-4-thread-17] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 64 9D 00 00 00 1E ..........d.....
00000010 00 00 00 06 00 00 76 33 74 7A 6E 35 42 5A       ......v3tzn5BZ

2012-06-26 10:52:55,502 [pool-4-thread-17] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 10:52:55,502 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 10:52:55,502 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 10:52:55,502 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 16: not mark to return session ID to client
2012-06-26 10:52:55,502 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 10:52:55,502 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 10:52:55,502 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 10:52:55,720 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2428, Mina session ID 16, identified POS ID pos-0002
2012-06-26 10:52:55,720 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 C3 B0 00 00 00 30 ...............0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 09 DF 7E B7 2F 34 86 98 AF A9 E8 B3 64 AB BC AB ..~./4......d...

2012-06-26 10:52:55,720 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=48 cap=2048: 00 00 00 01 00 00 00 00 00 00 C3 B0 00 00 00 30...]
2012-06-26 10:52:55,720 [NioProcessor-2  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 16
2012-06-26 10:52:55,720 [NioProcessor-2  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 10:52:55,720 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 10:52:55,720 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 16
2012-06-26 10:52:55,720 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =48
2012-06-26 10:52:55,720 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 C3 B0 00 00 00 30 ...............0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 09 DF 7E B7 2F 34 86 98 AF A9 E8 B3 64 AB BC AB ..~./4......d...

2012-06-26 10:52:55,720 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 48, current position: 0
2012-06-26 10:52:55,720 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 10:52:55,720 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xc3b0} messageSize:{0x30} sessionKey:{null}
2012-06-26 10:52:55,720 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 32
2012-06-26 10:52:55,720 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=32, in.remaining=32
2012-06-26 10:52:55,720 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 10:52:55,720 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 7
2012-06-26 10:52:55,720 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 7: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageCodec@90288e
2012-06-26 10:52:55,720 [NioProcessor-2  ] [DEBUG] m.p.s.m.c.LoginMessageCodec - login/bind message decode
2012-06-26 10:52:55,720 [NioProcessor-2  ] [TRACE] m.p.s.m.c.LoginMessageCodec - LoginRequestMessage: [cmdId=7, posId=pos-0002, challengeResponse=[9, -33, 126, -73, 47, 52, -122, -104, -81, -87, -24, -77, 100, -85, -68, -85]]
2012-06-26 10:52:55,720 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 10:52:55,720 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xc3b0} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[9, -33, 126, -73, 47, 52, -122, -104, -81, -87, -24, -77, 100, -85, -68, -85]]
2012-06-26 10:52:55,736 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 10:52:55,736 [NioProcessor-2  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 10:52:55,736 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 10:52:55,736 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 10:52:55,736 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 10:52:55,736 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 10:52:55,736 [NioProcessor-2  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2428, Mina session ID 16, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xc3b0} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[9, -33, 126, -73, 47, 52, -122, -104, -81, -87, -24, -77, 100, -85, -68, -85]]
2012-06-26 10:52:55,736 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 10:52:55,736 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 10:52:55,736 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 10:52:55,736 [pool-4-thread-18] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 10:52:55,736 [NioProcessor-2  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 10:52:55,736 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 10:52:55,736 [pool-4-thread-18] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 10:52:55,736 [pool-4-thread-18] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@15cc135 obtained for command ID 7
2012-06-26 10:52:55,736 [pool-4-thread-18] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 7 is com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@15cc135
2012-06-26 10:52:55,736 [pool-4-thread-18] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==bodyMessage=: [cmdId=7, posId=pos-0002, challengeResponse=[9, -33, 126, -73, 47, 52, -122, -104, -81, -87, -24, -77, 100, -85, -68, -85]]
2012-06-26 10:52:55,736 [pool-4-thread-18] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:null
2012-06-26 10:52:55,736 [pool-4-thread-18] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId
2012-06-26 10:52:55,736 [pool-4-thread-18] [TRACE] .q.m.l.l.i.LoginManagerImpl - Loaded from db: pos.posId:pos-0002, pos.secret:000001, oldChallenge:[118, 51, 116, 122, 110, 53, 66, 90]
2012-06-26 10:52:55,736 [pool-4-thread-18] [DEBUG] .q.m.l.l.i.LoginManagerImpl - disableChallengeCheck =0
2012-06-26 10:52:55,736 [pool-4-thread-18] [TRACE] c.c.q.m.l.c.ChallengeUtil   - checking challenge:response:[9, -33, 126, -73, 47, 52, -122, -104, -81, -87, -24, -77, 100, -85, -68, -85], posKey:000001, random:[118, 51, 116, 122, 110, 53, 66, 90]
2012-06-26 10:52:55,736 [pool-4-thread-18] [DEBUG] .q.m.l.l.i.LoginManagerImpl - new challenge for POS (POS ID): [119, 79, 48, 88, 82, 110, 50, 120]
2012-06-26 10:52:55,736 [pool-4-thread-18] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==serverKey=:JXTPOS
2012-06-26 10:52:55,736 [pool-4-thread-18] [DEBUG] ThreadSafeClientConnManager - Get connection: HttpRoute[{}->http://localhost:7070], timeout = 0
2012-06-26 10:52:55,736 [pool-4-thread-18] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - [HttpRoute[{}->http://localhost:7070]] total kept alive: 0, total issued: 0, total allocated: 0 out of 20
2012-06-26 10:52:55,736 [pool-4-thread-18] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - No free connections [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 10:52:55,736 [pool-4-thread-18] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Available capacity: 2 out of 2 [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 10:52:55,736 [pool-4-thread-18] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Creating new connection [HttpRoute[{}->http://localhost:7070]]
2012-06-26 10:52:55,736 [pool-4-thread-18] [DEBUG] ultClientConnectionOperator - Connecting to localhost:7070
2012-06-26 10:52:56,703 [pool-4-thread-18] [DEBUG] i.c.DefaultClientConnection - Connection closed
2012-06-26 10:52:56,703 [pool-4-thread-18] [DEBUG] i.c.DefaultClientConnection - Connection shut down
2012-06-26 10:52:56,703 [pool-4-thread-18] [DEBUG] ThreadSafeClientConnManager - Released connection is not reusable.
2012-06-26 10:52:56,703 [pool-4-thread-18] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Releasing connection [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 10:52:56,703 [pool-4-thread-18] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Notifying no-one, there are no waiting threads
2012-06-26 10:52:56,703 [pool-4-thread-18] [ERROR] q.m.p.h.LoginCommandHandler - initGrouponCache fail:com.chinarewards.qqgbvpn.qqapi.exception.ParseXMLException: com.chinarewards.qqgbvpn.qqapi.exception.SendPostTimeOutException: org.apache.http.conn.HttpHostConnectException: Connection to http://localhost:7070 refused
2012-06-26 10:52:56,703 [pool-4-thread-18] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 10:52:56,734 [pool-4-thread-18] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 10:52:56,734 [pool-4-thread-18] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 10:52:56,734 [pool-4-thread-18] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 10:52:56,734 [Finalizer       ] [DEBUG] ThreadSafeClientConnManager - Shutting down
2012-06-26 10:52:56,734 [pool-4-thread-18] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 16
2012-06-26 10:52:56,734 [pool-4-thread-18] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (8)
2012-06-26 10:52:56,734 [pool-4-thread-18] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageResponseCodec@134ab9b
2012-06-26 10:52:56,734 [pool-4-thread-18] [DEBUG] c.LoginMessageResponseCodec - login/bind message encode
2012-06-26 10:52:56,734 [pool-4-thread-18] [TRACE] c.LoginMessageResponseCodec - LoginResponseMessage: [cmdId=8, result=0, challenge=[119, 79, 48, 88, 82, 110, 50, 120]]
2012-06-26 10:52:56,734 [pool-4-thread-18] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0xd34a
2012-06-26 10:52:56,734 [pool-4-thread-18] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 10:52:56,734 [pool-4-thread-18] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 D3 4A 00 00 00 1E ...........J....
00000010 00 00 00 08 00 00 77 4F 30 58 52 6E 32 78       ......wO0XRn2x

2012-06-26 10:52:56,734 [pool-4-thread-18] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 10:52:56,734 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 10:52:56,734 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 10:52:56,734 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 16: not mark to return session ID to client
2012-06-26 10:52:56,734 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 10:52:56,734 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 10:52:56,734 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 10:52:56,734 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2428, Mina session ID 16, identified POS ID pos-0002
2012-06-26 10:52:56,734 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 33 of 33 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 D8 04 00 00 00 21 ...............!
00000010 00 00 00 C9 00 0B 31 31 31 31 31 31 31 31 31 31 ......1111111111
00000020 31                                              1

2012-06-26 10:52:56,734 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=33 cap=1024: 00 00 00 10 00 00 00 00 00 00 D8 04 00 00 00 21...]
2012-06-26 10:52:56,734 [NioProcessor-2  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 16
2012-06-26 10:52:56,734 [NioProcessor-2  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 10:52:56,734 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 10:52:56,734 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 16
2012-06-26 10:52:56,734 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =33
2012-06-26 10:52:56,734 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 33 of 33 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 D8 04 00 00 00 21 ...............!
00000010 00 00 00 C9 00 0B 31 31 31 31 31 31 31 31 31 31 ......1111111111
00000020 31                                              1

2012-06-26 10:52:56,734 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 33, current position: 0
2012-06-26 10:52:56,734 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 10:52:56,734 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd804} messageSize:{0x21} sessionKey:{null}
2012-06-26 10:52:56,734 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 17
2012-06-26 10:52:56,734 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=17, in.remaining=17
2012-06-26 10:52:56,734 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 10:52:56,734 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 201
2012-06-26 10:52:56,734 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 201: com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftMessageCodec@ee644c
2012-06-26 10:52:56,734 [NioProcessor-2  ] [DEBUG] m.c.ReceiveGiftMessageCodec - receive gift request message decode
2012-06-26 10:52:56,734 [NioProcessor-2  ] [DEBUG] m.c.ReceiveGiftMessageCodec - in.remaining()=17
2012-06-26 10:52:56,734 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 10:52:56,734 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd804} messageSize:{0x21} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@fae93e
2012-06-26 10:52:56,734 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 10:52:56,734 [NioProcessor-2  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 10:52:56,734 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 10:52:56,734 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 10:52:56,734 [NioProcessor-2  ] [DEBUG] c.c.q.m.p.f.LoginFilter     - isLogin=true
2012-06-26 10:52:56,734 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 10:52:56,734 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 10:52:56,734 [NioProcessor-2  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2428, Mina session ID 16, identified POS ID pos-0002, message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd804} messageSize:{0x21} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@fae93e
2012-06-26 10:52:56,734 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 10:52:56,734 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 10:52:56,734 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 10:52:56,734 [NioProcessor-2  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 10:52:56,734 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 10:52:56,750 [pool-4-thread-19] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 10:52:56,750 [pool-4-thread-19] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 10:52:56,750 [pool-4-thread-19] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@1c83354 obtained for command ID 201
2012-06-26 10:52:56,750 [pool-4-thread-19] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 201 is com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@1c83354
2012-06-26 10:52:56,750 [pool-4-thread-19] [DEBUG] h.ReceiveGiftCommandHandler - ReceiveGiftHandler======execute==bodyMessage=: com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@fae93e
2012-06-26 10:52:56,750 [pool-4-thread-19] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 10:52:56,750 [pool-4-thread-19] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 10:52:56,750 [pool-4-thread-19] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 10:52:56,750 [pool-4-thread-19] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 10:52:56,750 [pool-4-thread-19] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 16
2012-06-26 10:52:56,750 [pool-4-thread-19] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (202)
2012-06-26 10:52:56,750 [pool-4-thread-19] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftResponseMessageCodec@cc258a
2012-06-26 10:52:56,750 [pool-4-thread-19] [DEBUG] iveGiftResponseMessageCodec - receive gift response message encode
2012-06-26 10:52:56,750 [pool-4-thread-19] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0x3a95
2012-06-26 10:52:56,750 [pool-4-thread-19] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 10:52:56,750 [pool-4-thread-19] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 55 of 55 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 3A 95 00 00 00 37 ..........:....7
00000010 00 00 00 CA 00 00 00 01 07 DC 06 1A 0A 34 38 02 .............48.
00000020 EE 01 E0 00 08 C1 EC C8 A1 C0 F1 C6 B7 00 08 D2 ................
00000030 D1 C1 EC C8 A1 B9 FD                            .......

2012-06-26 10:52:56,750 [pool-4-thread-19] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 10:52:56,750 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 10:52:56,750 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 10:52:56,750 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 16: not mark to return session ID to client
2012-06-26 10:52:56,750 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 10:52:56,750 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 10:52:56,750 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 10:52:56,750 [NioProcessor-2  ] [INFO ] o.a.m.f.l.LoggingFilter     - CLOSED
2012-06-26 10:52:56,750 [NioProcessor-2  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 10:53:01,711 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:53:01,711 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:53:01,711 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=5
2012-06-26 10:53:01,711 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=5
2012-06-26 10:53:01,711 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:53:07,733 [NioProcessor-3  ] [INFO ] c.c.q.m.p.f.LoggingFilter   - incoming connection from remote address: 127.0.0.1:2433, Mina session ID: 17
2012-06-26 10:53:07,733 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - Currently managed session count: 1
2012-06-26 10:53:07,733 [NioProcessor-3  ] [INFO ] o.a.m.f.l.LoggingFilter     - CREATED
2012-06-26 10:53:07,733 [NioProcessor-3  ] [INFO ] o.a.m.f.l.LoggingFilter     - OPENED
2012-06-26 10:53:07,889 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2433, Mina session ID 17, identified POS ID null
2012-06-26 10:53:07,889 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 10:53:07,889 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=32 cap=2048: 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20...]
2012-06-26 10:53:07,889 [NioProcessor-3  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 17
2012-06-26 10:53:07,889 [NioProcessor-3  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 10:53:07,889 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 10:53:07,889 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 17
2012-06-26 10:53:07,889 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =32
2012-06-26 10:53:07,889 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 10:53:07,889 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 32, current position: 0
2012-06-26 10:53:07,889 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 10:53:07,889 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}
2012-06-26 10:53:07,889 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 16
2012-06-26 10:53:07,889 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=16, in.remaining=16
2012-06-26 10:53:07,889 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 10:53:07,889 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 5
2012-06-26 10:53:07,889 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 5: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageCodec@ec1c4d
2012-06-26 10:53:07,889 [NioProcessor-3  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - init request message decode
2012-06-26 10:53:07,889 [NioProcessor-3  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - in.remaining()=16
2012-06-26 10:53:07,889 [NioProcessor-3  ] [TRACE] .m.p.s.m.c.InitMessageCodec - InitRequestMessage: [cmdId=5, posId=pos-0002]
2012-06-26 10:53:07,889 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 10:53:07,889 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 10:53:07,889 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 10:53:07,889 [NioProcessor-3  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 10:53:07,889 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 10:53:07,889 [NioProcessor-3  ] [DEBUG] p.f.SessionKeyMessageFilter - Mina session ID 17: created session key 0582305f1be44d8289baba8fbb3aa0b1
2012-06-26 10:53:07,889 [NioProcessor-3  ] [DEBUG] p.f.SessionKeyMessageFilter - creating session for mina session ID 17 using session ID 0582305f1be44d8289baba8fbb3aa0b1
2012-06-26 10:53:07,889 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 10:53:07,889 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 10:53:07,889 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 10:53:07,889 [NioProcessor-3  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2433, Mina session ID 17, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 10:53:07,889 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 10:53:07,889 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 10:53:07,889 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 10:53:07,889 [NioProcessor-3  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 10:53:07,889 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 10:53:07,889 [pool-4-thread-20] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 10:53:07,889 [pool-4-thread-20] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 10:53:07,889 [pool-4-thread-20] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@1bc850f obtained for command ID 5
2012-06-26 10:53:07,889 [pool-4-thread-20] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 5 is com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@1bc850f
2012-06-26 10:53:07,889 [pool-4-thread-20] [DEBUG] .q.m.p.h.InitCommandHandler - InitCommandHandler======execute==bodyMessage=:  [cmdId=5, posId=pos-0002]
2012-06-26 10:53:07,889 [pool-4-thread-20] [DEBUG] .q.m.l.l.i.LoginManagerImpl - InitResponse() invoke
2012-06-26 10:53:07,889 [pool-4-thread-20] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:ALLOWED
2012-06-26 10:53:07,889 [pool-4-thread-20] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId AND p.ostatus = :ostatus
2012-06-26 10:53:07,889 [pool-4-thread-20] [DEBUG] .q.m.l.l.i.LoginManagerImpl - POS ID:pos-0002, init challenge saved - [118, 80, 78, 70, 103, 87, 71, 99]
2012-06-26 10:53:07,889 [pool-4-thread-20] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 10:53:07,936 [pool-4-thread-20] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 10:53:07,936 [pool-4-thread-20] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 10:53:07,936 [pool-4-thread-20] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 10:53:07,936 [pool-4-thread-20] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 17
2012-06-26 10:53:07,936 [pool-4-thread-20] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (6)
2012-06-26 10:53:07,936 [pool-4-thread-20] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageResponseCodec@10a69f0
2012-06-26 10:53:07,936 [pool-4-thread-20] [DEBUG] .c.InitMessageResponseCodec - init response message encode
2012-06-26 10:53:07,936 [pool-4-thread-20] [TRACE] .c.InitMessageResponseCodec - InitResponseMessage: [cmdId=6, result=0, challenge=[118, 80, 78, 70, 103, 87, 71, 99]]
2012-06-26 10:53:07,936 [pool-4-thread-20] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0x8c89
2012-06-26 10:53:07,936 [pool-4-thread-20] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 10:53:07,936 [pool-4-thread-20] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 8C 89 00 00 00 1E ................
00000010 00 00 00 06 00 00 76 50 4E 46 67 57 47 63       ......vPNFgWGc

2012-06-26 10:53:07,936 [pool-4-thread-20] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 10:53:07,936 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 10:53:07,936 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 10:53:07,936 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 17: not mark to return session ID to client
2012-06-26 10:53:07,936 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 10:53:07,936 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 10:53:07,936 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 10:53:08,154 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2433, Mina session ID 17, identified POS ID pos-0002
2012-06-26 10:53:08,154 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 12 E4 00 00 00 30 ...............0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 9C 0C 89 D0 EA CC 03 7A 90 28 52 D7 14 1A 9D A6 .......z.(R.....

2012-06-26 10:53:08,154 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=48 cap=2048: 00 00 00 01 00 00 00 00 00 00 12 E4 00 00 00 30...]
2012-06-26 10:53:08,154 [NioProcessor-3  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 17
2012-06-26 10:53:08,154 [NioProcessor-3  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 10:53:08,154 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 10:53:08,154 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 17
2012-06-26 10:53:08,154 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =48
2012-06-26 10:53:08,154 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 12 E4 00 00 00 30 ...............0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 9C 0C 89 D0 EA CC 03 7A 90 28 52 D7 14 1A 9D A6 .......z.(R.....

2012-06-26 10:53:08,154 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 48, current position: 0
2012-06-26 10:53:08,154 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 10:53:08,154 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x12e4} messageSize:{0x30} sessionKey:{null}
2012-06-26 10:53:08,154 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 32
2012-06-26 10:53:08,154 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=32, in.remaining=32
2012-06-26 10:53:08,154 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 10:53:08,154 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 7
2012-06-26 10:53:08,154 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 7: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageCodec@24d517
2012-06-26 10:53:08,154 [NioProcessor-3  ] [DEBUG] m.p.s.m.c.LoginMessageCodec - login/bind message decode
2012-06-26 10:53:08,154 [NioProcessor-3  ] [TRACE] m.p.s.m.c.LoginMessageCodec - LoginRequestMessage: [cmdId=7, posId=pos-0002, challengeResponse=[-100, 12, -119, -48, -22, -52, 3, 122, -112, 40, 82, -41, 20, 26, -99, -90]]
2012-06-26 10:53:08,154 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 10:53:08,154 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x12e4} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[-100, 12, -119, -48, -22, -52, 3, 122, -112, 40, 82, -41, 20, 26, -99, -90]]
2012-06-26 10:53:08,154 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 10:53:08,154 [NioProcessor-3  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 10:53:08,154 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 10:53:08,154 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 10:53:08,154 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 10:53:08,154 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 10:53:08,154 [NioProcessor-3  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2433, Mina session ID 17, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x12e4} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[-100, 12, -119, -48, -22, -52, 3, 122, -112, 40, 82, -41, 20, 26, -99, -90]]
2012-06-26 10:53:08,154 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 10:53:08,154 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 10:53:08,154 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 10:53:08,154 [pool-4-thread-1 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 10:53:08,154 [NioProcessor-3  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 10:53:08,154 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 10:53:08,154 [pool-4-thread-1 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 10:53:08,154 [pool-4-thread-1 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@1a336d5 obtained for command ID 7
2012-06-26 10:53:08,154 [pool-4-thread-1 ] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 7 is com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@1a336d5
2012-06-26 10:53:08,154 [pool-4-thread-1 ] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==bodyMessage=: [cmdId=7, posId=pos-0002, challengeResponse=[-100, 12, -119, -48, -22, -52, 3, 122, -112, 40, 82, -41, 20, 26, -99, -90]]
2012-06-26 10:53:08,154 [pool-4-thread-1 ] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:null
2012-06-26 10:53:08,154 [pool-4-thread-1 ] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId
2012-06-26 10:53:08,154 [pool-4-thread-1 ] [TRACE] .q.m.l.l.i.LoginManagerImpl - Loaded from db: pos.posId:pos-0002, pos.secret:000001, oldChallenge:[118, 80, 78, 70, 103, 87, 71, 99]
2012-06-26 10:53:08,154 [pool-4-thread-1 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - disableChallengeCheck =0
2012-06-26 10:53:08,154 [pool-4-thread-1 ] [TRACE] c.c.q.m.l.c.ChallengeUtil   - checking challenge:response:[-100, 12, -119, -48, -22, -52, 3, 122, -112, 40, 82, -41, 20, 26, -99, -90], posKey:000001, random:[118, 80, 78, 70, 103, 87, 71, 99]
2012-06-26 10:53:08,154 [pool-4-thread-1 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - new challenge for POS (POS ID): [111, 57, 107, 72, 100, 90, 65, 86]
2012-06-26 10:53:08,154 [pool-4-thread-1 ] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==serverKey=:JXTPOS
2012-06-26 10:53:08,170 [pool-4-thread-1 ] [DEBUG] ThreadSafeClientConnManager - Get connection: HttpRoute[{}->http://localhost:7070], timeout = 0
2012-06-26 10:53:08,170 [pool-4-thread-1 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - [HttpRoute[{}->http://localhost:7070]] total kept alive: 0, total issued: 0, total allocated: 0 out of 20
2012-06-26 10:53:08,170 [pool-4-thread-1 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - No free connections [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 10:53:08,170 [pool-4-thread-1 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Available capacity: 2 out of 2 [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 10:53:08,170 [pool-4-thread-1 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Creating new connection [HttpRoute[{}->http://localhost:7070]]
2012-06-26 10:53:08,170 [pool-4-thread-1 ] [DEBUG] ultClientConnectionOperator - Connecting to localhost:7070
2012-06-26 10:53:09,262 [pool-4-thread-1 ] [DEBUG] i.c.DefaultClientConnection - Connection closed
2012-06-26 10:53:09,262 [pool-4-thread-1 ] [DEBUG] i.c.DefaultClientConnection - Connection shut down
2012-06-26 10:53:09,262 [pool-4-thread-1 ] [DEBUG] ThreadSafeClientConnManager - Released connection is not reusable.
2012-06-26 10:53:09,262 [pool-4-thread-1 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Releasing connection [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 10:53:09,262 [pool-4-thread-1 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Notifying no-one, there are no waiting threads
2012-06-26 10:53:09,262 [pool-4-thread-1 ] [ERROR] q.m.p.h.LoginCommandHandler - initGrouponCache fail:com.chinarewards.qqgbvpn.qqapi.exception.ParseXMLException: com.chinarewards.qqgbvpn.qqapi.exception.SendPostTimeOutException: org.apache.http.conn.HttpHostConnectException: Connection to http://localhost:7070 refused
2012-06-26 10:53:09,278 [pool-4-thread-1 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 10:53:09,309 [pool-4-thread-1 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 10:53:09,309 [pool-4-thread-1 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 10:53:09,309 [pool-4-thread-1 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 10:53:09,309 [pool-4-thread-1 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 17
2012-06-26 10:53:09,309 [pool-4-thread-1 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (8)
2012-06-26 10:53:09,309 [pool-4-thread-1 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageResponseCodec@419e74
2012-06-26 10:53:09,309 [pool-4-thread-1 ] [DEBUG] c.LoginMessageResponseCodec - login/bind message encode
2012-06-26 10:53:09,309 [pool-4-thread-1 ] [TRACE] c.LoginMessageResponseCodec - LoginResponseMessage: [cmdId=8, result=0, challenge=[111, 57, 107, 72, 100, 90, 65, 86]]
2012-06-26 10:53:09,309 [pool-4-thread-1 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0x7fa6
2012-06-26 10:53:09,309 [pool-4-thread-1 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 10:53:09,309 [pool-4-thread-1 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 7F A6 00 00 00 1E ................
00000010 00 00 00 08 00 00 6F 39 6B 48 64 5A 41 56       ......o9kHdZAV

2012-06-26 10:53:09,309 [pool-4-thread-1 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 10:53:09,309 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 10:53:09,309 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 10:53:09,309 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 17: not mark to return session ID to client
2012-06-26 10:53:09,309 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 10:53:09,309 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 10:53:09,309 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 10:53:09,309 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2433, Mina session ID 17, identified POS ID pos-0002
2012-06-26 10:53:09,309 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 33 of 33 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 D8 04 00 00 00 21 ...............!
00000010 00 00 00 C9 00 0B 31 31 31 31 31 31 31 31 31 31 ......1111111111
00000020 31                                              1

2012-06-26 10:53:09,309 [Finalizer       ] [DEBUG] ThreadSafeClientConnManager - Shutting down
2012-06-26 10:53:09,309 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=33 cap=1024: 00 00 00 10 00 00 00 00 00 00 D8 04 00 00 00 21...]
2012-06-26 10:53:09,309 [NioProcessor-3  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 17
2012-06-26 10:53:09,309 [NioProcessor-3  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 10:53:09,309 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 10:53:09,309 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 17
2012-06-26 10:53:09,309 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =33
2012-06-26 10:53:09,309 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 33 of 33 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 D8 04 00 00 00 21 ...............!
00000010 00 00 00 C9 00 0B 31 31 31 31 31 31 31 31 31 31 ......1111111111
00000020 31                                              1

2012-06-26 10:53:09,309 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 33, current position: 0
2012-06-26 10:53:09,309 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 10:53:09,309 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd804} messageSize:{0x21} sessionKey:{null}
2012-06-26 10:53:09,309 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 17
2012-06-26 10:53:09,309 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=17, in.remaining=17
2012-06-26 10:53:09,309 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 10:53:09,309 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 201
2012-06-26 10:53:09,309 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 201: com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftMessageCodec@b2175
2012-06-26 10:53:09,309 [NioProcessor-3  ] [DEBUG] m.c.ReceiveGiftMessageCodec - receive gift request message decode
2012-06-26 10:53:09,309 [NioProcessor-3  ] [DEBUG] m.c.ReceiveGiftMessageCodec - in.remaining()=17
2012-06-26 10:53:09,309 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 10:53:09,309 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd804} messageSize:{0x21} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@c1b161
2012-06-26 10:53:09,309 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 10:53:09,309 [NioProcessor-3  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 10:53:09,309 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 10:53:09,309 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 10:53:09,309 [NioProcessor-3  ] [DEBUG] c.c.q.m.p.f.LoginFilter     - isLogin=true
2012-06-26 10:53:09,309 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 10:53:09,309 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 10:53:09,309 [NioProcessor-3  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2433, Mina session ID 17, identified POS ID pos-0002, message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd804} messageSize:{0x21} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@c1b161
2012-06-26 10:53:09,309 [pool-4-thread-2 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 10:53:09,309 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 10:53:09,309 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 10:53:09,309 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 10:53:09,309 [NioProcessor-3  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 10:53:09,309 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 10:53:09,309 [pool-4-thread-2 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 10:53:09,309 [pool-4-thread-2 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@1747e0f obtained for command ID 201
2012-06-26 10:53:09,309 [pool-4-thread-2 ] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 201 is com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@1747e0f
2012-06-26 10:53:09,309 [pool-4-thread-2 ] [DEBUG] h.ReceiveGiftCommandHandler - ReceiveGiftHandler======execute==bodyMessage=: com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@c1b161
2012-06-26 10:53:09,309 [pool-4-thread-2 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 10:53:09,340 [pool-4-thread-2 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 10:53:09,340 [pool-4-thread-2 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 10:53:09,340 [pool-4-thread-2 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 10:53:09,340 [pool-4-thread-2 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 17
2012-06-26 10:53:09,340 [pool-4-thread-2 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (202)
2012-06-26 10:53:09,340 [pool-4-thread-2 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftResponseMessageCodec@14300c8
2012-06-26 10:53:09,340 [pool-4-thread-2 ] [DEBUG] iveGiftResponseMessageCodec - receive gift response message encode
2012-06-26 10:53:09,340 [pool-4-thread-2 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0x7cb0
2012-06-26 10:53:09,340 [pool-4-thread-2 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 10:53:09,340 [pool-4-thread-2 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 55 of 55 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 7C B0 00 00 00 37 ..........|....7
00000010 00 00 00 CA 00 00 00 00 07 DC 06 1A 0A 35 09 01 .............5..
00000020 35 01 E0 00 08 C1 EC C8 A1 C0 F1 C6 B7 00 08 BD 5...............
00000030 BB D2 D7 B3 C9 B9 A6                            .......

2012-06-26 10:53:09,340 [pool-4-thread-2 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 10:53:09,340 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 10:53:09,340 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 10:53:09,340 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 17: not mark to return session ID to client
2012-06-26 10:53:09,340 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 10:53:09,340 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 10:53:09,340 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 10:53:09,340 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2433, Mina session ID 17, identified POS ID pos-0002
2012-06-26 10:53:09,340 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 33 of 33 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 D8 04 00 00 00 21 ...............!
00000010 00 00 00 C9 00 0B 31 31 31 31 31 31 31 31 31 31 ......1111111111
00000020 31                                              1

2012-06-26 10:53:09,340 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=33 cap=1024: 00 00 00 10 00 00 00 00 00 00 D8 04 00 00 00 21...]
2012-06-26 10:53:09,340 [NioProcessor-3  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 17
2012-06-26 10:53:09,340 [NioProcessor-3  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 10:53:09,340 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 10:53:09,340 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 17
2012-06-26 10:53:09,340 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =33
2012-06-26 10:53:09,340 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 33 of 33 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 D8 04 00 00 00 21 ...............!
00000010 00 00 00 C9 00 0B 31 31 31 31 31 31 31 31 31 31 ......1111111111
00000020 31                                              1

2012-06-26 10:53:09,340 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 33, current position: 0
2012-06-26 10:53:09,340 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 10:53:09,340 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd804} messageSize:{0x21} sessionKey:{null}
2012-06-26 10:53:09,340 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 17
2012-06-26 10:53:09,340 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=17, in.remaining=17
2012-06-26 10:53:09,340 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 10:53:09,340 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 201
2012-06-26 10:53:09,340 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 201: com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftMessageCodec@1e867d6
2012-06-26 10:53:09,340 [NioProcessor-3  ] [DEBUG] m.c.ReceiveGiftMessageCodec - receive gift request message decode
2012-06-26 10:53:09,340 [NioProcessor-3  ] [DEBUG] m.c.ReceiveGiftMessageCodec - in.remaining()=17
2012-06-26 10:53:09,340 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 10:53:09,340 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd804} messageSize:{0x21} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@f942c4
2012-06-26 10:53:09,340 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 10:53:09,340 [NioProcessor-3  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 10:53:09,340 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 10:53:09,340 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 10:53:09,340 [NioProcessor-3  ] [DEBUG] c.c.q.m.p.f.LoginFilter     - isLogin=true
2012-06-26 10:53:09,340 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 10:53:09,340 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 10:53:09,340 [NioProcessor-3  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2433, Mina session ID 17, identified POS ID pos-0002, message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd804} messageSize:{0x21} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@f942c4
2012-06-26 10:53:09,340 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 10:53:09,340 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 10:53:09,340 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 10:53:09,340 [NioProcessor-3  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 10:53:09,340 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 10:53:09,340 [pool-4-thread-3 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 10:53:09,340 [pool-4-thread-3 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 10:53:09,340 [pool-4-thread-3 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@191394e obtained for command ID 201
2012-06-26 10:53:09,340 [pool-4-thread-3 ] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 201 is com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@191394e
2012-06-26 10:53:09,340 [pool-4-thread-3 ] [DEBUG] h.ReceiveGiftCommandHandler - ReceiveGiftHandler======execute==bodyMessage=: com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@f942c4
2012-06-26 10:53:09,371 [pool-4-thread-3 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 10:53:09,371 [pool-4-thread-3 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 10:53:09,371 [pool-4-thread-3 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 10:53:09,371 [pool-4-thread-3 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 10:53:09,371 [pool-4-thread-3 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 17
2012-06-26 10:53:09,371 [pool-4-thread-3 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (202)
2012-06-26 10:53:09,371 [pool-4-thread-3 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftResponseMessageCodec@1c2e163
2012-06-26 10:53:09,371 [pool-4-thread-3 ] [DEBUG] iveGiftResponseMessageCodec - receive gift response message encode
2012-06-26 10:53:09,371 [pool-4-thread-3 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0x396
2012-06-26 10:53:09,371 [pool-4-thread-3 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 10:53:09,371 [pool-4-thread-3 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 55 of 55 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 03 96 00 00 00 37 ...............7
00000010 00 00 00 CA 00 00 00 01 07 DC 06 1A 0A 35 09 01 .............5..
00000020 54 01 E0 00 08 C1 EC C8 A1 C0 F1 C6 B7 00 08 D2 T...............
00000030 D1 C1 EC C8 A1 B9 FD                            .......

2012-06-26 10:53:09,371 [pool-4-thread-3 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 10:53:09,371 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 10:53:09,371 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 10:53:09,371 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 17: not mark to return session ID to client
2012-06-26 10:53:09,371 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 10:53:09,371 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 10:53:09,371 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 10:53:09,371 [NioProcessor-3  ] [INFO ] o.a.m.f.l.LoggingFilter     - CLOSED
2012-06-26 10:53:09,371 [NioProcessor-3  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 10:53:11,758 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:53:11,758 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:53:11,758 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=6
2012-06-26 10:53:11,758 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=6
2012-06-26 10:53:11,758 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:53:14,114 [NioProcessor-1  ] [INFO ] c.c.q.m.p.f.LoggingFilter   - incoming connection from remote address: 127.0.0.1:2437, Mina session ID: 18
2012-06-26 10:53:14,114 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - Currently managed session count: 1
2012-06-26 10:53:14,114 [NioProcessor-1  ] [INFO ] o.a.m.f.l.LoggingFilter     - CREATED
2012-06-26 10:53:14,114 [NioProcessor-1  ] [INFO ] o.a.m.f.l.LoggingFilter     - OPENED
2012-06-26 10:53:14,286 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2437, Mina session ID 18, identified POS ID null
2012-06-26 10:53:14,286 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 10:53:14,286 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=32 cap=2048: 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20...]
2012-06-26 10:53:14,286 [NioProcessor-1  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 18
2012-06-26 10:53:14,286 [NioProcessor-1  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 10:53:14,286 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 10:53:14,286 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 18
2012-06-26 10:53:14,286 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =32
2012-06-26 10:53:14,286 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 10:53:14,286 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 32, current position: 0
2012-06-26 10:53:14,286 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 10:53:14,286 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}
2012-06-26 10:53:14,286 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 16
2012-06-26 10:53:14,286 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=16, in.remaining=16
2012-06-26 10:53:14,286 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 10:53:14,286 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 5
2012-06-26 10:53:14,286 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 5: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageCodec@c71c00
2012-06-26 10:53:14,286 [NioProcessor-1  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - init request message decode
2012-06-26 10:53:14,286 [NioProcessor-1  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - in.remaining()=16
2012-06-26 10:53:14,286 [NioProcessor-1  ] [TRACE] .m.p.s.m.c.InitMessageCodec - InitRequestMessage: [cmdId=5, posId=pos-0002]
2012-06-26 10:53:14,286 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 10:53:14,286 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 10:53:14,286 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 10:53:14,286 [NioProcessor-1  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 10:53:14,286 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 10:53:14,286 [NioProcessor-1  ] [DEBUG] p.f.SessionKeyMessageFilter - Mina session ID 18: created session key 7f46b43a9a494e4b959128d9fa1dd046
2012-06-26 10:53:14,286 [NioProcessor-1  ] [DEBUG] p.f.SessionKeyMessageFilter - creating session for mina session ID 18 using session ID 7f46b43a9a494e4b959128d9fa1dd046
2012-06-26 10:53:14,286 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 10:53:14,286 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 10:53:14,286 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 10:53:14,286 [NioProcessor-1  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2437, Mina session ID 18, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 10:53:14,286 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 10:53:14,286 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 10:53:14,286 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 10:53:14,286 [pool-4-thread-4 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 10:53:14,286 [NioProcessor-1  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 10:53:14,286 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 10:53:14,286 [pool-4-thread-4 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 10:53:14,286 [pool-4-thread-4 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@1ab3cda obtained for command ID 5
2012-06-26 10:53:14,286 [pool-4-thread-4 ] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 5 is com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@1ab3cda
2012-06-26 10:53:14,286 [pool-4-thread-4 ] [DEBUG] .q.m.p.h.InitCommandHandler - InitCommandHandler======execute==bodyMessage=:  [cmdId=5, posId=pos-0002]
2012-06-26 10:53:14,286 [pool-4-thread-4 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - InitResponse() invoke
2012-06-26 10:53:14,286 [pool-4-thread-4 ] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:ALLOWED
2012-06-26 10:53:14,286 [pool-4-thread-4 ] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId AND p.ostatus = :ostatus
2012-06-26 10:53:14,286 [pool-4-thread-4 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - POS ID:pos-0002, init challenge saved - [111, 102, 55, 86, 105, 113, 120, 107]
2012-06-26 10:53:14,286 [pool-4-thread-4 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 10:53:14,317 [pool-4-thread-4 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 10:53:14,317 [pool-4-thread-4 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 10:53:14,317 [pool-4-thread-4 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 10:53:14,317 [pool-4-thread-4 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 18
2012-06-26 10:53:14,317 [pool-4-thread-4 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (6)
2012-06-26 10:53:14,317 [pool-4-thread-4 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageResponseCodec@1286c00
2012-06-26 10:53:14,317 [pool-4-thread-4 ] [DEBUG] .c.InitMessageResponseCodec - init response message encode
2012-06-26 10:53:14,317 [pool-4-thread-4 ] [TRACE] .c.InitMessageResponseCodec - InitResponseMessage: [cmdId=6, result=0, challenge=[111, 102, 55, 86, 105, 113, 120, 107]]
2012-06-26 10:53:14,317 [pool-4-thread-4 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0x7741
2012-06-26 10:53:14,317 [pool-4-thread-4 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 10:53:14,317 [pool-4-thread-4 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 77 41 00 00 00 1E ..........wA....
00000010 00 00 00 06 00 00 6F 66 37 56 69 71 78 6B       ......of7Viqxk

2012-06-26 10:53:14,317 [pool-4-thread-4 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 10:53:14,317 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 10:53:14,317 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 10:53:14,317 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 18: not mark to return session ID to client
2012-06-26 10:53:14,317 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 10:53:14,317 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 10:53:14,317 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 10:53:14,535 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2437, Mina session ID 18, identified POS ID pos-0002
2012-06-26 10:53:14,535 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 FE 7A 00 00 00 30 ...........z...0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 BF 33 09 2D 5F 14 68 09 94 C4 9A 29 08 76 F6 6A .3.-_.h....).v.j

2012-06-26 10:53:14,535 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=48 cap=2048: 00 00 00 01 00 00 00 00 00 00 FE 7A 00 00 00 30...]
2012-06-26 10:53:14,535 [NioProcessor-1  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 18
2012-06-26 10:53:14,535 [NioProcessor-1  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 10:53:14,535 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 10:53:14,535 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 18
2012-06-26 10:53:14,535 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =48
2012-06-26 10:53:14,535 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 FE 7A 00 00 00 30 ...........z...0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 BF 33 09 2D 5F 14 68 09 94 C4 9A 29 08 76 F6 6A .3.-_.h....).v.j

2012-06-26 10:53:14,535 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 48, current position: 0
2012-06-26 10:53:14,535 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 10:53:14,535 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xfe7a} messageSize:{0x30} sessionKey:{null}
2012-06-26 10:53:14,535 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 32
2012-06-26 10:53:14,535 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=32, in.remaining=32
2012-06-26 10:53:14,535 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 10:53:14,535 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 7
2012-06-26 10:53:14,535 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 7: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageCodec@83b18f
2012-06-26 10:53:14,535 [NioProcessor-1  ] [DEBUG] m.p.s.m.c.LoginMessageCodec - login/bind message decode
2012-06-26 10:53:14,535 [NioProcessor-1  ] [TRACE] m.p.s.m.c.LoginMessageCodec - LoginRequestMessage: [cmdId=7, posId=pos-0002, challengeResponse=[-65, 51, 9, 45, 95, 20, 104, 9, -108, -60, -102, 41, 8, 118, -10, 106]]
2012-06-26 10:53:14,535 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 10:53:14,535 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xfe7a} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[-65, 51, 9, 45, 95, 20, 104, 9, -108, -60, -102, 41, 8, 118, -10, 106]]
2012-06-26 10:53:14,535 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 10:53:14,535 [NioProcessor-1  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 10:53:14,535 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 10:53:14,535 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 10:53:14,535 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 10:53:14,535 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 10:53:14,535 [NioProcessor-1  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2437, Mina session ID 18, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xfe7a} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[-65, 51, 9, 45, 95, 20, 104, 9, -108, -60, -102, 41, 8, 118, -10, 106]]
2012-06-26 10:53:14,535 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 10:53:14,535 [pool-4-thread-5 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 10:53:14,535 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 10:53:14,535 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 10:53:14,535 [NioProcessor-1  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 10:53:14,535 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 10:53:14,535 [pool-4-thread-5 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 10:53:14,535 [pool-4-thread-5 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@8353f6 obtained for command ID 7
2012-06-26 10:53:14,535 [pool-4-thread-5 ] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 7 is com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@8353f6
2012-06-26 10:53:14,535 [pool-4-thread-5 ] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==bodyMessage=: [cmdId=7, posId=pos-0002, challengeResponse=[-65, 51, 9, 45, 95, 20, 104, 9, -108, -60, -102, 41, 8, 118, -10, 106]]
2012-06-26 10:53:14,535 [pool-4-thread-5 ] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:null
2012-06-26 10:53:14,535 [pool-4-thread-5 ] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId
2012-06-26 10:53:14,535 [pool-4-thread-5 ] [TRACE] .q.m.l.l.i.LoginManagerImpl - Loaded from db: pos.posId:pos-0002, pos.secret:000001, oldChallenge:[111, 102, 55, 86, 105, 113, 120, 107]
2012-06-26 10:53:14,535 [pool-4-thread-5 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - disableChallengeCheck =0
2012-06-26 10:53:14,535 [pool-4-thread-5 ] [TRACE] c.c.q.m.l.c.ChallengeUtil   - checking challenge:response:[-65, 51, 9, 45, 95, 20, 104, 9, -108, -60, -102, 41, 8, 118, -10, 106], posKey:000001, random:[111, 102, 55, 86, 105, 113, 120, 107]
2012-06-26 10:53:14,535 [pool-4-thread-5 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - new challenge for POS (POS ID): [56, 52, 115, 54, 99, 84, 90, 107]
2012-06-26 10:53:14,551 [pool-4-thread-5 ] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==serverKey=:JXTPOS
2012-06-26 10:53:14,551 [pool-4-thread-5 ] [DEBUG] ThreadSafeClientConnManager - Get connection: HttpRoute[{}->http://localhost:7070], timeout = 0
2012-06-26 10:53:14,551 [pool-4-thread-5 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - [HttpRoute[{}->http://localhost:7070]] total kept alive: 0, total issued: 0, total allocated: 0 out of 20
2012-06-26 10:53:14,551 [pool-4-thread-5 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - No free connections [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 10:53:14,551 [pool-4-thread-5 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Available capacity: 2 out of 2 [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 10:53:14,551 [pool-4-thread-5 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Creating new connection [HttpRoute[{}->http://localhost:7070]]
2012-06-26 10:53:14,551 [pool-4-thread-5 ] [DEBUG] ultClientConnectionOperator - Connecting to localhost:7070
2012-06-26 10:53:15,706 [pool-4-thread-5 ] [DEBUG] i.c.DefaultClientConnection - Connection closed
2012-06-26 10:53:15,706 [pool-4-thread-5 ] [DEBUG] i.c.DefaultClientConnection - Connection shut down
2012-06-26 10:53:15,706 [pool-4-thread-5 ] [DEBUG] ThreadSafeClientConnManager - Released connection is not reusable.
2012-06-26 10:53:15,706 [pool-4-thread-5 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Releasing connection [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 10:53:15,706 [pool-4-thread-5 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Notifying no-one, there are no waiting threads
2012-06-26 10:53:15,706 [pool-4-thread-5 ] [ERROR] q.m.p.h.LoginCommandHandler - initGrouponCache fail:com.chinarewards.qqgbvpn.qqapi.exception.ParseXMLException: com.chinarewards.qqgbvpn.qqapi.exception.SendPostTimeOutException: org.apache.http.conn.HttpHostConnectException: Connection to http://localhost:7070 refused
2012-06-26 10:53:15,721 [pool-4-thread-5 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 10:53:15,737 [pool-4-thread-5 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 10:53:15,737 [pool-4-thread-5 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 10:53:15,737 [pool-4-thread-5 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 10:53:15,737 [pool-4-thread-5 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 18
2012-06-26 10:53:15,737 [pool-4-thread-5 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (8)
2012-06-26 10:53:15,737 [pool-4-thread-5 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageResponseCodec@55108e
2012-06-26 10:53:15,737 [pool-4-thread-5 ] [DEBUG] c.LoginMessageResponseCodec - login/bind message encode
2012-06-26 10:53:15,737 [pool-4-thread-5 ] [TRACE] c.LoginMessageResponseCodec - LoginResponseMessage: [cmdId=8, result=0, challenge=[56, 52, 115, 54, 99, 84, 90, 107]]
2012-06-26 10:53:15,737 [pool-4-thread-5 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0x96ae
2012-06-26 10:53:15,737 [pool-4-thread-5 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 10:53:15,737 [pool-4-thread-5 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 96 AE 00 00 00 1E ................
00000010 00 00 00 08 00 00 38 34 73 36 63 54 5A 6B       ......84s6cTZk

2012-06-26 10:53:15,737 [pool-4-thread-5 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 10:53:15,737 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 10:53:15,737 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 10:53:15,737 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 18: not mark to return session ID to client
2012-06-26 10:53:15,737 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 10:53:15,737 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 10:53:15,737 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 10:53:15,737 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2437, Mina session ID 18, identified POS ID pos-0002
2012-06-26 10:53:15,737 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 33 of 33 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 D8 04 00 00 00 21 ...............!
00000010 00 00 00 C9 00 0B 31 31 31 31 31 31 31 31 31 31 ......1111111111
00000020 31                                              1

2012-06-26 10:53:15,737 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=33 cap=1024: 00 00 00 10 00 00 00 00 00 00 D8 04 00 00 00 21...]
2012-06-26 10:53:15,737 [NioProcessor-1  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 18
2012-06-26 10:53:15,737 [NioProcessor-1  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 10:53:15,737 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 10:53:15,737 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 18
2012-06-26 10:53:15,737 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =33
2012-06-26 10:53:15,737 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 33 of 33 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 D8 04 00 00 00 21 ...............!
00000010 00 00 00 C9 00 0B 31 31 31 31 31 31 31 31 31 31 ......1111111111
00000020 31                                              1

2012-06-26 10:53:15,737 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 33, current position: 0
2012-06-26 10:53:15,737 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 10:53:15,737 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd804} messageSize:{0x21} sessionKey:{null}
2012-06-26 10:53:15,737 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 17
2012-06-26 10:53:15,737 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=17, in.remaining=17
2012-06-26 10:53:15,737 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 10:53:15,737 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 201
2012-06-26 10:53:15,737 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 201: com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftMessageCodec@b206e9
2012-06-26 10:53:15,737 [NioProcessor-1  ] [DEBUG] m.c.ReceiveGiftMessageCodec - receive gift request message decode
2012-06-26 10:53:15,737 [NioProcessor-1  ] [DEBUG] m.c.ReceiveGiftMessageCodec - in.remaining()=17
2012-06-26 10:53:15,737 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 10:53:15,737 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd804} messageSize:{0x21} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@1e3e1b8
2012-06-26 10:53:15,737 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 10:53:15,737 [NioProcessor-1  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 10:53:15,737 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 10:53:15,737 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 10:53:15,737 [NioProcessor-1  ] [DEBUG] c.c.q.m.p.f.LoginFilter     - isLogin=true
2012-06-26 10:53:15,737 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 10:53:15,737 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 10:53:15,737 [NioProcessor-1  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2437, Mina session ID 18, identified POS ID pos-0002, message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd804} messageSize:{0x21} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@1e3e1b8
2012-06-26 10:53:15,737 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 10:53:15,737 [pool-4-thread-6 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 10:53:15,737 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 10:53:15,737 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 10:53:15,737 [NioProcessor-1  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 10:53:15,737 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 10:53:15,737 [pool-4-thread-6 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 10:53:15,737 [pool-4-thread-6 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@1ca7841 obtained for command ID 201
2012-06-26 10:53:15,737 [pool-4-thread-6 ] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 201 is com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@1ca7841
2012-06-26 10:53:15,737 [pool-4-thread-6 ] [DEBUG] h.ReceiveGiftCommandHandler - ReceiveGiftHandler======execute==bodyMessage=: com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@1e3e1b8
2012-06-26 10:53:15,737 [pool-4-thread-6 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 10:53:15,737 [pool-4-thread-6 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 10:53:15,737 [pool-4-thread-6 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 10:53:15,737 [pool-4-thread-6 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 10:53:15,737 [pool-4-thread-6 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 18
2012-06-26 10:53:15,737 [pool-4-thread-6 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (202)
2012-06-26 10:53:15,737 [pool-4-thread-6 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftResponseMessageCodec@1589d3d
2012-06-26 10:53:15,737 [pool-4-thread-6 ] [DEBUG] iveGiftResponseMessageCodec - receive gift response message encode
2012-06-26 10:53:15,737 [pool-4-thread-6 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0x7094
2012-06-26 10:53:15,737 [pool-4-thread-6 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 10:53:15,737 [pool-4-thread-6 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 55 of 55 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 70 94 00 00 00 37 ..........p....7
00000010 00 00 00 CA 00 00 00 01 07 DC 06 1A 0A 35 0F 02 .............5..
00000020 E1 01 E0 00 08 C1 EC C8 A1 C0 F1 C6 B7 00 08 D2 ................
00000030 D1 C1 EC C8 A1 B9 FD                            .......

2012-06-26 10:53:15,737 [pool-4-thread-6 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 10:53:15,737 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 10:53:15,737 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 10:53:15,737 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 18: not mark to return session ID to client
2012-06-26 10:53:15,737 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 10:53:15,737 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 10:53:15,737 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 10:53:15,737 [NioProcessor-1  ] [INFO ] o.a.m.f.l.LoggingFilter     - CLOSED
2012-06-26 10:53:15,737 [NioProcessor-1  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 10:53:21,806 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:53:21,806 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:53:21,806 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=7
2012-06-26 10:53:21,806 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=7
2012-06-26 10:53:21,806 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:53:31,822 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:53:31,822 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:53:31,822 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=7
2012-06-26 10:53:31,822 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=7
2012-06-26 10:53:31,822 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:53:41,822 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:53:41,822 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:53:41,822 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=7
2012-06-26 10:53:41,822 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=7
2012-06-26 10:53:41,822 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:53:51,823 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:53:51,823 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:53:51,823 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=7
2012-06-26 10:53:51,823 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=7
2012-06-26 10:53:51,823 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:54:01,824 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:54:01,824 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:54:01,824 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=7
2012-06-26 10:54:01,824 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=6
2012-06-26 10:54:01,824 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:54:11,824 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:54:11,824 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:54:11,824 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=6
2012-06-26 10:54:11,824 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=4
2012-06-26 10:54:11,824 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:54:21,825 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:54:21,825 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:54:21,825 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=4
2012-06-26 10:54:21,825 [Finalizer       ] [DEBUG] ThreadSafeClientConnManager - Shutting down
2012-06-26 10:54:21,825 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=4
2012-06-26 10:54:21,825 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:54:31,825 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:54:31,825 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:54:31,825 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=4
2012-06-26 10:54:31,825 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=4
2012-06-26 10:54:31,825 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:54:41,826 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:54:41,826 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:54:41,826 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=4
2012-06-26 10:54:41,826 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=4
2012-06-26 10:54:41,826 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:54:51,826 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:54:51,826 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:54:51,826 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=4
2012-06-26 10:54:51,826 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=4
2012-06-26 10:54:51,826 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:54:59,752 [NioProcessor-2  ] [INFO ] c.c.q.m.p.f.LoggingFilter   - incoming connection from remote address: 127.0.0.1:2444, Mina session ID: 19
2012-06-26 10:54:59,752 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - Currently managed session count: 1
2012-06-26 10:54:59,752 [NioProcessor-2  ] [INFO ] o.a.m.f.l.LoggingFilter     - CREATED
2012-06-26 10:54:59,752 [NioProcessor-2  ] [INFO ] o.a.m.f.l.LoggingFilter     - OPENED
2012-06-26 10:54:59,892 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2444, Mina session ID 19, identified POS ID null
2012-06-26 10:54:59,892 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 10:54:59,892 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=32 cap=2048: 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20...]
2012-06-26 10:54:59,892 [NioProcessor-2  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 19
2012-06-26 10:54:59,892 [NioProcessor-2  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 10:54:59,892 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 10:54:59,892 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 19
2012-06-26 10:54:59,892 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =32
2012-06-26 10:54:59,892 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 10:54:59,892 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 32, current position: 0
2012-06-26 10:54:59,892 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 10:54:59,892 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}
2012-06-26 10:54:59,892 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 16
2012-06-26 10:54:59,892 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=16, in.remaining=16
2012-06-26 10:54:59,892 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 10:54:59,892 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 5
2012-06-26 10:54:59,892 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 5: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageCodec@12b9f79
2012-06-26 10:54:59,892 [NioProcessor-2  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - init request message decode
2012-06-26 10:54:59,892 [NioProcessor-2  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - in.remaining()=16
2012-06-26 10:54:59,892 [NioProcessor-2  ] [TRACE] .m.p.s.m.c.InitMessageCodec - InitRequestMessage: [cmdId=5, posId=pos-0002]
2012-06-26 10:54:59,892 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 10:54:59,892 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 10:54:59,892 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 10:54:59,892 [NioProcessor-2  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 10:54:59,892 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 10:54:59,892 [NioProcessor-2  ] [DEBUG] p.f.SessionKeyMessageFilter - Mina session ID 19: created session key aed81d4af9c241afae22b90669110570
2012-06-26 10:54:59,892 [NioProcessor-2  ] [DEBUG] p.f.SessionKeyMessageFilter - creating session for mina session ID 19 using session ID aed81d4af9c241afae22b90669110570
2012-06-26 10:54:59,892 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 10:54:59,892 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 10:54:59,892 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 10:54:59,892 [NioProcessor-2  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2444, Mina session ID 19, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 10:54:59,892 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 10:54:59,892 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 10:54:59,892 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 10:54:59,892 [NioProcessor-2  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 10:54:59,892 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 10:54:59,892 [pool-4-thread-7 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 10:54:59,892 [pool-4-thread-7 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 10:54:59,892 [pool-4-thread-7 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@928739 obtained for command ID 5
2012-06-26 10:54:59,892 [pool-4-thread-7 ] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 5 is com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@928739
2012-06-26 10:54:59,892 [pool-4-thread-7 ] [DEBUG] .q.m.p.h.InitCommandHandler - InitCommandHandler======execute==bodyMessage=:  [cmdId=5, posId=pos-0002]
2012-06-26 10:54:59,892 [pool-4-thread-7 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - InitResponse() invoke
2012-06-26 10:54:59,892 [pool-4-thread-7 ] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:ALLOWED
2012-06-26 10:54:59,892 [pool-4-thread-7 ] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId AND p.ostatus = :ostatus
2012-06-26 10:54:59,892 [pool-4-thread-7 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - POS ID:pos-0002, init challenge saved - [50, 86, 100, 101, 56, 100, 52, 121]
2012-06-26 10:54:59,892 [pool-4-thread-7 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 10:54:59,924 [pool-4-thread-7 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 10:54:59,924 [pool-4-thread-7 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 10:54:59,924 [pool-4-thread-7 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 10:54:59,924 [pool-4-thread-7 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 19
2012-06-26 10:54:59,924 [pool-4-thread-7 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (6)
2012-06-26 10:54:59,924 [pool-4-thread-7 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageResponseCodec@10a4d7c
2012-06-26 10:54:59,924 [pool-4-thread-7 ] [DEBUG] .c.InitMessageResponseCodec - init response message encode
2012-06-26 10:54:59,924 [pool-4-thread-7 ] [TRACE] .c.InitMessageResponseCodec - InitResponseMessage: [cmdId=6, result=0, challenge=[50, 86, 100, 101, 56, 100, 52, 121]]
2012-06-26 10:54:59,924 [pool-4-thread-7 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0xfc41
2012-06-26 10:54:59,924 [pool-4-thread-7 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 10:54:59,924 [pool-4-thread-7 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 FC 41 00 00 00 1E ...........A....
00000010 00 00 00 06 00 00 32 56 64 65 38 64 34 79       ......2Vde8d4y

2012-06-26 10:54:59,924 [pool-4-thread-7 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 10:54:59,924 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 10:54:59,924 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 10:54:59,924 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 19: not mark to return session ID to client
2012-06-26 10:54:59,924 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 10:54:59,924 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 10:54:59,924 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 10:55:00,142 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2444, Mina session ID 19, identified POS ID pos-0002
2012-06-26 10:55:00,142 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 FA 18 00 00 00 30 ...............0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 C6 7B E6 BB 7D 8C 0B B2 11 E7 E1 72 A4 03 F3 DB .{..}......r....

2012-06-26 10:55:00,142 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=48 cap=2048: 00 00 00 01 00 00 00 00 00 00 FA 18 00 00 00 30...]
2012-06-26 10:55:00,142 [NioProcessor-2  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 19
2012-06-26 10:55:00,142 [NioProcessor-2  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 10:55:00,142 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 10:55:00,142 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 19
2012-06-26 10:55:00,142 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =48
2012-06-26 10:55:00,142 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 FA 18 00 00 00 30 ...............0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 C6 7B E6 BB 7D 8C 0B B2 11 E7 E1 72 A4 03 F3 DB .{..}......r....

2012-06-26 10:55:00,142 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 48, current position: 0
2012-06-26 10:55:00,142 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 10:55:00,142 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xfa18} messageSize:{0x30} sessionKey:{null}
2012-06-26 10:55:00,142 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 32
2012-06-26 10:55:00,142 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=32, in.remaining=32
2012-06-26 10:55:00,142 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 10:55:00,142 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 7
2012-06-26 10:55:00,142 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 7: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageCodec@1c7eb33
2012-06-26 10:55:00,142 [NioProcessor-2  ] [DEBUG] m.p.s.m.c.LoginMessageCodec - login/bind message decode
2012-06-26 10:55:00,142 [NioProcessor-2  ] [TRACE] m.p.s.m.c.LoginMessageCodec - LoginRequestMessage: [cmdId=7, posId=pos-0002, challengeResponse=[-58, 123, -26, -69, 125, -116, 11, -78, 17, -25, -31, 114, -92, 3, -13, -37]]
2012-06-26 10:55:00,142 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 10:55:00,142 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xfa18} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[-58, 123, -26, -69, 125, -116, 11, -78, 17, -25, -31, 114, -92, 3, -13, -37]]
2012-06-26 10:55:00,142 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 10:55:00,142 [NioProcessor-2  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 10:55:00,142 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 10:55:00,142 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 10:55:00,142 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 10:55:00,142 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 10:55:00,142 [NioProcessor-2  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2444, Mina session ID 19, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xfa18} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[-58, 123, -26, -69, 125, -116, 11, -78, 17, -25, -31, 114, -92, 3, -13, -37]]
2012-06-26 10:55:00,158 [pool-4-thread-8 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 10:55:00,158 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 10:55:00,158 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 10:55:00,158 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 10:55:00,158 [NioProcessor-2  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 10:55:00,158 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 10:55:00,158 [pool-4-thread-8 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 10:55:00,158 [pool-4-thread-8 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@9fe666 obtained for command ID 7
2012-06-26 10:55:00,158 [pool-4-thread-8 ] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 7 is com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@9fe666
2012-06-26 10:55:00,158 [pool-4-thread-8 ] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==bodyMessage=: [cmdId=7, posId=pos-0002, challengeResponse=[-58, 123, -26, -69, 125, -116, 11, -78, 17, -25, -31, 114, -92, 3, -13, -37]]
2012-06-26 10:55:00,158 [pool-4-thread-8 ] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:null
2012-06-26 10:55:00,158 [pool-4-thread-8 ] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId
2012-06-26 10:55:00,158 [pool-4-thread-8 ] [TRACE] .q.m.l.l.i.LoginManagerImpl - Loaded from db: pos.posId:pos-0002, pos.secret:000001, oldChallenge:[50, 86, 100, 101, 56, 100, 52, 121]
2012-06-26 10:55:00,158 [pool-4-thread-8 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - disableChallengeCheck =0
2012-06-26 10:55:00,158 [pool-4-thread-8 ] [TRACE] c.c.q.m.l.c.ChallengeUtil   - checking challenge:response:[-58, 123, -26, -69, 125, -116, 11, -78, 17, -25, -31, 114, -92, 3, -13, -37], posKey:000001, random:[50, 86, 100, 101, 56, 100, 52, 121]
2012-06-26 10:55:00,158 [pool-4-thread-8 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - new challenge for POS (POS ID): [50, 115, 85, 80, 87, 54, 65, 101]
2012-06-26 10:55:00,158 [pool-4-thread-8 ] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==serverKey=:JXTPOS
2012-06-26 10:55:00,158 [pool-4-thread-8 ] [DEBUG] ThreadSafeClientConnManager - Get connection: HttpRoute[{}->http://localhost:7070], timeout = 0
2012-06-26 10:55:00,158 [pool-4-thread-8 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - [HttpRoute[{}->http://localhost:7070]] total kept alive: 0, total issued: 0, total allocated: 0 out of 20
2012-06-26 10:55:00,158 [pool-4-thread-8 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - No free connections [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 10:55:00,158 [pool-4-thread-8 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Available capacity: 2 out of 2 [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 10:55:00,158 [pool-4-thread-8 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Creating new connection [HttpRoute[{}->http://localhost:7070]]
2012-06-26 10:55:00,158 [pool-4-thread-8 ] [DEBUG] ultClientConnectionOperator - Connecting to localhost:7070
2012-06-26 10:55:01,156 [pool-4-thread-8 ] [DEBUG] i.c.DefaultClientConnection - Connection closed
2012-06-26 10:55:01,156 [pool-4-thread-8 ] [DEBUG] i.c.DefaultClientConnection - Connection shut down
2012-06-26 10:55:01,156 [pool-4-thread-8 ] [DEBUG] ThreadSafeClientConnManager - Released connection is not reusable.
2012-06-26 10:55:01,156 [pool-4-thread-8 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Releasing connection [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 10:55:01,156 [pool-4-thread-8 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Notifying no-one, there are no waiting threads
2012-06-26 10:55:01,156 [pool-4-thread-8 ] [ERROR] q.m.p.h.LoginCommandHandler - initGrouponCache fail:com.chinarewards.qqgbvpn.qqapi.exception.ParseXMLException: com.chinarewards.qqgbvpn.qqapi.exception.SendPostTimeOutException: org.apache.http.conn.HttpHostConnectException: Connection to http://localhost:7070 refused
2012-06-26 10:55:01,156 [pool-4-thread-8 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 10:55:01,187 [pool-4-thread-8 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 10:55:01,187 [pool-4-thread-8 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 10:55:01,187 [pool-4-thread-8 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 10:55:01,187 [pool-4-thread-8 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 19
2012-06-26 10:55:01,187 [pool-4-thread-8 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (8)
2012-06-26 10:55:01,187 [pool-4-thread-8 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageResponseCodec@9c15d2
2012-06-26 10:55:01,187 [pool-4-thread-8 ] [DEBUG] c.LoginMessageResponseCodec - login/bind message encode
2012-06-26 10:55:01,187 [pool-4-thread-8 ] [TRACE] c.LoginMessageResponseCodec - LoginResponseMessage: [cmdId=8, result=0, challenge=[50, 115, 85, 80, 87, 54, 65, 101]]
2012-06-26 10:55:01,187 [pool-4-thread-8 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0xdf79
2012-06-26 10:55:01,187 [pool-4-thread-8 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 10:55:01,187 [pool-4-thread-8 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 DF 79 00 00 00 1E ...........y....
00000010 00 00 00 08 00 00 32 73 55 50 57 36 41 65       ......2sUPW6Ae

2012-06-26 10:55:01,187 [pool-4-thread-8 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 10:55:01,187 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 10:55:01,187 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 10:55:01,187 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 19: not mark to return session ID to client
2012-06-26 10:55:01,187 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 10:55:01,187 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 10:55:01,187 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 10:55:01,187 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2444, Mina session ID 19, identified POS ID pos-0002
2012-06-26 10:55:01,187 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 33 of 33 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 D8 04 00 00 00 21 ...............!
00000010 00 00 00 C9 00 0B 31 31 31 31 31 31 31 31 31 31 ......1111111111
00000020 31                                              1

2012-06-26 10:55:01,187 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=33 cap=1024: 00 00 00 10 00 00 00 00 00 00 D8 04 00 00 00 21...]
2012-06-26 10:55:01,187 [NioProcessor-2  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 19
2012-06-26 10:55:01,187 [NioProcessor-2  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 10:55:01,187 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 10:55:01,187 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 19
2012-06-26 10:55:01,187 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =33
2012-06-26 10:55:01,187 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 33 of 33 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 D8 04 00 00 00 21 ...............!
00000010 00 00 00 C9 00 0B 31 31 31 31 31 31 31 31 31 31 ......1111111111
00000020 31                                              1

2012-06-26 10:55:01,187 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 33, current position: 0
2012-06-26 10:55:01,187 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 10:55:01,187 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd804} messageSize:{0x21} sessionKey:{null}
2012-06-26 10:55:01,187 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 17
2012-06-26 10:55:01,187 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=17, in.remaining=17
2012-06-26 10:55:01,187 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 10:55:01,187 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 201
2012-06-26 10:55:01,187 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 201: com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftMessageCodec@15cb235
2012-06-26 10:55:01,187 [NioProcessor-2  ] [DEBUG] m.c.ReceiveGiftMessageCodec - receive gift request message decode
2012-06-26 10:55:01,187 [NioProcessor-2  ] [DEBUG] m.c.ReceiveGiftMessageCodec - in.remaining()=17
2012-06-26 10:55:01,187 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 10:55:01,187 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd804} messageSize:{0x21} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@b7cee4
2012-06-26 10:55:01,187 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 10:55:01,187 [NioProcessor-2  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 10:55:01,187 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 10:55:01,187 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 10:55:01,187 [NioProcessor-2  ] [DEBUG] c.c.q.m.p.f.LoginFilter     - isLogin=true
2012-06-26 10:55:01,187 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 10:55:01,187 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 10:55:01,187 [NioProcessor-2  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2444, Mina session ID 19, identified POS ID pos-0002, message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd804} messageSize:{0x21} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@b7cee4
2012-06-26 10:55:01,187 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 10:55:01,187 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 10:55:01,187 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 10:55:01,187 [NioProcessor-2  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 10:55:01,187 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 10:55:01,187 [pool-4-thread-9 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 10:55:01,187 [pool-4-thread-9 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 10:55:01,187 [pool-4-thread-9 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@39471b obtained for command ID 201
2012-06-26 10:55:01,187 [pool-4-thread-9 ] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 201 is com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@39471b
2012-06-26 10:55:01,187 [pool-4-thread-9 ] [DEBUG] h.ReceiveGiftCommandHandler - ReceiveGiftHandler======execute==bodyMessage=: com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@b7cee4
2012-06-26 10:55:01,187 [pool-4-thread-9 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 10:55:01,187 [pool-4-thread-9 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 10:55:01,187 [pool-4-thread-9 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 10:55:01,187 [pool-4-thread-9 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 10:55:01,187 [pool-4-thread-9 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 19
2012-06-26 10:55:01,187 [pool-4-thread-9 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (202)
2012-06-26 10:55:01,187 [pool-4-thread-9 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftResponseMessageCodec@481958
2012-06-26 10:55:01,187 [pool-4-thread-9 ] [DEBUG] iveGiftResponseMessageCodec - receive gift response message encode
2012-06-26 10:55:01,187 [pool-4-thread-9 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0xa494
2012-06-26 10:55:01,187 [pool-4-thread-9 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 10:55:01,187 [pool-4-thread-9 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 55 of 55 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 A4 94 00 00 00 37 ...............7
00000010 00 00 00 CA 00 00 00 01 07 DC 06 1A 0A 37 01 00 .............7..
00000020 BB 01 E0 00 08 C1 EC C8 A1 C0 F1 C6 B7 00 08 D2 ................
00000030 D1 C1 EC C8 A1 B9 FD                            .......

2012-06-26 10:55:01,187 [pool-4-thread-9 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 10:55:01,187 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 10:55:01,187 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 10:55:01,187 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 19: not mark to return session ID to client
2012-06-26 10:55:01,187 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 10:55:01,187 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 10:55:01,187 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 10:55:01,187 [NioProcessor-2  ] [INFO ] o.a.m.f.l.LoggingFilter     - CLOSED
2012-06-26 10:55:01,187 [NioProcessor-2  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 10:55:01,843 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:55:01,843 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:55:01,843 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=5
2012-06-26 10:55:01,843 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=5
2012-06-26 10:55:01,843 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:55:01,843 [Finalizer       ] [DEBUG] ThreadSafeClientConnManager - Shutting down
2012-06-26 10:55:11,828 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:55:11,828 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:55:11,828 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=5
2012-06-26 10:55:11,828 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=5
2012-06-26 10:55:11,828 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:55:21,828 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:55:21,828 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:55:21,828 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=5
2012-06-26 10:55:21,828 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=4
2012-06-26 10:55:21,828 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:55:31,829 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:55:31,829 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:55:31,829 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=4
2012-06-26 10:55:31,829 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=4
2012-06-26 10:55:31,829 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:55:41,829 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:55:41,829 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:55:41,829 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=4
2012-06-26 10:55:41,829 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=4
2012-06-26 10:55:41,829 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:55:51,830 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:55:51,830 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:55:51,830 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=4
2012-06-26 10:55:51,830 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=4
2012-06-26 10:55:51,830 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:56:01,830 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:56:01,830 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:56:01,830 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=4
2012-06-26 10:56:01,830 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=4
2012-06-26 10:56:01,830 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:56:11,847 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:56:11,847 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:56:11,847 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=4
2012-06-26 10:56:11,847 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=4
2012-06-26 10:56:11,847 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:56:21,847 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:56:21,847 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:56:21,847 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=4
2012-06-26 10:56:21,847 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=4
2012-06-26 10:56:21,847 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:56:31,848 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:56:31,848 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:56:31,848 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=4
2012-06-26 10:56:31,848 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=3
2012-06-26 10:56:31,848 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:56:41,848 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:56:41,848 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:56:41,848 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 10:56:41,848 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 10:56:41,848 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:56:51,849 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:56:51,849 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:56:51,849 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 10:56:51,849 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 10:56:51,849 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:57:06,171 [main            ] [INFO ] c.c.q.m.BootStrap           - Home directory: D:\posnetv2
2012-06-26 10:57:06,187 [main            ] [DEBUG] c.c.q.c.ConfigReader        - Home directory is set to D:\posnetv2
2012-06-26 10:57:06,187 [main            ] [DEBUG] c.c.q.c.ConfigReader        - Configuration subdirectory is set to conf
2012-06-26 10:57:06,187 [main            ] [DEBUG] c.c.q.c.ConfigReader        - Configuration directory is set to D:\posnetv2\conf
2012-06-26 10:57:06,187 [main            ] [DEBUG] c.c.q.c.ConfigReader        - Config file: D:\posnetv2\conf\posnet.ini
2012-06-26 10:57:06,187 [main            ] [DEBUG] c.c.q.c.ConfigReader        - Reading configuration file D:\posnetv2\conf\posnet.ini
2012-06-26 10:57:06,187 [main            ] [DEBUG] c.c.q.c.ConfigReader        - - D:\posnetv2\conf\posnet.ini is an .ini file, load using PropertiesConfiguration.
2012-06-26 10:57:06,218 [main            ] [DEBUG] c.c.PropertiesConfiguration - FileName set to posnet.ini
2012-06-26 10:57:06,218 [main            ] [DEBUG] c.c.PropertiesConfiguration - Base path set to D:\posnetv2\conf
2012-06-26 10:57:06,218 [main            ] [DEBUG] o.a.c.c.ConfigurationUtils  - ConfigurationUtils.locate(): base is D:\posnetv2\conf, name is posnet.ini
2012-06-26 10:57:06,218 [main            ] [DEBUG] o.a.c.c.DefaultFileSystem   - Could not locate file posnet.ini at D:\posnetv2\conf: unknown protocol: d
2012-06-26 10:57:06,218 [main            ] [DEBUG] o.a.c.c.ConfigurationUtils  - Loading configuration from the path D:\posnetv2\conf\posnet.ini
2012-06-26 10:57:06,249 [main            ] [DEBUG] o.a.c.c.ConfigurationUtils  - ConfigurationUtils.locate(): base is D:\posnetv2\conf, name is dispatcher.ini
2012-06-26 10:57:06,265 [main            ] [DEBUG] o.a.c.c.DefaultFileSystem   - Could not locate file dispatcher.ini at D:\posnetv2\conf: unknown protocol: d
2012-06-26 10:57:06,265 [main            ] [DEBUG] o.a.c.c.ConfigurationUtils  - Loading configuration from the path D:\posnetv2\conf\dispatcher.ini
2012-06-26 10:57:06,265 [main            ] [DEBUG] c.c.q.m.BootStrap           - System configuration:
2012-06-26 10:57:06,265 [main            ] [DEBUG] c.c.q.m.BootStrap           - - server.port: 1234
2012-06-26 10:57:06,265 [main            ] [DEBUG] c.c.q.m.BootStrap           - - server.client_max_idle_time: 20
2012-06-26 10:57:06,265 [main            ] [DEBUG] c.c.q.m.BootStrap           - - server.session.timeout_check_interval: 10
2012-06-26 10:57:06,265 [main            ] [DEBUG] c.c.q.m.BootStrap           - - server.session.client_timeout: 210
2012-06-26 10:57:06,265 [main            ] [DEBUG] c.c.q.m.BootStrap           - - server.disable_checksum_check: 0
2012-06-26 10:57:06,265 [main            ] [DEBUG] c.c.q.m.BootStrap           - - server.service_handler.thread_pool_size: 20
2012-06-26 10:57:06,265 [main            ] [DEBUG] c.c.q.m.BootStrap           - - firmware.location: D:\posnetv2\posnet2-mgmtui\firmware
2012-06-26 10:57:06,265 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.hibernate.show_sql: [true, true]
2012-06-26 10:57:06,265 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.hibernate.hbm2ddl.auto: false
2012-06-26 10:57:06,265 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.ext.hibernate.dialect: org.hibernate.dialect.MySQL5Dialect
2012-06-26 10:57:06,265 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.user: root
2012-06-26 10:57:06,265 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.password: 167118
2012-06-26 10:57:06,265 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.driver: com.mysql.jdbc.Driver
2012-06-26 10:57:06,265 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.url: jdbc:mysql://localhost/posnet?autoReconnect=true&useUnicode=true&characterEncoding=UTF-8
2012-06-26 10:57:06,265 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.ext.hibernate.connection.provider_class: org.hibernate.connection.C3P0ConnectionProvider
2012-06-26 10:57:06,265 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.ext.hibernate.c3p0.minPoolSize: 5
2012-06-26 10:57:06,265 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.ext.hibernate.c3p0.maxPoolSize: 20
2012-06-26 10:57:06,265 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.ext.hibernate.c3p0.maxIdleTime: 1800
2012-06-26 10:57:06,265 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.ext.hibernate.c3p0.testConnectionOnCheckout: true
2012-06-26 10:57:06,265 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.ext.hibernate.c3p0.maxStatements: 50
2012-06-26 10:57:06,265 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.ext.hibernate.c3p0.maxStatementsPerConnection: 10
2012-06-26 10:57:06,265 [main            ] [DEBUG] c.c.q.m.BootStrap           - - qq.groupbuy.url.groupBuyingSearchGroupon: http://localhost:7070/testdata/TuanSearchListVO.xml
2012-06-26 10:57:06,265 [main            ] [DEBUG] c.c.q.m.BootStrap           - - qq.groupbuy.url.groupBuyingValidationUrl: http://localhost:7070/testdata/TuanValidateResultVO.xml
2012-06-26 10:57:06,265 [main            ] [DEBUG] c.c.q.m.BootStrap           - - qq.groupbuy.url.groupBuyingUnbindPosUrl: http://localhost:7070/testdata/TuanUnbindVO.xml
2012-06-26 10:57:06,265 [main            ] [DEBUG] c.c.q.m.BootStrap           - - txserver.key: JXTPOS
2012-06-26 10:57:06,265 [main            ] [DEBUG] c.c.q.m.BootStrap           - - qq.meishi.wsapi.host: localhost:7070
2012-06-26 10:57:06,265 [main            ] [DEBUG] c.c.q.m.BootStrap           - - qq.meishi.wsapi.url: http://localhost:7070/qq-meishi/data
2012-06-26 10:57:06,265 [main            ] [DEBUG] c.c.q.m.BootStrap           - - qq.meishi.wsapi.secretKey: NDA2ZTkwOTExZjlkZDY3ZTIxMTU1OTY0NmVlYzVmY2Q=
2012-06-26 10:57:06,280 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.1.handler: com.chinarewards.qqgbvpn.main.protocol.handler.SearchCommandHandler
2012-06-26 10:57:06,280 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.1.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.SearchBodyMessageCodec
2012-06-26 10:57:06,280 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.2.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.SearchBodyMessageResponseCodec
2012-06-26 10:57:06,280 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.3.handler: com.chinarewards.qqgbvpn.main.protocol.handler.ValidateCommandHandler
2012-06-26 10:57:06,280 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.3.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.ValidateBodyMessageCodec
2012-06-26 10:57:06,280 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.4.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.ValidateBodyMessageResponseCodec
2012-06-26 10:57:06,280 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.5.handler: com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler
2012-06-26 10:57:06,280 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.5.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageCodec
2012-06-26 10:57:06,280 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.6.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageResponseCodec
2012-06-26 10:57:06,280 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.7.handler: com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler
2012-06-26 10:57:06,280 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.7.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageCodec
2012-06-26 10:57:06,280 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.8.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageResponseCodec
2012-06-26 10:57:06,280 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.9.handler: com.chinarewards.qqgbvpn.main.protocol.handler.BindCommandHandler
2012-06-26 10:57:06,280 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.9.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageCodec
2012-06-26 10:57:06,280 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.10.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageResponseCodec
2012-06-26 10:57:06,280 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.11.handler: com.chinarewards.qqgbvpn.main.protocol.handler.ValidationCallbackHandler
2012-06-26 10:57:06,280 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.11.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.ValidationCallbackCodec
2012-06-26 10:57:06,280 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.12.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.ValidationCallbackResponseCodec
2012-06-26 10:57:06,280 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.13.handler: com.chinarewards.qqgbvpn.main.protocol.handler.FirmwareUpgradeRequestCommandHandler
2012-06-26 10:57:06,280 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.13.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.FirmwareRequestMessageCodec
2012-06-26 10:57:06,280 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.14.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.FirmwareResponseMessageCodec
2012-06-26 10:57:06,280 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.15.handler: com.chinarewards.qqgbvpn.main.protocol.handler.GetFirmwareFragmentHandler
2012-06-26 10:57:06,280 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.15.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.GetFirmwareFragmentRequestMessageCodec
2012-06-26 10:57:06,280 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.16.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.GetFirmwareFragmentResponseMessageCodec
2012-06-26 10:57:06,280 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.17.handler: com.chinarewards.qqgbvpn.main.protocol.handler.FirmwareUpDoneHandler
2012-06-26 10:57:06,280 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.17.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.FirmwareUpDoneRequestCodec
2012-06-26 10:57:06,280 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.18.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.FirmwareUpDoneResponseCodec
2012-06-26 10:57:06,280 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.19.handler: com.chinarewards.qqgbvpn.main.protocol.handler.HuaxiaSearchCommandHandler
2012-06-26 10:57:06,280 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.19.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.HuaxiaSearchBodyMessageCodec
2012-06-26 10:57:06,280 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.20.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.HuaxiaSearchBodyMessageResponseCodec
2012-06-26 10:57:06,280 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.21.handler: com.chinarewards.qqgbvpn.main.protocol.handler.HuaxiaConfirmCommandHandler
2012-06-26 10:57:06,280 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.21.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.HuaxiaConfirmBodyMessageCodec
2012-06-26 10:57:06,280 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.22.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.HuaxiaConfirmBodyMessageResponseCodec
2012-06-26 10:57:06,280 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.23.handler: com.chinarewards.qqgbvpn.main.protocol.handler.HuaxiaAckCommandHandler
2012-06-26 10:57:06,280 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.23.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.HuaxiaAckBodyMessageCodec
2012-06-26 10:57:06,280 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.24.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.HuaxiaAckBodyMessageResponseCodec
2012-06-26 10:57:06,280 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.25.handler: com.chinarewards.qqgbvpn.main.protocol.handler.PosEchoCommandHandler
2012-06-26 10:57:06,280 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.25.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.PosEchoCommandRequestMessageCodec
2012-06-26 10:57:06,280 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.26.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.PosEchoCommandResponseMessageCodec
2012-06-26 10:57:06,280 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.27.handler: com.chinarewards.qqgbvpn.main.protocol.handler.ValidateCommandHandler2
2012-06-26 10:57:06,280 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.27.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.ValidateBodyMessageCodec2
2012-06-26 10:57:06,280 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.28.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.ValidateBodyMessageResponseCodec2
2012-06-26 10:57:06,280 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.101.handler: com.chinarewards.qqgbvpn.main.protocol.handler.QQMeishiCommandHandler
2012-06-26 10:57:06,280 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.101.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.QQMeishiBodyMessageCodec
2012-06-26 10:57:06,280 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.102.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.QQMeishiBodyMessageResponseCodec
2012-06-26 10:57:06,280 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.201.handler: com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler
2012-06-26 10:57:06,280 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.201.codec: com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftMessageCodec
2012-06-26 10:57:06,280 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.202.codec: com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftResponseMessageCodec
2012-06-26 10:57:06,280 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.110.handler: com.chinarewards.timeserver.main.protocol.handler.TimeServerHandler
2012-06-26 10:57:06,280 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.110.codec: com.chinarewards.timeserver.main.protocol.socket.mina.codec.TimeServerMessageCodec
2012-06-26 10:57:06,280 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.111.codec: com.chinarewards.timeserver.main.protocol.socket.mina.codec.TimeServerMessageResponseCodec
2012-06-26 10:57:06,280 [main            ] [DEBUG] c.c.q.m.BootStrap           - - qq.vip.adidas.des.secretkey: qqadidas
2012-06-26 10:57:06,280 [main            ] [INFO ] c.c.q.m.BootStrap           - Bootstrapping...
2012-06-26 10:57:06,280 [main            ] [INFO ] c.c.q.m.BootStrap           - Initializing dependency injection environment...
2012-06-26 10:57:06,311 [main            ] [INFO ] c.c.q.m.BootStrap           - Creating Guice injector. If it is stucked, there is a chance the database is down.
2012-06-26 10:57:06,467 [main            ] [DEBUG] .q.m.p.ServiceHandlerModule - Finished configuration
2012-06-26 10:57:06,467 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.SearchCommandHandler to Guice
2012-06-26 10:57:06,467 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.QQMeishiCommandHandler to Guice
2012-06-26 10:57:06,467 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.ValidateCommandHandler to Guice
2012-06-26 10:57:06,467 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler to Guice
2012-06-26 10:57:06,467 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler to Guice
2012-06-26 10:57:06,467 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler to Guice
2012-06-26 10:57:06,467 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.timeserver.main.protocol.handler.TimeServerHandler to Guice
2012-06-26 10:57:06,467 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.BindCommandHandler to Guice
2012-06-26 10:57:06,467 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.ValidationCallbackHandler to Guice
2012-06-26 10:57:06,467 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.FirmwareUpgradeRequestCommandHandler to Guice
2012-06-26 10:57:06,467 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.GetFirmwareFragmentHandler to Guice
2012-06-26 10:57:06,467 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.FirmwareUpDoneHandler to Guice
2012-06-26 10:57:06,467 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.HuaxiaSearchCommandHandler to Guice
2012-06-26 10:57:06,467 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.HuaxiaConfirmCommandHandler to Guice
2012-06-26 10:57:06,467 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.HuaxiaAckCommandHandler to Guice
2012-06-26 10:57:06,467 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.PosEchoCommandHandler to Guice
2012-06-26 10:57:06,467 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.ValidateCommandHandler2 to Guice
2012-06-26 10:57:06,467 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Configuration completed
2012-06-26 10:57:06,811 [main            ] [INFO ] c.c.q.m.BootStrap           - Bootstrapping completed
2012-06-26 10:57:06,811 [main            ] [DEBUG] dule$ServiceMappingProvider - Returning ServiceMapping
2012-06-26 10:57:06,811 [main            ] [DEBUG] $$EnhancerByGuice$$97046352 - ServiceHandlerObjectFactory is com.chinarewards.qqgbvpn.main.protocol.guice.GuiceServiceHandlerObjectFactory@2bd3a
2012-06-26 10:57:08,137 [main            ] [DEBUG] c.c.q.m.PosServer           - idleTime=20
2012-06-26 10:57:08,215 [main            ] [DEBUG] c.c.q.m.PosServer           -  monitor port =9999
2012-06-26 10:57:08,215 [main            ] [DEBUG] c.c.q.m.PosServer           -  JMXServiceURL =service:jmx:rmi:///jndi/rmi://localhost:9999/jmxrmi
2012-06-26 10:57:08,230 [main            ] [INFO ] c.c.q.m.PosServer           - Client idle timeout set to 20 seconds
2012-06-26 10:57:08,246 [main            ] [DEBUG] c.c.q.m.PosServer           - config server.session.timeout_check_interval=10
2012-06-26 10:57:08,246 [main            ] [INFO ] c.c.q.m.PosServer           - Server running, listening on 1234
2012-06-26 10:57:08,246 [main            ] [INFO ] c.c.q.m.r.RMIRegistry       - Start listener rmi server, port=9999
2012-06-26 10:57:09,229 [main            ] [INFO ] c.c.q.m.r.RMIRegistry       - no existing RMI registry found on port 9999, creating...
2012-06-26 10:57:09,229 [main            ] [INFO ] c.c.q.m.r.RMIRegistry       - RMI server create success.
2012-06-26 10:57:15,844 [NioProcessor-2  ] [INFO ] c.c.q.m.p.f.LoggingFilter   - incoming connection from remote address: 127.0.0.1:2473, Mina session ID: 1
2012-06-26 10:57:15,844 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - Currently managed session count: 1
2012-06-26 10:57:15,844 [NioProcessor-2  ] [INFO ] o.a.m.f.l.LoggingFilter     - CREATED
2012-06-26 10:57:15,844 [NioProcessor-2  ] [INFO ] o.a.m.f.l.LoggingFilter     - OPENED
2012-06-26 10:57:16,000 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2473, Mina session ID 1, identified POS ID null
2012-06-26 10:57:16,000 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 10:57:16,000 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=32 cap=2048: 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20...]
2012-06-26 10:57:16,000 [NioProcessor-2  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 1
2012-06-26 10:57:16,000 [NioProcessor-2  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 10:57:16,000 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 10:57:16,000 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 1
2012-06-26 10:57:16,000 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =32
2012-06-26 10:57:16,000 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 10:57:16,015 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 32, current position: 0
2012-06-26 10:57:16,015 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 10:57:16,015 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}
2012-06-26 10:57:16,015 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 16
2012-06-26 10:57:16,015 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=16, in.remaining=16
2012-06-26 10:57:16,015 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 10:57:16,015 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 5
2012-06-26 10:57:16,015 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 5: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageCodec@91a4fb
2012-06-26 10:57:16,015 [NioProcessor-2  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - init request message decode
2012-06-26 10:57:16,015 [NioProcessor-2  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - in.remaining()=16
2012-06-26 10:57:16,015 [NioProcessor-2  ] [TRACE] .m.p.s.m.c.InitMessageCodec - InitRequestMessage: [cmdId=5, posId=pos-0002]
2012-06-26 10:57:16,015 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 10:57:16,015 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 10:57:16,015 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 10:57:16,015 [NioProcessor-2  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 10:57:16,015 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 10:57:16,015 [NioProcessor-2  ] [DEBUG] p.f.SessionKeyMessageFilter - Mina session ID 1: created session key fd27c797720944659299d1cd648e138d
2012-06-26 10:57:16,015 [NioProcessor-2  ] [DEBUG] p.f.SessionKeyMessageFilter - creating session for mina session ID 1 using session ID fd27c797720944659299d1cd648e138d
2012-06-26 10:57:16,015 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 10:57:16,015 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 10:57:16,015 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 10:57:16,015 [NioProcessor-2  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2473, Mina session ID 1, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 10:57:16,015 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 10:57:16,015 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 10:57:16,015 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 10:57:16,015 [NioProcessor-2  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 10:57:16,015 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 10:57:16,015 [pool-4-thread-1 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 10:57:16,062 [pool-4-thread-1 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 10:57:16,062 [pool-4-thread-1 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@17e615 obtained for command ID 5
2012-06-26 10:57:16,062 [pool-4-thread-1 ] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 5 is com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@17e615
2012-06-26 10:57:16,062 [pool-4-thread-1 ] [DEBUG] .q.m.p.h.InitCommandHandler - InitCommandHandler======execute==bodyMessage=:  [cmdId=5, posId=pos-0002]
2012-06-26 10:57:16,078 [pool-4-thread-1 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - InitResponse() invoke
2012-06-26 10:57:16,078 [pool-4-thread-1 ] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:ALLOWED
2012-06-26 10:57:16,078 [pool-4-thread-1 ] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId AND p.ostatus = :ostatus
2012-06-26 10:57:16,250 [pool-4-thread-1 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - POS ID:pos-0002, init challenge saved - [89, 114, 90, 122, 112, 107, 83, 88]
2012-06-26 10:57:16,468 [pool-4-thread-1 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 10:57:16,484 [pool-4-thread-1 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 10:57:16,484 [pool-4-thread-1 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 10:57:16,484 [pool-4-thread-1 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 10:57:16,484 [pool-4-thread-1 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 1
2012-06-26 10:57:16,484 [pool-4-thread-1 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (6)
2012-06-26 10:57:16,484 [pool-4-thread-1 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageResponseCodec@146df77
2012-06-26 10:57:16,484 [pool-4-thread-1 ] [DEBUG] .c.InitMessageResponseCodec - init response message encode
2012-06-26 10:57:16,484 [pool-4-thread-1 ] [TRACE] .c.InitMessageResponseCodec - InitResponseMessage: [cmdId=6, result=0, challenge=[89, 114, 90, 122, 112, 107, 83, 88]]
2012-06-26 10:57:16,484 [pool-4-thread-1 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0x882a
2012-06-26 10:57:16,484 [pool-4-thread-1 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 10:57:16,484 [pool-4-thread-1 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 88 2A 00 00 00 1E ...........*....
00000010 00 00 00 06 00 00 59 72 5A 7A 70 6B 53 58       ......YrZzpkSX

2012-06-26 10:57:16,484 [pool-4-thread-1 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 10:57:16,499 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 10:57:16,499 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 10:57:16,499 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 1: not mark to return session ID to client
2012-06-26 10:57:16,499 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 10:57:16,499 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 10:57:16,499 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 10:57:16,702 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2473, Mina session ID 1, identified POS ID pos-0002
2012-06-26 10:57:16,702 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 26 51 00 00 00 30 ..........&Q...0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 54 49 01 B6 6F EB 02 5B F3 06 5E 9D D2 9D A8 EF TI..o..[..^.....

2012-06-26 10:57:16,702 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=48 cap=2048: 00 00 00 01 00 00 00 00 00 00 26 51 00 00 00 30...]
2012-06-26 10:57:16,702 [NioProcessor-2  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 1
2012-06-26 10:57:16,702 [NioProcessor-2  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 10:57:16,702 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 10:57:16,702 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 1
2012-06-26 10:57:16,702 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =48
2012-06-26 10:57:16,702 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 26 51 00 00 00 30 ..........&Q...0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 54 49 01 B6 6F EB 02 5B F3 06 5E 9D D2 9D A8 EF TI..o..[..^.....

2012-06-26 10:57:16,702 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 48, current position: 0
2012-06-26 10:57:16,702 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 10:57:16,702 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x2651} messageSize:{0x30} sessionKey:{null}
2012-06-26 10:57:16,702 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 32
2012-06-26 10:57:16,702 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=32, in.remaining=32
2012-06-26 10:57:16,702 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 10:57:16,702 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 7
2012-06-26 10:57:16,718 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 7: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageCodec@87cd5c
2012-06-26 10:57:16,718 [NioProcessor-2  ] [DEBUG] m.p.s.m.c.LoginMessageCodec - login/bind message decode
2012-06-26 10:57:16,718 [NioProcessor-2  ] [TRACE] m.p.s.m.c.LoginMessageCodec - LoginRequestMessage: [cmdId=7, posId=pos-0002, challengeResponse=[84, 73, 1, -74, 111, -21, 2, 91, -13, 6, 94, -99, -46, -99, -88, -17]]
2012-06-26 10:57:16,718 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 10:57:16,718 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x2651} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[84, 73, 1, -74, 111, -21, 2, 91, -13, 6, 94, -99, -46, -99, -88, -17]]
2012-06-26 10:57:16,718 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 10:57:16,718 [NioProcessor-2  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 10:57:16,718 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 10:57:16,718 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 10:57:16,718 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 10:57:16,718 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 10:57:16,718 [NioProcessor-2  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2473, Mina session ID 1, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x2651} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[84, 73, 1, -74, 111, -21, 2, 91, -13, 6, 94, -99, -46, -99, -88, -17]]
2012-06-26 10:57:16,718 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 10:57:16,718 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 10:57:16,718 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 10:57:16,718 [NioProcessor-2  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 10:57:16,718 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 10:57:16,718 [pool-4-thread-2 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 10:57:16,718 [pool-4-thread-2 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 10:57:16,718 [pool-4-thread-2 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@811e10 obtained for command ID 7
2012-06-26 10:57:16,718 [pool-4-thread-2 ] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 7 is com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@811e10
2012-06-26 10:57:16,718 [pool-4-thread-2 ] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==bodyMessage=: [cmdId=7, posId=pos-0002, challengeResponse=[84, 73, 1, -74, 111, -21, 2, 91, -13, 6, 94, -99, -46, -99, -88, -17]]
2012-06-26 10:57:16,718 [pool-4-thread-2 ] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:null
2012-06-26 10:57:16,718 [pool-4-thread-2 ] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId
2012-06-26 10:57:16,718 [pool-4-thread-2 ] [TRACE] .q.m.l.l.i.LoginManagerImpl - Loaded from db: pos.posId:pos-0002, pos.secret:000001, oldChallenge:[89, 114, 90, 122, 112, 107, 83, 88]
2012-06-26 10:57:16,718 [pool-4-thread-2 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - disableChallengeCheck =0
2012-06-26 10:57:16,718 [pool-4-thread-2 ] [TRACE] c.c.q.m.l.c.ChallengeUtil   - checking challenge:response:[84, 73, 1, -74, 111, -21, 2, 91, -13, 6, 94, -99, -46, -99, -88, -17], posKey:000001, random:[89, 114, 90, 122, 112, 107, 83, 88]
2012-06-26 10:57:16,952 [pool-4-thread-2 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - new challenge for POS (POS ID): [121, 106, 65, 74, 74, 67, 121, 77]
2012-06-26 10:57:16,952 [pool-4-thread-2 ] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==serverKey=:JXTPOS
2012-06-26 10:57:17,139 [pool-4-thread-2 ] [DEBUG] ThreadSafeClientConnManager - Get connection: HttpRoute[{}->http://localhost:7070], timeout = 0
2012-06-26 10:57:17,139 [pool-4-thread-2 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - [HttpRoute[{}->http://localhost:7070]] total kept alive: 0, total issued: 0, total allocated: 0 out of 20
2012-06-26 10:57:17,139 [pool-4-thread-2 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - No free connections [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 10:57:17,139 [pool-4-thread-2 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Available capacity: 2 out of 2 [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 10:57:17,139 [pool-4-thread-2 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Creating new connection [HttpRoute[{}->http://localhost:7070]]
2012-06-26 10:57:17,139 [pool-4-thread-2 ] [DEBUG] ultClientConnectionOperator - Connecting to localhost:7070
2012-06-26 10:57:18,184 [pool-4-thread-2 ] [DEBUG] i.c.DefaultClientConnection - Connection closed
2012-06-26 10:57:18,184 [pool-4-thread-2 ] [DEBUG] i.c.DefaultClientConnection - Connection shut down
2012-06-26 10:57:18,184 [pool-4-thread-2 ] [DEBUG] ThreadSafeClientConnManager - Released connection is not reusable.
2012-06-26 10:57:18,184 [pool-4-thread-2 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Releasing connection [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 10:57:18,184 [pool-4-thread-2 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Notifying no-one, there are no waiting threads
2012-06-26 10:57:18,184 [pool-4-thread-2 ] [ERROR] q.m.p.h.LoginCommandHandler - initGrouponCache fail:com.chinarewards.qqgbvpn.qqapi.exception.ParseXMLException: com.chinarewards.qqgbvpn.qqapi.exception.SendPostTimeOutException: org.apache.http.conn.HttpHostConnectException: Connection to http://localhost:7070 refused
2012-06-26 10:57:18,200 [pool-4-thread-2 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 10:57:18,262 [pool-4-thread-2 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 10:57:18,262 [pool-4-thread-2 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 10:57:18,262 [pool-4-thread-2 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 10:57:18,262 [pool-4-thread-2 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 1
2012-06-26 10:57:18,262 [pool-4-thread-2 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (8)
2012-06-26 10:57:18,262 [pool-4-thread-2 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageResponseCodec@1be20c
2012-06-26 10:57:18,262 [pool-4-thread-2 ] [DEBUG] c.LoginMessageResponseCodec - login/bind message encode
2012-06-26 10:57:18,262 [pool-4-thread-2 ] [TRACE] c.LoginMessageResponseCodec - LoginResponseMessage: [cmdId=8, result=0, challenge=[121, 106, 65, 74, 74, 67, 121, 77]]
2012-06-26 10:57:18,262 [pool-4-thread-2 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0x8193
2012-06-26 10:57:18,262 [pool-4-thread-2 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 10:57:18,262 [pool-4-thread-2 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 81 93 00 00 00 1E ................
00000010 00 00 00 08 00 00 79 6A 41 4A 4A 43 79 4D       ......yjAJJCyM

2012-06-26 10:57:18,262 [pool-4-thread-2 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 10:57:18,262 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 10:57:18,262 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 10:57:18,262 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 1: not mark to return session ID to client
2012-06-26 10:57:18,262 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 10:57:18,262 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 10:57:18,262 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 10:57:18,262 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2473, Mina session ID 1, identified POS ID pos-0002
2012-06-26 10:57:18,262 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 33 of 33 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 D8 04 00 00 00 21 ...............!
00000010 00 00 00 C9 00 0B 31 31 31 31 31 31 31 31 31 31 ......1111111111
00000020 31                                              1

2012-06-26 10:57:18,262 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=33 cap=1024: 00 00 00 10 00 00 00 00 00 00 D8 04 00 00 00 21...]
2012-06-26 10:57:18,262 [Finalizer       ] [DEBUG] ThreadSafeClientConnManager - Shutting down
2012-06-26 10:57:18,262 [NioProcessor-2  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 1
2012-06-26 10:57:18,262 [NioProcessor-2  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 10:57:18,262 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 10:57:18,262 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 1
2012-06-26 10:57:18,262 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =33
2012-06-26 10:57:18,262 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 33 of 33 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 D8 04 00 00 00 21 ...............!
00000010 00 00 00 C9 00 0B 31 31 31 31 31 31 31 31 31 31 ......1111111111
00000020 31                                              1

2012-06-26 10:57:18,262 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 33, current position: 0
2012-06-26 10:57:18,262 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 10:57:18,262 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd804} messageSize:{0x21} sessionKey:{null}
2012-06-26 10:57:18,262 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 17
2012-06-26 10:57:18,262 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=17, in.remaining=17
2012-06-26 10:57:18,262 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 10:57:18,262 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 201
2012-06-26 10:57:18,262 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 201: com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftMessageCodec@c02a
2012-06-26 10:57:18,262 [NioProcessor-2  ] [DEBUG] m.c.ReceiveGiftMessageCodec - receive gift request message decode
2012-06-26 10:57:18,262 [NioProcessor-2  ] [DEBUG] m.c.ReceiveGiftMessageCodec - in.remaining()=17
2012-06-26 10:57:18,262 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 10:57:18,262 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd804} messageSize:{0x21} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@1e136a8
2012-06-26 10:57:18,262 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 10:57:18,262 [NioProcessor-2  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 10:57:18,262 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 10:57:18,262 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 10:57:18,262 [NioProcessor-2  ] [DEBUG] c.c.q.m.p.f.LoginFilter     - isLogin=true
2012-06-26 10:57:18,262 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 10:57:18,262 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 10:57:18,262 [NioProcessor-2  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2473, Mina session ID 1, identified POS ID pos-0002, message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd804} messageSize:{0x21} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@1e136a8
2012-06-26 10:57:18,262 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 10:57:18,262 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 10:57:18,262 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 10:57:18,262 [NioProcessor-2  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 10:57:18,262 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 10:57:18,262 [pool-4-thread-3 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 10:57:18,278 [pool-4-thread-3 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 10:57:18,293 [pool-4-thread-3 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@125ee49 obtained for command ID 201
2012-06-26 10:57:18,293 [pool-4-thread-3 ] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 201 is com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@125ee49
2012-06-26 10:57:18,293 [pool-4-thread-3 ] [DEBUG] h.ReceiveGiftCommandHandler - ReceiveGiftHandler======execute==bodyMessage=: com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@1e136a8
2012-06-26 10:57:18,309 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:57:18,309 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:57:18,309 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 10:57:18,309 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 10:57:18,309 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:57:18,325 [pool-4-thread-3 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 10:57:18,325 [pool-4-thread-3 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 10:57:18,325 [pool-4-thread-3 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 10:57:18,325 [pool-4-thread-3 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 10:57:18,325 [pool-4-thread-3 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 1
2012-06-26 10:57:18,325 [pool-4-thread-3 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (202)
2012-06-26 10:57:18,325 [pool-4-thread-3 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftResponseMessageCodec@1ed2bbd
2012-06-26 10:57:18,325 [pool-4-thread-3 ] [DEBUG] iveGiftResponseMessageCodec - receive gift response message encode
2012-06-26 10:57:18,325 [pool-4-thread-3 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0x2992
2012-06-26 10:57:18,325 [pool-4-thread-3 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 10:57:18,325 [pool-4-thread-3 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 55 of 55 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 29 92 00 00 00 37 ..........)....7
00000010 00 00 00 CA 00 00 00 01 07 DC 06 1A 0A 39 12 01 .............9..
00000020 25 01 E0 00 08 C1 EC C8 A1 C0 F1 C6 B7 00 08 D2 %...............
00000030 D1 C1 EC C8 A1 B9 FD                            .......

2012-06-26 10:57:18,325 [pool-4-thread-3 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 10:57:18,325 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 10:57:18,325 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 10:57:18,325 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 1: not mark to return session ID to client
2012-06-26 10:57:18,325 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 10:57:18,325 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 10:57:18,325 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 10:57:18,325 [NioProcessor-2  ] [INFO ] o.a.m.f.l.LoggingFilter     - CLOSED
2012-06-26 10:57:18,325 [NioProcessor-2  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 10:57:28,294 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:57:28,294 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:57:28,294 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 10:57:28,294 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 10:57:28,294 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:57:38,263 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:57:38,263 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:57:38,263 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 10:57:38,263 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 10:57:38,263 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:57:48,264 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:57:48,264 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:57:48,264 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 10:57:48,264 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 10:57:48,264 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:57:58,264 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:57:58,264 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:57:58,264 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 10:57:58,264 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 10:57:58,264 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:58:04,115 [NioProcessor-3  ] [INFO ] c.c.q.m.p.f.LoggingFilter   - incoming connection from remote address: 127.0.0.1:2478, Mina session ID: 2
2012-06-26 10:58:04,115 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - Currently managed session count: 1
2012-06-26 10:58:04,115 [NioProcessor-3  ] [INFO ] o.a.m.f.l.LoggingFilter     - CREATED
2012-06-26 10:58:04,115 [NioProcessor-3  ] [INFO ] o.a.m.f.l.LoggingFilter     - OPENED
2012-06-26 10:58:04,271 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2478, Mina session ID 2, identified POS ID null
2012-06-26 10:58:04,271 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 10:58:04,271 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=32 cap=2048: 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20...]
2012-06-26 10:58:04,271 [NioProcessor-3  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 2
2012-06-26 10:58:04,271 [NioProcessor-3  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 10:58:04,271 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 10:58:04,271 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 2
2012-06-26 10:58:04,271 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =32
2012-06-26 10:58:04,271 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 10:58:04,271 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 32, current position: 0
2012-06-26 10:58:04,271 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 10:58:04,271 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}
2012-06-26 10:58:04,271 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 16
2012-06-26 10:58:04,271 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=16, in.remaining=16
2012-06-26 10:58:04,271 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 10:58:04,271 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 5
2012-06-26 10:58:04,271 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 5: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageCodec@28ab65
2012-06-26 10:58:04,271 [NioProcessor-3  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - init request message decode
2012-06-26 10:58:04,271 [NioProcessor-3  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - in.remaining()=16
2012-06-26 10:58:04,271 [NioProcessor-3  ] [TRACE] .m.p.s.m.c.InitMessageCodec - InitRequestMessage: [cmdId=5, posId=pos-0002]
2012-06-26 10:58:04,271 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 10:58:04,271 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 10:58:04,271 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 10:58:04,271 [NioProcessor-3  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 10:58:04,271 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 10:58:04,271 [NioProcessor-3  ] [DEBUG] p.f.SessionKeyMessageFilter - Mina session ID 2: created session key 661310e8735841c8b10704dfa8597a40
2012-06-26 10:58:04,271 [NioProcessor-3  ] [DEBUG] p.f.SessionKeyMessageFilter - creating session for mina session ID 2 using session ID 661310e8735841c8b10704dfa8597a40
2012-06-26 10:58:04,271 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 10:58:04,271 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 10:58:04,271 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 10:58:04,271 [NioProcessor-3  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2478, Mina session ID 2, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 10:58:04,271 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 10:58:04,271 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 10:58:04,271 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 10:58:04,271 [NioProcessor-3  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 10:58:04,271 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 10:58:04,271 [pool-4-thread-4 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 10:58:04,271 [pool-4-thread-4 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 10:58:04,271 [pool-4-thread-4 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@72d398 obtained for command ID 5
2012-06-26 10:58:04,271 [pool-4-thread-4 ] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 5 is com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@72d398
2012-06-26 10:58:04,271 [pool-4-thread-4 ] [DEBUG] .q.m.p.h.InitCommandHandler - InitCommandHandler======execute==bodyMessage=:  [cmdId=5, posId=pos-0002]
2012-06-26 10:58:04,271 [pool-4-thread-4 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - InitResponse() invoke
2012-06-26 10:58:04,271 [pool-4-thread-4 ] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:ALLOWED
2012-06-26 10:58:04,271 [pool-4-thread-4 ] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId AND p.ostatus = :ostatus
2012-06-26 10:58:04,271 [pool-4-thread-4 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - POS ID:pos-0002, init challenge saved - [51, 85, 108, 87, 104, 104, 100, 80]
2012-06-26 10:58:04,271 [pool-4-thread-4 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 10:58:04,318 [pool-4-thread-4 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 10:58:04,318 [pool-4-thread-4 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 10:58:04,318 [pool-4-thread-4 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 10:58:04,318 [pool-4-thread-4 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 2
2012-06-26 10:58:04,318 [pool-4-thread-4 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (6)
2012-06-26 10:58:04,318 [pool-4-thread-4 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageResponseCodec@537d55
2012-06-26 10:58:04,318 [pool-4-thread-4 ] [DEBUG] .c.InitMessageResponseCodec - init response message encode
2012-06-26 10:58:04,318 [pool-4-thread-4 ] [TRACE] .c.InitMessageResponseCodec - InitResponseMessage: [cmdId=6, result=0, challenge=[51, 85, 108, 87, 104, 104, 100, 80]]
2012-06-26 10:58:04,318 [pool-4-thread-4 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0x9375
2012-06-26 10:58:04,318 [pool-4-thread-4 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 10:58:04,318 [pool-4-thread-4 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 93 75 00 00 00 1E ...........u....
00000010 00 00 00 06 00 00 33 55 6C 57 68 68 64 50       ......3UlWhhdP

2012-06-26 10:58:04,318 [pool-4-thread-4 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 10:58:04,318 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 10:58:04,318 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 10:58:04,318 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 2: not mark to return session ID to client
2012-06-26 10:58:04,318 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 10:58:04,318 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 10:58:04,318 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 10:58:04,536 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2478, Mina session ID 2, identified POS ID pos-0002
2012-06-26 10:58:04,536 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 1E 41 00 00 00 30 ...........A...0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 A9 E4 CE C0 51 B4 A8 0C F6 5A AD BC 32 B1 54 58 ....Q....Z..2.TX

2012-06-26 10:58:04,536 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=48 cap=2048: 00 00 00 01 00 00 00 00 00 00 1E 41 00 00 00 30...]
2012-06-26 10:58:04,536 [NioProcessor-3  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 2
2012-06-26 10:58:04,536 [NioProcessor-3  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 10:58:04,536 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 10:58:04,536 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 2
2012-06-26 10:58:04,536 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =48
2012-06-26 10:58:04,536 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 1E 41 00 00 00 30 ...........A...0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 A9 E4 CE C0 51 B4 A8 0C F6 5A AD BC 32 B1 54 58 ....Q....Z..2.TX

2012-06-26 10:58:04,536 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 48, current position: 0
2012-06-26 10:58:04,536 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 10:58:04,536 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x1e41} messageSize:{0x30} sessionKey:{null}
2012-06-26 10:58:04,536 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 32
2012-06-26 10:58:04,536 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=32, in.remaining=32
2012-06-26 10:58:04,536 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 10:58:04,536 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 7
2012-06-26 10:58:04,536 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 7: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageCodec@1249e1a
2012-06-26 10:58:04,536 [NioProcessor-3  ] [DEBUG] m.p.s.m.c.LoginMessageCodec - login/bind message decode
2012-06-26 10:58:04,536 [NioProcessor-3  ] [TRACE] m.p.s.m.c.LoginMessageCodec - LoginRequestMessage: [cmdId=7, posId=pos-0002, challengeResponse=[-87, -28, -50, -64, 81, -76, -88, 12, -10, 90, -83, -68, 50, -79, 84, 88]]
2012-06-26 10:58:04,536 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 10:58:04,536 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x1e41} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[-87, -28, -50, -64, 81, -76, -88, 12, -10, 90, -83, -68, 50, -79, 84, 88]]
2012-06-26 10:58:04,536 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 10:58:04,536 [NioProcessor-3  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 10:58:04,536 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 10:58:04,536 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 10:58:04,536 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 10:58:04,536 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 10:58:04,536 [NioProcessor-3  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2478, Mina session ID 2, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x1e41} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[-87, -28, -50, -64, 81, -76, -88, 12, -10, 90, -83, -68, 50, -79, 84, 88]]
2012-06-26 10:58:04,536 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 10:58:04,536 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 10:58:04,536 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 10:58:04,536 [NioProcessor-3  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 10:58:04,536 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 10:58:04,536 [pool-4-thread-5 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 10:58:04,536 [pool-4-thread-5 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 10:58:04,536 [pool-4-thread-5 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@1335207 obtained for command ID 7
2012-06-26 10:58:04,536 [pool-4-thread-5 ] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 7 is com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@1335207
2012-06-26 10:58:04,536 [pool-4-thread-5 ] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==bodyMessage=: [cmdId=7, posId=pos-0002, challengeResponse=[-87, -28, -50, -64, 81, -76, -88, 12, -10, 90, -83, -68, 50, -79, 84, 88]]
2012-06-26 10:58:04,536 [pool-4-thread-5 ] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:null
2012-06-26 10:58:04,536 [pool-4-thread-5 ] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId
2012-06-26 10:58:04,536 [pool-4-thread-5 ] [TRACE] .q.m.l.l.i.LoginManagerImpl - Loaded from db: pos.posId:pos-0002, pos.secret:000001, oldChallenge:[51, 85, 108, 87, 104, 104, 100, 80]
2012-06-26 10:58:04,536 [pool-4-thread-5 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - disableChallengeCheck =0
2012-06-26 10:58:04,536 [pool-4-thread-5 ] [TRACE] c.c.q.m.l.c.ChallengeUtil   - checking challenge:response:[-87, -28, -50, -64, 81, -76, -88, 12, -10, 90, -83, -68, 50, -79, 84, 88], posKey:000001, random:[51, 85, 108, 87, 104, 104, 100, 80]
2012-06-26 10:58:04,536 [pool-4-thread-5 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - new challenge for POS (POS ID): [90, 83, 118, 79, 73, 116, 107, 79]
2012-06-26 10:58:04,536 [pool-4-thread-5 ] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==serverKey=:JXTPOS
2012-06-26 10:58:04,552 [pool-4-thread-5 ] [DEBUG] ThreadSafeClientConnManager - Get connection: HttpRoute[{}->http://localhost:7070], timeout = 0
2012-06-26 10:58:04,552 [pool-4-thread-5 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - [HttpRoute[{}->http://localhost:7070]] total kept alive: 0, total issued: 0, total allocated: 0 out of 20
2012-06-26 10:58:04,552 [pool-4-thread-5 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - No free connections [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 10:58:04,552 [pool-4-thread-5 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Available capacity: 2 out of 2 [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 10:58:04,552 [pool-4-thread-5 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Creating new connection [HttpRoute[{}->http://localhost:7070]]
2012-06-26 10:58:04,552 [pool-4-thread-5 ] [DEBUG] ultClientConnectionOperator - Connecting to localhost:7070
2012-06-26 10:58:05,566 [pool-4-thread-5 ] [DEBUG] i.c.DefaultClientConnection - Connection closed
2012-06-26 10:58:05,566 [pool-4-thread-5 ] [DEBUG] i.c.DefaultClientConnection - Connection shut down
2012-06-26 10:58:05,566 [pool-4-thread-5 ] [DEBUG] ThreadSafeClientConnManager - Released connection is not reusable.
2012-06-26 10:58:05,566 [pool-4-thread-5 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Releasing connection [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 10:58:05,566 [pool-4-thread-5 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Notifying no-one, there are no waiting threads
2012-06-26 10:58:05,566 [pool-4-thread-5 ] [ERROR] q.m.p.h.LoginCommandHandler - initGrouponCache fail:com.chinarewards.qqgbvpn.qqapi.exception.ParseXMLException: com.chinarewards.qqgbvpn.qqapi.exception.SendPostTimeOutException: org.apache.http.conn.HttpHostConnectException: Connection to http://localhost:7070 refused
2012-06-26 10:58:05,566 [pool-4-thread-5 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 10:58:05,597 [pool-4-thread-5 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 10:58:05,597 [pool-4-thread-5 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 10:58:05,597 [pool-4-thread-5 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 10:58:05,597 [pool-4-thread-5 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 2
2012-06-26 10:58:05,597 [pool-4-thread-5 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (8)
2012-06-26 10:58:05,597 [pool-4-thread-5 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageResponseCodec@62974e
2012-06-26 10:58:05,597 [pool-4-thread-5 ] [DEBUG] c.LoginMessageResponseCodec - login/bind message encode
2012-06-26 10:58:05,597 [pool-4-thread-5 ] [TRACE] c.LoginMessageResponseCodec - LoginResponseMessage: [cmdId=8, result=0, challenge=[90, 83, 118, 79, 73, 116, 107, 79]]
2012-06-26 10:58:05,597 [Finalizer       ] [DEBUG] ThreadSafeClientConnManager - Shutting down
2012-06-26 10:58:05,597 [pool-4-thread-5 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0x7a72
2012-06-26 10:58:05,597 [pool-4-thread-5 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 10:58:05,597 [pool-4-thread-5 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 7A 72 00 00 00 1E ..........zr....
00000010 00 00 00 08 00 00 5A 53 76 4F 49 74 6B 4F       ......ZSvOItkO

2012-06-26 10:58:05,597 [pool-4-thread-5 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 10:58:05,597 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 10:58:05,597 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 10:58:05,597 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 2: not mark to return session ID to client
2012-06-26 10:58:05,597 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 10:58:05,597 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 10:58:05,597 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 10:58:05,597 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2478, Mina session ID 2, identified POS ID pos-0002
2012-06-26 10:58:05,597 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 33 of 33 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 D8 04 00 00 00 21 ...............!
00000010 00 00 00 C9 00 0B 31 31 31 31 31 31 31 31 31 31 ......1111111111
00000020 31                                              1

2012-06-26 10:58:05,597 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=33 cap=1024: 00 00 00 10 00 00 00 00 00 00 D8 04 00 00 00 21...]
2012-06-26 10:58:05,597 [NioProcessor-3  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 2
2012-06-26 10:58:05,597 [NioProcessor-3  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 10:58:05,597 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 10:58:05,597 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 2
2012-06-26 10:58:05,597 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =33
2012-06-26 10:58:05,597 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 33 of 33 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 D8 04 00 00 00 21 ...............!
00000010 00 00 00 C9 00 0B 31 31 31 31 31 31 31 31 31 31 ......1111111111
00000020 31                                              1

2012-06-26 10:58:05,597 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 33, current position: 0
2012-06-26 10:58:05,597 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 10:58:05,597 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd804} messageSize:{0x21} sessionKey:{null}
2012-06-26 10:58:05,597 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 17
2012-06-26 10:58:05,597 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=17, in.remaining=17
2012-06-26 10:58:05,597 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 10:58:05,597 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 201
2012-06-26 10:58:05,597 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 201: com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftMessageCodec@152f43b
2012-06-26 10:58:05,597 [NioProcessor-3  ] [DEBUG] m.c.ReceiveGiftMessageCodec - receive gift request message decode
2012-06-26 10:58:05,597 [NioProcessor-3  ] [DEBUG] m.c.ReceiveGiftMessageCodec - in.remaining()=17
2012-06-26 10:58:05,597 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 10:58:05,597 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd804} messageSize:{0x21} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@1205d8d
2012-06-26 10:58:05,597 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 10:58:05,597 [NioProcessor-3  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 10:58:05,597 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 10:58:05,597 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 10:58:05,597 [NioProcessor-3  ] [DEBUG] c.c.q.m.p.f.LoginFilter     - isLogin=true
2012-06-26 10:58:05,597 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 10:58:05,597 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 10:58:05,597 [NioProcessor-3  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2478, Mina session ID 2, identified POS ID pos-0002, message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd804} messageSize:{0x21} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@1205d8d
2012-06-26 10:58:05,597 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 10:58:05,597 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 10:58:05,597 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 10:58:05,597 [NioProcessor-3  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 10:58:05,597 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 10:58:05,597 [pool-4-thread-6 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 10:58:05,597 [pool-4-thread-6 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 10:58:05,597 [pool-4-thread-6 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@ef2e7c obtained for command ID 201
2012-06-26 10:58:05,597 [pool-4-thread-6 ] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 201 is com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@ef2e7c
2012-06-26 10:58:05,597 [pool-4-thread-6 ] [DEBUG] h.ReceiveGiftCommandHandler - ReceiveGiftHandler======execute==bodyMessage=: com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@1205d8d
2012-06-26 10:58:05,613 [pool-4-thread-6 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 10:58:05,613 [pool-4-thread-6 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 10:58:05,613 [pool-4-thread-6 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 10:58:05,613 [pool-4-thread-6 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 10:58:05,613 [pool-4-thread-6 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 2
2012-06-26 10:58:05,613 [pool-4-thread-6 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (202)
2012-06-26 10:58:05,613 [pool-4-thread-6 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftResponseMessageCodec@43ad4a
2012-06-26 10:58:05,613 [pool-4-thread-6 ] [DEBUG] iveGiftResponseMessageCodec - receive gift response message encode
2012-06-26 10:58:05,613 [pool-4-thread-6 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0x690
2012-06-26 10:58:05,613 [pool-4-thread-6 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 10:58:05,613 [pool-4-thread-6 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 55 of 55 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 06 90 00 00 00 37 ...............7
00000010 00 00 00 CA 00 00 00 01 07 DC 06 1A 0A 3A 05 02 .............:..
00000020 55 01 E0 00 08 C1 EC C8 A1 C0 F1 C6 B7 00 08 D2 U...............
00000030 D1 C1 EC C8 A1 B9 FD                            .......

2012-06-26 10:58:05,613 [pool-4-thread-6 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 10:58:05,613 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 10:58:05,613 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 10:58:05,613 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 2: not mark to return session ID to client
2012-06-26 10:58:05,613 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 10:58:05,613 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 10:58:05,613 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 10:58:05,613 [NioProcessor-3  ] [INFO ] o.a.m.f.l.LoggingFilter     - CLOSED
2012-06-26 10:58:05,613 [NioProcessor-3  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 10:58:08,281 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:58:08,281 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:58:08,281 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 10:58:08,281 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 10:58:08,281 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:58:18,265 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:58:18,265 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:58:18,265 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 10:58:18,265 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 10:58:18,265 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:58:21,479 [NioProcessor-1  ] [INFO ] c.c.q.m.p.f.LoggingFilter   - incoming connection from remote address: 127.0.0.1:2483, Mina session ID: 3
2012-06-26 10:58:21,479 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - Currently managed session count: 1
2012-06-26 10:58:21,479 [NioProcessor-1  ] [INFO ] o.a.m.f.l.LoggingFilter     - CREATED
2012-06-26 10:58:21,479 [NioProcessor-1  ] [INFO ] o.a.m.f.l.LoggingFilter     - OPENED
2012-06-26 10:58:21,620 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2483, Mina session ID 3, identified POS ID null
2012-06-26 10:58:21,620 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 10:58:21,620 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=32 cap=2048: 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20...]
2012-06-26 10:58:21,620 [NioProcessor-1  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 3
2012-06-26 10:58:21,620 [NioProcessor-1  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 10:58:21,620 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 10:58:21,620 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 3
2012-06-26 10:58:21,620 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =32
2012-06-26 10:58:21,620 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 10:58:21,620 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 32, current position: 0
2012-06-26 10:58:21,620 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 10:58:21,620 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}
2012-06-26 10:58:21,620 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 16
2012-06-26 10:58:21,620 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=16, in.remaining=16
2012-06-26 10:58:21,620 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 10:58:21,620 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 5
2012-06-26 10:58:21,620 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 5: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageCodec@1e4bece
2012-06-26 10:58:21,620 [NioProcessor-1  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - init request message decode
2012-06-26 10:58:21,620 [NioProcessor-1  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - in.remaining()=16
2012-06-26 10:58:21,620 [NioProcessor-1  ] [TRACE] .m.p.s.m.c.InitMessageCodec - InitRequestMessage: [cmdId=5, posId=pos-0002]
2012-06-26 10:58:21,620 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 10:58:21,620 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 10:58:21,620 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 10:58:21,620 [NioProcessor-1  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 10:58:21,620 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 10:58:21,620 [NioProcessor-1  ] [DEBUG] p.f.SessionKeyMessageFilter - Mina session ID 3: created session key 50ce513db66940f29640919f626d419b
2012-06-26 10:58:21,620 [NioProcessor-1  ] [DEBUG] p.f.SessionKeyMessageFilter - creating session for mina session ID 3 using session ID 50ce513db66940f29640919f626d419b
2012-06-26 10:58:21,620 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 10:58:21,620 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 10:58:21,620 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 10:58:21,620 [NioProcessor-1  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2483, Mina session ID 3, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 10:58:21,620 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 10:58:21,620 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 10:58:21,620 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 10:58:21,620 [NioProcessor-1  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 10:58:21,620 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 10:58:21,620 [pool-4-thread-7 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 10:58:21,620 [pool-4-thread-7 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 10:58:21,620 [pool-4-thread-7 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@b78915 obtained for command ID 5
2012-06-26 10:58:21,620 [pool-4-thread-7 ] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 5 is com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@b78915
2012-06-26 10:58:21,620 [pool-4-thread-7 ] [DEBUG] .q.m.p.h.InitCommandHandler - InitCommandHandler======execute==bodyMessage=:  [cmdId=5, posId=pos-0002]
2012-06-26 10:58:21,620 [pool-4-thread-7 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - InitResponse() invoke
2012-06-26 10:58:21,620 [pool-4-thread-7 ] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:ALLOWED
2012-06-26 10:58:21,620 [pool-4-thread-7 ] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId AND p.ostatus = :ostatus
2012-06-26 10:58:21,620 [pool-4-thread-7 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - POS ID:pos-0002, init challenge saved - [74, 102, 54, 79, 98, 51, 114, 54]
2012-06-26 10:58:21,620 [pool-4-thread-7 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 10:58:21,651 [pool-4-thread-7 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 10:58:21,651 [pool-4-thread-7 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 10:58:21,651 [pool-4-thread-7 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 10:58:21,651 [pool-4-thread-7 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 3
2012-06-26 10:58:21,651 [pool-4-thread-7 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (6)
2012-06-26 10:58:21,651 [pool-4-thread-7 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageResponseCodec@93f13f
2012-06-26 10:58:21,651 [pool-4-thread-7 ] [DEBUG] .c.InitMessageResponseCodec - init response message encode
2012-06-26 10:58:21,651 [pool-4-thread-7 ] [TRACE] .c.InitMessageResponseCodec - InitResponseMessage: [cmdId=6, result=0, challenge=[74, 102, 54, 79, 98, 51, 114, 54]]
2012-06-26 10:58:21,651 [pool-4-thread-7 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0xaabb
2012-06-26 10:58:21,651 [pool-4-thread-7 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 10:58:21,651 [pool-4-thread-7 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 AA BB 00 00 00 1E ................
00000010 00 00 00 06 00 00 4A 66 36 4F 62 33 72 36       ......Jf6Ob3r6

2012-06-26 10:58:21,651 [pool-4-thread-7 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 10:58:21,651 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 10:58:21,651 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 10:58:21,651 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 3: not mark to return session ID to client
2012-06-26 10:58:21,651 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 10:58:21,651 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 10:58:21,651 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 10:58:21,869 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2483, Mina session ID 3, identified POS ID pos-0002
2012-06-26 10:58:21,869 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 F2 29 00 00 00 30 ...........)...0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 B6 89 79 80 91 ED 6E 23 26 C9 18 C1 D0 F5 89 03 ..y...n#&.......

2012-06-26 10:58:21,885 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=48 cap=2048: 00 00 00 01 00 00 00 00 00 00 F2 29 00 00 00 30...]
2012-06-26 10:58:21,885 [NioProcessor-1  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 3
2012-06-26 10:58:21,885 [NioProcessor-1  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 10:58:21,885 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 10:58:21,885 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 3
2012-06-26 10:58:21,885 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =48
2012-06-26 10:58:21,885 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 F2 29 00 00 00 30 ...........)...0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 B6 89 79 80 91 ED 6E 23 26 C9 18 C1 D0 F5 89 03 ..y...n#&.......

2012-06-26 10:58:21,885 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 48, current position: 0
2012-06-26 10:58:21,885 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 10:58:21,885 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xf229} messageSize:{0x30} sessionKey:{null}
2012-06-26 10:58:21,885 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 32
2012-06-26 10:58:21,885 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=32, in.remaining=32
2012-06-26 10:58:21,885 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 10:58:21,885 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 7
2012-06-26 10:58:21,885 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 7: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageCodec@d39c9f
2012-06-26 10:58:21,885 [NioProcessor-1  ] [DEBUG] m.p.s.m.c.LoginMessageCodec - login/bind message decode
2012-06-26 10:58:21,885 [NioProcessor-1  ] [TRACE] m.p.s.m.c.LoginMessageCodec - LoginRequestMessage: [cmdId=7, posId=pos-0002, challengeResponse=[-74, -119, 121, -128, -111, -19, 110, 35, 38, -55, 24, -63, -48, -11, -119, 3]]
2012-06-26 10:58:21,885 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 10:58:21,885 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xf229} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[-74, -119, 121, -128, -111, -19, 110, 35, 38, -55, 24, -63, -48, -11, -119, 3]]
2012-06-26 10:58:21,885 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 10:58:21,885 [NioProcessor-1  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 10:58:21,885 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 10:58:21,885 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 10:58:21,885 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 10:58:21,885 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 10:58:21,885 [NioProcessor-1  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2483, Mina session ID 3, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xf229} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[-74, -119, 121, -128, -111, -19, 110, 35, 38, -55, 24, -63, -48, -11, -119, 3]]
2012-06-26 10:58:21,885 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 10:58:21,885 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 10:58:21,885 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 10:58:21,885 [NioProcessor-1  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 10:58:21,885 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 10:58:21,885 [pool-4-thread-8 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 10:58:21,885 [pool-4-thread-8 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 10:58:21,885 [pool-4-thread-8 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@151fe8a obtained for command ID 7
2012-06-26 10:58:21,885 [pool-4-thread-8 ] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 7 is com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@151fe8a
2012-06-26 10:58:21,885 [pool-4-thread-8 ] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==bodyMessage=: [cmdId=7, posId=pos-0002, challengeResponse=[-74, -119, 121, -128, -111, -19, 110, 35, 38, -55, 24, -63, -48, -11, -119, 3]]
2012-06-26 10:58:21,885 [pool-4-thread-8 ] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:null
2012-06-26 10:58:21,885 [pool-4-thread-8 ] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId
2012-06-26 10:58:21,885 [pool-4-thread-8 ] [TRACE] .q.m.l.l.i.LoginManagerImpl - Loaded from db: pos.posId:pos-0002, pos.secret:000001, oldChallenge:[74, 102, 54, 79, 98, 51, 114, 54]
2012-06-26 10:58:21,885 [pool-4-thread-8 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - disableChallengeCheck =0
2012-06-26 10:58:21,885 [pool-4-thread-8 ] [TRACE] c.c.q.m.l.c.ChallengeUtil   - checking challenge:response:[-74, -119, 121, -128, -111, -19, 110, 35, 38, -55, 24, -63, -48, -11, -119, 3], posKey:000001, random:[74, 102, 54, 79, 98, 51, 114, 54]
2012-06-26 10:58:21,885 [pool-4-thread-8 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - new challenge for POS (POS ID): [88, 110, 55, 51, 75, 75, 73, 67]
2012-06-26 10:58:21,885 [pool-4-thread-8 ] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==serverKey=:JXTPOS
2012-06-26 10:58:21,885 [pool-4-thread-8 ] [DEBUG] ThreadSafeClientConnManager - Get connection: HttpRoute[{}->http://localhost:7070], timeout = 0
2012-06-26 10:58:21,885 [pool-4-thread-8 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - [HttpRoute[{}->http://localhost:7070]] total kept alive: 0, total issued: 0, total allocated: 0 out of 20
2012-06-26 10:58:21,885 [pool-4-thread-8 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - No free connections [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 10:58:21,885 [pool-4-thread-8 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Available capacity: 2 out of 2 [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 10:58:21,885 [pool-4-thread-8 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Creating new connection [HttpRoute[{}->http://localhost:7070]]
2012-06-26 10:58:21,885 [pool-4-thread-8 ] [DEBUG] ultClientConnectionOperator - Connecting to localhost:7070
2012-06-26 10:58:22,806 [pool-4-thread-8 ] [DEBUG] i.c.DefaultClientConnection - Connection closed
2012-06-26 10:58:22,806 [pool-4-thread-8 ] [DEBUG] i.c.DefaultClientConnection - Connection shut down
2012-06-26 10:58:22,806 [pool-4-thread-8 ] [DEBUG] ThreadSafeClientConnManager - Released connection is not reusable.
2012-06-26 10:58:22,806 [pool-4-thread-8 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Releasing connection [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 10:58:22,806 [pool-4-thread-8 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Notifying no-one, there are no waiting threads
2012-06-26 10:58:22,806 [pool-4-thread-8 ] [ERROR] q.m.p.h.LoginCommandHandler - initGrouponCache fail:com.chinarewards.qqgbvpn.qqapi.exception.ParseXMLException: com.chinarewards.qqgbvpn.qqapi.exception.SendPostTimeOutException: org.apache.http.conn.HttpHostConnectException: Connection to http://localhost:7070 refused
2012-06-26 10:58:22,821 [pool-4-thread-8 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 10:58:22,837 [pool-4-thread-8 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 10:58:22,837 [pool-4-thread-8 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 10:58:22,837 [pool-4-thread-8 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 10:58:22,837 [pool-4-thread-8 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 3
2012-06-26 10:58:22,837 [pool-4-thread-8 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (8)
2012-06-26 10:58:22,837 [pool-4-thread-8 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageResponseCodec@15dc721
2012-06-26 10:58:22,837 [pool-4-thread-8 ] [DEBUG] c.LoginMessageResponseCodec - login/bind message encode
2012-06-26 10:58:22,837 [pool-4-thread-8 ] [TRACE] c.LoginMessageResponseCodec - LoginResponseMessage: [cmdId=8, result=0, challenge=[88, 110, 55, 51, 75, 75, 73, 67]]
2012-06-26 10:58:22,837 [pool-4-thread-8 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0xdba8
2012-06-26 10:58:22,837 [pool-4-thread-8 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 10:58:22,837 [pool-4-thread-8 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 DB A8 00 00 00 1E ................
00000010 00 00 00 08 00 00 58 6E 37 33 4B 4B 49 43       ......Xn73KKIC

2012-06-26 10:58:22,837 [pool-4-thread-8 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 10:58:22,837 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 10:58:22,837 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 10:58:22,837 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 3: not mark to return session ID to client
2012-06-26 10:58:22,837 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 10:58:22,837 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 10:58:22,837 [Finalizer       ] [DEBUG] ThreadSafeClientConnManager - Shutting down
2012-06-26 10:58:22,837 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 10:58:22,837 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2483, Mina session ID 3, identified POS ID pos-0002
2012-06-26 10:58:22,837 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 33 of 33 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 D8 04 00 00 00 21 ...............!
00000010 00 00 00 C9 00 0B 31 31 31 31 31 31 31 31 31 31 ......1111111111
00000020 31                                              1

2012-06-26 10:58:22,837 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=33 cap=1024: 00 00 00 10 00 00 00 00 00 00 D8 04 00 00 00 21...]
2012-06-26 10:58:22,837 [NioProcessor-1  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 3
2012-06-26 10:58:22,837 [NioProcessor-1  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 10:58:22,837 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 10:58:22,837 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 3
2012-06-26 10:58:22,837 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =33
2012-06-26 10:58:22,837 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 33 of 33 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 D8 04 00 00 00 21 ...............!
00000010 00 00 00 C9 00 0B 31 31 31 31 31 31 31 31 31 31 ......1111111111
00000020 31                                              1

2012-06-26 10:58:22,837 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 33, current position: 0
2012-06-26 10:58:22,837 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 10:58:22,837 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd804} messageSize:{0x21} sessionKey:{null}
2012-06-26 10:58:22,837 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 17
2012-06-26 10:58:22,837 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=17, in.remaining=17
2012-06-26 10:58:22,837 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 10:58:22,837 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 201
2012-06-26 10:58:22,837 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 201: com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftMessageCodec@1735f84
2012-06-26 10:58:22,837 [NioProcessor-1  ] [DEBUG] m.c.ReceiveGiftMessageCodec - receive gift request message decode
2012-06-26 10:58:22,837 [NioProcessor-1  ] [DEBUG] m.c.ReceiveGiftMessageCodec - in.remaining()=17
2012-06-26 10:58:22,837 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 10:58:22,837 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd804} messageSize:{0x21} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@183e965
2012-06-26 10:58:22,837 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 10:58:22,837 [NioProcessor-1  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 10:58:22,837 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 10:58:22,837 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 10:58:22,837 [NioProcessor-1  ] [DEBUG] c.c.q.m.p.f.LoginFilter     - isLogin=true
2012-06-26 10:58:22,837 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 10:58:22,837 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 10:58:22,837 [NioProcessor-1  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2483, Mina session ID 3, identified POS ID pos-0002, message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd804} messageSize:{0x21} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@183e965
2012-06-26 10:58:22,837 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 10:58:22,837 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 10:58:22,837 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 10:58:22,837 [NioProcessor-1  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 10:58:22,837 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 10:58:22,837 [pool-4-thread-9 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 10:58:22,837 [pool-4-thread-9 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 10:58:22,837 [pool-4-thread-9 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@138ec91 obtained for command ID 201
2012-06-26 10:58:22,837 [pool-4-thread-9 ] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 201 is com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@138ec91
2012-06-26 10:58:22,837 [pool-4-thread-9 ] [DEBUG] h.ReceiveGiftCommandHandler - ReceiveGiftHandler======execute==bodyMessage=: com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@183e965
2012-06-26 10:58:22,837 [pool-4-thread-9 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 10:58:22,837 [pool-4-thread-9 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 10:58:22,837 [pool-4-thread-9 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 10:58:22,837 [pool-4-thread-9 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 10:58:22,837 [pool-4-thread-9 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 3
2012-06-26 10:58:22,837 [pool-4-thread-9 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (202)
2012-06-26 10:58:22,837 [pool-4-thread-9 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftResponseMessageCodec@cf7fda
2012-06-26 10:58:22,837 [pool-4-thread-9 ] [DEBUG] iveGiftResponseMessageCodec - receive gift response message encode
2012-06-26 10:58:22,837 [pool-4-thread-9 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0x58f
2012-06-26 10:58:22,837 [pool-4-thread-9 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 10:58:22,837 [pool-4-thread-9 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 55 of 55 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 05 8F 00 00 00 37 ...............7
00000010 00 00 00 CA 00 00 00 01 07 DC 06 1A 0A 3A 16 03 .............:..
00000020 45 01 E0 00 08 C1 EC C8 A1 C0 F1 C6 B7 00 08 D2 E...............
00000030 D1 C1 EC C8 A1 B9 FD                            .......

2012-06-26 10:58:22,837 [pool-4-thread-9 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 10:58:22,837 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 10:58:22,837 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 10:58:22,837 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 3: not mark to return session ID to client
2012-06-26 10:58:22,837 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 10:58:22,837 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 10:58:22,837 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 10:58:22,868 [NioProcessor-1  ] [INFO ] o.a.m.f.l.LoggingFilter     - CLOSED
2012-06-26 10:58:22,868 [NioProcessor-1  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 10:58:28,282 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:58:28,282 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:58:28,282 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 10:58:28,282 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=3
2012-06-26 10:58:28,282 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:58:38,282 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:58:38,282 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:58:38,282 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 10:58:38,282 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=3
2012-06-26 10:58:38,282 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:58:48,267 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:58:48,267 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:58:48,267 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 10:58:48,267 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=3
2012-06-26 10:58:48,267 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:58:58,252 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:58:58,252 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:58:58,252 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 10:58:58,252 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=3
2012-06-26 10:58:58,252 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:59:08,237 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:59:08,237 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:59:08,237 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 10:59:08,237 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=3
2012-06-26 10:59:08,237 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:59:18,238 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:59:18,238 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:59:18,238 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 10:59:18,238 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=3
2012-06-26 10:59:18,238 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:59:28,223 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:59:28,223 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:59:28,223 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 10:59:28,223 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=3
2012-06-26 10:59:28,223 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:59:38,208 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:59:38,208 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:59:38,208 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 10:59:38,208 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=3
2012-06-26 10:59:38,208 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:59:48,193 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:59:48,193 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:59:48,193 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 10:59:48,193 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=3
2012-06-26 10:59:48,193 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 10:59:58,177 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 10:59:58,177 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 10:59:58,177 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 10:59:58,177 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=3
2012-06-26 10:59:58,177 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:00:08,178 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:00:08,178 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:00:08,178 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 11:00:08,178 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=3
2012-06-26 11:00:08,178 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:00:18,163 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:00:18,163 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:00:18,163 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 11:00:18,163 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=3
2012-06-26 11:00:18,163 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:00:22,656 [NioProcessor-2  ] [INFO ] c.c.q.m.p.f.LoggingFilter   - incoming connection from remote address: 127.0.0.1:2488, Mina session ID: 4
2012-06-26 11:00:22,656 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - Currently managed session count: 1
2012-06-26 11:00:22,656 [NioProcessor-2  ] [INFO ] o.a.m.f.l.LoggingFilter     - CREATED
2012-06-26 11:00:22,656 [NioProcessor-2  ] [INFO ] o.a.m.f.l.LoggingFilter     - OPENED
2012-06-26 11:00:22,812 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2488, Mina session ID 4, identified POS ID null
2012-06-26 11:00:22,812 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 11:00:22,812 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=32 cap=2048: 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20...]
2012-06-26 11:00:22,812 [NioProcessor-2  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 4
2012-06-26 11:00:22,812 [NioProcessor-2  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 11:00:22,812 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 11:00:22,812 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 4
2012-06-26 11:00:22,812 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =32
2012-06-26 11:00:22,812 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 11:00:22,812 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 32, current position: 0
2012-06-26 11:00:22,812 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 11:00:22,812 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}
2012-06-26 11:00:22,812 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 16
2012-06-26 11:00:22,812 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=16, in.remaining=16
2012-06-26 11:00:22,812 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 11:00:22,812 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 5
2012-06-26 11:00:22,812 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 5: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageCodec@1144823
2012-06-26 11:00:22,812 [NioProcessor-2  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - init request message decode
2012-06-26 11:00:22,812 [NioProcessor-2  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - in.remaining()=16
2012-06-26 11:00:22,812 [NioProcessor-2  ] [TRACE] .m.p.s.m.c.InitMessageCodec - InitRequestMessage: [cmdId=5, posId=pos-0002]
2012-06-26 11:00:22,812 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 11:00:22,812 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 11:00:22,812 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 11:00:22,812 [NioProcessor-2  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 11:00:22,812 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 11:00:22,812 [NioProcessor-2  ] [DEBUG] p.f.SessionKeyMessageFilter - Mina session ID 4: created session key 379ce48447054dbeafe84ec3e62473a8
2012-06-26 11:00:22,812 [NioProcessor-2  ] [DEBUG] p.f.SessionKeyMessageFilter - creating session for mina session ID 4 using session ID 379ce48447054dbeafe84ec3e62473a8
2012-06-26 11:00:22,812 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 11:00:22,812 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 11:00:22,812 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 11:00:22,812 [NioProcessor-2  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2488, Mina session ID 4, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 11:00:22,812 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 11:00:22,812 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 11:00:22,812 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 11:00:22,812 [NioProcessor-2  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 11:00:22,812 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 11:00:22,812 [pool-4-thread-10] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 11:00:22,828 [pool-4-thread-10] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 11:00:22,828 [pool-4-thread-10] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@6c9f0f obtained for command ID 5
2012-06-26 11:00:22,828 [pool-4-thread-10] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 5 is com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@6c9f0f
2012-06-26 11:00:22,828 [pool-4-thread-10] [DEBUG] .q.m.p.h.InitCommandHandler - InitCommandHandler======execute==bodyMessage=:  [cmdId=5, posId=pos-0002]
2012-06-26 11:00:22,828 [pool-4-thread-10] [DEBUG] .q.m.l.l.i.LoginManagerImpl - InitResponse() invoke
2012-06-26 11:00:22,828 [pool-4-thread-10] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:ALLOWED
2012-06-26 11:00:22,828 [pool-4-thread-10] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId AND p.ostatus = :ostatus
2012-06-26 11:00:22,828 [pool-4-thread-10] [DEBUG] .q.m.l.l.i.LoginManagerImpl - POS ID:pos-0002, init challenge saved - [106, 55, 114, 77, 55, 71, 115, 57]
2012-06-26 11:00:22,828 [pool-4-thread-10] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 11:00:22,875 [pool-4-thread-10] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 11:00:22,875 [pool-4-thread-10] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 11:00:22,875 [pool-4-thread-10] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 11:00:22,875 [pool-4-thread-10] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 4
2012-06-26 11:00:22,875 [pool-4-thread-10] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (6)
2012-06-26 11:00:22,875 [pool-4-thread-10] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageResponseCodec@1e6743e
2012-06-26 11:00:22,875 [pool-4-thread-10] [DEBUG] .c.InitMessageResponseCodec - init response message encode
2012-06-26 11:00:22,875 [pool-4-thread-10] [TRACE] .c.InitMessageResponseCodec - InitResponseMessage: [cmdId=6, result=0, challenge=[106, 55, 114, 77, 55, 71, 115, 57]]
2012-06-26 11:00:22,875 [pool-4-thread-10] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0x78d5
2012-06-26 11:00:22,875 [pool-4-thread-10] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 11:00:22,875 [pool-4-thread-10] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 78 D5 00 00 00 1E ..........x.....
00000010 00 00 00 06 00 00 6A 37 72 4D 37 47 73 39       ......j7rM7Gs9

2012-06-26 11:00:22,875 [pool-4-thread-10] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 11:00:22,875 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 11:00:22,875 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 11:00:22,875 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 4: not mark to return session ID to client
2012-06-26 11:00:22,875 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 11:00:22,875 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 11:00:22,875 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 11:00:23,093 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2488, Mina session ID 4, identified POS ID pos-0002
2012-06-26 11:00:23,093 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 D7 08 00 00 00 30 ...............0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 E3 AC E3 EE 4D CC 19 93 03 9C 70 8F 18 DE 28 BB ....M.....p...(.

2012-06-26 11:00:23,093 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=48 cap=2048: 00 00 00 01 00 00 00 00 00 00 D7 08 00 00 00 30...]
2012-06-26 11:00:23,093 [NioProcessor-2  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 4
2012-06-26 11:00:23,093 [NioProcessor-2  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 11:00:23,093 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 11:00:23,093 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 4
2012-06-26 11:00:23,093 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =48
2012-06-26 11:00:23,093 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 D7 08 00 00 00 30 ...............0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 E3 AC E3 EE 4D CC 19 93 03 9C 70 8F 18 DE 28 BB ....M.....p...(.

2012-06-26 11:00:23,093 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 48, current position: 0
2012-06-26 11:00:23,093 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 11:00:23,093 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xd708} messageSize:{0x30} sessionKey:{null}
2012-06-26 11:00:23,093 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 32
2012-06-26 11:00:23,093 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=32, in.remaining=32
2012-06-26 11:00:23,093 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 11:00:23,093 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 7
2012-06-26 11:00:23,093 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 7: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageCodec@1da366c
2012-06-26 11:00:23,093 [NioProcessor-2  ] [DEBUG] m.p.s.m.c.LoginMessageCodec - login/bind message decode
2012-06-26 11:00:23,093 [NioProcessor-2  ] [TRACE] m.p.s.m.c.LoginMessageCodec - LoginRequestMessage: [cmdId=7, posId=pos-0002, challengeResponse=[-29, -84, -29, -18, 77, -52, 25, -109, 3, -100, 112, -113, 24, -34, 40, -69]]
2012-06-26 11:00:23,093 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 11:00:23,093 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xd708} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[-29, -84, -29, -18, 77, -52, 25, -109, 3, -100, 112, -113, 24, -34, 40, -69]]
2012-06-26 11:00:23,093 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 11:00:23,093 [NioProcessor-2  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 11:00:23,093 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 11:00:23,093 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 11:00:23,093 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 11:00:23,093 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 11:00:23,093 [NioProcessor-2  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2488, Mina session ID 4, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xd708} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[-29, -84, -29, -18, 77, -52, 25, -109, 3, -100, 112, -113, 24, -34, 40, -69]]
2012-06-26 11:00:23,093 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 11:00:23,093 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 11:00:23,093 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 11:00:23,093 [NioProcessor-2  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 11:00:23,093 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 11:00:23,093 [pool-4-thread-11] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 11:00:23,109 [pool-4-thread-11] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 11:00:23,109 [pool-4-thread-11] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@d41f3 obtained for command ID 7
2012-06-26 11:00:23,109 [pool-4-thread-11] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 7 is com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@d41f3
2012-06-26 11:00:23,109 [pool-4-thread-11] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==bodyMessage=: [cmdId=7, posId=pos-0002, challengeResponse=[-29, -84, -29, -18, 77, -52, 25, -109, 3, -100, 112, -113, 24, -34, 40, -69]]
2012-06-26 11:00:23,109 [pool-4-thread-11] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:null
2012-06-26 11:00:23,109 [pool-4-thread-11] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId
2012-06-26 11:00:23,109 [pool-4-thread-11] [TRACE] .q.m.l.l.i.LoginManagerImpl - Loaded from db: pos.posId:pos-0002, pos.secret:000001, oldChallenge:[106, 55, 114, 77, 55, 71, 115, 57]
2012-06-26 11:00:23,109 [pool-4-thread-11] [DEBUG] .q.m.l.l.i.LoginManagerImpl - disableChallengeCheck =0
2012-06-26 11:00:23,109 [pool-4-thread-11] [TRACE] c.c.q.m.l.c.ChallengeUtil   - checking challenge:response:[-29, -84, -29, -18, 77, -52, 25, -109, 3, -100, 112, -113, 24, -34, 40, -69], posKey:000001, random:[106, 55, 114, 77, 55, 71, 115, 57]
2012-06-26 11:00:23,109 [pool-4-thread-11] [DEBUG] .q.m.l.l.i.LoginManagerImpl - new challenge for POS (POS ID): [98, 84, 115, 99, 112, 121, 81, 120]
2012-06-26 11:00:23,109 [pool-4-thread-11] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==serverKey=:JXTPOS
2012-06-26 11:00:23,109 [pool-4-thread-11] [DEBUG] ThreadSafeClientConnManager - Get connection: HttpRoute[{}->http://localhost:7070], timeout = 0
2012-06-26 11:00:23,109 [pool-4-thread-11] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - [HttpRoute[{}->http://localhost:7070]] total kept alive: 0, total issued: 0, total allocated: 0 out of 20
2012-06-26 11:00:23,109 [pool-4-thread-11] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - No free connections [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 11:00:23,109 [pool-4-thread-11] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Available capacity: 2 out of 2 [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 11:00:23,109 [pool-4-thread-11] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Creating new connection [HttpRoute[{}->http://localhost:7070]]
2012-06-26 11:00:23,109 [pool-4-thread-11] [DEBUG] ultClientConnectionOperator - Connecting to localhost:7070
2012-06-26 11:00:24,294 [pool-4-thread-11] [DEBUG] i.c.DefaultClientConnection - Connection closed
2012-06-26 11:00:24,294 [pool-4-thread-11] [DEBUG] i.c.DefaultClientConnection - Connection shut down
2012-06-26 11:00:24,294 [pool-4-thread-11] [DEBUG] ThreadSafeClientConnManager - Released connection is not reusable.
2012-06-26 11:00:24,294 [pool-4-thread-11] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Releasing connection [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 11:00:24,294 [pool-4-thread-11] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Notifying no-one, there are no waiting threads
2012-06-26 11:00:24,294 [pool-4-thread-11] [ERROR] q.m.p.h.LoginCommandHandler - initGrouponCache fail:com.chinarewards.qqgbvpn.qqapi.exception.ParseXMLException: com.chinarewards.qqgbvpn.qqapi.exception.SendPostTimeOutException: org.apache.http.conn.HttpHostConnectException: Connection to http://localhost:7070 refused
2012-06-26 11:00:24,310 [pool-4-thread-11] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 11:00:24,341 [pool-4-thread-11] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 11:00:24,341 [pool-4-thread-11] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 11:00:24,341 [pool-4-thread-11] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 11:00:24,341 [pool-4-thread-11] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 4
2012-06-26 11:00:24,341 [pool-4-thread-11] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (8)
2012-06-26 11:00:24,341 [pool-4-thread-11] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageResponseCodec@c47498
2012-06-26 11:00:24,341 [pool-4-thread-11] [DEBUG] c.LoginMessageResponseCodec - login/bind message encode
2012-06-26 11:00:24,341 [pool-4-thread-11] [TRACE] c.LoginMessageResponseCodec - LoginResponseMessage: [cmdId=8, result=0, challenge=[98, 84, 115, 99, 112, 121, 81, 120]]
2012-06-26 11:00:24,341 [pool-4-thread-11] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0x682f
2012-06-26 11:00:24,341 [pool-4-thread-11] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 11:00:24,341 [pool-4-thread-11] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 68 2F 00 00 00 1E ..........h/....
00000010 00 00 00 08 00 00 62 54 73 63 70 79 51 78       ......bTscpyQx

2012-06-26 11:00:24,341 [pool-4-thread-11] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 11:00:24,341 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 11:00:24,341 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 11:00:24,341 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 4: not mark to return session ID to client
2012-06-26 11:00:24,341 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 11:00:24,341 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 11:00:24,341 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 11:00:24,341 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2488, Mina session ID 4, identified POS ID pos-0002
2012-06-26 11:00:24,341 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 33 of 33 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 D8 04 00 00 00 21 ...............!
00000010 00 00 00 C9 00 0B 31 31 31 31 31 31 31 31 31 31 ......1111111111
00000020 31                                              1

2012-06-26 11:00:24,341 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=33 cap=1024: 00 00 00 10 00 00 00 00 00 00 D8 04 00 00 00 21...]
2012-06-26 11:00:24,341 [NioProcessor-2  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 4
2012-06-26 11:00:24,341 [NioProcessor-2  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 11:00:24,341 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 11:00:24,341 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 4
2012-06-26 11:00:24,341 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =33
2012-06-26 11:00:24,341 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 33 of 33 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 D8 04 00 00 00 21 ...............!
00000010 00 00 00 C9 00 0B 31 31 31 31 31 31 31 31 31 31 ......1111111111
00000020 31                                              1

2012-06-26 11:00:24,341 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 33, current position: 0
2012-06-26 11:00:24,341 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 11:00:24,341 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd804} messageSize:{0x21} sessionKey:{null}
2012-06-26 11:00:24,341 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 17
2012-06-26 11:00:24,341 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=17, in.remaining=17
2012-06-26 11:00:24,341 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 11:00:24,341 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 201
2012-06-26 11:00:24,341 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 201: com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftMessageCodec@1c2dad7
2012-06-26 11:00:24,341 [NioProcessor-2  ] [DEBUG] m.c.ReceiveGiftMessageCodec - receive gift request message decode
2012-06-26 11:00:24,341 [NioProcessor-2  ] [DEBUG] m.c.ReceiveGiftMessageCodec - in.remaining()=17
2012-06-26 11:00:24,341 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 11:00:24,341 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd804} messageSize:{0x21} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@1ad6884
2012-06-26 11:00:24,341 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 11:00:24,341 [NioProcessor-2  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 11:00:24,341 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 11:00:24,341 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 11:00:24,341 [NioProcessor-2  ] [DEBUG] c.c.q.m.p.f.LoginFilter     - isLogin=true
2012-06-26 11:00:24,341 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 11:00:24,341 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 11:00:24,341 [NioProcessor-2  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2488, Mina session ID 4, identified POS ID pos-0002, message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd804} messageSize:{0x21} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@1ad6884
2012-06-26 11:00:24,357 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 11:00:24,357 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 11:00:24,357 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 11:00:24,357 [NioProcessor-2  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 11:00:24,357 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 11:00:24,357 [pool-4-thread-12] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 11:00:24,357 [pool-4-thread-12] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 11:00:24,357 [pool-4-thread-12] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@18ddc48 obtained for command ID 201
2012-06-26 11:00:24,357 [pool-4-thread-12] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 201 is com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@18ddc48
2012-06-26 11:00:24,357 [pool-4-thread-12] [DEBUG] h.ReceiveGiftCommandHandler - ReceiveGiftHandler======execute==bodyMessage=: com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@1ad6884
2012-06-26 11:00:24,372 [pool-4-thread-12] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 11:00:24,388 [pool-4-thread-12] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 11:00:24,388 [pool-4-thread-12] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 11:00:24,388 [pool-4-thread-12] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 11:00:24,388 [pool-4-thread-12] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 4
2012-06-26 11:00:24,388 [pool-4-thread-12] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (202)
2012-06-26 11:00:24,388 [pool-4-thread-12] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftResponseMessageCodec@1b78953
2012-06-26 11:00:24,388 [pool-4-thread-12] [DEBUG] iveGiftResponseMessageCodec - receive gift response message encode
2012-06-26 11:00:24,388 [pool-4-thread-12] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0x3ce5
2012-06-26 11:00:24,388 [pool-4-thread-12] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 11:00:24,388 [pool-4-thread-12] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 55 of 55 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 3C E5 00 00 00 37 ..........<....7
00000010 00 00 00 CA 00 00 00 00 07 DC 06 1A 0B 00 18 01 ................
00000020 65 01 E0 00 08 C1 EC C8 A1 C0 F1 C6 B7 00 08 BD e...............
00000030 BB D2 D7 B3 C9 B9 A6                            .......

2012-06-26 11:00:24,388 [pool-4-thread-12] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 11:00:24,388 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 11:00:24,388 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 11:00:24,388 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 4: not mark to return session ID to client
2012-06-26 11:00:24,388 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 11:00:24,388 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 11:00:24,388 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 11:00:24,388 [NioProcessor-2  ] [INFO ] o.a.m.f.l.LoggingFilter     - CLOSED
2012-06-26 11:00:24,388 [NioProcessor-2  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 11:00:28,179 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:00:28,179 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:00:28,179 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=4
2012-06-26 11:00:28,179 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=4
2012-06-26 11:00:28,179 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:00:29,927 [NioProcessor-3  ] [INFO ] c.c.q.m.p.f.LoggingFilter   - incoming connection from remote address: 127.0.0.1:2492, Mina session ID: 5
2012-06-26 11:00:29,927 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - Currently managed session count: 1
2012-06-26 11:00:29,927 [NioProcessor-3  ] [INFO ] o.a.m.f.l.LoggingFilter     - CREATED
2012-06-26 11:00:29,927 [NioProcessor-3  ] [INFO ] o.a.m.f.l.LoggingFilter     - OPENED
2012-06-26 11:00:29,927 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2492, Mina session ID 5, identified POS ID null
2012-06-26 11:00:29,927 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 11:00:29,927 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=32 cap=2048: 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20...]
2012-06-26 11:00:29,942 [NioProcessor-3  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 5
2012-06-26 11:00:29,958 [NioProcessor-3  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 11:00:29,958 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 11:00:29,958 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 5
2012-06-26 11:00:29,958 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =32
2012-06-26 11:00:29,958 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 11:00:29,958 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 32, current position: 0
2012-06-26 11:00:29,958 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 11:00:29,958 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}
2012-06-26 11:00:29,958 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 16
2012-06-26 11:00:29,958 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=16, in.remaining=16
2012-06-26 11:00:29,958 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 11:00:29,958 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 5
2012-06-26 11:00:29,958 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 5: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageCodec@9bad4f
2012-06-26 11:00:29,958 [NioProcessor-3  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - init request message decode
2012-06-26 11:00:29,958 [NioProcessor-3  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - in.remaining()=16
2012-06-26 11:00:29,958 [NioProcessor-3  ] [TRACE] .m.p.s.m.c.InitMessageCodec - InitRequestMessage: [cmdId=5, posId=pos-0002]
2012-06-26 11:00:29,958 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 11:00:29,958 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 11:00:29,958 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 11:00:29,958 [NioProcessor-3  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 11:00:29,958 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 11:00:29,958 [NioProcessor-3  ] [DEBUG] p.f.SessionKeyMessageFilter - Mina session ID 5: created session key cfc6ab3230964cadb4b3cd14f2a6eab1
2012-06-26 11:00:29,958 [NioProcessor-3  ] [DEBUG] p.f.SessionKeyMessageFilter - creating session for mina session ID 5 using session ID cfc6ab3230964cadb4b3cd14f2a6eab1
2012-06-26 11:00:29,958 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 11:00:29,958 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 11:00:29,958 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 11:00:29,958 [NioProcessor-3  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2492, Mina session ID 5, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 11:00:29,958 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 11:00:29,958 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 11:00:29,958 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 11:00:29,958 [NioProcessor-3  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 11:00:29,958 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 11:00:29,958 [pool-4-thread-13] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 11:00:29,958 [pool-4-thread-13] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 11:00:29,958 [pool-4-thread-13] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@114ef62 obtained for command ID 5
2012-06-26 11:00:29,958 [pool-4-thread-13] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 5 is com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@114ef62
2012-06-26 11:00:29,958 [pool-4-thread-13] [DEBUG] .q.m.p.h.InitCommandHandler - InitCommandHandler======execute==bodyMessage=:  [cmdId=5, posId=pos-0002]
2012-06-26 11:00:29,958 [pool-4-thread-13] [DEBUG] .q.m.l.l.i.LoginManagerImpl - InitResponse() invoke
2012-06-26 11:00:29,958 [pool-4-thread-13] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:ALLOWED
2012-06-26 11:00:29,958 [pool-4-thread-13] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId AND p.ostatus = :ostatus
2012-06-26 11:00:29,958 [pool-4-thread-13] [DEBUG] .q.m.l.l.i.LoginManagerImpl - POS ID:pos-0002, init challenge saved - [105, 109, 65, 87, 66, 66, 52, 56]
2012-06-26 11:00:29,958 [pool-4-thread-13] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 11:00:29,973 [pool-4-thread-13] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 11:00:29,973 [pool-4-thread-13] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 11:00:29,973 [pool-4-thread-13] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 11:00:29,973 [pool-4-thread-13] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 5
2012-06-26 11:00:29,973 [pool-4-thread-13] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (6)
2012-06-26 11:00:29,973 [pool-4-thread-13] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageResponseCodec@1843ca4
2012-06-26 11:00:29,973 [pool-4-thread-13] [DEBUG] .c.InitMessageResponseCodec - init response message encode
2012-06-26 11:00:29,973 [pool-4-thread-13] [TRACE] .c.InitMessageResponseCodec - InitResponseMessage: [cmdId=6, result=0, challenge=[105, 109, 65, 87, 66, 66, 52, 56]]
2012-06-26 11:00:29,973 [pool-4-thread-13] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0xde9b
2012-06-26 11:00:29,973 [pool-4-thread-13] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 11:00:29,973 [pool-4-thread-13] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 DE 9B 00 00 00 1E ................
00000010 00 00 00 06 00 00 69 6D 41 57 42 42 34 38       ......imAWBB48

2012-06-26 11:00:29,973 [pool-4-thread-13] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 11:00:29,973 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 11:00:29,973 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 11:00:29,973 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 5: not mark to return session ID to client
2012-06-26 11:00:29,973 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 11:00:29,973 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 11:00:29,973 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 11:00:30,207 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2492, Mina session ID 5, identified POS ID pos-0002
2012-06-26 11:00:30,207 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 3C FF 00 00 00 30 ..........<....0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 0A A1 11 D7 C9 A6 CF 2C 0B 9B 09 31 FB 1E B9 92 .......,...1....

2012-06-26 11:00:30,207 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=48 cap=2048: 00 00 00 01 00 00 00 00 00 00 3C FF 00 00 00 30...]
2012-06-26 11:00:30,207 [NioProcessor-3  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 5
2012-06-26 11:00:30,207 [NioProcessor-3  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 11:00:30,207 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 11:00:30,207 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 5
2012-06-26 11:00:30,207 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =48
2012-06-26 11:00:30,207 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 3C FF 00 00 00 30 ..........<....0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 0A A1 11 D7 C9 A6 CF 2C 0B 9B 09 31 FB 1E B9 92 .......,...1....

2012-06-26 11:00:30,207 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 48, current position: 0
2012-06-26 11:00:30,207 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 11:00:30,207 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x3cff} messageSize:{0x30} sessionKey:{null}
2012-06-26 11:00:30,207 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 32
2012-06-26 11:00:30,207 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=32, in.remaining=32
2012-06-26 11:00:30,207 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 11:00:30,207 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 7
2012-06-26 11:00:30,207 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 7: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageCodec@2250d5
2012-06-26 11:00:30,207 [NioProcessor-3  ] [DEBUG] m.p.s.m.c.LoginMessageCodec - login/bind message decode
2012-06-26 11:00:30,207 [NioProcessor-3  ] [TRACE] m.p.s.m.c.LoginMessageCodec - LoginRequestMessage: [cmdId=7, posId=pos-0002, challengeResponse=[10, -95, 17, -41, -55, -90, -49, 44, 11, -101, 9, 49, -5, 30, -71, -110]]
2012-06-26 11:00:30,207 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 11:00:30,207 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x3cff} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[10, -95, 17, -41, -55, -90, -49, 44, 11, -101, 9, 49, -5, 30, -71, -110]]
2012-06-26 11:00:30,207 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 11:00:30,207 [NioProcessor-3  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 11:00:30,207 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 11:00:30,207 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 11:00:30,207 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 11:00:30,207 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 11:00:30,207 [NioProcessor-3  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2492, Mina session ID 5, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x3cff} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[10, -95, 17, -41, -55, -90, -49, 44, 11, -101, 9, 49, -5, 30, -71, -110]]
2012-06-26 11:00:30,207 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 11:00:30,207 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 11:00:30,207 [pool-4-thread-14] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 11:00:30,207 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 11:00:30,207 [NioProcessor-3  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 11:00:30,207 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 11:00:30,207 [pool-4-thread-14] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 11:00:30,207 [pool-4-thread-14] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@3f58bb obtained for command ID 7
2012-06-26 11:00:30,207 [pool-4-thread-14] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 7 is com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@3f58bb
2012-06-26 11:00:30,207 [pool-4-thread-14] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==bodyMessage=: [cmdId=7, posId=pos-0002, challengeResponse=[10, -95, 17, -41, -55, -90, -49, 44, 11, -101, 9, 49, -5, 30, -71, -110]]
2012-06-26 11:00:30,207 [pool-4-thread-14] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:null
2012-06-26 11:00:30,207 [pool-4-thread-14] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId
2012-06-26 11:00:30,207 [pool-4-thread-14] [TRACE] .q.m.l.l.i.LoginManagerImpl - Loaded from db: pos.posId:pos-0002, pos.secret:000001, oldChallenge:[105, 109, 65, 87, 66, 66, 52, 56]
2012-06-26 11:00:30,207 [pool-4-thread-14] [DEBUG] .q.m.l.l.i.LoginManagerImpl - disableChallengeCheck =0
2012-06-26 11:00:30,207 [pool-4-thread-14] [TRACE] c.c.q.m.l.c.ChallengeUtil   - checking challenge:response:[10, -95, 17, -41, -55, -90, -49, 44, 11, -101, 9, 49, -5, 30, -71, -110], posKey:000001, random:[105, 109, 65, 87, 66, 66, 52, 56]
2012-06-26 11:00:30,207 [pool-4-thread-14] [DEBUG] .q.m.l.l.i.LoginManagerImpl - new challenge for POS (POS ID): [105, 79, 81, 49, 66, 104, 50, 79]
2012-06-26 11:00:30,207 [pool-4-thread-14] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==serverKey=:JXTPOS
2012-06-26 11:00:30,223 [pool-4-thread-14] [DEBUG] ThreadSafeClientConnManager - Get connection: HttpRoute[{}->http://localhost:7070], timeout = 0
2012-06-26 11:00:30,223 [pool-4-thread-14] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - [HttpRoute[{}->http://localhost:7070]] total kept alive: 0, total issued: 0, total allocated: 0 out of 20
2012-06-26 11:00:30,223 [pool-4-thread-14] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - No free connections [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 11:00:30,223 [pool-4-thread-14] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Available capacity: 2 out of 2 [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 11:00:30,223 [pool-4-thread-14] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Creating new connection [HttpRoute[{}->http://localhost:7070]]
2012-06-26 11:00:30,223 [pool-4-thread-14] [DEBUG] ultClientConnectionOperator - Connecting to localhost:7070
2012-06-26 11:00:31,175 [pool-4-thread-14] [DEBUG] i.c.DefaultClientConnection - Connection closed
2012-06-26 11:00:31,175 [pool-4-thread-14] [DEBUG] i.c.DefaultClientConnection - Connection shut down
2012-06-26 11:00:31,175 [pool-4-thread-14] [DEBUG] ThreadSafeClientConnManager - Released connection is not reusable.
2012-06-26 11:00:31,175 [pool-4-thread-14] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Releasing connection [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 11:00:31,175 [pool-4-thread-14] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Notifying no-one, there are no waiting threads
2012-06-26 11:00:31,175 [pool-4-thread-14] [ERROR] q.m.p.h.LoginCommandHandler - initGrouponCache fail:com.chinarewards.qqgbvpn.qqapi.exception.ParseXMLException: com.chinarewards.qqgbvpn.qqapi.exception.SendPostTimeOutException: org.apache.http.conn.HttpHostConnectException: Connection to http://localhost:7070 refused
2012-06-26 11:00:31,206 [pool-4-thread-14] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 11:00:31,221 [pool-4-thread-14] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 11:00:31,221 [pool-4-thread-14] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 11:00:31,221 [pool-4-thread-14] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 11:00:31,221 [pool-4-thread-14] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 5
2012-06-26 11:00:31,221 [pool-4-thread-14] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (8)
2012-06-26 11:00:31,221 [pool-4-thread-14] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageResponseCodec@17aaa0e
2012-06-26 11:00:31,221 [pool-4-thread-14] [DEBUG] c.LoginMessageResponseCodec - login/bind message encode
2012-06-26 11:00:31,221 [pool-4-thread-14] [TRACE] c.LoginMessageResponseCodec - LoginResponseMessage: [cmdId=8, result=0, challenge=[105, 79, 81, 49, 66, 104, 50, 79]]
2012-06-26 11:00:31,221 [pool-4-thread-14] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0xd0a0
2012-06-26 11:00:31,221 [pool-4-thread-14] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 11:00:31,221 [pool-4-thread-14] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 D0 A0 00 00 00 1E ................
00000010 00 00 00 08 00 00 69 4F 51 31 42 68 32 4F       ......iOQ1Bh2O

2012-06-26 11:00:31,221 [pool-4-thread-14] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 11:00:31,221 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 11:00:31,221 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 11:00:31,221 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 5: not mark to return session ID to client
2012-06-26 11:00:31,221 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 11:00:31,221 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 11:00:31,221 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 11:00:31,221 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2492, Mina session ID 5, identified POS ID pos-0002
2012-06-26 11:00:31,221 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 28 of 28 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 65 68 00 00 00 1C ..........eh....
00000010 00 00 00 C9 00 06 31 32 33 34 35 36             ......123456

2012-06-26 11:00:31,221 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=28 cap=1024: 00 00 00 10 00 00 00 00 00 00 65 68 00 00 00 1C...]
2012-06-26 11:00:31,221 [NioProcessor-3  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 5
2012-06-26 11:00:31,221 [NioProcessor-3  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 11:00:31,221 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 11:00:31,221 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 5
2012-06-26 11:00:31,221 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =28
2012-06-26 11:00:31,221 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 28 of 28 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 65 68 00 00 00 1C ..........eh....
00000010 00 00 00 C9 00 06 31 32 33 34 35 36             ......123456

2012-06-26 11:00:31,221 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 28, current position: 0
2012-06-26 11:00:31,221 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 11:00:31,221 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0x6568} messageSize:{0x1c} sessionKey:{null}
2012-06-26 11:00:31,221 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 12
2012-06-26 11:00:31,221 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=12, in.remaining=12
2012-06-26 11:00:31,221 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 11:00:31,221 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 201
2012-06-26 11:00:31,221 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 201: com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftMessageCodec@328c40
2012-06-26 11:00:31,221 [NioProcessor-3  ] [DEBUG] m.c.ReceiveGiftMessageCodec - receive gift request message decode
2012-06-26 11:00:31,221 [NioProcessor-3  ] [DEBUG] m.c.ReceiveGiftMessageCodec - in.remaining()=12
2012-06-26 11:00:31,221 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 11:00:31,221 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0x6568} messageSize:{0x1c} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@95ef17
2012-06-26 11:00:31,221 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 11:00:31,221 [NioProcessor-3  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 11:00:31,221 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 11:00:31,221 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 11:00:31,221 [NioProcessor-3  ] [DEBUG] c.c.q.m.p.f.LoginFilter     - isLogin=true
2012-06-26 11:00:31,221 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 11:00:31,221 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 11:00:31,221 [NioProcessor-3  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2492, Mina session ID 5, identified POS ID pos-0002, message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0x6568} messageSize:{0x1c} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@95ef17
2012-06-26 11:00:31,221 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 11:00:31,221 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 11:00:31,221 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 11:00:31,221 [NioProcessor-3  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 11:00:31,221 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 11:00:31,221 [pool-4-thread-15] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 11:00:31,221 [pool-4-thread-15] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 11:00:31,221 [pool-4-thread-15] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@1a37fac obtained for command ID 201
2012-06-26 11:00:31,221 [pool-4-thread-15] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 201 is com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@1a37fac
2012-06-26 11:00:31,221 [pool-4-thread-15] [DEBUG] h.ReceiveGiftCommandHandler - ReceiveGiftHandler======execute==bodyMessage=: com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@95ef17
2012-06-26 11:00:31,221 [pool-4-thread-15] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 11:00:31,221 [pool-4-thread-15] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 11:00:31,221 [pool-4-thread-15] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 11:00:31,221 [pool-4-thread-15] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 11:00:31,221 [pool-4-thread-15] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 5
2012-06-26 11:00:31,221 [pool-4-thread-15] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (202)
2012-06-26 11:00:31,221 [pool-4-thread-15] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftResponseMessageCodec@7a3a30
2012-06-26 11:00:31,221 [pool-4-thread-15] [DEBUG] iveGiftResponseMessageCodec - receive gift response message encode
2012-06-26 11:00:31,221 [pool-4-thread-15] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0xe278
2012-06-26 11:00:31,221 [pool-4-thread-15] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 11:00:31,221 [pool-4-thread-15] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 69 of 69 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 E2 78 00 00 00 45 ...........x...E
00000010 00 00 00 CA 00 00 00 02 07 DC 06 1A 0B 00 1F 00 ................
00000020 DD 01 E0 00 08 C1 EC C8 A1 C0 F1 C6 B7 00 16 31 ...............1
00000030 32 33 34 35 36 0A CE DE D0 A7 0A B0 B4 4F 4B BC 23456........OK.
00000040 FC B7 B5 BB D8                                  .....

2012-06-26 11:00:31,221 [pool-4-thread-15] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 11:00:31,221 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 11:00:31,221 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 11:00:31,221 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 5: not mark to return session ID to client
2012-06-26 11:00:31,221 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 11:00:31,221 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 11:00:31,237 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 11:00:31,237 [NioProcessor-3  ] [INFO ] o.a.m.f.l.LoggingFilter     - CLOSED
2012-06-26 11:00:31,237 [NioProcessor-3  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 11:00:31,221 [Finalizer       ] [DEBUG] ThreadSafeClientConnManager - Shutting down
2012-06-26 11:00:31,455 [NioProcessor-1  ] [INFO ] c.c.q.m.p.f.LoggingFilter   - incoming connection from remote address: 127.0.0.1:2494, Mina session ID: 6
2012-06-26 11:00:31,455 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - Currently managed session count: 1
2012-06-26 11:00:31,455 [NioProcessor-1  ] [INFO ] o.a.m.f.l.LoggingFilter     - CREATED
2012-06-26 11:00:31,455 [NioProcessor-1  ] [INFO ] o.a.m.f.l.LoggingFilter     - OPENED
2012-06-26 11:00:31,596 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2494, Mina session ID 6, identified POS ID null
2012-06-26 11:00:31,596 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 11:00:31,596 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=32 cap=2048: 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20...]
2012-06-26 11:00:31,596 [NioProcessor-1  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 6
2012-06-26 11:00:31,596 [NioProcessor-1  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 11:00:31,596 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 11:00:31,596 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 6
2012-06-26 11:00:31,596 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =32
2012-06-26 11:00:31,596 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 11:00:31,596 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 32, current position: 0
2012-06-26 11:00:31,596 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 11:00:31,596 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}
2012-06-26 11:00:31,596 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 16
2012-06-26 11:00:31,596 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=16, in.remaining=16
2012-06-26 11:00:31,596 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 11:00:31,596 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 5
2012-06-26 11:00:31,596 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 5: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageCodec@d8fd1a
2012-06-26 11:00:31,596 [NioProcessor-1  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - init request message decode
2012-06-26 11:00:31,596 [NioProcessor-1  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - in.remaining()=16
2012-06-26 11:00:31,596 [NioProcessor-1  ] [TRACE] .m.p.s.m.c.InitMessageCodec - InitRequestMessage: [cmdId=5, posId=pos-0002]
2012-06-26 11:00:31,596 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 11:00:31,596 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 11:00:31,596 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 11:00:31,596 [NioProcessor-1  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 11:00:31,596 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 11:00:31,596 [NioProcessor-1  ] [DEBUG] p.f.SessionKeyMessageFilter - Mina session ID 6: created session key c73eae445f91461f90d5b37e540ec938
2012-06-26 11:00:31,596 [NioProcessor-1  ] [DEBUG] p.f.SessionKeyMessageFilter - creating session for mina session ID 6 using session ID c73eae445f91461f90d5b37e540ec938
2012-06-26 11:00:31,596 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 11:00:31,596 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 11:00:31,596 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 11:00:31,596 [NioProcessor-1  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2494, Mina session ID 6, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 11:00:31,596 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 11:00:31,596 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 11:00:31,596 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 11:00:31,596 [NioProcessor-1  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 11:00:31,596 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 11:00:31,596 [pool-4-thread-16] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 11:00:31,596 [pool-4-thread-16] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 11:00:31,596 [pool-4-thread-16] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@930120 obtained for command ID 5
2012-06-26 11:00:31,596 [pool-4-thread-16] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 5 is com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@930120
2012-06-26 11:00:31,596 [pool-4-thread-16] [DEBUG] .q.m.p.h.InitCommandHandler - InitCommandHandler======execute==bodyMessage=:  [cmdId=5, posId=pos-0002]
2012-06-26 11:00:31,596 [pool-4-thread-16] [DEBUG] .q.m.l.l.i.LoginManagerImpl - InitResponse() invoke
2012-06-26 11:00:31,596 [pool-4-thread-16] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:ALLOWED
2012-06-26 11:00:31,596 [pool-4-thread-16] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId AND p.ostatus = :ostatus
2012-06-26 11:00:31,596 [pool-4-thread-16] [DEBUG] .q.m.l.l.i.LoginManagerImpl - POS ID:pos-0002, init challenge saved - [80, 97, 114, 102, 83, 105, 68, 89]
2012-06-26 11:00:31,596 [pool-4-thread-16] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 11:00:31,627 [pool-4-thread-16] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 11:00:31,627 [pool-4-thread-16] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 11:00:31,627 [pool-4-thread-16] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 11:00:31,627 [pool-4-thread-16] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 6
2012-06-26 11:00:31,627 [pool-4-thread-16] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (6)
2012-06-26 11:00:31,627 [pool-4-thread-16] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageResponseCodec@cbffde
2012-06-26 11:00:31,627 [pool-4-thread-16] [DEBUG] .c.InitMessageResponseCodec - init response message encode
2012-06-26 11:00:31,627 [pool-4-thread-16] [TRACE] .c.InitMessageResponseCodec - InitResponseMessage: [cmdId=6, result=0, challenge=[80, 97, 114, 102, 83, 105, 68, 89]]
2012-06-26 11:00:31,627 [pool-4-thread-16] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0xa550
2012-06-26 11:00:31,627 [pool-4-thread-16] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 11:00:31,627 [pool-4-thread-16] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 A5 50 00 00 00 1E ...........P....
00000010 00 00 00 06 00 00 50 61 72 66 53 69 44 59       ......ParfSiDY

2012-06-26 11:00:31,627 [pool-4-thread-16] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 11:00:31,627 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 11:00:31,627 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 11:00:31,627 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 6: not mark to return session ID to client
2012-06-26 11:00:31,627 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 11:00:31,627 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 11:00:31,627 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 11:00:31,627 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2494, Mina session ID 6, identified POS ID pos-0002
2012-06-26 11:00:31,627 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 47 9B 00 00 00 30 ..........G....0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 CE D0 A4 4D C5 6F 7B 97 86 D2 21 12 8D 37 8A EB ...M.o{...!..7..

2012-06-26 11:00:31,627 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=48 cap=2048: 00 00 00 01 00 00 00 00 00 00 47 9B 00 00 00 30...]
2012-06-26 11:00:31,627 [NioProcessor-1  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 6
2012-06-26 11:00:31,627 [NioProcessor-1  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 11:00:31,627 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 11:00:31,627 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 6
2012-06-26 11:00:31,627 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =48
2012-06-26 11:00:31,627 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 47 9B 00 00 00 30 ..........G....0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 CE D0 A4 4D C5 6F 7B 97 86 D2 21 12 8D 37 8A EB ...M.o{...!..7..

2012-06-26 11:00:31,627 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 48, current position: 0
2012-06-26 11:00:31,627 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 11:00:31,627 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x479b} messageSize:{0x30} sessionKey:{null}
2012-06-26 11:00:31,627 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 32
2012-06-26 11:00:31,627 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=32, in.remaining=32
2012-06-26 11:00:31,627 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 11:00:31,627 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 7
2012-06-26 11:00:31,627 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 7: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageCodec@14649ed
2012-06-26 11:00:31,627 [NioProcessor-1  ] [DEBUG] m.p.s.m.c.LoginMessageCodec - login/bind message decode
2012-06-26 11:00:31,627 [NioProcessor-1  ] [TRACE] m.p.s.m.c.LoginMessageCodec - LoginRequestMessage: [cmdId=7, posId=pos-0002, challengeResponse=[-50, -48, -92, 77, -59, 111, 123, -105, -122, -46, 33, 18, -115, 55, -118, -21]]
2012-06-26 11:00:31,627 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 11:00:31,627 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x479b} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[-50, -48, -92, 77, -59, 111, 123, -105, -122, -46, 33, 18, -115, 55, -118, -21]]
2012-06-26 11:00:31,627 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 11:00:31,627 [NioProcessor-1  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 11:00:31,627 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 11:00:31,627 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 11:00:31,627 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 11:00:31,627 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 11:00:31,627 [NioProcessor-1  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2494, Mina session ID 6, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x479b} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[-50, -48, -92, 77, -59, 111, 123, -105, -122, -46, 33, 18, -115, 55, -118, -21]]
2012-06-26 11:00:31,627 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 11:00:31,627 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 11:00:31,627 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 11:00:31,627 [NioProcessor-1  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 11:00:31,627 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 11:00:31,627 [pool-4-thread-17] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 11:00:31,627 [pool-4-thread-17] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 11:00:31,627 [pool-4-thread-17] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@1697d14 obtained for command ID 7
2012-06-26 11:00:31,627 [pool-4-thread-17] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 7 is com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@1697d14
2012-06-26 11:00:31,627 [pool-4-thread-17] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==bodyMessage=: [cmdId=7, posId=pos-0002, challengeResponse=[-50, -48, -92, 77, -59, 111, 123, -105, -122, -46, 33, 18, -115, 55, -118, -21]]
2012-06-26 11:00:31,627 [pool-4-thread-17] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:null
2012-06-26 11:00:31,627 [pool-4-thread-17] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId
2012-06-26 11:00:31,627 [pool-4-thread-17] [TRACE] .q.m.l.l.i.LoginManagerImpl - Loaded from db: pos.posId:pos-0002, pos.secret:000001, oldChallenge:[80, 97, 114, 102, 83, 105, 68, 89]
2012-06-26 11:00:31,627 [pool-4-thread-17] [DEBUG] .q.m.l.l.i.LoginManagerImpl - disableChallengeCheck =0
2012-06-26 11:00:31,627 [pool-4-thread-17] [TRACE] c.c.q.m.l.c.ChallengeUtil   - checking challenge:response:[-50, -48, -92, 77, -59, 111, 123, -105, -122, -46, 33, 18, -115, 55, -118, -21], posKey:000001, random:[80, 97, 114, 102, 83, 105, 68, 89]
2012-06-26 11:00:31,627 [pool-4-thread-17] [DEBUG] .q.m.l.l.i.LoginManagerImpl - new challenge for POS (POS ID): [102, 117, 57, 118, 110, 81, 50, 69]
2012-06-26 11:00:31,627 [pool-4-thread-17] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==serverKey=:JXTPOS
2012-06-26 11:00:31,643 [pool-4-thread-17] [DEBUG] ThreadSafeClientConnManager - Get connection: HttpRoute[{}->http://localhost:7070], timeout = 0
2012-06-26 11:00:31,643 [pool-4-thread-17] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - [HttpRoute[{}->http://localhost:7070]] total kept alive: 0, total issued: 0, total allocated: 0 out of 20
2012-06-26 11:00:31,643 [pool-4-thread-17] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - No free connections [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 11:00:31,643 [pool-4-thread-17] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Available capacity: 2 out of 2 [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 11:00:31,643 [pool-4-thread-17] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Creating new connection [HttpRoute[{}->http://localhost:7070]]
2012-06-26 11:00:31,643 [pool-4-thread-17] [DEBUG] ultClientConnectionOperator - Connecting to localhost:7070
2012-06-26 11:00:32,704 [pool-4-thread-17] [DEBUG] i.c.DefaultClientConnection - Connection closed
2012-06-26 11:00:32,704 [pool-4-thread-17] [DEBUG] i.c.DefaultClientConnection - Connection shut down
2012-06-26 11:00:32,704 [pool-4-thread-17] [DEBUG] ThreadSafeClientConnManager - Released connection is not reusable.
2012-06-26 11:00:32,704 [pool-4-thread-17] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Releasing connection [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 11:00:32,704 [pool-4-thread-17] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Notifying no-one, there are no waiting threads
2012-06-26 11:00:32,704 [pool-4-thread-17] [ERROR] q.m.p.h.LoginCommandHandler - initGrouponCache fail:com.chinarewards.qqgbvpn.qqapi.exception.ParseXMLException: com.chinarewards.qqgbvpn.qqapi.exception.SendPostTimeOutException: org.apache.http.conn.HttpHostConnectException: Connection to http://localhost:7070 refused
2012-06-26 11:00:32,735 [pool-4-thread-17] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 11:00:32,766 [pool-4-thread-17] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 11:00:32,766 [pool-4-thread-17] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 11:00:32,766 [pool-4-thread-17] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 11:00:32,766 [pool-4-thread-17] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 6
2012-06-26 11:00:32,766 [pool-4-thread-17] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (8)
2012-06-26 11:00:32,766 [pool-4-thread-17] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageResponseCodec@1335b86
2012-06-26 11:00:32,766 [pool-4-thread-17] [DEBUG] c.LoginMessageResponseCodec - login/bind message encode
2012-06-26 11:00:32,766 [pool-4-thread-17] [TRACE] c.LoginMessageResponseCodec - LoginResponseMessage: [cmdId=8, result=0, challenge=[102, 117, 57, 118, 110, 81, 50, 69]]
2012-06-26 11:00:32,766 [pool-4-thread-17] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0xbf56
2012-06-26 11:00:32,766 [pool-4-thread-17] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 11:00:32,766 [pool-4-thread-17] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BF 56 00 00 00 1E ...........V....
00000010 00 00 00 08 00 00 66 75 39 76 6E 51 32 45       ......fu9vnQ2E

2012-06-26 11:00:32,766 [pool-4-thread-17] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 11:00:32,766 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 11:00:32,766 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 11:00:32,766 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 6: not mark to return session ID to client
2012-06-26 11:00:32,766 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 11:00:32,766 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 11:00:32,766 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 11:00:32,766 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2494, Mina session ID 6, identified POS ID pos-0002
2012-06-26 11:00:32,766 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 33 of 33 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 D8 04 00 00 00 21 ...............!
00000010 00 00 00 C9 00 0B 31 31 31 31 31 31 31 31 31 31 ......1111111111
00000020 31                                              1

2012-06-26 11:00:32,766 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=33 cap=1024: 00 00 00 10 00 00 00 00 00 00 D8 04 00 00 00 21...]
2012-06-26 11:00:32,766 [NioProcessor-1  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 6
2012-06-26 11:00:32,766 [NioProcessor-1  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 11:00:32,766 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 11:00:32,766 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 6
2012-06-26 11:00:32,766 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =33
2012-06-26 11:00:32,766 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 33 of 33 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 D8 04 00 00 00 21 ...............!
00000010 00 00 00 C9 00 0B 31 31 31 31 31 31 31 31 31 31 ......1111111111
00000020 31                                              1

2012-06-26 11:00:32,766 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 33, current position: 0
2012-06-26 11:00:32,766 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 11:00:32,766 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd804} messageSize:{0x21} sessionKey:{null}
2012-06-26 11:00:32,766 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 17
2012-06-26 11:00:32,766 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=17, in.remaining=17
2012-06-26 11:00:32,766 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 11:00:32,766 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 201
2012-06-26 11:00:32,766 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 201: com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftMessageCodec@bdec44
2012-06-26 11:00:32,766 [NioProcessor-1  ] [DEBUG] m.c.ReceiveGiftMessageCodec - receive gift request message decode
2012-06-26 11:00:32,766 [NioProcessor-1  ] [DEBUG] m.c.ReceiveGiftMessageCodec - in.remaining()=17
2012-06-26 11:00:32,766 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 11:00:32,766 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd804} messageSize:{0x21} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@e29f36
2012-06-26 11:00:32,766 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 11:00:32,766 [NioProcessor-1  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 11:00:32,766 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 11:00:32,766 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 11:00:32,766 [NioProcessor-1  ] [DEBUG] c.c.q.m.p.f.LoginFilter     - isLogin=true
2012-06-26 11:00:32,766 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 11:00:32,766 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 11:00:32,766 [NioProcessor-1  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2494, Mina session ID 6, identified POS ID pos-0002, message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd804} messageSize:{0x21} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@e29f36
2012-06-26 11:00:32,766 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 11:00:32,766 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 11:00:32,766 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 11:00:32,766 [NioProcessor-1  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 11:00:32,766 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 11:00:32,766 [pool-4-thread-18] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 11:00:32,766 [pool-4-thread-18] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 11:00:32,766 [pool-4-thread-18] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@77baf4 obtained for command ID 201
2012-06-26 11:00:32,766 [pool-4-thread-18] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 201 is com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@77baf4
2012-06-26 11:00:32,766 [pool-4-thread-18] [DEBUG] h.ReceiveGiftCommandHandler - ReceiveGiftHandler======execute==bodyMessage=: com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@e29f36
2012-06-26 11:00:32,766 [pool-4-thread-18] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 11:00:32,766 [pool-4-thread-18] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 11:00:32,766 [pool-4-thread-18] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 11:00:32,766 [pool-4-thread-18] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 11:00:32,766 [pool-4-thread-18] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 6
2012-06-26 11:00:32,766 [pool-4-thread-18] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (202)
2012-06-26 11:00:32,766 [pool-4-thread-18] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftResponseMessageCodec@211b37
2012-06-26 11:00:32,766 [pool-4-thread-18] [DEBUG] iveGiftResponseMessageCodec - receive gift response message encode
2012-06-26 11:00:32,766 [pool-4-thread-18] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0x41c9
2012-06-26 11:00:32,766 [pool-4-thread-18] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 11:00:32,766 [pool-4-thread-18] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 55 of 55 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 41 C9 00 00 00 37 ..........A....7
00000010 00 00 00 CA 00 00 00 01 07 DC 06 1A 0B 00 20 02 .............. .
00000020 FE 01 E0 00 08 C1 EC C8 A1 C0 F1 C6 B7 00 08 D2 ................
00000030 D1 C1 EC C8 A1 B9 FD                            .......

2012-06-26 11:00:32,766 [pool-4-thread-18] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 11:00:32,766 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 11:00:32,766 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 11:00:32,782 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 6: not mark to return session ID to client
2012-06-26 11:00:32,782 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 11:00:32,782 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 11:00:32,782 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 11:00:32,782 [NioProcessor-1  ] [INFO ] o.a.m.f.l.LoggingFilter     - CLOSED
2012-06-26 11:00:32,782 [NioProcessor-1  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 11:00:32,969 [NioProcessor-2  ] [INFO ] c.c.q.m.p.f.LoggingFilter   - incoming connection from remote address: 127.0.0.1:2496, Mina session ID: 7
2012-06-26 11:00:32,969 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - Currently managed session count: 1
2012-06-26 11:00:32,969 [NioProcessor-2  ] [INFO ] o.a.m.f.l.LoggingFilter     - CREATED
2012-06-26 11:00:32,969 [Finalizer       ] [DEBUG] ThreadSafeClientConnManager - Shutting down
2012-06-26 11:00:32,969 [NioProcessor-2  ] [INFO ] o.a.m.f.l.LoggingFilter     - OPENED
2012-06-26 11:00:32,969 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2496, Mina session ID 7, identified POS ID null
2012-06-26 11:00:32,969 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 11:00:32,969 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=32 cap=2048: 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20...]
2012-06-26 11:00:32,969 [NioProcessor-2  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 7
2012-06-26 11:00:32,969 [NioProcessor-2  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 11:00:32,969 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 11:00:32,969 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 7
2012-06-26 11:00:32,969 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =32
2012-06-26 11:00:32,969 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 11:00:32,969 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 32, current position: 0
2012-06-26 11:00:32,969 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 11:00:32,969 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}
2012-06-26 11:00:32,969 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 16
2012-06-26 11:00:32,969 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=16, in.remaining=16
2012-06-26 11:00:32,969 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 11:00:32,969 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 5
2012-06-26 11:00:32,969 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 5: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageCodec@15cd9a
2012-06-26 11:00:32,969 [NioProcessor-2  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - init request message decode
2012-06-26 11:00:32,969 [NioProcessor-2  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - in.remaining()=16
2012-06-26 11:00:32,969 [NioProcessor-2  ] [TRACE] .m.p.s.m.c.InitMessageCodec - InitRequestMessage: [cmdId=5, posId=pos-0002]
2012-06-26 11:00:32,969 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 11:00:32,969 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 11:00:32,969 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 11:00:32,969 [NioProcessor-2  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 11:00:32,969 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 11:00:32,969 [NioProcessor-2  ] [DEBUG] p.f.SessionKeyMessageFilter - Mina session ID 7: created session key 12ecbf3ec7f946dab936856e6769dc75
2012-06-26 11:00:32,969 [NioProcessor-2  ] [DEBUG] p.f.SessionKeyMessageFilter - creating session for mina session ID 7 using session ID 12ecbf3ec7f946dab936856e6769dc75
2012-06-26 11:00:32,969 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 11:00:32,969 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 11:00:32,984 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 11:00:32,984 [NioProcessor-2  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2496, Mina session ID 7, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 11:00:32,984 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 11:00:32,984 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 11:00:32,984 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 11:00:32,984 [NioProcessor-2  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 11:00:32,984 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 11:00:32,984 [pool-4-thread-19] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 11:00:32,984 [pool-4-thread-19] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 11:00:32,984 [pool-4-thread-19] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@1ad0d89 obtained for command ID 5
2012-06-26 11:00:32,984 [pool-4-thread-19] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 5 is com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@1ad0d89
2012-06-26 11:00:32,984 [pool-4-thread-19] [DEBUG] .q.m.p.h.InitCommandHandler - InitCommandHandler======execute==bodyMessage=:  [cmdId=5, posId=pos-0002]
2012-06-26 11:00:32,984 [pool-4-thread-19] [DEBUG] .q.m.l.l.i.LoginManagerImpl - InitResponse() invoke
2012-06-26 11:00:32,984 [pool-4-thread-19] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:ALLOWED
2012-06-26 11:00:32,984 [pool-4-thread-19] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId AND p.ostatus = :ostatus
2012-06-26 11:00:32,984 [pool-4-thread-19] [DEBUG] .q.m.l.l.i.LoginManagerImpl - POS ID:pos-0002, init challenge saved - [73, 85, 112, 107, 69, 102, 120, 77]
2012-06-26 11:00:32,984 [pool-4-thread-19] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 11:00:33,000 [pool-4-thread-19] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 11:00:33,000 [pool-4-thread-19] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 11:00:33,000 [pool-4-thread-19] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 11:00:33,000 [pool-4-thread-19] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 7
2012-06-26 11:00:33,000 [pool-4-thread-19] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (6)
2012-06-26 11:00:33,000 [pool-4-thread-19] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageResponseCodec@18fa85
2012-06-26 11:00:33,000 [pool-4-thread-19] [DEBUG] .c.InitMessageResponseCodec - init response message encode
2012-06-26 11:00:33,000 [pool-4-thread-19] [TRACE] .c.InitMessageResponseCodec - InitResponseMessage: [cmdId=6, result=0, challenge=[73, 85, 112, 107, 69, 102, 120, 77]]
2012-06-26 11:00:33,000 [pool-4-thread-19] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0x8866
2012-06-26 11:00:33,000 [pool-4-thread-19] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 11:00:33,000 [pool-4-thread-19] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 88 66 00 00 00 1E ...........f....
00000010 00 00 00 06 00 00 49 55 70 6B 45 66 78 4D       ......IUpkEfxM

2012-06-26 11:00:33,000 [pool-4-thread-19] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 11:00:33,016 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 11:00:33,016 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 11:00:33,016 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 7: not mark to return session ID to client
2012-06-26 11:00:33,016 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 11:00:33,016 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 11:00:33,016 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 11:00:33,016 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2496, Mina session ID 7, identified POS ID pos-0002
2012-06-26 11:00:33,016 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 AF F9 00 00 00 30 ...............0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 ED 57 FD D8 D3 31 CF 95 DF 91 9E 86 AD 15 52 A8 .W...1........R.

2012-06-26 11:00:33,016 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=48 cap=2048: 00 00 00 01 00 00 00 00 00 00 AF F9 00 00 00 30...]
2012-06-26 11:00:33,016 [NioProcessor-2  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 7
2012-06-26 11:00:33,016 [NioProcessor-2  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 11:00:33,016 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 11:00:33,016 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 7
2012-06-26 11:00:33,016 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =48
2012-06-26 11:00:33,016 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 AF F9 00 00 00 30 ...............0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 ED 57 FD D8 D3 31 CF 95 DF 91 9E 86 AD 15 52 A8 .W...1........R.

2012-06-26 11:00:33,016 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 48, current position: 0
2012-06-26 11:00:33,016 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 11:00:33,016 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xaff9} messageSize:{0x30} sessionKey:{null}
2012-06-26 11:00:33,016 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 32
2012-06-26 11:00:33,016 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=32, in.remaining=32
2012-06-26 11:00:33,016 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 11:00:33,016 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 7
2012-06-26 11:00:33,016 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 7: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageCodec@1767553
2012-06-26 11:00:33,016 [NioProcessor-2  ] [DEBUG] m.p.s.m.c.LoginMessageCodec - login/bind message decode
2012-06-26 11:00:33,016 [NioProcessor-2  ] [TRACE] m.p.s.m.c.LoginMessageCodec - LoginRequestMessage: [cmdId=7, posId=pos-0002, challengeResponse=[-19, 87, -3, -40, -45, 49, -49, -107, -33, -111, -98, -122, -83, 21, 82, -88]]
2012-06-26 11:00:33,016 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 11:00:33,016 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xaff9} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[-19, 87, -3, -40, -45, 49, -49, -107, -33, -111, -98, -122, -83, 21, 82, -88]]
2012-06-26 11:00:33,016 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 11:00:33,016 [NioProcessor-2  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 11:00:33,016 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 11:00:33,016 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 11:00:33,016 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 11:00:33,016 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 11:00:33,016 [NioProcessor-2  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2496, Mina session ID 7, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xaff9} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[-19, 87, -3, -40, -45, 49, -49, -107, -33, -111, -98, -122, -83, 21, 82, -88]]
2012-06-26 11:00:33,016 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 11:00:33,016 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 11:00:33,016 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 11:00:33,016 [NioProcessor-2  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 11:00:33,016 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 11:00:33,016 [pool-4-thread-20] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 11:00:33,016 [pool-4-thread-20] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 11:00:33,016 [pool-4-thread-20] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@7857a5 obtained for command ID 7
2012-06-26 11:00:33,016 [pool-4-thread-20] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 7 is com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@7857a5
2012-06-26 11:00:33,016 [pool-4-thread-20] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==bodyMessage=: [cmdId=7, posId=pos-0002, challengeResponse=[-19, 87, -3, -40, -45, 49, -49, -107, -33, -111, -98, -122, -83, 21, 82, -88]]
2012-06-26 11:00:33,016 [pool-4-thread-20] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:null
2012-06-26 11:00:33,016 [pool-4-thread-20] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId
2012-06-26 11:00:33,016 [pool-4-thread-20] [TRACE] .q.m.l.l.i.LoginManagerImpl - Loaded from db: pos.posId:pos-0002, pos.secret:000001, oldChallenge:[73, 85, 112, 107, 69, 102, 120, 77]
2012-06-26 11:00:33,016 [pool-4-thread-20] [DEBUG] .q.m.l.l.i.LoginManagerImpl - disableChallengeCheck =0
2012-06-26 11:00:33,016 [pool-4-thread-20] [TRACE] c.c.q.m.l.c.ChallengeUtil   - checking challenge:response:[-19, 87, -3, -40, -45, 49, -49, -107, -33, -111, -98, -122, -83, 21, 82, -88], posKey:000001, random:[73, 85, 112, 107, 69, 102, 120, 77]
2012-06-26 11:00:33,016 [pool-4-thread-20] [DEBUG] .q.m.l.l.i.LoginManagerImpl - new challenge for POS (POS ID): [67, 97, 84, 81, 83, 53, 68, 65]
2012-06-26 11:00:33,016 [pool-4-thread-20] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==serverKey=:JXTPOS
2012-06-26 11:00:33,016 [pool-4-thread-20] [DEBUG] ThreadSafeClientConnManager - Get connection: HttpRoute[{}->http://localhost:7070], timeout = 0
2012-06-26 11:00:33,016 [pool-4-thread-20] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - [HttpRoute[{}->http://localhost:7070]] total kept alive: 0, total issued: 0, total allocated: 0 out of 20
2012-06-26 11:00:33,031 [pool-4-thread-20] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - No free connections [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 11:00:33,031 [pool-4-thread-20] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Available capacity: 2 out of 2 [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 11:00:33,031 [pool-4-thread-20] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Creating new connection [HttpRoute[{}->http://localhost:7070]]
2012-06-26 11:00:33,031 [pool-4-thread-20] [DEBUG] ultClientConnectionOperator - Connecting to localhost:7070
2012-06-26 11:00:33,921 [pool-4-thread-20] [DEBUG] i.c.DefaultClientConnection - Connection closed
2012-06-26 11:00:33,921 [pool-4-thread-20] [DEBUG] i.c.DefaultClientConnection - Connection shut down
2012-06-26 11:00:33,921 [pool-4-thread-20] [DEBUG] ThreadSafeClientConnManager - Released connection is not reusable.
2012-06-26 11:00:33,921 [pool-4-thread-20] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Releasing connection [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 11:00:33,921 [pool-4-thread-20] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Notifying no-one, there are no waiting threads
2012-06-26 11:00:33,921 [pool-4-thread-20] [ERROR] q.m.p.h.LoginCommandHandler - initGrouponCache fail:com.chinarewards.qqgbvpn.qqapi.exception.ParseXMLException: com.chinarewards.qqgbvpn.qqapi.exception.SendPostTimeOutException: org.apache.http.conn.HttpHostConnectException: Connection to http://localhost:7070 refused
2012-06-26 11:00:33,921 [pool-4-thread-20] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 11:00:33,983 [pool-4-thread-20] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 11:00:33,983 [pool-4-thread-20] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 11:00:33,983 [pool-4-thread-20] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 11:00:33,983 [pool-4-thread-20] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 7
2012-06-26 11:00:33,983 [pool-4-thread-20] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (8)
2012-06-26 11:00:33,983 [pool-4-thread-20] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageResponseCodec@f34071
2012-06-26 11:00:33,983 [pool-4-thread-20] [DEBUG] c.LoginMessageResponseCodec - login/bind message encode
2012-06-26 11:00:33,983 [pool-4-thread-20] [TRACE] c.LoginMessageResponseCodec - LoginResponseMessage: [cmdId=8, result=0, challenge=[67, 97, 84, 81, 83, 53, 68, 65]]
2012-06-26 11:00:33,983 [pool-4-thread-20] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0xd0af
2012-06-26 11:00:33,983 [pool-4-thread-20] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 11:00:33,983 [pool-4-thread-20] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 D0 AF 00 00 00 1E ................
00000010 00 00 00 08 00 00 43 61 54 51 53 35 44 41       ......CaTQS5DA

2012-06-26 11:00:33,983 [pool-4-thread-20] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 11:00:33,983 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 11:00:33,983 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 11:00:33,983 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 7: not mark to return session ID to client
2012-06-26 11:00:33,983 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 11:00:33,983 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 11:00:33,983 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 11:00:33,983 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2496, Mina session ID 7, identified POS ID pos-0002
2012-06-26 11:00:33,983 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 33 of 33 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 D1 FF 00 00 00 21 ...............!
00000010 00 00 00 C9 00 0B 32 32 32 32 32 32 32 32 32 32 ......2222222222
00000020 32                                              2

2012-06-26 11:00:33,983 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=33 cap=1024: 00 00 00 10 00 00 00 00 00 00 D1 FF 00 00 00 21...]
2012-06-26 11:00:33,983 [NioProcessor-2  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 7
2012-06-26 11:00:33,983 [NioProcessor-2  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 11:00:33,983 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 11:00:33,983 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 7
2012-06-26 11:00:33,983 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =33
2012-06-26 11:00:33,983 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 33 of 33 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 D1 FF 00 00 00 21 ...............!
00000010 00 00 00 C9 00 0B 32 32 32 32 32 32 32 32 32 32 ......2222222222
00000020 32                                              2

2012-06-26 11:00:33,983 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 33, current position: 0
2012-06-26 11:00:33,983 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 11:00:33,983 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd1ff} messageSize:{0x21} sessionKey:{null}
2012-06-26 11:00:33,983 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 17
2012-06-26 11:00:33,983 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=17, in.remaining=17
2012-06-26 11:00:33,983 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 11:00:33,983 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 201
2012-06-26 11:00:33,983 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 201: com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftMessageCodec@bd5df
2012-06-26 11:00:33,983 [NioProcessor-2  ] [DEBUG] m.c.ReceiveGiftMessageCodec - receive gift request message decode
2012-06-26 11:00:33,983 [NioProcessor-2  ] [DEBUG] m.c.ReceiveGiftMessageCodec - in.remaining()=17
2012-06-26 11:00:33,983 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 11:00:33,983 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd1ff} messageSize:{0x21} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@1064b80
2012-06-26 11:00:33,983 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 11:00:33,983 [NioProcessor-2  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 11:00:33,983 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 11:00:33,983 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 11:00:33,983 [NioProcessor-2  ] [DEBUG] c.c.q.m.p.f.LoginFilter     - isLogin=true
2012-06-26 11:00:33,983 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 11:00:33,983 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 11:00:33,983 [NioProcessor-2  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2496, Mina session ID 7, identified POS ID pos-0002, message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd1ff} messageSize:{0x21} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@1064b80
2012-06-26 11:00:33,983 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 11:00:33,983 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 11:00:33,983 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 11:00:33,983 [pool-4-thread-1 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 11:00:33,983 [NioProcessor-2  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 11:00:33,983 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 11:00:33,983 [pool-4-thread-1 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 11:00:33,983 [pool-4-thread-1 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@1afc0f5 obtained for command ID 201
2012-06-26 11:00:33,983 [pool-4-thread-1 ] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 201 is com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@1afc0f5
2012-06-26 11:00:33,983 [pool-4-thread-1 ] [DEBUG] h.ReceiveGiftCommandHandler - ReceiveGiftHandler======execute==bodyMessage=: com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@1064b80
2012-06-26 11:00:33,983 [pool-4-thread-1 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 11:00:33,983 [pool-4-thread-1 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 11:00:33,983 [pool-4-thread-1 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 11:00:33,983 [pool-4-thread-1 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 11:00:33,983 [pool-4-thread-1 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 7
2012-06-26 11:00:33,983 [pool-4-thread-1 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (202)
2012-06-26 11:00:33,983 [pool-4-thread-1 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftResponseMessageCodec@199ea3c
2012-06-26 11:00:33,983 [pool-4-thread-1 ] [DEBUG] iveGiftResponseMessageCodec - receive gift response message encode
2012-06-26 11:00:33,983 [pool-4-thread-1 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0x67c8
2012-06-26 11:00:33,983 [pool-4-thread-1 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 11:00:33,983 [pool-4-thread-1 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 55 of 55 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 67 C8 00 00 00 37 ..........g....7
00000010 00 00 00 CA 00 00 00 01 07 DC 06 1A 0B 00 21 03 ..............!.
00000020 D7 01 E0 00 08 C1 EC C8 A1 C0 F1 C6 B7 00 08 D2 ................
00000030 D1 C1 EC C8 A1 B9 FD                            .......

2012-06-26 11:00:33,983 [pool-4-thread-1 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 11:00:33,983 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 11:00:33,983 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 11:00:33,983 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 7: not mark to return session ID to client
2012-06-26 11:00:33,983 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 11:00:33,983 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 11:00:33,983 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 11:00:33,983 [NioProcessor-2  ] [INFO ] o.a.m.f.l.LoggingFilter     - CLOSED
2012-06-26 11:00:33,983 [NioProcessor-2  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 11:00:38,211 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:00:38,211 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:00:38,211 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=7
2012-06-26 11:00:38,211 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=7
2012-06-26 11:00:38,211 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:00:48,196 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:00:48,196 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:00:48,196 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=7
2012-06-26 11:00:48,196 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=7
2012-06-26 11:00:48,196 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:00:58,181 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:00:58,181 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:00:58,181 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=7
2012-06-26 11:00:58,181 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=6
2012-06-26 11:00:58,181 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:01:04,609 [main            ] [INFO ] c.c.q.m.BootStrap           - Home directory: D:\posnetv2
2012-06-26 11:01:04,609 [main            ] [DEBUG] c.c.q.c.ConfigReader        - Home directory is set to D:\posnetv2
2012-06-26 11:01:04,609 [main            ] [DEBUG] c.c.q.c.ConfigReader        - Configuration subdirectory is set to conf
2012-06-26 11:01:04,609 [main            ] [DEBUG] c.c.q.c.ConfigReader        - Configuration directory is set to D:\posnetv2\conf
2012-06-26 11:01:04,609 [main            ] [DEBUG] c.c.q.c.ConfigReader        - Config file: D:\posnetv2\conf\posnet.ini
2012-06-26 11:01:04,609 [main            ] [DEBUG] c.c.q.c.ConfigReader        - Reading configuration file D:\posnetv2\conf\posnet.ini
2012-06-26 11:01:04,609 [main            ] [DEBUG] c.c.q.c.ConfigReader        - - D:\posnetv2\conf\posnet.ini is an .ini file, load using PropertiesConfiguration.
2012-06-26 11:01:04,640 [main            ] [DEBUG] c.c.PropertiesConfiguration - FileName set to posnet.ini
2012-06-26 11:01:04,640 [main            ] [DEBUG] c.c.PropertiesConfiguration - Base path set to D:\posnetv2\conf
2012-06-26 11:01:04,640 [main            ] [DEBUG] o.a.c.c.ConfigurationUtils  - ConfigurationUtils.locate(): base is D:\posnetv2\conf, name is posnet.ini
2012-06-26 11:01:04,640 [main            ] [DEBUG] o.a.c.c.DefaultFileSystem   - Could not locate file posnet.ini at D:\posnetv2\conf: unknown protocol: d
2012-06-26 11:01:04,655 [main            ] [DEBUG] o.a.c.c.ConfigurationUtils  - Loading configuration from the path D:\posnetv2\conf\posnet.ini
2012-06-26 11:01:04,687 [main            ] [DEBUG] o.a.c.c.ConfigurationUtils  - ConfigurationUtils.locate(): base is D:\posnetv2\conf, name is dispatcher.ini
2012-06-26 11:01:04,687 [main            ] [DEBUG] o.a.c.c.DefaultFileSystem   - Could not locate file dispatcher.ini at D:\posnetv2\conf: unknown protocol: d
2012-06-26 11:01:04,687 [main            ] [DEBUG] o.a.c.c.ConfigurationUtils  - Loading configuration from the path D:\posnetv2\conf\dispatcher.ini
2012-06-26 11:01:04,687 [main            ] [DEBUG] c.c.q.m.BootStrap           - System configuration:
2012-06-26 11:01:04,687 [main            ] [DEBUG] c.c.q.m.BootStrap           - - server.port: 1234
2012-06-26 11:01:04,687 [main            ] [DEBUG] c.c.q.m.BootStrap           - - server.client_max_idle_time: 20
2012-06-26 11:01:04,687 [main            ] [DEBUG] c.c.q.m.BootStrap           - - server.session.timeout_check_interval: 10
2012-06-26 11:01:04,687 [main            ] [DEBUG] c.c.q.m.BootStrap           - - server.session.client_timeout: 210
2012-06-26 11:01:04,687 [main            ] [DEBUG] c.c.q.m.BootStrap           - - server.disable_checksum_check: 0
2012-06-26 11:01:04,687 [main            ] [DEBUG] c.c.q.m.BootStrap           - - server.service_handler.thread_pool_size: 20
2012-06-26 11:01:04,687 [main            ] [DEBUG] c.c.q.m.BootStrap           - - firmware.location: D:\posnetv2\posnet2-mgmtui\firmware
2012-06-26 11:01:04,687 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.hibernate.show_sql: [true, true]
2012-06-26 11:01:04,687 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.hibernate.hbm2ddl.auto: false
2012-06-26 11:01:04,687 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.ext.hibernate.dialect: org.hibernate.dialect.MySQL5Dialect
2012-06-26 11:01:04,687 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.user: root
2012-06-26 11:01:04,687 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.password: 167118
2012-06-26 11:01:04,687 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.driver: com.mysql.jdbc.Driver
2012-06-26 11:01:04,687 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.url: jdbc:mysql://localhost/posnet?autoReconnect=true&useUnicode=true&characterEncoding=UTF-8
2012-06-26 11:01:04,687 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.ext.hibernate.connection.provider_class: org.hibernate.connection.C3P0ConnectionProvider
2012-06-26 11:01:04,687 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.ext.hibernate.c3p0.minPoolSize: 5
2012-06-26 11:01:04,687 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.ext.hibernate.c3p0.maxPoolSize: 20
2012-06-26 11:01:04,687 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.ext.hibernate.c3p0.maxIdleTime: 1800
2012-06-26 11:01:04,687 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.ext.hibernate.c3p0.testConnectionOnCheckout: true
2012-06-26 11:01:04,687 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.ext.hibernate.c3p0.maxStatements: 50
2012-06-26 11:01:04,687 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.ext.hibernate.c3p0.maxStatementsPerConnection: 10
2012-06-26 11:01:04,687 [main            ] [DEBUG] c.c.q.m.BootStrap           - - qq.groupbuy.url.groupBuyingSearchGroupon: http://localhost:7070/testdata/TuanSearchListVO.xml
2012-06-26 11:01:04,687 [main            ] [DEBUG] c.c.q.m.BootStrap           - - qq.groupbuy.url.groupBuyingValidationUrl: http://localhost:7070/testdata/TuanValidateResultVO.xml
2012-06-26 11:01:04,687 [main            ] [DEBUG] c.c.q.m.BootStrap           - - qq.groupbuy.url.groupBuyingUnbindPosUrl: http://localhost:7070/testdata/TuanUnbindVO.xml
2012-06-26 11:01:04,687 [main            ] [DEBUG] c.c.q.m.BootStrap           - - txserver.key: JXTPOS
2012-06-26 11:01:04,687 [main            ] [DEBUG] c.c.q.m.BootStrap           - - qq.meishi.wsapi.host: localhost:7070
2012-06-26 11:01:04,687 [main            ] [DEBUG] c.c.q.m.BootStrap           - - qq.meishi.wsapi.url: http://localhost:7070/qq-meishi/data
2012-06-26 11:01:04,687 [main            ] [DEBUG] c.c.q.m.BootStrap           - - qq.meishi.wsapi.secretKey: NDA2ZTkwOTExZjlkZDY3ZTIxMTU1OTY0NmVlYzVmY2Q=
2012-06-26 11:01:04,687 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.1.handler: com.chinarewards.qqgbvpn.main.protocol.handler.SearchCommandHandler
2012-06-26 11:01:04,687 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.1.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.SearchBodyMessageCodec
2012-06-26 11:01:04,687 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.2.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.SearchBodyMessageResponseCodec
2012-06-26 11:01:04,687 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.3.handler: com.chinarewards.qqgbvpn.main.protocol.handler.ValidateCommandHandler
2012-06-26 11:01:04,687 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.3.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.ValidateBodyMessageCodec
2012-06-26 11:01:04,687 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.4.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.ValidateBodyMessageResponseCodec
2012-06-26 11:01:04,687 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.5.handler: com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler
2012-06-26 11:01:04,687 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.5.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageCodec
2012-06-26 11:01:04,702 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.6.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageResponseCodec
2012-06-26 11:01:04,702 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.7.handler: com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler
2012-06-26 11:01:04,702 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.7.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageCodec
2012-06-26 11:01:04,702 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.8.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageResponseCodec
2012-06-26 11:01:04,702 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.9.handler: com.chinarewards.qqgbvpn.main.protocol.handler.BindCommandHandler
2012-06-26 11:01:04,702 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.9.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageCodec
2012-06-26 11:01:04,702 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.10.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageResponseCodec
2012-06-26 11:01:04,702 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.11.handler: com.chinarewards.qqgbvpn.main.protocol.handler.ValidationCallbackHandler
2012-06-26 11:01:04,702 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.11.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.ValidationCallbackCodec
2012-06-26 11:01:04,702 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.12.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.ValidationCallbackResponseCodec
2012-06-26 11:01:04,702 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.13.handler: com.chinarewards.qqgbvpn.main.protocol.handler.FirmwareUpgradeRequestCommandHandler
2012-06-26 11:01:04,702 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.13.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.FirmwareRequestMessageCodec
2012-06-26 11:01:04,702 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.14.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.FirmwareResponseMessageCodec
2012-06-26 11:01:04,702 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.15.handler: com.chinarewards.qqgbvpn.main.protocol.handler.GetFirmwareFragmentHandler
2012-06-26 11:01:04,702 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.15.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.GetFirmwareFragmentRequestMessageCodec
2012-06-26 11:01:04,702 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.16.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.GetFirmwareFragmentResponseMessageCodec
2012-06-26 11:01:04,702 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.17.handler: com.chinarewards.qqgbvpn.main.protocol.handler.FirmwareUpDoneHandler
2012-06-26 11:01:04,702 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.17.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.FirmwareUpDoneRequestCodec
2012-06-26 11:01:04,702 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.18.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.FirmwareUpDoneResponseCodec
2012-06-26 11:01:04,702 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.19.handler: com.chinarewards.qqgbvpn.main.protocol.handler.HuaxiaSearchCommandHandler
2012-06-26 11:01:04,702 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.19.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.HuaxiaSearchBodyMessageCodec
2012-06-26 11:01:04,702 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.20.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.HuaxiaSearchBodyMessageResponseCodec
2012-06-26 11:01:04,702 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.21.handler: com.chinarewards.qqgbvpn.main.protocol.handler.HuaxiaConfirmCommandHandler
2012-06-26 11:01:04,702 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.21.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.HuaxiaConfirmBodyMessageCodec
2012-06-26 11:01:04,702 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.22.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.HuaxiaConfirmBodyMessageResponseCodec
2012-06-26 11:01:04,702 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.23.handler: com.chinarewards.qqgbvpn.main.protocol.handler.HuaxiaAckCommandHandler
2012-06-26 11:01:04,702 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.23.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.HuaxiaAckBodyMessageCodec
2012-06-26 11:01:04,702 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.24.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.HuaxiaAckBodyMessageResponseCodec
2012-06-26 11:01:04,702 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.25.handler: com.chinarewards.qqgbvpn.main.protocol.handler.PosEchoCommandHandler
2012-06-26 11:01:04,702 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.25.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.PosEchoCommandRequestMessageCodec
2012-06-26 11:01:04,702 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.26.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.PosEchoCommandResponseMessageCodec
2012-06-26 11:01:04,702 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.27.handler: com.chinarewards.qqgbvpn.main.protocol.handler.ValidateCommandHandler2
2012-06-26 11:01:04,702 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.27.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.ValidateBodyMessageCodec2
2012-06-26 11:01:04,702 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.28.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.ValidateBodyMessageResponseCodec2
2012-06-26 11:01:04,702 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.101.handler: com.chinarewards.qqgbvpn.main.protocol.handler.QQMeishiCommandHandler
2012-06-26 11:01:04,702 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.101.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.QQMeishiBodyMessageCodec
2012-06-26 11:01:04,702 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.102.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.QQMeishiBodyMessageResponseCodec
2012-06-26 11:01:04,702 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.201.handler: com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler
2012-06-26 11:01:04,702 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.201.codec: com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftMessageCodec
2012-06-26 11:01:04,702 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.202.codec: com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftResponseMessageCodec
2012-06-26 11:01:04,702 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.110.handler: com.chinarewards.timeserver.main.protocol.handler.TimeServerHandler
2012-06-26 11:01:04,702 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.110.codec: com.chinarewards.timeserver.main.protocol.socket.mina.codec.TimeServerMessageCodec
2012-06-26 11:01:04,702 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.111.codec: com.chinarewards.timeserver.main.protocol.socket.mina.codec.TimeServerMessageResponseCodec
2012-06-26 11:01:04,702 [main            ] [DEBUG] c.c.q.m.BootStrap           - - qq.vip.adidas.des.secretkey: qqadidas
2012-06-26 11:01:04,702 [main            ] [INFO ] c.c.q.m.BootStrap           - Bootstrapping...
2012-06-26 11:01:04,702 [main            ] [INFO ] c.c.q.m.BootStrap           - Initializing dependency injection environment...
2012-06-26 11:01:04,733 [main            ] [INFO ] c.c.q.m.BootStrap           - Creating Guice injector. If it is stucked, there is a chance the database is down.
2012-06-26 11:01:04,874 [main            ] [DEBUG] .q.m.p.ServiceHandlerModule - Finished configuration
2012-06-26 11:01:04,874 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.SearchCommandHandler to Guice
2012-06-26 11:01:04,874 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.QQMeishiCommandHandler to Guice
2012-06-26 11:01:04,874 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.ValidateCommandHandler to Guice
2012-06-26 11:01:04,874 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler to Guice
2012-06-26 11:01:04,874 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler to Guice
2012-06-26 11:01:04,874 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler to Guice
2012-06-26 11:01:04,874 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.timeserver.main.protocol.handler.TimeServerHandler to Guice
2012-06-26 11:01:04,874 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.BindCommandHandler to Guice
2012-06-26 11:01:04,874 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.ValidationCallbackHandler to Guice
2012-06-26 11:01:04,874 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.FirmwareUpgradeRequestCommandHandler to Guice
2012-06-26 11:01:04,874 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.GetFirmwareFragmentHandler to Guice
2012-06-26 11:01:04,874 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.FirmwareUpDoneHandler to Guice
2012-06-26 11:01:04,874 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.HuaxiaSearchCommandHandler to Guice
2012-06-26 11:01:04,874 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.HuaxiaConfirmCommandHandler to Guice
2012-06-26 11:01:04,889 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.HuaxiaAckCommandHandler to Guice
2012-06-26 11:01:04,889 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.PosEchoCommandHandler to Guice
2012-06-26 11:01:04,889 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.ValidateCommandHandler2 to Guice
2012-06-26 11:01:04,889 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Configuration completed
2012-06-26 11:01:05,217 [main            ] [INFO ] c.c.q.m.BootStrap           - Bootstrapping completed
2012-06-26 11:01:05,217 [main            ] [DEBUG] dule$ServiceMappingProvider - Returning ServiceMapping
2012-06-26 11:01:05,217 [main            ] [DEBUG] $$EnhancerByGuice$$97046352 - ServiceHandlerObjectFactory is com.chinarewards.qqgbvpn.main.protocol.guice.GuiceServiceHandlerObjectFactory@2bd3a
2012-06-26 11:01:06,543 [main            ] [DEBUG] c.c.q.m.PosServer           - idleTime=20
2012-06-26 11:01:06,668 [main            ] [DEBUG] c.c.q.m.PosServer           -  monitor port =9999
2012-06-26 11:01:06,684 [main            ] [DEBUG] c.c.q.m.PosServer           -  JMXServiceURL =service:jmx:rmi:///jndi/rmi://localhost:9999/jmxrmi
2012-06-26 11:01:06,699 [main            ] [INFO ] c.c.q.m.PosServer           - Client idle timeout set to 20 seconds
2012-06-26 11:01:06,715 [main            ] [DEBUG] c.c.q.m.PosServer           - config server.session.timeout_check_interval=10
2012-06-26 11:01:06,715 [main            ] [INFO ] c.c.q.m.PosServer           - Server running, listening on 1234
2012-06-26 11:01:06,715 [main            ] [INFO ] c.c.q.m.r.RMIRegistry       - Start listener rmi server, port=9999
2012-06-26 11:01:07,667 [main            ] [INFO ] c.c.q.m.r.RMIRegistry       - no existing RMI registry found on port 9999, creating...
2012-06-26 11:01:07,667 [main            ] [INFO ] c.c.q.m.r.RMIRegistry       - RMI server create success.
2012-06-26 11:01:15,530 [NioProcessor-2  ] [INFO ] c.c.q.m.p.f.LoggingFilter   - incoming connection from remote address: 127.0.0.1:2518, Mina session ID: 1
2012-06-26 11:01:15,530 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - Currently managed session count: 1
2012-06-26 11:01:15,530 [NioProcessor-2  ] [INFO ] o.a.m.f.l.LoggingFilter     - CREATED
2012-06-26 11:01:15,530 [NioProcessor-2  ] [INFO ] o.a.m.f.l.LoggingFilter     - OPENED
2012-06-26 11:01:15,530 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2518, Mina session ID 1, identified POS ID null
2012-06-26 11:01:15,530 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 11:01:15,561 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=32 cap=2048: 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20...]
2012-06-26 11:01:15,561 [NioProcessor-2  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 1
2012-06-26 11:01:15,561 [NioProcessor-2  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 11:01:15,561 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 11:01:15,561 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 1
2012-06-26 11:01:15,561 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =32
2012-06-26 11:01:15,561 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 11:01:15,561 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 32, current position: 0
2012-06-26 11:01:15,561 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 11:01:15,561 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}
2012-06-26 11:01:15,561 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 16
2012-06-26 11:01:15,561 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=16, in.remaining=16
2012-06-26 11:01:15,561 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 11:01:15,561 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 5
2012-06-26 11:01:15,561 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 5: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageCodec@91a4fb
2012-06-26 11:01:15,561 [NioProcessor-2  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - init request message decode
2012-06-26 11:01:15,561 [NioProcessor-2  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - in.remaining()=16
2012-06-26 11:01:15,561 [NioProcessor-2  ] [TRACE] .m.p.s.m.c.InitMessageCodec - InitRequestMessage: [cmdId=5, posId=pos-0002]
2012-06-26 11:01:15,561 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 11:01:15,561 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 11:01:15,561 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 11:01:15,561 [NioProcessor-2  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 11:01:15,561 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 11:01:15,561 [NioProcessor-2  ] [DEBUG] p.f.SessionKeyMessageFilter - Mina session ID 1: created session key 80ac330c32da450fba28df9683599a2f
2012-06-26 11:01:15,561 [NioProcessor-2  ] [DEBUG] p.f.SessionKeyMessageFilter - creating session for mina session ID 1 using session ID 80ac330c32da450fba28df9683599a2f
2012-06-26 11:01:15,561 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 11:01:15,561 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 11:01:15,561 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 11:01:15,561 [NioProcessor-2  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2518, Mina session ID 1, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 11:01:15,561 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 11:01:15,561 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 11:01:15,561 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 11:01:15,561 [NioProcessor-2  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 11:01:15,561 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 11:01:15,561 [pool-4-thread-1 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 11:01:15,608 [pool-4-thread-1 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 11:01:15,608 [pool-4-thread-1 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@10275fa obtained for command ID 5
2012-06-26 11:01:15,608 [pool-4-thread-1 ] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 5 is com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@10275fa
2012-06-26 11:01:15,608 [pool-4-thread-1 ] [DEBUG] .q.m.p.h.InitCommandHandler - InitCommandHandler======execute==bodyMessage=:  [cmdId=5, posId=pos-0002]
2012-06-26 11:01:15,608 [pool-4-thread-1 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - InitResponse() invoke
2012-06-26 11:01:15,608 [pool-4-thread-1 ] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:ALLOWED
2012-06-26 11:01:15,608 [pool-4-thread-1 ] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId AND p.ostatus = :ostatus
2012-06-26 11:01:15,795 [pool-4-thread-1 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - POS ID:pos-0002, init challenge saved - [98, 90, 107, 79, 106, 84, 107, 73]
2012-06-26 11:01:15,998 [pool-4-thread-1 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 11:01:16,029 [pool-4-thread-1 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 11:01:16,029 [pool-4-thread-1 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 11:01:16,029 [pool-4-thread-1 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 11:01:16,029 [pool-4-thread-1 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 1
2012-06-26 11:01:16,029 [pool-4-thread-1 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (6)
2012-06-26 11:01:16,029 [pool-4-thread-1 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageResponseCodec@168afdd
2012-06-26 11:01:16,029 [pool-4-thread-1 ] [DEBUG] .c.InitMessageResponseCodec - init response message encode
2012-06-26 11:01:16,029 [pool-4-thread-1 ] [TRACE] .c.InitMessageResponseCodec - InitResponseMessage: [cmdId=6, result=0, challenge=[98, 90, 107, 79, 106, 84, 107, 73]]
2012-06-26 11:01:16,029 [pool-4-thread-1 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0x5c93
2012-06-26 11:01:16,029 [pool-4-thread-1 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 11:01:16,029 [pool-4-thread-1 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 5C 93 00 00 00 1E ..........\.....
00000010 00 00 00 06 00 00 62 5A 6B 4F 6A 54 6B 49       ......bZkOjTkI

2012-06-26 11:01:16,029 [pool-4-thread-1 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 11:01:16,045 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 11:01:16,045 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 11:01:16,045 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 1: not mark to return session ID to client
2012-06-26 11:01:16,045 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 11:01:16,045 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 11:01:16,045 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 11:01:16,247 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2518, Mina session ID 1, identified POS ID pos-0002
2012-06-26 11:01:16,247 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 8C 06 00 00 00 30 ...............0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 C0 BB 21 05 FA 7E CA F2 4D F4 C3 41 0C 5A 6A FF ..!..~..M..A.Zj.

2012-06-26 11:01:16,247 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=48 cap=2048: 00 00 00 01 00 00 00 00 00 00 8C 06 00 00 00 30...]
2012-06-26 11:01:16,247 [NioProcessor-2  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 1
2012-06-26 11:01:16,247 [NioProcessor-2  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 11:01:16,247 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 11:01:16,247 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 1
2012-06-26 11:01:16,247 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =48
2012-06-26 11:01:16,247 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 8C 06 00 00 00 30 ...............0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 C0 BB 21 05 FA 7E CA F2 4D F4 C3 41 0C 5A 6A FF ..!..~..M..A.Zj.

2012-06-26 11:01:16,247 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 48, current position: 0
2012-06-26 11:01:16,247 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 11:01:16,247 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x8c06} messageSize:{0x30} sessionKey:{null}
2012-06-26 11:01:16,247 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 32
2012-06-26 11:01:16,247 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=32, in.remaining=32
2012-06-26 11:01:16,247 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 11:01:16,247 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 7
2012-06-26 11:01:16,247 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 7: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageCodec@fbbbc
2012-06-26 11:01:16,247 [NioProcessor-2  ] [DEBUG] m.p.s.m.c.LoginMessageCodec - login/bind message decode
2012-06-26 11:01:16,247 [NioProcessor-2  ] [TRACE] m.p.s.m.c.LoginMessageCodec - LoginRequestMessage: [cmdId=7, posId=pos-0002, challengeResponse=[-64, -69, 33, 5, -6, 126, -54, -14, 77, -12, -61, 65, 12, 90, 106, -1]]
2012-06-26 11:01:16,247 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 11:01:16,247 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x8c06} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[-64, -69, 33, 5, -6, 126, -54, -14, 77, -12, -61, 65, 12, 90, 106, -1]]
2012-06-26 11:01:16,263 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 11:01:16,263 [NioProcessor-2  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 11:01:16,263 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 11:01:16,263 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 11:01:16,263 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 11:01:16,263 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 11:01:16,263 [NioProcessor-2  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2518, Mina session ID 1, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x8c06} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[-64, -69, 33, 5, -6, 126, -54, -14, 77, -12, -61, 65, 12, 90, 106, -1]]
2012-06-26 11:01:16,263 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 11:01:16,263 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 11:01:16,263 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 11:01:16,263 [NioProcessor-2  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 11:01:16,263 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 11:01:16,263 [pool-4-thread-2 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 11:01:16,263 [pool-4-thread-2 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 11:01:16,263 [pool-4-thread-2 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@aa559d obtained for command ID 7
2012-06-26 11:01:16,263 [pool-4-thread-2 ] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 7 is com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@aa559d
2012-06-26 11:01:16,263 [pool-4-thread-2 ] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==bodyMessage=: [cmdId=7, posId=pos-0002, challengeResponse=[-64, -69, 33, 5, -6, 126, -54, -14, 77, -12, -61, 65, 12, 90, 106, -1]]
2012-06-26 11:01:16,263 [pool-4-thread-2 ] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:null
2012-06-26 11:01:16,263 [pool-4-thread-2 ] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId
2012-06-26 11:01:16,263 [pool-4-thread-2 ] [TRACE] .q.m.l.l.i.LoginManagerImpl - Loaded from db: pos.posId:pos-0002, pos.secret:000001, oldChallenge:[98, 90, 107, 79, 106, 84, 107, 73]
2012-06-26 11:01:16,263 [pool-4-thread-2 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - disableChallengeCheck =0
2012-06-26 11:01:16,263 [pool-4-thread-2 ] [TRACE] c.c.q.m.l.c.ChallengeUtil   - checking challenge:response:[-64, -69, 33, 5, -6, 126, -54, -14, 77, -12, -61, 65, 12, 90, 106, -1], posKey:000001, random:[98, 90, 107, 79, 106, 84, 107, 73]
2012-06-26 11:01:16,497 [pool-4-thread-2 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - new challenge for POS (POS ID): [50, 74, 75, 54, 57, 57, 75, 81]
2012-06-26 11:01:16,497 [pool-4-thread-2 ] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==serverKey=:JXTPOS
2012-06-26 11:01:16,669 [pool-4-thread-2 ] [DEBUG] ThreadSafeClientConnManager - Get connection: HttpRoute[{}->http://localhost:7070], timeout = 0
2012-06-26 11:01:16,669 [pool-4-thread-2 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - [HttpRoute[{}->http://localhost:7070]] total kept alive: 0, total issued: 0, total allocated: 0 out of 20
2012-06-26 11:01:16,669 [pool-4-thread-2 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - No free connections [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 11:01:16,669 [pool-4-thread-2 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Available capacity: 2 out of 2 [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 11:01:16,669 [pool-4-thread-2 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Creating new connection [HttpRoute[{}->http://localhost:7070]]
2012-06-26 11:01:16,700 [pool-4-thread-2 ] [DEBUG] ultClientConnectionOperator - Connecting to localhost:7070
2012-06-26 11:01:16,762 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:01:16,762 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:01:16,762 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 11:01:16,762 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 11:01:16,762 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:01:17,745 [pool-4-thread-2 ] [DEBUG] i.c.DefaultClientConnection - Connection closed
2012-06-26 11:01:17,745 [pool-4-thread-2 ] [DEBUG] i.c.DefaultClientConnection - Connection shut down
2012-06-26 11:01:17,745 [pool-4-thread-2 ] [DEBUG] ThreadSafeClientConnManager - Released connection is not reusable.
2012-06-26 11:01:17,745 [pool-4-thread-2 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Releasing connection [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 11:01:17,745 [pool-4-thread-2 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Notifying no-one, there are no waiting threads
2012-06-26 11:01:17,745 [pool-4-thread-2 ] [ERROR] q.m.p.h.LoginCommandHandler - initGrouponCache fail:com.chinarewards.qqgbvpn.qqapi.exception.ParseXMLException: com.chinarewards.qqgbvpn.qqapi.exception.SendPostTimeOutException: org.apache.http.conn.HttpHostConnectException: Connection to http://localhost:7070 refused
2012-06-26 11:01:17,776 [pool-4-thread-2 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 11:01:17,792 [pool-4-thread-2 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 11:01:17,792 [pool-4-thread-2 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 11:01:17,792 [pool-4-thread-2 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 11:01:17,792 [pool-4-thread-2 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 1
2012-06-26 11:01:17,792 [pool-4-thread-2 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (8)
2012-06-26 11:01:17,792 [pool-4-thread-2 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageResponseCodec@1fef80a
2012-06-26 11:01:17,792 [pool-4-thread-2 ] [DEBUG] c.LoginMessageResponseCodec - login/bind message encode
2012-06-26 11:01:17,792 [pool-4-thread-2 ] [TRACE] c.LoginMessageResponseCodec - LoginResponseMessage: [cmdId=8, result=0, challenge=[50, 74, 75, 54, 57, 57, 75, 81]]
2012-06-26 11:01:17,792 [pool-4-thread-2 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0xfdcd
2012-06-26 11:01:17,792 [pool-4-thread-2 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 11:01:17,792 [pool-4-thread-2 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 FD CD 00 00 00 1E ................
00000010 00 00 00 08 00 00 32 4A 4B 36 39 39 4B 51       ......2JK699KQ

2012-06-26 11:01:17,792 [pool-4-thread-2 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 11:01:17,792 [Finalizer       ] [DEBUG] ThreadSafeClientConnManager - Shutting down
2012-06-26 11:01:17,792 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 11:01:17,792 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 11:01:17,792 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 1: not mark to return session ID to client
2012-06-26 11:01:17,792 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 11:01:17,792 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 11:01:17,792 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 11:01:17,792 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2518, Mina session ID 1, identified POS ID pos-0002
2012-06-26 11:01:17,792 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 28 of 28 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 65 68 00 00 00 1C ..........eh....
00000010 00 00 00 C9 00 06 31 32 33 34 35 36             ......123456

2012-06-26 11:01:17,792 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=28 cap=1024: 00 00 00 10 00 00 00 00 00 00 65 68 00 00 00 1C...]
2012-06-26 11:01:17,792 [NioProcessor-2  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 1
2012-06-26 11:01:17,792 [NioProcessor-2  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 11:01:17,792 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 11:01:17,792 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 1
2012-06-26 11:01:17,792 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =28
2012-06-26 11:01:17,792 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 28 of 28 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 65 68 00 00 00 1C ..........eh....
00000010 00 00 00 C9 00 06 31 32 33 34 35 36             ......123456

2012-06-26 11:01:17,792 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 28, current position: 0
2012-06-26 11:01:17,792 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 11:01:17,792 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0x6568} messageSize:{0x1c} sessionKey:{null}
2012-06-26 11:01:17,792 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 12
2012-06-26 11:01:17,792 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=12, in.remaining=12
2012-06-26 11:01:17,792 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 11:01:17,792 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 201
2012-06-26 11:01:17,792 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 201: com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftMessageCodec@cb6a34
2012-06-26 11:01:17,792 [NioProcessor-2  ] [DEBUG] m.c.ReceiveGiftMessageCodec - receive gift request message decode
2012-06-26 11:01:17,792 [NioProcessor-2  ] [DEBUG] m.c.ReceiveGiftMessageCodec - in.remaining()=12
2012-06-26 11:01:17,792 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 11:01:17,792 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0x6568} messageSize:{0x1c} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@1eb8f71
2012-06-26 11:01:17,792 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 11:01:17,792 [NioProcessor-2  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 11:01:17,792 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 11:01:17,792 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 11:01:17,792 [NioProcessor-2  ] [DEBUG] c.c.q.m.p.f.LoginFilter     - isLogin=true
2012-06-26 11:01:17,792 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 11:01:17,792 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 11:01:17,792 [NioProcessor-2  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2518, Mina session ID 1, identified POS ID pos-0002, message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0x6568} messageSize:{0x1c} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@1eb8f71
2012-06-26 11:01:17,792 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 11:01:17,792 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 11:01:17,792 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 11:01:17,792 [NioProcessor-2  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 11:01:17,792 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 11:01:17,792 [pool-4-thread-3 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 11:01:17,792 [pool-4-thread-3 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 11:01:17,792 [pool-4-thread-3 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@37504d obtained for command ID 201
2012-06-26 11:01:17,792 [pool-4-thread-3 ] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 201 is com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@37504d
2012-06-26 11:01:17,792 [pool-4-thread-3 ] [DEBUG] h.ReceiveGiftCommandHandler - ReceiveGiftHandler======execute==bodyMessage=: com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@1eb8f71
2012-06-26 11:01:17,808 [pool-4-thread-3 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 11:01:17,808 [pool-4-thread-3 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 11:01:17,808 [pool-4-thread-3 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 11:01:17,808 [pool-4-thread-3 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 11:01:17,808 [pool-4-thread-3 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 1
2012-06-26 11:01:17,808 [pool-4-thread-3 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (202)
2012-06-26 11:01:17,808 [pool-4-thread-3 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftResponseMessageCodec@1e940a6
2012-06-26 11:01:17,808 [pool-4-thread-3 ] [DEBUG] iveGiftResponseMessageCodec - receive gift response message encode
2012-06-26 11:01:17,808 [pool-4-thread-3 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0xb575
2012-06-26 11:01:17,808 [pool-4-thread-3 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 11:01:17,808 [pool-4-thread-3 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 69 of 69 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 B5 75 00 00 00 45 ...........u...E
00000010 00 00 00 CA 00 00 00 02 07 DC 06 1A 0B 01 11 03 ................
00000020 18 01 E0 00 08 C1 EC C8 A1 C0 F1 C6 B7 00 16 31 ...............1
00000030 32 33 34 35 36 0A CE DE D0 A7 0A B0 B4 4F 4B BC 23456........OK.
00000040 FC B7 B5 BB D8                                  .....

2012-06-26 11:01:17,808 [pool-4-thread-3 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 11:01:17,808 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 11:01:17,808 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 11:01:17,808 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 1: not mark to return session ID to client
2012-06-26 11:01:17,808 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 11:01:17,808 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 11:01:17,808 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 11:01:17,839 [NioProcessor-2  ] [INFO ] o.a.m.f.l.LoggingFilter     - CLOSED
2012-06-26 11:01:17,839 [NioProcessor-2  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 11:01:18,026 [NioProcessor-3  ] [INFO ] c.c.q.m.p.f.LoggingFilter   - incoming connection from remote address: 127.0.0.1:2520, Mina session ID: 2
2012-06-26 11:01:18,026 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - Currently managed session count: 1
2012-06-26 11:01:18,026 [NioProcessor-3  ] [INFO ] o.a.m.f.l.LoggingFilter     - CREATED
2012-06-26 11:01:18,026 [NioProcessor-3  ] [INFO ] o.a.m.f.l.LoggingFilter     - OPENED
2012-06-26 11:01:18,166 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2520, Mina session ID 2, identified POS ID null
2012-06-26 11:01:18,166 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 11:01:18,166 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=32 cap=2048: 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20...]
2012-06-26 11:01:18,166 [NioProcessor-3  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 2
2012-06-26 11:01:18,166 [NioProcessor-3  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 11:01:18,166 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 11:01:18,166 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 2
2012-06-26 11:01:18,166 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =32
2012-06-26 11:01:18,166 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 11:01:18,166 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 32, current position: 0
2012-06-26 11:01:18,166 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 11:01:18,166 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}
2012-06-26 11:01:18,166 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 16
2012-06-26 11:01:18,166 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=16, in.remaining=16
2012-06-26 11:01:18,166 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 11:01:18,166 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 5
2012-06-26 11:01:18,166 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 5: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageCodec@4e50ee
2012-06-26 11:01:18,166 [NioProcessor-3  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - init request message decode
2012-06-26 11:01:18,166 [NioProcessor-3  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - in.remaining()=16
2012-06-26 11:01:18,166 [NioProcessor-3  ] [TRACE] .m.p.s.m.c.InitMessageCodec - InitRequestMessage: [cmdId=5, posId=pos-0002]
2012-06-26 11:01:18,166 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 11:01:18,166 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 11:01:18,166 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 11:01:18,166 [NioProcessor-3  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 11:01:18,166 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 11:01:18,166 [NioProcessor-3  ] [DEBUG] p.f.SessionKeyMessageFilter - Mina session ID 2: created session key 7c041c80c79c4b23a76a8367b30992d5
2012-06-26 11:01:18,166 [NioProcessor-3  ] [DEBUG] p.f.SessionKeyMessageFilter - creating session for mina session ID 2 using session ID 7c041c80c79c4b23a76a8367b30992d5
2012-06-26 11:01:18,166 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 11:01:18,166 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 11:01:18,166 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 11:01:18,166 [NioProcessor-3  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2520, Mina session ID 2, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 11:01:18,166 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 11:01:18,166 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 11:01:18,166 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 11:01:18,166 [NioProcessor-3  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 11:01:18,166 [pool-4-thread-4 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 11:01:18,166 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 11:01:18,166 [pool-4-thread-4 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 11:01:18,166 [pool-4-thread-4 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@2c5444 obtained for command ID 5
2012-06-26 11:01:18,166 [pool-4-thread-4 ] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 5 is com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@2c5444
2012-06-26 11:01:18,166 [pool-4-thread-4 ] [DEBUG] .q.m.p.h.InitCommandHandler - InitCommandHandler======execute==bodyMessage=:  [cmdId=5, posId=pos-0002]
2012-06-26 11:01:18,166 [pool-4-thread-4 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - InitResponse() invoke
2012-06-26 11:01:18,166 [pool-4-thread-4 ] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:ALLOWED
2012-06-26 11:01:18,166 [pool-4-thread-4 ] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId AND p.ostatus = :ostatus
2012-06-26 11:01:18,182 [pool-4-thread-4 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - POS ID:pos-0002, init challenge saved - [79, 69, 121, 79, 103, 82, 118, 118]
2012-06-26 11:01:18,182 [pool-4-thread-4 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 11:01:18,198 [pool-4-thread-4 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 11:01:18,198 [pool-4-thread-4 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 11:01:18,198 [pool-4-thread-4 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 11:01:18,198 [pool-4-thread-4 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 2
2012-06-26 11:01:18,198 [pool-4-thread-4 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (6)
2012-06-26 11:01:18,198 [pool-4-thread-4 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageResponseCodec@1ffbcb
2012-06-26 11:01:18,198 [pool-4-thread-4 ] [DEBUG] .c.InitMessageResponseCodec - init response message encode
2012-06-26 11:01:18,198 [pool-4-thread-4 ] [TRACE] .c.InitMessageResponseCodec - InitResponseMessage: [cmdId=6, result=0, challenge=[79, 69, 121, 79, 103, 82, 118, 118]]
2012-06-26 11:01:18,198 [pool-4-thread-4 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0x597d
2012-06-26 11:01:18,198 [pool-4-thread-4 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 11:01:18,198 [pool-4-thread-4 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 59 7D 00 00 00 1E ..........Y}....
00000010 00 00 00 06 00 00 4F 45 79 4F 67 52 76 76       ......OEyOgRvv

2012-06-26 11:01:18,198 [pool-4-thread-4 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 11:01:18,198 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 11:01:18,198 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 11:01:18,198 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 2: not mark to return session ID to client
2012-06-26 11:01:18,198 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 11:01:18,198 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 11:01:18,198 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 11:01:18,198 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2520, Mina session ID 2, identified POS ID pos-0002
2012-06-26 11:01:18,198 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 7A FE 00 00 00 30 ..........z....0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 72 8E D4 50 06 C8 5B BF 3C 0F 74 12 64 16 83 2B r..P..[.<.t.d..+

2012-06-26 11:01:18,198 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=48 cap=2048: 00 00 00 01 00 00 00 00 00 00 7A FE 00 00 00 30...]
2012-06-26 11:01:18,198 [NioProcessor-3  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 2
2012-06-26 11:01:18,198 [NioProcessor-3  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 11:01:18,198 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 11:01:18,198 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 2
2012-06-26 11:01:18,198 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =48
2012-06-26 11:01:18,198 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 7A FE 00 00 00 30 ..........z....0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 72 8E D4 50 06 C8 5B BF 3C 0F 74 12 64 16 83 2B r..P..[.<.t.d..+

2012-06-26 11:01:18,198 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 48, current position: 0
2012-06-26 11:01:18,198 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 11:01:18,198 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x7afe} messageSize:{0x30} sessionKey:{null}
2012-06-26 11:01:18,198 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 32
2012-06-26 11:01:18,198 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=32, in.remaining=32
2012-06-26 11:01:18,198 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 11:01:18,198 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 7
2012-06-26 11:01:18,198 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 7: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageCodec@1a847df
2012-06-26 11:01:18,198 [NioProcessor-3  ] [DEBUG] m.p.s.m.c.LoginMessageCodec - login/bind message decode
2012-06-26 11:01:18,198 [NioProcessor-3  ] [TRACE] m.p.s.m.c.LoginMessageCodec - LoginRequestMessage: [cmdId=7, posId=pos-0002, challengeResponse=[114, -114, -44, 80, 6, -56, 91, -65, 60, 15, 116, 18, 100, 22, -125, 43]]
2012-06-26 11:01:18,198 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 11:01:18,198 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x7afe} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[114, -114, -44, 80, 6, -56, 91, -65, 60, 15, 116, 18, 100, 22, -125, 43]]
2012-06-26 11:01:18,198 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 11:01:18,198 [NioProcessor-3  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 11:01:18,198 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 11:01:18,198 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 11:01:18,198 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 11:01:18,198 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 11:01:18,198 [NioProcessor-3  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2520, Mina session ID 2, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x7afe} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[114, -114, -44, 80, 6, -56, 91, -65, 60, 15, 116, 18, 100, 22, -125, 43]]
2012-06-26 11:01:18,198 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 11:01:18,198 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 11:01:18,198 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 11:01:18,198 [NioProcessor-3  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 11:01:18,198 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 11:01:18,198 [pool-4-thread-5 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 11:01:18,213 [pool-4-thread-5 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 11:01:18,213 [pool-4-thread-5 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@1734b48 obtained for command ID 7
2012-06-26 11:01:18,213 [pool-4-thread-5 ] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 7 is com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@1734b48
2012-06-26 11:01:18,213 [pool-4-thread-5 ] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==bodyMessage=: [cmdId=7, posId=pos-0002, challengeResponse=[114, -114, -44, 80, 6, -56, 91, -65, 60, 15, 116, 18, 100, 22, -125, 43]]
2012-06-26 11:01:18,213 [pool-4-thread-5 ] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:null
2012-06-26 11:01:18,213 [pool-4-thread-5 ] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId
2012-06-26 11:01:18,213 [pool-4-thread-5 ] [TRACE] .q.m.l.l.i.LoginManagerImpl - Loaded from db: pos.posId:pos-0002, pos.secret:000001, oldChallenge:[79, 69, 121, 79, 103, 82, 118, 118]
2012-06-26 11:01:18,213 [pool-4-thread-5 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - disableChallengeCheck =0
2012-06-26 11:01:18,213 [pool-4-thread-5 ] [TRACE] c.c.q.m.l.c.ChallengeUtil   - checking challenge:response:[114, -114, -44, 80, 6, -56, 91, -65, 60, 15, 116, 18, 100, 22, -125, 43], posKey:000001, random:[79, 69, 121, 79, 103, 82, 118, 118]
2012-06-26 11:01:18,213 [pool-4-thread-5 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - new challenge for POS (POS ID): [109, 74, 108, 87, 57, 69, 72, 120]
2012-06-26 11:01:18,213 [pool-4-thread-5 ] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==serverKey=:JXTPOS
2012-06-26 11:01:18,213 [pool-4-thread-5 ] [DEBUG] ThreadSafeClientConnManager - Get connection: HttpRoute[{}->http://localhost:7070], timeout = 0
2012-06-26 11:01:18,213 [pool-4-thread-5 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - [HttpRoute[{}->http://localhost:7070]] total kept alive: 0, total issued: 0, total allocated: 0 out of 20
2012-06-26 11:01:18,213 [pool-4-thread-5 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - No free connections [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 11:01:18,213 [pool-4-thread-5 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Available capacity: 2 out of 2 [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 11:01:18,213 [pool-4-thread-5 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Creating new connection [HttpRoute[{}->http://localhost:7070]]
2012-06-26 11:01:18,213 [pool-4-thread-5 ] [DEBUG] ultClientConnectionOperator - Connecting to localhost:7070
2012-06-26 11:01:19,492 [pool-4-thread-5 ] [DEBUG] i.c.DefaultClientConnection - Connection closed
2012-06-26 11:01:19,492 [pool-4-thread-5 ] [DEBUG] i.c.DefaultClientConnection - Connection shut down
2012-06-26 11:01:19,492 [pool-4-thread-5 ] [DEBUG] ThreadSafeClientConnManager - Released connection is not reusable.
2012-06-26 11:01:19,492 [pool-4-thread-5 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Releasing connection [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 11:01:19,492 [pool-4-thread-5 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Notifying no-one, there are no waiting threads
2012-06-26 11:01:19,492 [pool-4-thread-5 ] [ERROR] q.m.p.h.LoginCommandHandler - initGrouponCache fail:com.chinarewards.qqgbvpn.qqapi.exception.ParseXMLException: com.chinarewards.qqgbvpn.qqapi.exception.SendPostTimeOutException: org.apache.http.conn.HttpHostConnectException: Connection to http://localhost:7070 refused
2012-06-26 11:01:19,524 [pool-4-thread-5 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 11:01:19,524 [pool-4-thread-5 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 11:01:19,524 [pool-4-thread-5 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 11:01:19,524 [pool-4-thread-5 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 11:01:19,524 [pool-4-thread-5 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 2
2012-06-26 11:01:19,524 [pool-4-thread-5 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (8)
2012-06-26 11:01:19,524 [pool-4-thread-5 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageResponseCodec@13a3d36
2012-06-26 11:01:19,524 [pool-4-thread-5 ] [DEBUG] c.LoginMessageResponseCodec - login/bind message encode
2012-06-26 11:01:19,524 [pool-4-thread-5 ] [TRACE] c.LoginMessageResponseCodec - LoginResponseMessage: [cmdId=8, result=0, challenge=[109, 74, 108, 87, 57, 69, 72, 120]]
2012-06-26 11:01:19,524 [pool-4-thread-5 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0xa479
2012-06-26 11:01:19,524 [pool-4-thread-5 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 11:01:19,524 [pool-4-thread-5 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 A4 79 00 00 00 1E ...........y....
00000010 00 00 00 08 00 00 6D 4A 6C 57 39 45 48 78       ......mJlW9EHx

2012-06-26 11:01:19,524 [pool-4-thread-5 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 11:01:19,524 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 11:01:19,524 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 11:01:19,524 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 2: not mark to return session ID to client
2012-06-26 11:01:19,524 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 11:01:19,524 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 11:01:19,524 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 11:01:19,524 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2520, Mina session ID 2, identified POS ID pos-0002
2012-06-26 11:01:19,524 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 33 of 33 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 D8 04 00 00 00 21 ...............!
00000010 00 00 00 C9 00 0B 31 31 31 31 31 31 31 31 31 31 ......1111111111
00000020 31                                              1

2012-06-26 11:01:19,524 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=33 cap=1024: 00 00 00 10 00 00 00 00 00 00 D8 04 00 00 00 21...]
2012-06-26 11:01:19,524 [NioProcessor-3  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 2
2012-06-26 11:01:19,524 [NioProcessor-3  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 11:01:19,524 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 11:01:19,524 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 2
2012-06-26 11:01:19,524 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =33
2012-06-26 11:01:19,524 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 33 of 33 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 D8 04 00 00 00 21 ...............!
00000010 00 00 00 C9 00 0B 31 31 31 31 31 31 31 31 31 31 ......1111111111
00000020 31                                              1

2012-06-26 11:01:19,524 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 33, current position: 0
2012-06-26 11:01:19,524 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 11:01:19,524 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd804} messageSize:{0x21} sessionKey:{null}
2012-06-26 11:01:19,524 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 17
2012-06-26 11:01:19,524 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=17, in.remaining=17
2012-06-26 11:01:19,524 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 11:01:19,524 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 201
2012-06-26 11:01:19,524 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 201: com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftMessageCodec@88b858
2012-06-26 11:01:19,524 [NioProcessor-3  ] [DEBUG] m.c.ReceiveGiftMessageCodec - receive gift request message decode
2012-06-26 11:01:19,524 [NioProcessor-3  ] [DEBUG] m.c.ReceiveGiftMessageCodec - in.remaining()=17
2012-06-26 11:01:19,524 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 11:01:19,524 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd804} messageSize:{0x21} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@1fecaeb
2012-06-26 11:01:19,524 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 11:01:19,524 [NioProcessor-3  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 11:01:19,524 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 11:01:19,524 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 11:01:19,524 [NioProcessor-3  ] [DEBUG] c.c.q.m.p.f.LoginFilter     - isLogin=true
2012-06-26 11:01:19,524 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 11:01:19,524 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 11:01:19,524 [NioProcessor-3  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2520, Mina session ID 2, identified POS ID pos-0002, message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd804} messageSize:{0x21} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@1fecaeb
2012-06-26 11:01:19,524 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 11:01:19,524 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 11:01:19,524 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 11:01:19,524 [NioProcessor-3  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 11:01:19,524 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 11:01:19,524 [pool-4-thread-6 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 11:01:19,524 [pool-4-thread-6 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 11:01:19,524 [pool-4-thread-6 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@1371566 obtained for command ID 201
2012-06-26 11:01:19,524 [pool-4-thread-6 ] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 201 is com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@1371566
2012-06-26 11:01:19,524 [pool-4-thread-6 ] [DEBUG] h.ReceiveGiftCommandHandler - ReceiveGiftHandler======execute==bodyMessage=: com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@1fecaeb
2012-06-26 11:01:19,539 [Finalizer       ] [DEBUG] ThreadSafeClientConnManager - Shutting down
2012-06-26 11:01:19,539 [pool-4-thread-6 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 11:01:19,539 [pool-4-thread-6 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 11:01:19,539 [pool-4-thread-6 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 11:01:19,539 [pool-4-thread-6 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 11:01:19,539 [pool-4-thread-6 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 2
2012-06-26 11:01:19,539 [pool-4-thread-6 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (202)
2012-06-26 11:01:19,539 [pool-4-thread-6 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftResponseMessageCodec@17aa961
2012-06-26 11:01:19,539 [pool-4-thread-6 ] [DEBUG] iveGiftResponseMessageCodec - receive gift response message encode
2012-06-26 11:01:19,539 [pool-4-thread-6 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0x9ae3
2012-06-26 11:01:19,539 [pool-4-thread-6 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 11:01:19,539 [pool-4-thread-6 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 55 of 55 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 9A E3 00 00 00 37 ...............7
00000010 00 00 00 CA 00 00 00 00 07 DC 06 1A 0B 01 13 02 ................
00000020 0C 01 E0 00 08 C1 EC C8 A1 C0 F1 C6 B7 00 08 BD ................
00000030 BB D2 D7 B3 C9 B9 A6                            .......

2012-06-26 11:01:19,539 [pool-4-thread-6 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 11:01:19,539 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 11:01:19,539 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 11:01:19,539 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 2: not mark to return session ID to client
2012-06-26 11:01:19,539 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 11:01:19,539 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 11:01:19,539 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 11:01:19,539 [NioProcessor-3  ] [INFO ] o.a.m.f.l.LoggingFilter     - CLOSED
2012-06-26 11:01:19,539 [NioProcessor-3  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 11:01:19,727 [NioProcessor-1  ] [INFO ] c.c.q.m.p.f.LoggingFilter   - incoming connection from remote address: 127.0.0.1:2522, Mina session ID: 3
2012-06-26 11:01:19,727 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - Currently managed session count: 1
2012-06-26 11:01:19,727 [NioProcessor-1  ] [INFO ] o.a.m.f.l.LoggingFilter     - CREATED
2012-06-26 11:01:19,727 [NioProcessor-1  ] [INFO ] o.a.m.f.l.LoggingFilter     - OPENED
2012-06-26 11:01:19,727 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2522, Mina session ID 3, identified POS ID null
2012-06-26 11:01:19,727 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 11:01:19,727 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=32 cap=2048: 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20...]
2012-06-26 11:01:19,727 [NioProcessor-1  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 3
2012-06-26 11:01:19,727 [NioProcessor-1  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 11:01:19,727 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 11:01:19,727 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 3
2012-06-26 11:01:19,727 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =32
2012-06-26 11:01:19,727 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 11:01:19,727 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 32, current position: 0
2012-06-26 11:01:19,727 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 11:01:19,727 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}
2012-06-26 11:01:19,727 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 16
2012-06-26 11:01:19,727 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=16, in.remaining=16
2012-06-26 11:01:19,727 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 11:01:19,727 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 5
2012-06-26 11:01:19,727 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 5: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageCodec@1dd1752
2012-06-26 11:01:19,727 [NioProcessor-1  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - init request message decode
2012-06-26 11:01:19,727 [NioProcessor-1  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - in.remaining()=16
2012-06-26 11:01:19,727 [NioProcessor-1  ] [TRACE] .m.p.s.m.c.InitMessageCodec - InitRequestMessage: [cmdId=5, posId=pos-0002]
2012-06-26 11:01:19,727 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 11:01:19,727 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 11:01:19,727 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 11:01:19,727 [NioProcessor-1  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 11:01:19,727 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 11:01:19,727 [NioProcessor-1  ] [DEBUG] p.f.SessionKeyMessageFilter - Mina session ID 3: created session key c58c1bebf6e742f382d4d5b30f9cce44
2012-06-26 11:01:19,727 [NioProcessor-1  ] [DEBUG] p.f.SessionKeyMessageFilter - creating session for mina session ID 3 using session ID c58c1bebf6e742f382d4d5b30f9cce44
2012-06-26 11:01:19,727 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 11:01:19,727 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 11:01:19,727 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 11:01:19,727 [NioProcessor-1  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2522, Mina session ID 3, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 11:01:19,727 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 11:01:19,727 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 11:01:19,727 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 11:01:19,727 [NioProcessor-1  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 11:01:19,727 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 11:01:19,727 [pool-4-thread-7 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 11:01:19,727 [pool-4-thread-7 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 11:01:19,727 [pool-4-thread-7 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@1ae717f obtained for command ID 5
2012-06-26 11:01:19,727 [pool-4-thread-7 ] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 5 is com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@1ae717f
2012-06-26 11:01:19,727 [pool-4-thread-7 ] [DEBUG] .q.m.p.h.InitCommandHandler - InitCommandHandler======execute==bodyMessage=:  [cmdId=5, posId=pos-0002]
2012-06-26 11:01:19,727 [pool-4-thread-7 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - InitResponse() invoke
2012-06-26 11:01:19,727 [pool-4-thread-7 ] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:ALLOWED
2012-06-26 11:01:19,727 [pool-4-thread-7 ] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId AND p.ostatus = :ostatus
2012-06-26 11:01:19,727 [pool-4-thread-7 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - POS ID:pos-0002, init challenge saved - [72, 56, 76, 75, 76, 97, 100, 50]
2012-06-26 11:01:19,727 [pool-4-thread-7 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 11:01:19,758 [pool-4-thread-7 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 11:01:19,758 [pool-4-thread-7 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 11:01:19,758 [pool-4-thread-7 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 11:01:19,758 [pool-4-thread-7 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 3
2012-06-26 11:01:19,758 [pool-4-thread-7 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (6)
2012-06-26 11:01:19,758 [pool-4-thread-7 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageResponseCodec@134ae32
2012-06-26 11:01:19,758 [pool-4-thread-7 ] [DEBUG] .c.InitMessageResponseCodec - init response message encode
2012-06-26 11:01:19,758 [pool-4-thread-7 ] [TRACE] .c.InitMessageResponseCodec - InitResponseMessage: [cmdId=6, result=0, challenge=[72, 56, 76, 75, 76, 97, 100, 50]]
2012-06-26 11:01:19,758 [pool-4-thread-7 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0xbac3
2012-06-26 11:01:19,758 [pool-4-thread-7 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 11:01:19,758 [pool-4-thread-7 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BA C3 00 00 00 1E ................
00000010 00 00 00 06 00 00 48 38 4C 4B 4C 61 64 32       ......H8LKLad2

2012-06-26 11:01:19,758 [pool-4-thread-7 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 11:01:19,758 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 11:01:19,758 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 11:01:19,758 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 3: not mark to return session ID to client
2012-06-26 11:01:19,758 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 11:01:19,758 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 11:01:19,758 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 11:01:19,758 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2522, Mina session ID 3, identified POS ID pos-0002
2012-06-26 11:01:19,758 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 DB 23 00 00 00 30 ...........#...0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 AF FA B5 18 7C 16 13 A5 05 FA A3 83 0E 86 33 D2 ....|.........3.

2012-06-26 11:01:19,758 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=48 cap=2048: 00 00 00 01 00 00 00 00 00 00 DB 23 00 00 00 30...]
2012-06-26 11:01:19,758 [NioProcessor-1  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 3
2012-06-26 11:01:19,758 [NioProcessor-1  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 11:01:19,758 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 11:01:19,758 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 3
2012-06-26 11:01:19,758 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =48
2012-06-26 11:01:19,758 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 DB 23 00 00 00 30 ...........#...0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 AF FA B5 18 7C 16 13 A5 05 FA A3 83 0E 86 33 D2 ....|.........3.

2012-06-26 11:01:19,758 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 48, current position: 0
2012-06-26 11:01:19,758 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 11:01:19,758 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xdb23} messageSize:{0x30} sessionKey:{null}
2012-06-26 11:01:19,758 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 32
2012-06-26 11:01:19,758 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=32, in.remaining=32
2012-06-26 11:01:19,758 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 11:01:19,758 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 7
2012-06-26 11:01:19,758 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 7: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageCodec@e7fd03
2012-06-26 11:01:19,758 [NioProcessor-1  ] [DEBUG] m.p.s.m.c.LoginMessageCodec - login/bind message decode
2012-06-26 11:01:19,758 [NioProcessor-1  ] [TRACE] m.p.s.m.c.LoginMessageCodec - LoginRequestMessage: [cmdId=7, posId=pos-0002, challengeResponse=[-81, -6, -75, 24, 124, 22, 19, -91, 5, -6, -93, -125, 14, -122, 51, -46]]
2012-06-26 11:01:19,758 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 11:01:19,758 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xdb23} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[-81, -6, -75, 24, 124, 22, 19, -91, 5, -6, -93, -125, 14, -122, 51, -46]]
2012-06-26 11:01:19,758 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 11:01:19,758 [NioProcessor-1  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 11:01:19,758 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 11:01:19,758 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 11:01:19,758 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 11:01:19,758 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 11:01:19,758 [NioProcessor-1  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2522, Mina session ID 3, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xdb23} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[-81, -6, -75, 24, 124, 22, 19, -91, 5, -6, -93, -125, 14, -122, 51, -46]]
2012-06-26 11:01:19,758 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 11:01:19,758 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 11:01:19,758 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 11:01:19,758 [NioProcessor-1  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 11:01:19,758 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 11:01:19,758 [pool-4-thread-8 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 11:01:19,758 [pool-4-thread-8 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 11:01:19,758 [pool-4-thread-8 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@31d5e2 obtained for command ID 7
2012-06-26 11:01:19,758 [pool-4-thread-8 ] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 7 is com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@31d5e2
2012-06-26 11:01:19,758 [pool-4-thread-8 ] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==bodyMessage=: [cmdId=7, posId=pos-0002, challengeResponse=[-81, -6, -75, 24, 124, 22, 19, -91, 5, -6, -93, -125, 14, -122, 51, -46]]
2012-06-26 11:01:19,758 [pool-4-thread-8 ] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:null
2012-06-26 11:01:19,758 [pool-4-thread-8 ] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId
2012-06-26 11:01:19,758 [pool-4-thread-8 ] [TRACE] .q.m.l.l.i.LoginManagerImpl - Loaded from db: pos.posId:pos-0002, pos.secret:000001, oldChallenge:[72, 56, 76, 75, 76, 97, 100, 50]
2012-06-26 11:01:19,758 [pool-4-thread-8 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - disableChallengeCheck =0
2012-06-26 11:01:19,758 [pool-4-thread-8 ] [TRACE] c.c.q.m.l.c.ChallengeUtil   - checking challenge:response:[-81, -6, -75, 24, 124, 22, 19, -91, 5, -6, -93, -125, 14, -122, 51, -46], posKey:000001, random:[72, 56, 76, 75, 76, 97, 100, 50]
2012-06-26 11:01:19,758 [pool-4-thread-8 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - new challenge for POS (POS ID): [55, 84, 80, 69, 53, 104, 121, 68]
2012-06-26 11:01:19,773 [pool-4-thread-8 ] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==serverKey=:JXTPOS
2012-06-26 11:01:19,773 [pool-4-thread-8 ] [DEBUG] ThreadSafeClientConnManager - Get connection: HttpRoute[{}->http://localhost:7070], timeout = 0
2012-06-26 11:01:19,773 [pool-4-thread-8 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - [HttpRoute[{}->http://localhost:7070]] total kept alive: 0, total issued: 0, total allocated: 0 out of 20
2012-06-26 11:01:19,773 [pool-4-thread-8 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - No free connections [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 11:01:19,773 [pool-4-thread-8 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Available capacity: 2 out of 2 [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 11:01:19,773 [pool-4-thread-8 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Creating new connection [HttpRoute[{}->http://localhost:7070]]
2012-06-26 11:01:19,773 [pool-4-thread-8 ] [DEBUG] ultClientConnectionOperator - Connecting to localhost:7070
2012-06-26 11:01:20,803 [pool-4-thread-8 ] [DEBUG] i.c.DefaultClientConnection - Connection closed
2012-06-26 11:01:20,803 [pool-4-thread-8 ] [DEBUG] i.c.DefaultClientConnection - Connection shut down
2012-06-26 11:01:20,803 [pool-4-thread-8 ] [DEBUG] ThreadSafeClientConnManager - Released connection is not reusable.
2012-06-26 11:01:20,803 [pool-4-thread-8 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Releasing connection [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 11:01:20,803 [pool-4-thread-8 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Notifying no-one, there are no waiting threads
2012-06-26 11:01:20,803 [pool-4-thread-8 ] [ERROR] q.m.p.h.LoginCommandHandler - initGrouponCache fail:com.chinarewards.qqgbvpn.qqapi.exception.ParseXMLException: com.chinarewards.qqgbvpn.qqapi.exception.SendPostTimeOutException: org.apache.http.conn.HttpHostConnectException: Connection to http://localhost:7070 refused
2012-06-26 11:01:20,803 [pool-4-thread-8 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 11:01:20,834 [pool-4-thread-8 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 11:01:20,834 [pool-4-thread-8 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 11:01:20,834 [pool-4-thread-8 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 11:01:20,834 [pool-4-thread-8 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 3
2012-06-26 11:01:20,834 [pool-4-thread-8 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (8)
2012-06-26 11:01:20,834 [pool-4-thread-8 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageResponseCodec@6aa95b
2012-06-26 11:01:20,834 [pool-4-thread-8 ] [DEBUG] c.LoginMessageResponseCodec - login/bind message encode
2012-06-26 11:01:20,834 [pool-4-thread-8 ] [TRACE] c.LoginMessageResponseCodec - LoginResponseMessage: [cmdId=8, result=0, challenge=[55, 84, 80, 69, 53, 104, 121, 68]]
2012-06-26 11:01:20,834 [pool-4-thread-8 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0xc992
2012-06-26 11:01:20,834 [pool-4-thread-8 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 11:01:20,834 [pool-4-thread-8 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 C9 92 00 00 00 1E ................
00000010 00 00 00 08 00 00 37 54 50 45 35 68 79 44       ......7TPE5hyD

2012-06-26 11:01:20,834 [pool-4-thread-8 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 11:01:20,834 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 11:01:20,834 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 11:01:20,834 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 3: not mark to return session ID to client
2012-06-26 11:01:20,834 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 11:01:20,834 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 11:01:20,834 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 11:01:20,834 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2522, Mina session ID 3, identified POS ID pos-0002
2012-06-26 11:01:20,834 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 33 of 33 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 D1 FF 00 00 00 21 ...............!
00000010 00 00 00 C9 00 0B 32 32 32 32 32 32 32 32 32 32 ......2222222222
00000020 32                                              2

2012-06-26 11:01:20,834 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=33 cap=1024: 00 00 00 10 00 00 00 00 00 00 D1 FF 00 00 00 21...]
2012-06-26 11:01:20,834 [NioProcessor-1  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 3
2012-06-26 11:01:20,834 [NioProcessor-1  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 11:01:20,834 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 11:01:20,834 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 3
2012-06-26 11:01:20,834 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =33
2012-06-26 11:01:20,834 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 33 of 33 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 D1 FF 00 00 00 21 ...............!
00000010 00 00 00 C9 00 0B 32 32 32 32 32 32 32 32 32 32 ......2222222222
00000020 32                                              2

2012-06-26 11:01:20,834 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 33, current position: 0
2012-06-26 11:01:20,834 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 11:01:20,834 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd1ff} messageSize:{0x21} sessionKey:{null}
2012-06-26 11:01:20,834 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 17
2012-06-26 11:01:20,834 [Finalizer       ] [DEBUG] ThreadSafeClientConnManager - Shutting down
2012-06-26 11:01:20,834 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=17, in.remaining=17
2012-06-26 11:01:20,834 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 11:01:20,834 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 201
2012-06-26 11:01:20,834 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 201: com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftMessageCodec@1204425
2012-06-26 11:01:20,834 [NioProcessor-1  ] [DEBUG] m.c.ReceiveGiftMessageCodec - receive gift request message decode
2012-06-26 11:01:20,834 [NioProcessor-1  ] [DEBUG] m.c.ReceiveGiftMessageCodec - in.remaining()=17
2012-06-26 11:01:20,834 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 11:01:20,834 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd1ff} messageSize:{0x21} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@15a142f
2012-06-26 11:01:20,834 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 11:01:20,834 [NioProcessor-1  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 11:01:20,834 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 11:01:20,834 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 11:01:20,834 [NioProcessor-1  ] [DEBUG] c.c.q.m.p.f.LoginFilter     - isLogin=true
2012-06-26 11:01:20,834 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 11:01:20,834 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 11:01:20,834 [NioProcessor-1  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2522, Mina session ID 3, identified POS ID pos-0002, message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd1ff} messageSize:{0x21} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@15a142f
2012-06-26 11:01:20,834 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 11:01:20,834 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 11:01:20,834 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 11:01:20,834 [NioProcessor-1  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 11:01:20,834 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 11:01:20,834 [pool-4-thread-9 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 11:01:20,834 [pool-4-thread-9 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 11:01:20,834 [pool-4-thread-9 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@148083b obtained for command ID 201
2012-06-26 11:01:20,834 [pool-4-thread-9 ] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 201 is com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@148083b
2012-06-26 11:01:20,834 [pool-4-thread-9 ] [DEBUG] h.ReceiveGiftCommandHandler - ReceiveGiftHandler======execute==bodyMessage=: com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@15a142f
2012-06-26 11:01:20,834 [pool-4-thread-9 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 11:01:20,834 [pool-4-thread-9 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 11:01:20,834 [pool-4-thread-9 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 11:01:20,834 [pool-4-thread-9 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 11:01:20,834 [pool-4-thread-9 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 3
2012-06-26 11:01:20,834 [pool-4-thread-9 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (202)
2012-06-26 11:01:20,834 [pool-4-thread-9 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftResponseMessageCodec@eb2133
2012-06-26 11:01:20,834 [pool-4-thread-9 ] [DEBUG] iveGiftResponseMessageCodec - receive gift response message encode
2012-06-26 11:01:20,834 [pool-4-thread-9 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0x9c8
2012-06-26 11:01:20,834 [pool-4-thread-9 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 11:01:20,834 [pool-4-thread-9 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 55 of 55 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 09 C8 00 00 00 37 ...............7
00000010 00 00 00 CA 00 00 00 01 07 DC 06 1A 0B 01 14 03 ................
00000020 42 01 E0 00 08 C1 EC C8 A1 C0 F1 C6 B7 00 08 D2 B...............
00000030 D1 C1 EC C8 A1 B9 FD                            .......

2012-06-26 11:01:20,834 [pool-4-thread-9 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 11:01:20,834 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 11:01:20,834 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 11:01:20,834 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 3: not mark to return session ID to client
2012-06-26 11:01:20,834 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 11:01:20,834 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 11:01:20,834 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 11:01:20,834 [NioProcessor-1  ] [INFO ] o.a.m.f.l.LoggingFilter     - CLOSED
2012-06-26 11:01:20,834 [NioProcessor-1  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 11:01:26,030 [NioProcessor-2  ] [INFO ] c.c.q.m.p.f.LoggingFilter   - incoming connection from remote address: 127.0.0.1:2526, Mina session ID: 4
2012-06-26 11:01:26,030 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - Currently managed session count: 1
2012-06-26 11:01:26,030 [NioProcessor-2  ] [INFO ] o.a.m.f.l.LoggingFilter     - CREATED
2012-06-26 11:01:26,030 [NioProcessor-2  ] [INFO ] o.a.m.f.l.LoggingFilter     - OPENED
2012-06-26 11:01:26,030 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2526, Mina session ID 4, identified POS ID null
2012-06-26 11:01:26,030 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 11:01:26,030 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=32 cap=2048: 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20...]
2012-06-26 11:01:26,030 [NioProcessor-2  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 4
2012-06-26 11:01:26,030 [NioProcessor-2  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 11:01:26,030 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 11:01:26,030 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 4
2012-06-26 11:01:26,030 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =32
2012-06-26 11:01:26,030 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 11:01:26,045 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 32, current position: 0
2012-06-26 11:01:26,045 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 11:01:26,045 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}
2012-06-26 11:01:26,045 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 16
2012-06-26 11:01:26,045 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=16, in.remaining=16
2012-06-26 11:01:26,045 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 11:01:26,045 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 5
2012-06-26 11:01:26,045 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 5: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageCodec@1332b63
2012-06-26 11:01:26,076 [NioProcessor-2  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - init request message decode
2012-06-26 11:01:26,076 [NioProcessor-2  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - in.remaining()=16
2012-06-26 11:01:26,076 [NioProcessor-2  ] [TRACE] .m.p.s.m.c.InitMessageCodec - InitRequestMessage: [cmdId=5, posId=pos-0002]
2012-06-26 11:01:26,076 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 11:01:26,076 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 11:01:26,076 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 11:01:26,076 [NioProcessor-2  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 11:01:26,076 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 11:01:26,076 [NioProcessor-2  ] [DEBUG] p.f.SessionKeyMessageFilter - Mina session ID 4: created session key 10f1ffeb9c5c47ed9c7abbc4974f32b2
2012-06-26 11:01:26,076 [NioProcessor-2  ] [DEBUG] p.f.SessionKeyMessageFilter - creating session for mina session ID 4 using session ID 10f1ffeb9c5c47ed9c7abbc4974f32b2
2012-06-26 11:01:26,076 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 11:01:26,076 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 11:01:26,076 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 11:01:26,076 [NioProcessor-2  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2526, Mina session ID 4, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 11:01:26,076 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 11:01:26,076 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 11:01:26,076 [pool-4-thread-10] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 11:01:26,076 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 11:01:26,076 [NioProcessor-2  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 11:01:26,076 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 11:01:26,076 [pool-4-thread-10] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 11:01:26,076 [pool-4-thread-10] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@8c39d7 obtained for command ID 5
2012-06-26 11:01:26,076 [pool-4-thread-10] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 5 is com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@8c39d7
2012-06-26 11:01:26,076 [pool-4-thread-10] [DEBUG] .q.m.p.h.InitCommandHandler - InitCommandHandler======execute==bodyMessage=:  [cmdId=5, posId=pos-0002]
2012-06-26 11:01:26,076 [pool-4-thread-10] [DEBUG] .q.m.l.l.i.LoginManagerImpl - InitResponse() invoke
2012-06-26 11:01:26,076 [pool-4-thread-10] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:ALLOWED
2012-06-26 11:01:26,076 [pool-4-thread-10] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId AND p.ostatus = :ostatus
2012-06-26 11:01:26,076 [pool-4-thread-10] [DEBUG] .q.m.l.l.i.LoginManagerImpl - POS ID:pos-0002, init challenge saved - [97, 105, 117, 72, 52, 57, 121, 90]
2012-06-26 11:01:26,076 [pool-4-thread-10] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 11:01:26,076 [pool-4-thread-10] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 11:01:26,076 [pool-4-thread-10] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 11:01:26,076 [pool-4-thread-10] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 11:01:26,076 [pool-4-thread-10] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 4
2012-06-26 11:01:26,076 [pool-4-thread-10] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (6)
2012-06-26 11:01:26,076 [pool-4-thread-10] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageResponseCodec@917cb0
2012-06-26 11:01:26,076 [pool-4-thread-10] [DEBUG] .c.InitMessageResponseCodec - init response message encode
2012-06-26 11:01:26,076 [pool-4-thread-10] [TRACE] .c.InitMessageResponseCodec - InitResponseMessage: [cmdId=6, result=0, challenge=[97, 105, 117, 72, 52, 57, 121, 90]]
2012-06-26 11:01:26,076 [pool-4-thread-10] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0x7b95
2012-06-26 11:01:26,076 [pool-4-thread-10] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 11:01:26,076 [pool-4-thread-10] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 7B 95 00 00 00 1E ..........{.....
00000010 00 00 00 06 00 00 61 69 75 48 34 39 79 5A       ......aiuH49yZ

2012-06-26 11:01:26,076 [pool-4-thread-10] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 11:01:26,076 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 11:01:26,076 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 11:01:26,076 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 4: not mark to return session ID to client
2012-06-26 11:01:26,076 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 11:01:26,076 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 11:01:26,076 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 11:01:26,310 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2526, Mina session ID 4, identified POS ID pos-0002
2012-06-26 11:01:26,310 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 81 46 00 00 00 30 ...........F...0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 2C 01 D3 72 B4 B5 A4 86 33 E7 27 BE 8F 2C F6 FF ,..r....3.'..,..

2012-06-26 11:01:26,310 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=48 cap=2048: 00 00 00 01 00 00 00 00 00 00 81 46 00 00 00 30...]
2012-06-26 11:01:26,310 [NioProcessor-2  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 4
2012-06-26 11:01:26,310 [NioProcessor-2  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 11:01:26,310 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 11:01:26,310 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 4
2012-06-26 11:01:26,310 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =48
2012-06-26 11:01:26,310 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 81 46 00 00 00 30 ...........F...0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 2C 01 D3 72 B4 B5 A4 86 33 E7 27 BE 8F 2C F6 FF ,..r....3.'..,..

2012-06-26 11:01:26,310 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 48, current position: 0
2012-06-26 11:01:26,310 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 11:01:26,310 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x8146} messageSize:{0x30} sessionKey:{null}
2012-06-26 11:01:26,310 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 32
2012-06-26 11:01:26,310 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=32, in.remaining=32
2012-06-26 11:01:26,310 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 11:01:26,310 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 7
2012-06-26 11:01:26,310 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 7: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageCodec@15ede11
2012-06-26 11:01:26,310 [NioProcessor-2  ] [DEBUG] m.p.s.m.c.LoginMessageCodec - login/bind message decode
2012-06-26 11:01:26,310 [NioProcessor-2  ] [TRACE] m.p.s.m.c.LoginMessageCodec - LoginRequestMessage: [cmdId=7, posId=pos-0002, challengeResponse=[44, 1, -45, 114, -76, -75, -92, -122, 51, -25, 39, -66, -113, 44, -10, -1]]
2012-06-26 11:01:26,310 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 11:01:26,310 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x8146} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[44, 1, -45, 114, -76, -75, -92, -122, 51, -25, 39, -66, -113, 44, -10, -1]]
2012-06-26 11:01:26,310 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 11:01:26,310 [NioProcessor-2  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 11:01:26,310 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 11:01:26,310 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 11:01:26,310 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 11:01:26,310 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 11:01:26,310 [NioProcessor-2  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2526, Mina session ID 4, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x8146} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[44, 1, -45, 114, -76, -75, -92, -122, 51, -25, 39, -66, -113, 44, -10, -1]]
2012-06-26 11:01:26,310 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 11:01:26,310 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 11:01:26,310 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 11:01:26,310 [NioProcessor-2  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 11:01:26,310 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 11:01:26,310 [pool-4-thread-11] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 11:01:26,310 [pool-4-thread-11] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 11:01:26,310 [pool-4-thread-11] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@1da366c obtained for command ID 7
2012-06-26 11:01:26,310 [pool-4-thread-11] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 7 is com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@1da366c
2012-06-26 11:01:26,310 [pool-4-thread-11] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==bodyMessage=: [cmdId=7, posId=pos-0002, challengeResponse=[44, 1, -45, 114, -76, -75, -92, -122, 51, -25, 39, -66, -113, 44, -10, -1]]
2012-06-26 11:01:26,310 [pool-4-thread-11] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:null
2012-06-26 11:01:26,310 [pool-4-thread-11] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId
2012-06-26 11:01:26,310 [pool-4-thread-11] [TRACE] .q.m.l.l.i.LoginManagerImpl - Loaded from db: pos.posId:pos-0002, pos.secret:000001, oldChallenge:[97, 105, 117, 72, 52, 57, 121, 90]
2012-06-26 11:01:26,310 [pool-4-thread-11] [DEBUG] .q.m.l.l.i.LoginManagerImpl - disableChallengeCheck =0
2012-06-26 11:01:26,310 [pool-4-thread-11] [TRACE] c.c.q.m.l.c.ChallengeUtil   - checking challenge:response:[44, 1, -45, 114, -76, -75, -92, -122, 51, -25, 39, -66, -113, 44, -10, -1], posKey:000001, random:[97, 105, 117, 72, 52, 57, 121, 90]
2012-06-26 11:01:26,310 [pool-4-thread-11] [DEBUG] .q.m.l.l.i.LoginManagerImpl - new challenge for POS (POS ID): [98, 101, 65, 70, 76, 65, 99, 86]
2012-06-26 11:01:26,310 [pool-4-thread-11] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==serverKey=:JXTPOS
2012-06-26 11:01:26,326 [pool-4-thread-11] [DEBUG] ThreadSafeClientConnManager - Get connection: HttpRoute[{}->http://localhost:7070], timeout = 0
2012-06-26 11:01:26,326 [pool-4-thread-11] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - [HttpRoute[{}->http://localhost:7070]] total kept alive: 0, total issued: 0, total allocated: 0 out of 20
2012-06-26 11:01:26,326 [pool-4-thread-11] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - No free connections [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 11:01:26,326 [pool-4-thread-11] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Available capacity: 2 out of 2 [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 11:01:26,326 [pool-4-thread-11] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Creating new connection [HttpRoute[{}->http://localhost:7070]]
2012-06-26 11:01:26,326 [pool-4-thread-11] [DEBUG] ultClientConnectionOperator - Connecting to localhost:7070
2012-06-26 11:01:26,810 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:01:26,810 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:01:26,810 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=4
2012-06-26 11:01:26,810 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=4
2012-06-26 11:01:26,810 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:01:27,246 [pool-4-thread-11] [DEBUG] i.c.DefaultClientConnection - Connection closed
2012-06-26 11:01:27,246 [pool-4-thread-11] [DEBUG] i.c.DefaultClientConnection - Connection shut down
2012-06-26 11:01:27,246 [pool-4-thread-11] [DEBUG] ThreadSafeClientConnManager - Released connection is not reusable.
2012-06-26 11:01:27,246 [pool-4-thread-11] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Releasing connection [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 11:01:27,246 [pool-4-thread-11] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Notifying no-one, there are no waiting threads
2012-06-26 11:01:27,246 [pool-4-thread-11] [ERROR] q.m.p.h.LoginCommandHandler - initGrouponCache fail:com.chinarewards.qqgbvpn.qqapi.exception.ParseXMLException: com.chinarewards.qqgbvpn.qqapi.exception.SendPostTimeOutException: org.apache.http.conn.HttpHostConnectException: Connection to http://localhost:7070 refused
2012-06-26 11:01:27,278 [pool-4-thread-11] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 11:01:27,278 [pool-4-thread-11] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 11:01:27,278 [pool-4-thread-11] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 11:01:27,278 [pool-4-thread-11] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 11:01:27,278 [pool-4-thread-11] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 4
2012-06-26 11:01:27,278 [pool-4-thread-11] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (8)
2012-06-26 11:01:27,278 [pool-4-thread-11] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageResponseCodec@fc9e7e
2012-06-26 11:01:27,278 [pool-4-thread-11] [DEBUG] c.LoginMessageResponseCodec - login/bind message encode
2012-06-26 11:01:27,278 [pool-4-thread-11] [TRACE] c.LoginMessageResponseCodec - LoginResponseMessage: [cmdId=8, result=0, challenge=[98, 101, 65, 70, 76, 65, 99, 86]]
2012-06-26 11:01:27,278 [pool-4-thread-11] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0xac95
2012-06-26 11:01:27,278 [pool-4-thread-11] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 11:01:27,278 [pool-4-thread-11] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 AC 95 00 00 00 1E ................
00000010 00 00 00 08 00 00 62 65 41 46 4C 41 63 56       ......beAFLAcV

2012-06-26 11:01:27,278 [pool-4-thread-11] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 11:01:27,278 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 11:01:27,278 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 11:01:27,278 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 4: not mark to return session ID to client
2012-06-26 11:01:27,278 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 11:01:27,278 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 11:01:27,278 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 11:01:27,278 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2526, Mina session ID 4, identified POS ID pos-0002
2012-06-26 11:01:27,278 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 28 of 28 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 65 68 00 00 00 1C ..........eh....
00000010 00 00 00 C9 00 06 31 32 33 34 35 36             ......123456

2012-06-26 11:01:27,278 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=28 cap=1024: 00 00 00 10 00 00 00 00 00 00 65 68 00 00 00 1C...]
2012-06-26 11:01:27,278 [NioProcessor-2  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 4
2012-06-26 11:01:27,278 [NioProcessor-2  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 11:01:27,278 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 11:01:27,278 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 4
2012-06-26 11:01:27,278 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =28
2012-06-26 11:01:27,278 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 28 of 28 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 65 68 00 00 00 1C ..........eh....
00000010 00 00 00 C9 00 06 31 32 33 34 35 36             ......123456

2012-06-26 11:01:27,278 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 28, current position: 0
2012-06-26 11:01:27,278 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 11:01:27,278 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0x6568} messageSize:{0x1c} sessionKey:{null}
2012-06-26 11:01:27,278 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 12
2012-06-26 11:01:27,278 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=12, in.remaining=12
2012-06-26 11:01:27,278 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 11:01:27,278 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 201
2012-06-26 11:01:27,278 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 201: com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftMessageCodec@1098594
2012-06-26 11:01:27,278 [NioProcessor-2  ] [DEBUG] m.c.ReceiveGiftMessageCodec - receive gift request message decode
2012-06-26 11:01:27,278 [NioProcessor-2  ] [DEBUG] m.c.ReceiveGiftMessageCodec - in.remaining()=12
2012-06-26 11:01:27,278 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 11:01:27,278 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0x6568} messageSize:{0x1c} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@20ca8b
2012-06-26 11:01:27,278 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 11:01:27,278 [Finalizer       ] [DEBUG] ThreadSafeClientConnManager - Shutting down
2012-06-26 11:01:27,278 [NioProcessor-2  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 11:01:27,278 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 11:01:27,278 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 11:01:27,278 [NioProcessor-2  ] [DEBUG] c.c.q.m.p.f.LoginFilter     - isLogin=true
2012-06-26 11:01:27,278 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 11:01:27,278 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 11:01:27,278 [NioProcessor-2  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2526, Mina session ID 4, identified POS ID pos-0002, message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0x6568} messageSize:{0x1c} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@20ca8b
2012-06-26 11:01:27,278 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 11:01:27,278 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 11:01:27,278 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 11:01:27,278 [NioProcessor-2  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 11:01:27,278 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 11:01:27,278 [pool-4-thread-12] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 11:01:27,278 [pool-4-thread-12] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 11:01:27,278 [pool-4-thread-12] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@165547d obtained for command ID 201
2012-06-26 11:01:27,278 [pool-4-thread-12] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 201 is com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@165547d
2012-06-26 11:01:27,278 [pool-4-thread-12] [DEBUG] h.ReceiveGiftCommandHandler - ReceiveGiftHandler======execute==bodyMessage=: com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@20ca8b
2012-06-26 11:01:27,293 [pool-4-thread-12] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 11:01:27,293 [pool-4-thread-12] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 11:01:27,293 [pool-4-thread-12] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 11:01:27,293 [pool-4-thread-12] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 11:01:27,293 [pool-4-thread-12] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 4
2012-06-26 11:01:27,293 [pool-4-thread-12] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (202)
2012-06-26 11:01:27,293 [pool-4-thread-12] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftResponseMessageCodec@c1e4d5
2012-06-26 11:01:27,293 [pool-4-thread-12] [DEBUG] iveGiftResponseMessageCodec - receive gift response message encode
2012-06-26 11:01:27,293 [pool-4-thread-12] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0xad77
2012-06-26 11:01:27,293 [pool-4-thread-12] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 11:01:27,293 [pool-4-thread-12] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 69 of 69 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 AD 77 00 00 00 45 ...........w...E
00000010 00 00 00 CA 00 00 00 02 07 DC 06 1A 0B 01 1B 01 ................
00000020 16 01 E0 00 08 C1 EC C8 A1 C0 F1 C6 B7 00 16 31 ...............1
00000030 32 33 34 35 36 0A CE DE D0 A7 0A B0 B4 4F 4B BC 23456........OK.
00000040 FC B7 B5 BB D8                                  .....

2012-06-26 11:01:27,293 [pool-4-thread-12] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 11:01:27,293 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 11:01:27,293 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 11:01:27,293 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 4: not mark to return session ID to client
2012-06-26 11:01:27,293 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 11:01:27,293 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 11:01:27,293 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 11:01:27,293 [NioProcessor-2  ] [INFO ] o.a.m.f.l.LoggingFilter     - CLOSED
2012-06-26 11:01:27,293 [NioProcessor-2  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 11:01:27,496 [NioProcessor-3  ] [INFO ] c.c.q.m.p.f.LoggingFilter   - incoming connection from remote address: 127.0.0.1:2528, Mina session ID: 5
2012-06-26 11:01:27,496 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - Currently managed session count: 1
2012-06-26 11:01:27,496 [NioProcessor-3  ] [INFO ] o.a.m.f.l.LoggingFilter     - CREATED
2012-06-26 11:01:27,496 [NioProcessor-3  ] [INFO ] o.a.m.f.l.LoggingFilter     - OPENED
2012-06-26 11:01:27,636 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2528, Mina session ID 5, identified POS ID null
2012-06-26 11:01:27,636 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 11:01:27,636 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=32 cap=2048: 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20...]
2012-06-26 11:01:27,636 [NioProcessor-3  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 5
2012-06-26 11:01:27,636 [NioProcessor-3  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 11:01:27,636 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 11:01:27,636 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 5
2012-06-26 11:01:27,636 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =32
2012-06-26 11:01:27,636 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 11:01:27,636 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 32, current position: 0
2012-06-26 11:01:27,636 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 11:01:27,636 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}
2012-06-26 11:01:27,636 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 16
2012-06-26 11:01:27,636 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=16, in.remaining=16
2012-06-26 11:01:27,636 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 11:01:27,636 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 5
2012-06-26 11:01:27,636 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 5: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageCodec@1959352
2012-06-26 11:01:27,636 [NioProcessor-3  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - init request message decode
2012-06-26 11:01:27,636 [NioProcessor-3  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - in.remaining()=16
2012-06-26 11:01:27,636 [NioProcessor-3  ] [TRACE] .m.p.s.m.c.InitMessageCodec - InitRequestMessage: [cmdId=5, posId=pos-0002]
2012-06-26 11:01:27,636 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 11:01:27,636 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 11:01:27,636 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 11:01:27,636 [NioProcessor-3  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 11:01:27,636 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 11:01:27,636 [NioProcessor-3  ] [DEBUG] p.f.SessionKeyMessageFilter - Mina session ID 5: created session key b2cfba2403f140f580201c69373d0756
2012-06-26 11:01:27,636 [NioProcessor-3  ] [DEBUG] p.f.SessionKeyMessageFilter - creating session for mina session ID 5 using session ID b2cfba2403f140f580201c69373d0756
2012-06-26 11:01:27,636 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 11:01:27,636 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 11:01:27,636 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 11:01:27,636 [NioProcessor-3  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2528, Mina session ID 5, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 11:01:27,636 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 11:01:27,636 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 11:01:27,636 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 11:01:27,636 [NioProcessor-3  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 11:01:27,636 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 11:01:27,636 [pool-4-thread-13] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 11:01:27,652 [pool-4-thread-13] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 11:01:27,652 [pool-4-thread-13] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@1e3e7d2 obtained for command ID 5
2012-06-26 11:01:27,652 [pool-4-thread-13] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 5 is com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@1e3e7d2
2012-06-26 11:01:27,652 [pool-4-thread-13] [DEBUG] .q.m.p.h.InitCommandHandler - InitCommandHandler======execute==bodyMessage=:  [cmdId=5, posId=pos-0002]
2012-06-26 11:01:27,652 [pool-4-thread-13] [DEBUG] .q.m.l.l.i.LoginManagerImpl - InitResponse() invoke
2012-06-26 11:01:27,652 [pool-4-thread-13] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:ALLOWED
2012-06-26 11:01:27,652 [pool-4-thread-13] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId AND p.ostatus = :ostatus
2012-06-26 11:01:27,652 [pool-4-thread-13] [DEBUG] .q.m.l.l.i.LoginManagerImpl - POS ID:pos-0002, init challenge saved - [122, 102, 111, 122, 98, 88, 73, 90]
2012-06-26 11:01:27,652 [pool-4-thread-13] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 11:01:27,668 [pool-4-thread-13] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 11:01:27,668 [pool-4-thread-13] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 11:01:27,668 [pool-4-thread-13] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 11:01:27,668 [pool-4-thread-13] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 5
2012-06-26 11:01:27,668 [pool-4-thread-13] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (6)
2012-06-26 11:01:27,668 [pool-4-thread-13] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageResponseCodec@b173c3
2012-06-26 11:01:27,668 [pool-4-thread-13] [DEBUG] .c.InitMessageResponseCodec - init response message encode
2012-06-26 11:01:27,668 [pool-4-thread-13] [TRACE] .c.InitMessageResponseCodec - InitResponseMessage: [cmdId=6, result=0, challenge=[122, 102, 111, 122, 98, 88, 73, 90]]
2012-06-26 11:01:27,668 [pool-4-thread-13] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0x6a47
2012-06-26 11:01:27,668 [pool-4-thread-13] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 11:01:27,668 [pool-4-thread-13] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 6A 47 00 00 00 1E ..........jG....
00000010 00 00 00 06 00 00 7A 66 6F 7A 62 58 49 5A       ......zfozbXIZ

2012-06-26 11:01:27,668 [pool-4-thread-13] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 11:01:27,668 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 11:01:27,668 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 11:01:27,668 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 5: not mark to return session ID to client
2012-06-26 11:01:27,668 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 11:01:27,668 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 11:01:27,668 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 11:01:27,668 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2528, Mina session ID 5, identified POS ID pos-0002
2012-06-26 11:01:27,668 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 9D 78 00 00 00 30 ...........x...0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 E9 28 EF 8C 09 CD 4D 06 2E 9E D7 85 43 10 A5 92 .(....M.....C...

2012-06-26 11:01:27,668 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=48 cap=2048: 00 00 00 01 00 00 00 00 00 00 9D 78 00 00 00 30...]
2012-06-26 11:01:27,668 [NioProcessor-3  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 5
2012-06-26 11:01:27,668 [NioProcessor-3  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 11:01:27,668 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 11:01:27,668 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 5
2012-06-26 11:01:27,668 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =48
2012-06-26 11:01:27,668 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 9D 78 00 00 00 30 ...........x...0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 E9 28 EF 8C 09 CD 4D 06 2E 9E D7 85 43 10 A5 92 .(....M.....C...

2012-06-26 11:01:27,668 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 48, current position: 0
2012-06-26 11:01:27,668 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 11:01:27,668 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x9d78} messageSize:{0x30} sessionKey:{null}
2012-06-26 11:01:27,668 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 32
2012-06-26 11:01:27,668 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=32, in.remaining=32
2012-06-26 11:01:27,668 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 11:01:27,668 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 7
2012-06-26 11:01:27,668 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 7: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageCodec@7c4768
2012-06-26 11:01:27,668 [NioProcessor-3  ] [DEBUG] m.p.s.m.c.LoginMessageCodec - login/bind message decode
2012-06-26 11:01:27,668 [NioProcessor-3  ] [TRACE] m.p.s.m.c.LoginMessageCodec - LoginRequestMessage: [cmdId=7, posId=pos-0002, challengeResponse=[-23, 40, -17, -116, 9, -51, 77, 6, 46, -98, -41, -123, 67, 16, -91, -110]]
2012-06-26 11:01:27,668 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 11:01:27,668 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x9d78} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[-23, 40, -17, -116, 9, -51, 77, 6, 46, -98, -41, -123, 67, 16, -91, -110]]
2012-06-26 11:01:27,668 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 11:01:27,668 [NioProcessor-3  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 11:01:27,668 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 11:01:27,668 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 11:01:27,668 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 11:01:27,668 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 11:01:27,668 [NioProcessor-3  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2528, Mina session ID 5, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x9d78} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[-23, 40, -17, -116, 9, -51, 77, 6, 46, -98, -41, -123, 67, 16, -91, -110]]
2012-06-26 11:01:27,668 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 11:01:27,668 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 11:01:27,668 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 11:01:27,668 [NioProcessor-3  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 11:01:27,668 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 11:01:27,668 [pool-4-thread-14] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 11:01:27,683 [pool-4-thread-14] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 11:01:27,683 [pool-4-thread-14] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@b53b32 obtained for command ID 7
2012-06-26 11:01:27,683 [pool-4-thread-14] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 7 is com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@b53b32
2012-06-26 11:01:27,683 [pool-4-thread-14] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==bodyMessage=: [cmdId=7, posId=pos-0002, challengeResponse=[-23, 40, -17, -116, 9, -51, 77, 6, 46, -98, -41, -123, 67, 16, -91, -110]]
2012-06-26 11:01:27,683 [pool-4-thread-14] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:null
2012-06-26 11:01:27,683 [pool-4-thread-14] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId
2012-06-26 11:01:27,683 [pool-4-thread-14] [TRACE] .q.m.l.l.i.LoginManagerImpl - Loaded from db: pos.posId:pos-0002, pos.secret:000001, oldChallenge:[122, 102, 111, 122, 98, 88, 73, 90]
2012-06-26 11:01:27,683 [pool-4-thread-14] [DEBUG] .q.m.l.l.i.LoginManagerImpl - disableChallengeCheck =0
2012-06-26 11:01:27,683 [pool-4-thread-14] [TRACE] c.c.q.m.l.c.ChallengeUtil   - checking challenge:response:[-23, 40, -17, -116, 9, -51, 77, 6, 46, -98, -41, -123, 67, 16, -91, -110], posKey:000001, random:[122, 102, 111, 122, 98, 88, 73, 90]
2012-06-26 11:01:27,683 [pool-4-thread-14] [DEBUG] .q.m.l.l.i.LoginManagerImpl - new challenge for POS (POS ID): [115, 114, 53, 71, 100, 87, 98, 120]
2012-06-26 11:01:27,683 [pool-4-thread-14] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==serverKey=:JXTPOS
2012-06-26 11:01:27,683 [pool-4-thread-14] [DEBUG] ThreadSafeClientConnManager - Get connection: HttpRoute[{}->http://localhost:7070], timeout = 0
2012-06-26 11:01:27,683 [pool-4-thread-14] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - [HttpRoute[{}->http://localhost:7070]] total kept alive: 0, total issued: 0, total allocated: 0 out of 20
2012-06-26 11:01:27,683 [pool-4-thread-14] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - No free connections [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 11:01:27,683 [pool-4-thread-14] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Available capacity: 2 out of 2 [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 11:01:27,683 [pool-4-thread-14] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Creating new connection [HttpRoute[{}->http://localhost:7070]]
2012-06-26 11:01:27,683 [pool-4-thread-14] [DEBUG] ultClientConnectionOperator - Connecting to localhost:7070
2012-06-26 11:01:28,775 [pool-4-thread-14] [DEBUG] i.c.DefaultClientConnection - Connection closed
2012-06-26 11:01:28,775 [pool-4-thread-14] [DEBUG] i.c.DefaultClientConnection - Connection shut down
2012-06-26 11:01:28,775 [pool-4-thread-14] [DEBUG] ThreadSafeClientConnManager - Released connection is not reusable.
2012-06-26 11:01:28,775 [pool-4-thread-14] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Releasing connection [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 11:01:28,775 [pool-4-thread-14] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Notifying no-one, there are no waiting threads
2012-06-26 11:01:28,775 [pool-4-thread-14] [ERROR] q.m.p.h.LoginCommandHandler - initGrouponCache fail:com.chinarewards.qqgbvpn.qqapi.exception.ParseXMLException: com.chinarewards.qqgbvpn.qqapi.exception.SendPostTimeOutException: org.apache.http.conn.HttpHostConnectException: Connection to http://localhost:7070 refused
2012-06-26 11:01:28,807 [pool-4-thread-14] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 11:01:28,822 [pool-4-thread-14] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 11:01:28,822 [pool-4-thread-14] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 11:01:28,822 [pool-4-thread-14] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 11:01:28,822 [pool-4-thread-14] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 5
2012-06-26 11:01:28,822 [pool-4-thread-14] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (8)
2012-06-26 11:01:28,822 [pool-4-thread-14] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageResponseCodec@e8eeca
2012-06-26 11:01:28,822 [pool-4-thread-14] [DEBUG] c.LoginMessageResponseCodec - login/bind message encode
2012-06-26 11:01:28,822 [pool-4-thread-14] [TRACE] c.LoginMessageResponseCodec - LoginResponseMessage: [cmdId=8, result=0, challenge=[115, 114, 53, 71, 100, 87, 98, 120]]
2012-06-26 11:01:28,822 [pool-4-thread-14] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0x904f
2012-06-26 11:01:28,822 [pool-4-thread-14] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 11:01:28,822 [pool-4-thread-14] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 90 4F 00 00 00 1E ...........O....
00000010 00 00 00 08 00 00 73 72 35 47 64 57 62 78       ......sr5GdWbx

2012-06-26 11:01:28,822 [pool-4-thread-14] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 11:01:28,822 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 11:01:28,822 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 11:01:28,822 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 5: not mark to return session ID to client
2012-06-26 11:01:28,822 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 11:01:28,822 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 11:01:28,822 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 11:01:28,822 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2528, Mina session ID 5, identified POS ID pos-0002
2012-06-26 11:01:28,822 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 33 of 33 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 D8 04 00 00 00 21 ...............!
00000010 00 00 00 C9 00 0B 31 31 31 31 31 31 31 31 31 31 ......1111111111
00000020 31                                              1

2012-06-26 11:01:28,822 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=33 cap=1024: 00 00 00 10 00 00 00 00 00 00 D8 04 00 00 00 21...]
2012-06-26 11:01:28,822 [NioProcessor-3  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 5
2012-06-26 11:01:28,822 [NioProcessor-3  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 11:01:28,822 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 11:01:28,822 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 5
2012-06-26 11:01:28,822 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =33
2012-06-26 11:01:28,822 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 33 of 33 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 D8 04 00 00 00 21 ...............!
00000010 00 00 00 C9 00 0B 31 31 31 31 31 31 31 31 31 31 ......1111111111
00000020 31                                              1

2012-06-26 11:01:28,822 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 33, current position: 0
2012-06-26 11:01:28,822 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 11:01:28,822 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd804} messageSize:{0x21} sessionKey:{null}
2012-06-26 11:01:28,822 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 17
2012-06-26 11:01:28,822 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=17, in.remaining=17
2012-06-26 11:01:28,822 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 11:01:28,822 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 201
2012-06-26 11:01:28,822 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 201: com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftMessageCodec@9549af
2012-06-26 11:01:28,822 [NioProcessor-3  ] [DEBUG] m.c.ReceiveGiftMessageCodec - receive gift request message decode
2012-06-26 11:01:28,822 [NioProcessor-3  ] [DEBUG] m.c.ReceiveGiftMessageCodec - in.remaining()=17
2012-06-26 11:01:28,822 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 11:01:28,822 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd804} messageSize:{0x21} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@118a770
2012-06-26 11:01:28,822 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 11:01:28,822 [NioProcessor-3  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 11:01:28,822 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 11:01:28,822 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 11:01:28,822 [NioProcessor-3  ] [DEBUG] c.c.q.m.p.f.LoginFilter     - isLogin=true
2012-06-26 11:01:28,822 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 11:01:28,822 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 11:01:28,822 [NioProcessor-3  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2528, Mina session ID 5, identified POS ID pos-0002, message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd804} messageSize:{0x21} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@118a770
2012-06-26 11:01:28,822 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 11:01:28,822 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 11:01:28,822 [pool-4-thread-15] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 11:01:28,822 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 11:01:28,822 [NioProcessor-3  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 11:01:28,822 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 11:01:28,822 [pool-4-thread-15] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 11:01:28,838 [pool-4-thread-15] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@13e9934 obtained for command ID 201
2012-06-26 11:01:28,838 [Finalizer       ] [DEBUG] ThreadSafeClientConnManager - Shutting down
2012-06-26 11:01:28,838 [pool-4-thread-15] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 201 is com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@13e9934
2012-06-26 11:01:28,838 [pool-4-thread-15] [DEBUG] h.ReceiveGiftCommandHandler - ReceiveGiftHandler======execute==bodyMessage=: com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@118a770
2012-06-26 11:01:28,838 [pool-4-thread-15] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 11:01:28,838 [pool-4-thread-15] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 11:01:28,838 [pool-4-thread-15] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 11:01:28,838 [pool-4-thread-15] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 11:01:28,838 [pool-4-thread-15] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 5
2012-06-26 11:01:28,838 [pool-4-thread-15] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (202)
2012-06-26 11:01:28,838 [pool-4-thread-15] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftResponseMessageCodec@3cfaab
2012-06-26 11:01:28,838 [pool-4-thread-15] [DEBUG] iveGiftResponseMessageCodec - receive gift response message encode
2012-06-26 11:01:28,838 [pool-4-thread-15] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0x57e2
2012-06-26 11:01:28,838 [pool-4-thread-15] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 11:01:28,838 [pool-4-thread-15] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 55 of 55 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 57 E2 00 00 00 37 ..........W....7
00000010 00 00 00 CA 00 00 00 00 07 DC 06 1A 0B 01 1C 03 ................
00000020 46 01 E0 00 08 C1 EC C8 A1 C0 F1 C6 B7 00 08 BD F...............
00000030 BB D2 D7 B3 C9 B9 A6                            .......

2012-06-26 11:01:28,838 [pool-4-thread-15] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 11:01:28,838 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 11:01:28,838 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 11:01:28,838 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 5: not mark to return session ID to client
2012-06-26 11:01:28,838 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 11:01:28,838 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 11:01:28,838 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 11:01:28,838 [NioProcessor-3  ] [INFO ] o.a.m.f.l.LoggingFilter     - CLOSED
2012-06-26 11:01:28,838 [NioProcessor-3  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 11:01:29,009 [NioProcessor-1  ] [INFO ] c.c.q.m.p.f.LoggingFilter   - incoming connection from remote address: 127.0.0.1:2530, Mina session ID: 6
2012-06-26 11:01:29,009 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - Currently managed session count: 1
2012-06-26 11:01:29,009 [NioProcessor-1  ] [INFO ] o.a.m.f.l.LoggingFilter     - CREATED
2012-06-26 11:01:29,009 [NioProcessor-1  ] [INFO ] o.a.m.f.l.LoggingFilter     - OPENED
2012-06-26 11:01:29,009 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2530, Mina session ID 6, identified POS ID null
2012-06-26 11:01:29,009 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 11:01:29,009 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=32 cap=2048: 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20...]
2012-06-26 11:01:29,009 [NioProcessor-1  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 6
2012-06-26 11:01:29,009 [NioProcessor-1  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 11:01:29,009 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 11:01:29,009 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 6
2012-06-26 11:01:29,009 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =32
2012-06-26 11:01:29,009 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 11:01:29,009 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 32, current position: 0
2012-06-26 11:01:29,009 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 11:01:29,009 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}
2012-06-26 11:01:29,009 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 16
2012-06-26 11:01:29,009 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=16, in.remaining=16
2012-06-26 11:01:29,009 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 11:01:29,009 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 5
2012-06-26 11:01:29,009 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 5: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageCodec@1132e76
2012-06-26 11:01:29,009 [NioProcessor-1  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - init request message decode
2012-06-26 11:01:29,009 [NioProcessor-1  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - in.remaining()=16
2012-06-26 11:01:29,009 [NioProcessor-1  ] [TRACE] .m.p.s.m.c.InitMessageCodec - InitRequestMessage: [cmdId=5, posId=pos-0002]
2012-06-26 11:01:29,009 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 11:01:29,009 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 11:01:29,009 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 11:01:29,009 [NioProcessor-1  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 11:01:29,009 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 11:01:29,009 [NioProcessor-1  ] [DEBUG] p.f.SessionKeyMessageFilter - Mina session ID 6: created session key 692f39e9fb8547ec9bd582adb3972a3a
2012-06-26 11:01:29,009 [NioProcessor-1  ] [DEBUG] p.f.SessionKeyMessageFilter - creating session for mina session ID 6 using session ID 692f39e9fb8547ec9bd582adb3972a3a
2012-06-26 11:01:29,009 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 11:01:29,009 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 11:01:29,009 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 11:01:29,009 [NioProcessor-1  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2530, Mina session ID 6, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 11:01:29,025 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 11:01:29,025 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 11:01:29,025 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 11:01:29,025 [NioProcessor-1  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 11:01:29,025 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 11:01:29,025 [pool-4-thread-16] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 11:01:29,025 [pool-4-thread-16] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 11:01:29,025 [pool-4-thread-16] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@5b55a9 obtained for command ID 5
2012-06-26 11:01:29,025 [pool-4-thread-16] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 5 is com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@5b55a9
2012-06-26 11:01:29,025 [pool-4-thread-16] [DEBUG] .q.m.p.h.InitCommandHandler - InitCommandHandler======execute==bodyMessage=:  [cmdId=5, posId=pos-0002]
2012-06-26 11:01:29,025 [pool-4-thread-16] [DEBUG] .q.m.l.l.i.LoginManagerImpl - InitResponse() invoke
2012-06-26 11:01:29,025 [pool-4-thread-16] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:ALLOWED
2012-06-26 11:01:29,025 [pool-4-thread-16] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId AND p.ostatus = :ostatus
2012-06-26 11:01:29,025 [pool-4-thread-16] [DEBUG] .q.m.l.l.i.LoginManagerImpl - POS ID:pos-0002, init challenge saved - [81, 82, 65, 101, 71, 116, 57, 104]
2012-06-26 11:01:29,025 [pool-4-thread-16] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 11:01:29,041 [pool-4-thread-16] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 11:01:29,041 [pool-4-thread-16] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 11:01:29,041 [pool-4-thread-16] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 11:01:29,041 [pool-4-thread-16] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 6
2012-06-26 11:01:29,041 [pool-4-thread-16] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (6)
2012-06-26 11:01:29,041 [pool-4-thread-16] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageResponseCodec@d8fd1a
2012-06-26 11:01:29,041 [pool-4-thread-16] [DEBUG] .c.InitMessageResponseCodec - init response message encode
2012-06-26 11:01:29,041 [pool-4-thread-16] [TRACE] .c.InitMessageResponseCodec - InitResponseMessage: [cmdId=6, result=0, challenge=[81, 82, 65, 101, 71, 116, 57, 104]]
2012-06-26 11:01:29,041 [pool-4-thread-16] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0xec46
2012-06-26 11:01:29,041 [pool-4-thread-16] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 11:01:29,041 [pool-4-thread-16] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 EC 46 00 00 00 1E ...........F....
00000010 00 00 00 06 00 00 51 52 41 65 47 74 39 68       ......QRAeGt9h

2012-06-26 11:01:29,041 [pool-4-thread-16] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 11:01:29,041 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 11:01:29,041 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 11:01:29,041 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 6: not mark to return session ID to client
2012-06-26 11:01:29,041 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 11:01:29,041 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 11:01:29,041 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 11:01:29,041 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2530, Mina session ID 6, identified POS ID pos-0002
2012-06-26 11:01:29,041 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 B9 95 00 00 00 30 ...............0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 92 95 5C A7 04 E8 9B 8B F5 57 80 80 7F F7 7C B2 ..\......W....|.

2012-06-26 11:01:29,041 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=48 cap=2048: 00 00 00 01 00 00 00 00 00 00 B9 95 00 00 00 30...]
2012-06-26 11:01:29,041 [NioProcessor-1  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 6
2012-06-26 11:01:29,041 [NioProcessor-1  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 11:01:29,041 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 11:01:29,041 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 6
2012-06-26 11:01:29,041 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =48
2012-06-26 11:01:29,041 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 B9 95 00 00 00 30 ...............0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 92 95 5C A7 04 E8 9B 8B F5 57 80 80 7F F7 7C B2 ..\......W....|.

2012-06-26 11:01:29,041 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 48, current position: 0
2012-06-26 11:01:29,041 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 11:01:29,041 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xb995} messageSize:{0x30} sessionKey:{null}
2012-06-26 11:01:29,041 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 32
2012-06-26 11:01:29,041 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=32, in.remaining=32
2012-06-26 11:01:29,041 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 11:01:29,041 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 7
2012-06-26 11:01:29,041 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 7: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageCodec@834af6
2012-06-26 11:01:29,041 [NioProcessor-1  ] [DEBUG] m.p.s.m.c.LoginMessageCodec - login/bind message decode
2012-06-26 11:01:29,041 [NioProcessor-1  ] [TRACE] m.p.s.m.c.LoginMessageCodec - LoginRequestMessage: [cmdId=7, posId=pos-0002, challengeResponse=[-110, -107, 92, -89, 4, -24, -101, -117, -11, 87, -128, -128, 127, -9, 124, -78]]
2012-06-26 11:01:29,041 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 11:01:29,041 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xb995} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[-110, -107, 92, -89, 4, -24, -101, -117, -11, 87, -128, -128, 127, -9, 124, -78]]
2012-06-26 11:01:29,041 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 11:01:29,041 [NioProcessor-1  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 11:01:29,041 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 11:01:29,041 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 11:01:29,041 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 11:01:29,041 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 11:01:29,041 [NioProcessor-1  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2530, Mina session ID 6, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xb995} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[-110, -107, 92, -89, 4, -24, -101, -117, -11, 87, -128, -128, 127, -9, 124, -78]]
2012-06-26 11:01:29,041 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 11:01:29,041 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 11:01:29,041 [pool-4-thread-17] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 11:01:29,041 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 11:01:29,041 [NioProcessor-1  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 11:01:29,041 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 11:01:29,041 [pool-4-thread-17] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 11:01:29,041 [pool-4-thread-17] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@12efcfe obtained for command ID 7
2012-06-26 11:01:29,041 [pool-4-thread-17] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 7 is com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@12efcfe
2012-06-26 11:01:29,041 [pool-4-thread-17] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==bodyMessage=: [cmdId=7, posId=pos-0002, challengeResponse=[-110, -107, 92, -89, 4, -24, -101, -117, -11, 87, -128, -128, 127, -9, 124, -78]]
2012-06-26 11:01:29,041 [pool-4-thread-17] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:null
2012-06-26 11:01:29,041 [pool-4-thread-17] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId
2012-06-26 11:01:29,041 [pool-4-thread-17] [TRACE] .q.m.l.l.i.LoginManagerImpl - Loaded from db: pos.posId:pos-0002, pos.secret:000001, oldChallenge:[81, 82, 65, 101, 71, 116, 57, 104]
2012-06-26 11:01:29,041 [pool-4-thread-17] [DEBUG] .q.m.l.l.i.LoginManagerImpl - disableChallengeCheck =0
2012-06-26 11:01:29,041 [pool-4-thread-17] [TRACE] c.c.q.m.l.c.ChallengeUtil   - checking challenge:response:[-110, -107, 92, -89, 4, -24, -101, -117, -11, 87, -128, -128, 127, -9, 124, -78], posKey:000001, random:[81, 82, 65, 101, 71, 116, 57, 104]
2012-06-26 11:01:29,041 [pool-4-thread-17] [DEBUG] .q.m.l.l.i.LoginManagerImpl - new challenge for POS (POS ID): [68, 102, 112, 113, 57, 55, 107, 74]
2012-06-26 11:01:29,056 [pool-4-thread-17] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==serverKey=:JXTPOS
2012-06-26 11:01:29,056 [pool-4-thread-17] [DEBUG] ThreadSafeClientConnManager - Get connection: HttpRoute[{}->http://localhost:7070], timeout = 0
2012-06-26 11:01:29,056 [pool-4-thread-17] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - [HttpRoute[{}->http://localhost:7070]] total kept alive: 0, total issued: 0, total allocated: 0 out of 20
2012-06-26 11:01:29,056 [pool-4-thread-17] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - No free connections [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 11:01:29,056 [pool-4-thread-17] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Available capacity: 2 out of 2 [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 11:01:29,056 [pool-4-thread-17] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Creating new connection [HttpRoute[{}->http://localhost:7070]]
2012-06-26 11:01:29,056 [pool-4-thread-17] [DEBUG] ultClientConnectionOperator - Connecting to localhost:7070
2012-06-26 11:01:29,977 [pool-4-thread-17] [DEBUG] i.c.DefaultClientConnection - Connection closed
2012-06-26 11:01:29,977 [pool-4-thread-17] [DEBUG] i.c.DefaultClientConnection - Connection shut down
2012-06-26 11:01:29,977 [pool-4-thread-17] [DEBUG] ThreadSafeClientConnManager - Released connection is not reusable.
2012-06-26 11:01:29,977 [pool-4-thread-17] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Releasing connection [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 11:01:29,977 [pool-4-thread-17] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Notifying no-one, there are no waiting threads
2012-06-26 11:01:29,977 [pool-4-thread-17] [ERROR] q.m.p.h.LoginCommandHandler - initGrouponCache fail:com.chinarewards.qqgbvpn.qqapi.exception.ParseXMLException: com.chinarewards.qqgbvpn.qqapi.exception.SendPostTimeOutException: org.apache.http.conn.HttpHostConnectException: Connection to http://localhost:7070 refused
2012-06-26 11:01:29,992 [pool-4-thread-17] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 11:01:30,024 [pool-4-thread-17] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 11:01:30,024 [pool-4-thread-17] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 11:01:30,024 [pool-4-thread-17] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 11:01:30,024 [pool-4-thread-17] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 6
2012-06-26 11:01:30,024 [pool-4-thread-17] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (8)
2012-06-26 11:01:30,024 [pool-4-thread-17] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageResponseCodec@cbffde
2012-06-26 11:01:30,024 [pool-4-thread-17] [DEBUG] c.LoginMessageResponseCodec - login/bind message encode
2012-06-26 11:01:30,024 [pool-4-thread-17] [TRACE] c.LoginMessageResponseCodec - LoginResponseMessage: [cmdId=8, result=0, challenge=[68, 102, 112, 113, 57, 55, 107, 74]]
2012-06-26 11:01:30,024 [pool-4-thread-17] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0xa67f
2012-06-26 11:01:30,024 [pool-4-thread-17] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 11:01:30,024 [pool-4-thread-17] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 A6 7F 00 00 00 1E ................
00000010 00 00 00 08 00 00 44 66 70 71 39 37 6B 4A       ......Dfpq97kJ

2012-06-26 11:01:30,024 [pool-4-thread-17] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 11:01:30,024 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 11:01:30,024 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 11:01:30,024 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 6: not mark to return session ID to client
2012-06-26 11:01:30,024 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 11:01:30,024 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 11:01:30,024 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 11:01:30,024 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:2530, Mina session ID 6, identified POS ID pos-0002
2012-06-26 11:01:30,024 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 33 of 33 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 D1 FF 00 00 00 21 ...............!
00000010 00 00 00 C9 00 0B 32 32 32 32 32 32 32 32 32 32 ......2222222222
00000020 32                                              2

2012-06-26 11:01:30,024 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=33 cap=1024: 00 00 00 10 00 00 00 00 00 00 D1 FF 00 00 00 21...]
2012-06-26 11:01:30,024 [NioProcessor-1  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 6
2012-06-26 11:01:30,024 [NioProcessor-1  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 11:01:30,024 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 11:01:30,024 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 6
2012-06-26 11:01:30,024 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =33
2012-06-26 11:01:30,024 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 33 of 33 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 D1 FF 00 00 00 21 ...............!
00000010 00 00 00 C9 00 0B 32 32 32 32 32 32 32 32 32 32 ......2222222222
00000020 32                                              2

2012-06-26 11:01:30,024 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 33, current position: 0
2012-06-26 11:01:30,024 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 11:01:30,024 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd1ff} messageSize:{0x21} sessionKey:{null}
2012-06-26 11:01:30,024 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 17
2012-06-26 11:01:30,024 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=17, in.remaining=17
2012-06-26 11:01:30,024 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 11:01:30,024 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 201
2012-06-26 11:01:30,024 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 201: com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftMessageCodec@10b755d
2012-06-26 11:01:30,024 [NioProcessor-1  ] [DEBUG] m.c.ReceiveGiftMessageCodec - receive gift request message decode
2012-06-26 11:01:30,024 [NioProcessor-1  ] [DEBUG] m.c.ReceiveGiftMessageCodec - in.remaining()=17
2012-06-26 11:01:30,024 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 11:01:30,024 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd1ff} messageSize:{0x21} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@14649ed
2012-06-26 11:01:30,024 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 11:01:30,024 [NioProcessor-1  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 11:01:30,024 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 11:01:30,024 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 11:01:30,024 [NioProcessor-1  ] [DEBUG] c.c.q.m.p.f.LoginFilter     - isLogin=true
2012-06-26 11:01:30,024 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 11:01:30,024 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 11:01:30,024 [NioProcessor-1  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:2530, Mina session ID 6, identified POS ID pos-0002, message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd1ff} messageSize:{0x21} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@14649ed
2012-06-26 11:01:30,024 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 11:01:30,024 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 11:01:30,024 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 11:01:30,024 [NioProcessor-1  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 11:01:30,024 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 11:01:30,024 [pool-4-thread-18] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 11:01:30,024 [pool-4-thread-18] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 11:01:30,024 [pool-4-thread-18] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@1697d14 obtained for command ID 201
2012-06-26 11:01:30,024 [pool-4-thread-18] [DEBUG] $$EnhancerByGuice$$97046352 - Handler for command ID 201 is com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@1697d14
2012-06-26 11:01:30,024 [pool-4-thread-18] [DEBUG] h.ReceiveGiftCommandHandler - ReceiveGiftHandler======execute==bodyMessage=: com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@14649ed
2012-06-26 11:01:30,024 [pool-4-thread-18] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 11:01:30,024 [pool-4-thread-18] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 11:01:30,024 [pool-4-thread-18] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 11:01:30,024 [pool-4-thread-18] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 11:01:30,024 [pool-4-thread-18] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 6
2012-06-26 11:01:30,024 [pool-4-thread-18] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (202)
2012-06-26 11:01:30,024 [pool-4-thread-18] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftResponseMessageCodec@bdec44
2012-06-26 11:01:30,024 [pool-4-thread-18] [DEBUG] iveGiftResponseMessageCodec - receive gift response message encode
2012-06-26 11:01:30,024 [Finalizer       ] [DEBUG] ThreadSafeClientConnManager - Shutting down
2012-06-26 11:01:30,024 [pool-4-thread-18] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0x29cb
2012-06-26 11:01:30,024 [pool-4-thread-18] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 11:01:30,024 [pool-4-thread-18] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 55 of 55 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 29 CB 00 00 00 37 ..........)....7
00000010 00 00 00 CA 00 00 00 01 07 DC 06 1A 0B 01 1E 00 ................
00000020 18 01 E0 00 08 C1 EC C8 A1 C0 F1 C6 B7 00 08 D2 ................
00000030 D1 C1 EC C8 A1 B9 FD                            .......

2012-06-26 11:01:30,039 [pool-4-thread-18] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 11:01:30,039 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 11:01:30,039 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 11:01:30,039 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 6: not mark to return session ID to client
2012-06-26 11:01:30,039 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 11:01:30,039 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 11:01:30,039 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 11:01:30,039 [NioProcessor-1  ] [INFO ] o.a.m.f.l.LoggingFilter     - CLOSED
2012-06-26 11:01:30,039 [NioProcessor-1  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 11:01:36,826 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:01:36,826 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:01:36,826 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=6
2012-06-26 11:01:36,826 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=6
2012-06-26 11:01:36,826 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:01:46,811 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:01:46,811 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:01:46,811 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=6
2012-06-26 11:01:46,811 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=6
2012-06-26 11:01:46,811 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:01:56,811 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:01:56,811 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:01:56,811 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=6
2012-06-26 11:01:56,811 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=6
2012-06-26 11:01:56,811 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:02:06,827 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:02:06,827 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:02:06,827 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=6
2012-06-26 11:02:06,827 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=6
2012-06-26 11:02:06,827 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:02:16,828 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:02:16,828 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:02:16,828 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=6
2012-06-26 11:02:16,828 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=6
2012-06-26 11:02:16,828 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:02:26,844 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:02:26,844 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:02:26,844 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=6
2012-06-26 11:02:26,844 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=6
2012-06-26 11:02:26,844 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:02:36,829 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:02:36,829 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:02:36,829 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=6
2012-06-26 11:02:36,829 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=6
2012-06-26 11:02:36,829 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:02:46,814 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:02:46,814 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:02:46,814 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=6
2012-06-26 11:02:46,814 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=6
2012-06-26 11:02:46,814 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:02:56,799 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:02:56,799 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:02:56,799 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=6
2012-06-26 11:02:56,799 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=6
2012-06-26 11:02:56,799 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:03:06,784 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:03:06,784 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:03:06,784 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=6
2012-06-26 11:03:06,784 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=6
2012-06-26 11:03:06,784 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:03:16,785 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:03:16,785 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:03:16,785 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=6
2012-06-26 11:03:16,785 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=6
2012-06-26 11:03:16,785 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:03:26,770 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:03:26,770 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:03:26,770 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=6
2012-06-26 11:03:26,770 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=6
2012-06-26 11:03:26,770 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:03:36,754 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:03:36,754 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:03:36,754 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=6
2012-06-26 11:03:36,754 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=6
2012-06-26 11:03:36,754 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:03:46,739 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:03:46,739 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:03:46,739 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=6
2012-06-26 11:03:46,739 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=6
2012-06-26 11:03:46,739 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:03:56,724 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:03:56,724 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:03:56,724 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=6
2012-06-26 11:03:56,724 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=6
2012-06-26 11:03:56,724 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:04:06,709 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:04:06,709 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:04:06,709 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=6
2012-06-26 11:04:06,709 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=6
2012-06-26 11:04:06,709 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:04:16,726 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:04:16,726 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:04:16,726 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=6
2012-06-26 11:04:16,726 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=6
2012-06-26 11:04:16,726 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:04:26,742 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:04:26,742 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:04:26,742 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=6
2012-06-26 11:04:26,742 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=6
2012-06-26 11:04:26,742 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:04:36,727 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:04:36,727 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:04:36,727 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=6
2012-06-26 11:04:36,727 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=6
2012-06-26 11:04:36,727 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:04:46,727 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:04:46,727 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:04:46,727 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=6
2012-06-26 11:04:46,727 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=6
2012-06-26 11:04:46,727 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:04:56,743 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:04:56,743 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:04:56,743 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=6
2012-06-26 11:04:56,743 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=3
2012-06-26 11:04:56,743 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:05:06,744 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:05:06,744 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:05:06,744 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 11:05:06,744 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:05:06,744 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:05:16,745 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:05:16,745 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:05:16,745 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:05:16,745 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:05:16,745 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:05:26,745 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:05:26,745 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:05:26,745 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:05:26,745 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:05:26,745 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:05:36,730 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:05:36,730 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:05:36,730 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:05:36,730 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:05:36,730 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:05:46,777 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:05:46,777 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:05:46,777 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:05:46,777 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:05:46,777 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:05:56,762 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:05:56,762 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:05:56,762 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:05:56,762 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:05:56,762 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:06:06,779 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:06:06,779 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:06:06,779 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:06:06,779 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:06:06,779 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:06:16,779 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:06:16,779 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:06:16,779 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:06:16,779 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:06:16,779 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:06:26,780 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:06:26,780 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:06:26,780 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:06:26,780 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:06:26,780 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:06:36,811 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:06:36,811 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:06:36,811 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:06:36,811 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:06:36,811 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:06:46,781 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:06:46,781 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:06:46,781 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:06:46,781 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:06:46,781 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:06:56,781 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:06:56,781 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:06:56,781 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:06:56,781 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:06:56,781 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:07:06,766 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:07:06,766 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:07:06,766 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:07:06,766 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:07:06,766 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:07:16,767 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:07:16,767 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:07:16,767 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:07:16,767 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:07:16,767 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:07:26,752 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:07:26,752 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:07:26,752 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:07:26,752 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:07:26,752 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:07:36,752 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:07:36,752 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:07:36,752 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:07:36,752 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:07:36,752 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:07:46,737 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:07:46,737 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:07:46,737 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:07:46,737 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:07:46,737 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:07:56,722 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:07:56,722 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:07:56,722 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:07:56,722 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:07:56,722 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:08:06,723 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:08:06,723 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:08:06,723 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:08:06,723 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:08:06,723 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:08:16,708 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:08:16,708 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:08:16,708 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:08:16,708 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:08:16,708 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:08:26,693 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:08:26,693 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:08:26,693 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:08:26,693 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:08:26,693 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:08:36,678 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:08:36,678 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:08:36,678 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:08:36,678 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:08:36,678 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:08:46,663 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:08:46,663 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:08:46,663 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:08:46,663 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:08:46,663 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:08:56,663 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:08:56,663 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:08:56,663 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:08:56,663 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:08:56,663 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:09:06,648 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:09:06,648 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:09:06,648 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:09:06,648 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:09:06,648 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:09:16,649 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:09:16,649 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:09:16,649 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:09:16,649 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:09:16,649 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:09:26,636 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:09:26,636 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:09:26,636 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:09:26,636 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:09:26,636 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:09:36,604 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:09:36,604 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:09:36,604 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:09:36,604 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:09:36,604 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:09:46,589 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:09:46,589 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:09:46,589 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:09:46,589 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:09:46,589 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:09:56,557 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:09:56,557 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:09:56,557 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:09:56,557 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:09:56,557 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:10:06,542 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:10:06,542 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:10:06,542 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:10:06,542 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:10:06,542 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:10:16,510 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:10:16,510 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:10:16,510 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:10:16,510 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:10:16,510 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:10:26,479 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:10:26,479 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:10:26,479 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:10:26,479 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:10:26,479 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:10:36,448 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:10:36,448 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:10:36,448 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:10:36,448 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:10:36,448 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:10:46,416 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:10:46,416 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:10:46,416 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:10:46,416 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:10:46,416 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:10:56,385 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:10:56,385 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:10:56,385 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:10:56,385 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:10:56,385 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:11:06,369 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:11:06,369 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:11:06,369 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:11:06,369 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:11:06,369 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:11:16,338 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:11:16,338 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:11:16,338 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:11:16,338 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:11:16,338 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:11:26,307 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:11:26,307 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:11:26,307 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:11:26,307 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:11:26,307 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:11:36,275 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:11:36,275 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:11:36,275 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:11:36,275 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:11:36,275 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:11:46,260 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:11:46,260 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:11:46,260 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:11:46,260 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:11:46,260 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:11:56,291 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:11:56,291 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:11:56,291 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:11:56,291 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:11:56,291 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:12:06,275 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:12:06,275 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:12:06,275 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:12:06,275 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:12:06,275 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:12:16,244 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:12:16,244 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:12:16,244 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:12:16,244 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:12:16,244 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:12:26,212 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:12:26,212 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:12:26,212 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:12:26,212 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:12:26,212 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:12:36,197 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:12:36,197 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:12:36,197 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:12:36,197 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:12:36,197 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:12:46,165 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:12:46,165 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:12:46,165 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:12:46,165 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:12:46,165 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:12:56,150 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:12:56,150 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:12:56,150 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:12:56,150 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:12:56,150 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:13:06,118 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:13:06,118 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:13:06,118 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:13:06,118 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:13:06,118 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:13:16,087 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:13:16,087 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:13:16,087 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:13:16,087 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:13:16,087 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:13:26,056 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:13:26,056 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:13:26,056 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:13:26,056 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:13:26,056 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:13:36,040 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:13:36,040 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:13:36,040 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:13:36,040 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:13:36,040 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:13:46,024 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:13:46,024 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:13:46,024 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:13:46,024 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:13:46,024 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:13:55,993 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:13:55,993 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:13:55,993 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:13:55,993 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:13:55,993 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:14:05,977 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:14:05,977 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:14:05,977 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:14:05,977 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:14:05,977 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:14:15,962 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:14:15,962 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:14:15,962 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:14:15,962 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:14:15,962 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:14:25,939 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:14:25,939 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:14:25,939 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:14:25,939 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:14:25,939 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:14:35,919 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:14:35,919 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:14:35,919 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:14:35,919 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:14:35,919 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:14:45,913 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:14:45,913 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:14:45,913 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:14:45,913 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:14:45,913 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:14:55,924 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:14:55,924 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:14:55,924 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:14:55,924 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:14:55,924 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:15:05,918 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:15:05,918 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:15:05,918 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:15:05,918 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:15:05,918 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:15:15,897 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:15:15,897 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:15:15,897 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:15:15,897 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:15:15,897 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:15:25,877 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:15:25,877 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:15:25,877 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:15:25,877 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:15:25,877 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:15:35,856 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:15:35,856 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:15:35,856 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:15:35,856 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:15:35,856 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:15:45,835 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:15:45,835 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:15:45,835 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:15:45,835 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:15:45,835 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:15:55,830 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:15:55,830 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:15:55,830 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:15:55,830 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:15:55,830 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:16:05,809 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:16:05,809 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:16:05,809 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:16:05,809 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:16:05,809 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:16:15,788 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:16:15,788 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:16:15,788 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:16:15,788 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:16:15,788 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:16:25,783 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:16:25,783 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:16:25,783 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:16:25,783 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:16:25,783 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:16:35,762 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:16:35,762 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:16:35,762 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:16:35,762 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:16:35,762 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:16:45,756 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:16:45,756 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:16:45,756 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:16:45,756 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:16:45,756 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:16:55,736 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:16:55,736 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:16:55,736 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:16:55,736 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:16:55,736 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:17:05,730 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:17:05,730 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:17:05,730 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:17:05,730 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:17:05,730 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:17:15,709 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:17:15,709 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:17:15,709 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:17:15,709 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:17:15,709 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:17:25,720 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:17:25,720 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:17:25,720 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:17:25,720 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:17:25,720 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:17:35,715 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:17:35,715 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:17:35,715 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:17:35,715 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:17:35,715 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:17:45,694 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:17:45,694 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:17:45,694 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:17:45,694 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:17:45,694 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:17:55,704 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:17:55,704 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:17:55,704 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:17:55,704 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:17:55,704 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:18:05,683 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:18:05,683 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:18:05,683 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:18:05,683 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:18:05,683 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:18:15,662 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:18:15,662 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:18:15,662 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:18:15,662 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:18:15,662 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:18:25,641 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:18:25,641 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:18:25,641 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:18:25,641 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:18:25,641 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:18:35,621 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:18:35,621 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:18:35,621 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:18:35,621 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:18:35,621 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:18:45,615 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:18:45,615 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:18:45,615 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:18:45,615 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:18:45,615 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:18:55,594 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:18:55,594 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:18:55,594 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:18:55,594 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:18:55,594 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:19:05,574 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:19:05,574 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:19:05,574 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:19:05,574 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:19:05,574 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:19:15,553 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:19:15,553 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:19:15,553 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:19:15,553 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:19:15,553 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:19:25,535 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:19:25,535 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:19:25,535 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:19:25,535 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:19:25,535 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:19:35,534 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:19:35,534 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:19:35,534 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:19:35,534 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:19:35,534 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:19:45,516 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:19:45,516 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:19:45,516 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:19:45,516 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:19:45,516 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:19:55,499 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:19:55,499 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:19:55,499 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:19:55,499 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:19:55,499 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:20:05,498 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:20:05,498 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:20:05,498 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:20:05,498 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:20:05,498 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:20:15,512 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:20:15,512 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:20:15,512 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:20:15,512 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:20:15,512 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:20:25,495 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:20:25,495 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:20:25,495 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:20:25,495 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:20:25,495 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:20:35,477 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:20:35,477 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:20:35,477 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:20:35,477 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:20:35,477 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:20:45,460 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:20:45,460 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:20:45,460 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:20:45,460 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:20:45,460 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:20:55,443 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:20:55,443 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:20:55,443 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:20:55,443 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:20:55,443 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:21:05,426 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:21:05,426 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:21:05,426 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:21:05,426 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:21:05,426 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:21:15,424 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:21:15,424 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:21:15,424 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:21:15,424 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:21:15,424 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:21:25,407 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:21:25,407 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:21:25,407 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:21:25,407 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:21:25,407 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:21:35,390 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:21:35,390 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:21:35,390 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:21:35,390 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:21:35,390 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:21:45,373 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:21:45,373 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:21:45,373 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:21:45,373 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:21:45,373 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:21:55,356 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:21:55,356 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:21:55,356 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:21:55,356 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:21:55,356 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:22:05,354 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:22:05,354 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:22:05,354 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:22:05,354 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:22:05,354 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:22:15,337 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:22:15,337 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:22:15,337 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:22:15,337 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:22:15,337 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:22:25,320 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:22:25,320 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:22:25,320 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:22:25,320 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:22:25,320 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:22:35,318 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:22:35,318 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:22:35,318 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:22:35,318 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:22:35,318 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:22:45,301 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:22:45,301 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:22:45,301 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:22:45,301 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:22:45,301 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:22:55,284 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:22:55,284 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:22:55,284 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:22:55,284 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:22:55,284 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:23:05,283 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:23:05,283 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:23:05,283 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:23:05,283 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:23:05,283 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:23:15,265 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:23:15,265 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:23:15,265 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:23:15,265 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:23:15,265 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:23:25,248 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:23:25,248 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:23:25,248 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:23:25,248 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:23:25,248 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:23:35,231 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:23:35,231 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:23:35,231 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:23:35,231 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:23:35,231 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:23:45,214 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:23:45,214 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:23:45,214 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:23:45,214 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:23:45,214 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:23:55,228 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:23:55,228 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:23:55,228 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:23:55,228 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:23:55,228 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:24:05,211 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:24:05,211 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:24:05,211 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:24:05,211 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:24:05,211 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:24:15,194 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:24:15,194 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:24:15,194 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:24:15,194 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:24:15,194 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:24:25,178 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:24:25,178 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:24:25,178 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:24:25,178 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:24:25,178 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:24:35,240 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:24:35,240 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:24:35,240 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:24:35,240 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:24:35,240 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:24:45,255 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:24:45,255 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:24:45,255 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:24:45,255 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:24:45,255 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:24:55,255 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:24:55,255 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:24:55,255 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:24:55,255 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:24:55,255 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:25:05,239 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:25:05,239 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:25:05,239 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:25:05,239 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:25:05,239 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:25:15,223 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:25:15,223 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:25:15,223 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:25:15,223 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:25:15,223 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:25:25,208 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:25:25,208 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:25:25,208 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:25:25,208 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:25:25,208 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:25:35,207 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:25:35,207 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:25:35,207 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:25:35,207 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:25:35,207 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:25:45,207 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:25:45,207 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:25:45,207 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:25:45,207 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:25:45,207 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:25:55,191 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:25:55,191 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:25:55,191 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:25:55,191 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:25:55,191 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:26:05,176 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:26:05,176 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:26:05,176 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:26:05,176 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:26:05,176 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:26:15,173 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:26:15,173 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:26:15,173 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:26:15,173 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:26:15,173 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:26:25,175 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:26:25,175 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:26:25,175 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:26:25,175 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:26:25,175 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:26:35,178 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:26:35,178 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:26:35,178 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:26:35,178 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:26:35,178 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:26:45,180 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:26:45,180 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:26:45,180 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:26:45,180 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:26:45,180 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:26:55,213 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:26:55,213 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:26:55,213 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:26:55,213 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:26:55,213 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:27:05,216 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:27:05,216 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:27:05,216 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:27:05,216 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:27:05,216 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:27:15,234 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:27:15,234 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:27:15,234 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:27:15,234 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:27:15,234 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:27:25,236 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:27:25,236 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:27:25,236 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:27:25,236 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:27:25,236 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:27:35,238 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:27:35,238 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:27:35,238 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:27:35,238 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:27:35,238 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:27:45,256 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:27:45,256 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:27:45,256 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:27:45,256 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:27:45,256 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:27:55,258 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:27:55,258 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:27:55,258 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:27:55,258 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:27:55,258 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:28:05,260 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:28:05,260 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:28:05,260 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:28:05,260 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:28:05,260 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:28:15,278 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:28:15,278 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:28:15,278 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:28:15,278 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:28:15,278 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:28:25,281 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:28:25,281 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:28:25,281 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:28:25,281 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:28:25,281 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:28:35,298 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:28:35,298 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:28:35,298 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:28:35,298 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:28:35,298 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:28:45,301 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:28:45,301 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:28:45,301 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:28:45,301 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:28:45,301 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:28:55,303 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:28:55,303 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:28:55,303 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:28:55,303 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:28:55,303 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:29:05,321 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:29:05,321 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:29:05,321 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:29:05,321 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:29:05,321 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:29:15,323 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:29:15,323 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:29:15,323 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:29:15,323 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:29:15,323 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:29:25,325 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:29:25,325 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:29:25,325 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:29:25,325 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:29:25,325 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:29:35,374 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:29:35,374 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:29:35,374 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:29:35,374 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:29:35,374 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:29:45,377 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:29:45,377 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:29:45,377 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:29:45,377 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:29:45,377 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:29:55,394 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:29:55,394 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:29:55,394 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:29:55,394 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:29:55,394 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:30:05,397 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:30:05,397 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:30:05,397 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:30:05,397 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:30:05,397 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:30:15,399 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:30:15,399 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:30:15,399 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:30:15,399 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:30:15,399 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:30:25,448 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:30:25,448 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:30:25,448 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:30:25,448 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:30:25,448 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:30:35,497 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:30:35,497 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:30:35,497 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:30:35,497 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:30:35,497 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:30:45,515 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:30:45,515 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:30:45,515 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:30:45,515 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:30:45,515 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:30:55,517 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:30:55,517 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:30:55,517 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:30:55,517 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:30:55,517 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:31:05,520 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:31:05,520 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:31:05,520 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:31:05,520 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:31:05,520 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:31:15,530 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:31:15,530 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:31:15,530 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:31:15,530 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:31:15,530 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:31:25,522 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:31:25,522 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:31:25,522 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:31:25,522 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:31:25,522 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:31:35,514 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:31:35,514 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:31:35,514 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:31:35,514 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:31:35,514 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:31:45,507 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:31:45,507 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:31:45,507 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:31:45,507 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:31:45,507 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:31:55,515 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:31:55,515 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:31:55,515 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:31:55,515 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:31:55,515 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:32:05,507 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:32:05,507 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:32:05,507 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:32:05,507 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:32:05,507 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:32:15,515 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:32:15,515 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:32:15,515 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:32:15,515 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:32:15,515 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:32:25,507 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:32:25,507 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:32:25,507 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:32:25,507 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:32:25,507 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:32:35,515 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:32:35,515 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:32:35,515 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:32:35,515 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:32:35,515 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:32:45,507 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:32:45,507 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:32:45,507 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:32:45,507 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:32:45,507 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:32:55,500 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:32:55,500 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:32:55,500 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:32:55,500 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:32:55,500 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:33:05,492 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:33:05,492 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:33:05,492 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:33:05,492 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:33:05,492 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:33:15,500 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:33:15,500 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:33:15,500 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:33:15,500 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:33:15,500 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:33:25,492 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:33:25,492 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:33:25,492 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:33:25,492 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:33:25,492 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:33:35,485 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:33:35,485 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:33:35,485 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:33:35,485 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:33:35,485 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:33:45,477 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:33:45,477 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:33:45,477 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:33:45,477 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:33:45,477 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:33:55,469 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:33:55,469 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:33:55,469 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:33:55,469 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:33:55,469 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:34:05,462 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:34:05,462 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:34:05,462 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:34:05,462 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:34:05,462 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:34:15,470 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:34:15,470 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:34:15,470 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:34:15,470 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:34:15,470 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:34:25,462 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:34:25,462 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:34:25,462 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:34:25,462 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:34:25,462 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:34:35,454 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:34:35,454 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:34:35,454 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:34:35,454 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:34:35,454 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:34:45,462 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:34:45,462 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:34:45,462 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:34:45,462 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:34:45,462 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:34:55,454 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:34:55,454 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:34:55,454 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:34:55,454 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:34:55,454 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:35:05,447 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:35:05,447 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:35:05,447 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:35:05,447 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:35:05,447 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:35:15,439 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:35:15,439 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:35:15,439 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:35:15,439 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:35:15,439 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:35:25,431 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:35:25,431 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:35:25,431 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:35:25,431 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:35:25,431 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:35:35,424 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:35:35,424 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:35:35,424 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:35:35,424 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:35:35,424 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:35:45,416 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:35:45,416 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:35:45,416 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:35:45,416 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:35:45,416 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:35:55,408 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:35:55,408 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:35:55,408 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:35:55,408 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:35:55,408 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:36:05,416 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:36:05,416 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:36:05,416 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:36:05,416 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:36:05,416 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:36:15,406 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:36:15,406 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:36:15,406 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:36:15,406 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:36:15,406 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:36:25,395 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:36:25,395 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:36:25,395 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:36:25,395 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:36:25,395 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:36:35,399 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:36:35,399 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:36:35,399 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:36:35,399 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:36:35,399 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:36:45,388 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:36:45,388 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:36:45,388 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:36:45,388 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:36:45,388 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:36:55,392 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:36:55,392 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:36:55,392 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:36:55,392 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:36:55,392 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:37:05,381 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:37:05,381 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:37:05,381 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:37:05,381 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:37:05,381 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:37:15,369 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:37:15,369 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:37:15,369 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:37:15,369 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:37:15,369 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:37:25,374 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:37:25,374 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:37:25,374 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:37:25,374 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:37:25,374 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:37:35,363 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:37:35,363 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:37:35,363 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:37:35,363 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:37:35,363 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:37:45,351 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:37:45,351 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:37:45,351 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:37:45,351 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:37:45,351 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:37:55,356 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:37:55,356 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:37:55,356 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:37:55,356 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:37:55,356 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:38:05,344 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:38:05,344 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:38:05,344 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:38:05,344 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:38:05,344 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:38:15,349 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:38:15,349 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:38:15,349 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:38:15,349 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:38:15,349 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:38:25,337 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:38:25,337 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:38:25,337 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:38:25,337 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:38:25,337 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:38:35,326 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:38:35,326 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:38:35,326 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:38:35,326 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:38:35,326 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:38:45,330 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:38:45,330 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:38:45,330 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:38:45,330 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:38:45,330 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:38:55,304 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:38:55,304 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:38:55,304 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:38:55,304 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:38:55,304 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:39:05,308 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:39:05,308 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:39:05,308 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:39:05,308 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:39:05,308 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:39:15,297 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:39:15,297 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:39:15,297 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:39:15,297 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:39:15,297 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:39:25,301 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:39:25,301 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:39:25,301 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:39:25,301 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:39:25,301 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 11:39:35,290 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 11:39:35,290 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 11:39:35,290 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 11:39:35,290 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 11:39:35,290 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:16:58,657 [main            ] [INFO ] c.c.q.m.BootStrap           - Home directory: D:\posnetv2
2012-06-26 14:16:58,657 [main            ] [DEBUG] c.c.q.c.ConfigReader        - Home directory is set to D:\posnetv2
2012-06-26 14:16:58,657 [main            ] [DEBUG] c.c.q.c.ConfigReader        - Configuration subdirectory is set to conf
2012-06-26 14:16:58,657 [main            ] [DEBUG] c.c.q.c.ConfigReader        - Configuration directory is set to D:\posnetv2\conf
2012-06-26 14:16:58,657 [main            ] [DEBUG] c.c.q.c.ConfigReader        - Config file: D:\posnetv2\conf\posnet.ini
2012-06-26 14:16:58,657 [main            ] [DEBUG] c.c.q.c.ConfigReader        - Reading configuration file D:\posnetv2\conf\posnet.ini
2012-06-26 14:16:58,657 [main            ] [DEBUG] c.c.q.c.ConfigReader        - - D:\posnetv2\conf\posnet.ini is an .ini file, load using PropertiesConfiguration.
2012-06-26 14:16:58,703 [main            ] [DEBUG] c.c.PropertiesConfiguration - FileName set to posnet.ini
2012-06-26 14:16:58,703 [main            ] [DEBUG] c.c.PropertiesConfiguration - Base path set to D:\posnetv2\conf
2012-06-26 14:16:58,703 [main            ] [DEBUG] o.a.c.c.ConfigurationUtils  - ConfigurationUtils.locate(): base is D:\posnetv2\conf, name is posnet.ini
2012-06-26 14:16:58,703 [main            ] [DEBUG] o.a.c.c.DefaultFileSystem   - Could not locate file posnet.ini at D:\posnetv2\conf: unknown protocol: d
2012-06-26 14:16:58,703 [main            ] [DEBUG] o.a.c.c.ConfigurationUtils  - Loading configuration from the path D:\posnetv2\conf\posnet.ini
2012-06-26 14:16:58,735 [main            ] [DEBUG] o.a.c.c.ConfigurationUtils  - ConfigurationUtils.locate(): base is D:\posnetv2\conf, name is dispatcher.ini
2012-06-26 14:16:58,735 [main            ] [DEBUG] o.a.c.c.DefaultFileSystem   - Could not locate file dispatcher.ini at D:\posnetv2\conf: unknown protocol: d
2012-06-26 14:16:58,735 [main            ] [DEBUG] o.a.c.c.ConfigurationUtils  - Loading configuration from the path D:\posnetv2\conf\dispatcher.ini
2012-06-26 14:16:58,750 [main            ] [DEBUG] c.c.q.m.BootStrap           - System configuration:
2012-06-26 14:16:58,750 [main            ] [DEBUG] c.c.q.m.BootStrap           - - server.port: 1234
2012-06-26 14:16:58,750 [main            ] [DEBUG] c.c.q.m.BootStrap           - - server.client_max_idle_time: 20
2012-06-26 14:16:58,750 [main            ] [DEBUG] c.c.q.m.BootStrap           - - server.session.timeout_check_interval: 10
2012-06-26 14:16:58,750 [main            ] [DEBUG] c.c.q.m.BootStrap           - - server.session.client_timeout: 210
2012-06-26 14:16:58,750 [main            ] [DEBUG] c.c.q.m.BootStrap           - - server.disable_checksum_check: 0
2012-06-26 14:16:58,750 [main            ] [DEBUG] c.c.q.m.BootStrap           - - server.service_handler.thread_pool_size: 20
2012-06-26 14:16:58,750 [main            ] [DEBUG] c.c.q.m.BootStrap           - - firmware.location: D:\posnetv2\posnet2-mgmtui\firmware
2012-06-26 14:16:58,750 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.hibernate.show_sql: [true, true]
2012-06-26 14:16:58,750 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.hibernate.hbm2ddl.auto: false
2012-06-26 14:16:58,750 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.ext.hibernate.dialect: org.hibernate.dialect.MySQL5Dialect
2012-06-26 14:16:58,750 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.user: root
2012-06-26 14:16:58,750 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.password: 167118
2012-06-26 14:16:58,750 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.driver: com.mysql.jdbc.Driver
2012-06-26 14:16:58,750 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.url: jdbc:mysql://localhost/posnet?autoReconnect=true&useUnicode=true&characterEncoding=UTF-8
2012-06-26 14:16:58,750 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.ext.hibernate.connection.provider_class: org.hibernate.connection.C3P0ConnectionProvider
2012-06-26 14:16:58,750 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.ext.hibernate.c3p0.minPoolSize: 5
2012-06-26 14:16:58,750 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.ext.hibernate.c3p0.maxPoolSize: 20
2012-06-26 14:16:58,750 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.ext.hibernate.c3p0.maxIdleTime: 1800
2012-06-26 14:16:58,750 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.ext.hibernate.c3p0.testConnectionOnCheckout: true
2012-06-26 14:16:58,750 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.ext.hibernate.c3p0.maxStatements: 50
2012-06-26 14:16:58,750 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.ext.hibernate.c3p0.maxStatementsPerConnection: 10
2012-06-26 14:16:58,750 [main            ] [DEBUG] c.c.q.m.BootStrap           - - qq.groupbuy.url.groupBuyingSearchGroupon: http://localhost:7070/testdata/TuanSearchListVO.xml
2012-06-26 14:16:58,750 [main            ] [DEBUG] c.c.q.m.BootStrap           - - qq.groupbuy.url.groupBuyingValidationUrl: http://localhost:7070/testdata/TuanValidateResultVO.xml
2012-06-26 14:16:58,750 [main            ] [DEBUG] c.c.q.m.BootStrap           - - qq.groupbuy.url.groupBuyingUnbindPosUrl: http://localhost:7070/testdata/TuanUnbindVO.xml
2012-06-26 14:16:58,750 [main            ] [DEBUG] c.c.q.m.BootStrap           - - txserver.key: JXTPOS
2012-06-26 14:16:58,750 [main            ] [DEBUG] c.c.q.m.BootStrap           - - qq.meishi.wsapi.host: localhost:7070
2012-06-26 14:16:58,750 [main            ] [DEBUG] c.c.q.m.BootStrap           - - qq.meishi.wsapi.url: http://localhost:7070/qq-meishi/data
2012-06-26 14:16:58,750 [main            ] [DEBUG] c.c.q.m.BootStrap           - - qq.meishi.wsapi.secretKey: NDA2ZTkwOTExZjlkZDY3ZTIxMTU1OTY0NmVlYzVmY2Q=
2012-06-26 14:16:58,750 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.1.handler: com.chinarewards.qqgbvpn.main.protocol.handler.SearchCommandHandler
2012-06-26 14:16:58,750 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.1.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.SearchBodyMessageCodec
2012-06-26 14:16:58,750 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.2.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.SearchBodyMessageResponseCodec
2012-06-26 14:16:58,750 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.3.handler: com.chinarewards.qqgbvpn.main.protocol.handler.ValidateCommandHandler
2012-06-26 14:16:58,750 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.3.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.ValidateBodyMessageCodec
2012-06-26 14:16:58,750 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.4.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.ValidateBodyMessageResponseCodec
2012-06-26 14:16:58,750 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.5.handler: com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler
2012-06-26 14:16:58,750 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.5.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageCodec
2012-06-26 14:16:58,750 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.6.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageResponseCodec
2012-06-26 14:16:58,750 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.7.handler: com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler
2012-06-26 14:16:58,750 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.7.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageCodec
2012-06-26 14:16:58,750 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.8.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageResponseCodec
2012-06-26 14:16:58,750 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.9.handler: com.chinarewards.qqgbvpn.main.protocol.handler.BindCommandHandler
2012-06-26 14:16:58,750 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.9.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageCodec
2012-06-26 14:16:58,750 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.10.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageResponseCodec
2012-06-26 14:16:58,750 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.11.handler: com.chinarewards.qqgbvpn.main.protocol.handler.ValidationCallbackHandler
2012-06-26 14:16:58,750 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.11.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.ValidationCallbackCodec
2012-06-26 14:16:58,750 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.12.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.ValidationCallbackResponseCodec
2012-06-26 14:16:58,750 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.13.handler: com.chinarewards.qqgbvpn.main.protocol.handler.FirmwareUpgradeRequestCommandHandler
2012-06-26 14:16:58,750 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.13.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.FirmwareRequestMessageCodec
2012-06-26 14:16:58,766 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.14.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.FirmwareResponseMessageCodec
2012-06-26 14:16:58,766 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.15.handler: com.chinarewards.qqgbvpn.main.protocol.handler.GetFirmwareFragmentHandler
2012-06-26 14:16:58,766 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.15.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.GetFirmwareFragmentRequestMessageCodec
2012-06-26 14:16:58,766 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.16.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.GetFirmwareFragmentResponseMessageCodec
2012-06-26 14:16:58,766 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.17.handler: com.chinarewards.qqgbvpn.main.protocol.handler.FirmwareUpDoneHandler
2012-06-26 14:16:58,766 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.17.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.FirmwareUpDoneRequestCodec
2012-06-26 14:16:58,766 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.18.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.FirmwareUpDoneResponseCodec
2012-06-26 14:16:58,766 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.19.handler: com.chinarewards.qqgbvpn.main.protocol.handler.HuaxiaSearchCommandHandler
2012-06-26 14:16:58,766 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.19.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.HuaxiaSearchBodyMessageCodec
2012-06-26 14:16:58,766 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.20.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.HuaxiaSearchBodyMessageResponseCodec
2012-06-26 14:16:58,766 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.21.handler: com.chinarewards.qqgbvpn.main.protocol.handler.HuaxiaConfirmCommandHandler
2012-06-26 14:16:58,766 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.21.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.HuaxiaConfirmBodyMessageCodec
2012-06-26 14:16:58,766 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.22.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.HuaxiaConfirmBodyMessageResponseCodec
2012-06-26 14:16:58,766 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.23.handler: com.chinarewards.qqgbvpn.main.protocol.handler.HuaxiaAckCommandHandler
2012-06-26 14:16:58,766 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.23.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.HuaxiaAckBodyMessageCodec
2012-06-26 14:16:58,766 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.24.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.HuaxiaAckBodyMessageResponseCodec
2012-06-26 14:16:58,766 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.25.handler: com.chinarewards.qqgbvpn.main.protocol.handler.PosEchoCommandHandler
2012-06-26 14:16:58,766 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.25.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.PosEchoCommandRequestMessageCodec
2012-06-26 14:16:58,766 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.26.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.PosEchoCommandResponseMessageCodec
2012-06-26 14:16:58,766 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.27.handler: com.chinarewards.qqgbvpn.main.protocol.handler.ValidateCommandHandler2
2012-06-26 14:16:58,766 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.27.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.ValidateBodyMessageCodec2
2012-06-26 14:16:58,766 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.28.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.ValidateBodyMessageResponseCodec2
2012-06-26 14:16:58,766 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.101.handler: com.chinarewards.qqgbvpn.main.protocol.handler.QQMeishiCommandHandler
2012-06-26 14:16:58,766 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.101.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.QQMeishiBodyMessageCodec
2012-06-26 14:16:58,766 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.102.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.QQMeishiBodyMessageResponseCodec
2012-06-26 14:16:58,766 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.201.handler: [com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler, com.chinarewards.qqadidas.main.protocol.handler.RightForCommandHandler]
2012-06-26 14:16:58,766 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.201.codec: [com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftMessageCodec, com.chinarewards.qqadidas.main.protocol.socket.mina.codec.RightForMessageCodec]
2012-06-26 14:16:58,766 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.202.codec: [com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftResponseMessageCodec, com.chinarewards.qqadidas.main.protocol.socket.mina.codec.RightForResponseMessageCodec]
2012-06-26 14:16:58,766 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.110.handler: com.chinarewards.timeserver.main.protocol.handler.TimeServerHandler
2012-06-26 14:16:58,766 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.110.codec: com.chinarewards.timeserver.main.protocol.socket.mina.codec.TimeServerMessageCodec
2012-06-26 14:16:58,766 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.111.codec: com.chinarewards.timeserver.main.protocol.socket.mina.codec.TimeServerMessageResponseCodec
2012-06-26 14:16:58,766 [main            ] [DEBUG] c.c.q.m.BootStrap           - - qq.vip.adidas.des.secretkey: qqadidas
2012-06-26 14:16:58,766 [main            ] [INFO ] c.c.q.m.BootStrap           - Bootstrapping...
2012-06-26 14:16:58,766 [main            ] [INFO ] c.c.q.m.BootStrap           - Initializing dependency injection environment...
2012-06-26 14:16:58,797 [main            ] [INFO ] c.c.q.m.BootStrap           - Creating Guice injector. If it is stucked, there is a chance the database is down.
2012-06-26 14:16:58,938 [main            ] [DEBUG] .q.m.p.ServiceHandlerModule - Finished configuration
2012-06-26 14:16:58,938 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.SearchCommandHandler to Guice
2012-06-26 14:16:58,938 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.QQMeishiCommandHandler to Guice
2012-06-26 14:16:58,938 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.ValidateCommandHandler to Guice
2012-06-26 14:16:58,938 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler to Guice
2012-06-26 14:16:58,938 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler to Guice
2012-06-26 14:16:58,938 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler to Guice
2012-06-26 14:16:58,938 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.timeserver.main.protocol.handler.TimeServerHandler to Guice
2012-06-26 14:16:58,953 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.BindCommandHandler to Guice
2012-06-26 14:16:58,953 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.ValidationCallbackHandler to Guice
2012-06-26 14:16:58,953 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.FirmwareUpgradeRequestCommandHandler to Guice
2012-06-26 14:16:58,953 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.GetFirmwareFragmentHandler to Guice
2012-06-26 14:16:58,953 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.FirmwareUpDoneHandler to Guice
2012-06-26 14:16:58,953 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.HuaxiaSearchCommandHandler to Guice
2012-06-26 14:16:58,953 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.HuaxiaConfirmCommandHandler to Guice
2012-06-26 14:16:58,953 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.HuaxiaAckCommandHandler to Guice
2012-06-26 14:16:58,953 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.PosEchoCommandHandler to Guice
2012-06-26 14:16:58,953 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.ValidateCommandHandler2 to Guice
2012-06-26 14:16:58,953 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Configuration completed
2012-06-26 14:16:59,312 [main            ] [INFO ] c.c.q.m.BootStrap           - Bootstrapping completed
2012-06-26 14:16:59,312 [main            ] [DEBUG] dule$ServiceMappingProvider - Returning ServiceMapping
2012-06-26 14:16:59,312 [main            ] [DEBUG] er$$EnhancerByGuice$$156b27 - ServiceHandlerObjectFactory is com.chinarewards.qqgbvpn.main.protocol.guice.GuiceServiceHandlerObjectFactory@22ab57
2012-06-26 14:17:00,968 [main            ] [DEBUG] c.c.q.m.PosServer           - idleTime=20
2012-06-26 14:17:01,061 [main            ] [DEBUG] c.c.q.m.PosServer           -  monitor port =9999
2012-06-26 14:17:01,061 [main            ] [DEBUG] c.c.q.m.PosServer           -  JMXServiceURL =service:jmx:rmi:///jndi/rmi://localhost:9999/jmxrmi
2012-06-26 14:17:01,093 [main            ] [INFO ] c.c.q.m.PosServer           - Client idle timeout set to 20 seconds
2012-06-26 14:17:01,093 [main            ] [DEBUG] c.c.q.m.PosServer           - config server.session.timeout_check_interval=10
2012-06-26 14:17:01,093 [main            ] [INFO ] c.c.q.m.PosServer           - Server running, listening on 1234
2012-06-26 14:17:01,093 [main            ] [INFO ] c.c.q.m.r.RMIRegistry       - Start listener rmi server, port=9999
2012-06-26 14:17:01,983 [main            ] [INFO ] c.c.q.m.r.RMIRegistry       - no existing RMI registry found on port 9999, creating...
2012-06-26 14:17:01,983 [main            ] [INFO ] c.c.q.m.r.RMIRegistry       - RMI server create success.
2012-06-26 14:17:11,103 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:17:11,103 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:17:11,103 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:17:11,103 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:17:11,103 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:17:21,097 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:17:21,097 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:17:21,097 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:17:21,097 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:17:21,097 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:17:31,092 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:17:31,092 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:17:31,092 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:17:31,092 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:17:31,092 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:17:33,856 [NioProcessor-2  ] [INFO ] c.c.q.m.p.f.LoggingFilter   - incoming connection from remote address: 127.0.0.1:3301, Mina session ID: 1
2012-06-26 14:17:33,856 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - Currently managed session count: 1
2012-06-26 14:17:33,856 [NioProcessor-2  ] [INFO ] o.a.m.f.l.LoggingFilter     - CREATED
2012-06-26 14:17:33,856 [NioProcessor-2  ] [INFO ] o.a.m.f.l.LoggingFilter     - OPENED
2012-06-26 14:17:33,856 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:3301, Mina session ID 1, identified POS ID null
2012-06-26 14:17:33,856 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 14:17:33,887 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=32 cap=2048: 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20...]
2012-06-26 14:17:33,887 [NioProcessor-2  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 1
2012-06-26 14:17:33,887 [NioProcessor-2  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 14:17:33,887 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 14:17:33,887 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 1
2012-06-26 14:17:33,887 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =32
2012-06-26 14:17:33,887 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 14:17:33,887 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 32, current position: 0
2012-06-26 14:17:33,887 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 14:17:33,887 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}
2012-06-26 14:17:33,887 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 16
2012-06-26 14:17:33,887 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=16, in.remaining=16
2012-06-26 14:17:33,887 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 14:17:33,887 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 5
2012-06-26 14:17:33,887 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 5: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageCodec@ffbe23
2012-06-26 14:17:33,887 [NioProcessor-2  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - init request message decode
2012-06-26 14:17:33,887 [NioProcessor-2  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - in.remaining()=16
2012-06-26 14:17:33,887 [NioProcessor-2  ] [TRACE] .m.p.s.m.c.InitMessageCodec - InitRequestMessage: [cmdId=5, posId=pos-0002]
2012-06-26 14:17:33,887 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 14:17:33,887 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 14:17:33,887 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 14:17:33,887 [NioProcessor-2  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 14:17:33,887 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 14:17:33,887 [NioProcessor-2  ] [DEBUG] p.f.SessionKeyMessageFilter - Mina session ID 1: created session key c8cbdb869eea42758b32e1fc221fbf0e
2012-06-26 14:17:33,887 [NioProcessor-2  ] [DEBUG] p.f.SessionKeyMessageFilter - creating session for mina session ID 1 using session ID c8cbdb869eea42758b32e1fc221fbf0e
2012-06-26 14:17:33,887 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 14:17:33,887 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 14:17:33,887 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 14:17:33,887 [NioProcessor-2  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:3301, Mina session ID 1, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 14:17:33,887 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 14:17:33,887 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 14:17:33,887 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 14:17:33,887 [NioProcessor-2  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 14:17:33,887 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 14:17:33,887 [pool-4-thread-1 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 14:17:33,934 [pool-4-thread-1 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 14:17:33,934 [pool-4-thread-1 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@44ffd1 obtained for command ID 5
2012-06-26 14:17:33,934 [pool-4-thread-1 ] [DEBUG] er$$EnhancerByGuice$$156b27 - Handler for command ID 5 is com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@44ffd1
2012-06-26 14:17:33,934 [pool-4-thread-1 ] [DEBUG] .q.m.p.h.InitCommandHandler - InitCommandHandler======execute==bodyMessage=:  [cmdId=5, posId=pos-0002]
2012-06-26 14:17:33,934 [pool-4-thread-1 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - InitResponse() invoke
2012-06-26 14:17:33,934 [pool-4-thread-1 ] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:ALLOWED
2012-06-26 14:17:33,934 [pool-4-thread-1 ] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId AND p.ostatus = :ostatus
2012-06-26 14:17:34,121 [pool-4-thread-1 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - POS ID:pos-0002, init challenge saved - [73, 49, 77, 120, 105, 89, 113, 105]
2012-06-26 14:17:34,324 [pool-4-thread-1 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 14:17:34,356 [pool-4-thread-1 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 14:17:34,356 [pool-4-thread-1 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 14:17:34,356 [pool-4-thread-1 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 14:17:34,356 [pool-4-thread-1 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 1
2012-06-26 14:17:34,356 [pool-4-thread-1 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (6)
2012-06-26 14:17:34,356 [pool-4-thread-1 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageResponseCodec@1e14559
2012-06-26 14:17:34,356 [pool-4-thread-1 ] [DEBUG] .c.InitMessageResponseCodec - init response message encode
2012-06-26 14:17:34,356 [pool-4-thread-1 ] [TRACE] .c.InitMessageResponseCodec - InitResponseMessage: [cmdId=6, result=0, challenge=[73, 49, 77, 120, 105, 89, 113, 105]]
2012-06-26 14:17:34,356 [pool-4-thread-1 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0x8e6e
2012-06-26 14:17:34,356 [pool-4-thread-1 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 14:17:34,356 [pool-4-thread-1 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 8E 6E 00 00 00 1E ...........n....
00000010 00 00 00 06 00 00 49 31 4D 78 69 59 71 69       ......I1MxiYqi

2012-06-26 14:17:34,356 [pool-4-thread-1 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 14:17:34,356 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 14:17:34,356 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 14:17:34,356 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 1: not mark to return session ID to client
2012-06-26 14:17:34,356 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 14:17:34,356 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 14:17:34,356 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 14:17:34,574 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:3301, Mina session ID 1, identified POS ID pos-0002
2012-06-26 14:17:34,574 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 DA BC 00 00 00 30 ...............0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 34 FE 75 C1 48 E7 F5 92 C6 89 44 AE 97 68 55 31 4.u.H.....D..hU1

2012-06-26 14:17:34,574 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=48 cap=2048: 00 00 00 01 00 00 00 00 00 00 DA BC 00 00 00 30...]
2012-06-26 14:17:34,574 [NioProcessor-2  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 1
2012-06-26 14:17:34,574 [NioProcessor-2  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 14:17:34,574 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 14:17:34,574 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 1
2012-06-26 14:17:34,574 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =48
2012-06-26 14:17:34,574 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 DA BC 00 00 00 30 ...............0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 34 FE 75 C1 48 E7 F5 92 C6 89 44 AE 97 68 55 31 4.u.H.....D..hU1

2012-06-26 14:17:34,574 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 48, current position: 0
2012-06-26 14:17:34,574 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 14:17:34,574 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xdabc} messageSize:{0x30} sessionKey:{null}
2012-06-26 14:17:34,574 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 32
2012-06-26 14:17:34,574 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=32, in.remaining=32
2012-06-26 14:17:34,574 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 14:17:34,574 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 7
2012-06-26 14:17:34,590 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 7: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageCodec@907920
2012-06-26 14:17:34,590 [NioProcessor-2  ] [DEBUG] m.p.s.m.c.LoginMessageCodec - login/bind message decode
2012-06-26 14:17:34,590 [NioProcessor-2  ] [TRACE] m.p.s.m.c.LoginMessageCodec - LoginRequestMessage: [cmdId=7, posId=pos-0002, challengeResponse=[52, -2, 117, -63, 72, -25, -11, -110, -58, -119, 68, -82, -105, 104, 85, 49]]
2012-06-26 14:17:34,590 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 14:17:34,590 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xdabc} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[52, -2, 117, -63, 72, -25, -11, -110, -58, -119, 68, -82, -105, 104, 85, 49]]
2012-06-26 14:17:34,590 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 14:17:34,590 [NioProcessor-2  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 14:17:34,590 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 14:17:34,590 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 14:17:34,590 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 14:17:34,590 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 14:17:34,590 [NioProcessor-2  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:3301, Mina session ID 1, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xdabc} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[52, -2, 117, -63, 72, -25, -11, -110, -58, -119, 68, -82, -105, 104, 85, 49]]
2012-06-26 14:17:34,590 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 14:17:34,590 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 14:17:34,590 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 14:17:34,590 [NioProcessor-2  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 14:17:34,590 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 14:17:34,590 [pool-4-thread-2 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 14:17:34,590 [pool-4-thread-2 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 14:17:34,590 [pool-4-thread-2 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@16c94fc obtained for command ID 7
2012-06-26 14:17:34,590 [pool-4-thread-2 ] [DEBUG] er$$EnhancerByGuice$$156b27 - Handler for command ID 7 is com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@16c94fc
2012-06-26 14:17:34,590 [pool-4-thread-2 ] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==bodyMessage=: [cmdId=7, posId=pos-0002, challengeResponse=[52, -2, 117, -63, 72, -25, -11, -110, -58, -119, 68, -82, -105, 104, 85, 49]]
2012-06-26 14:17:34,590 [pool-4-thread-2 ] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:null
2012-06-26 14:17:34,590 [pool-4-thread-2 ] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId
2012-06-26 14:17:34,590 [pool-4-thread-2 ] [TRACE] .q.m.l.l.i.LoginManagerImpl - Loaded from db: pos.posId:pos-0002, pos.secret:000001, oldChallenge:[73, 49, 77, 120, 105, 89, 113, 105]
2012-06-26 14:17:34,590 [pool-4-thread-2 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - disableChallengeCheck =0
2012-06-26 14:17:34,590 [pool-4-thread-2 ] [TRACE] c.c.q.m.l.c.ChallengeUtil   - checking challenge:response:[52, -2, 117, -63, 72, -25, -11, -110, -58, -119, 68, -82, -105, 104, 85, 49], posKey:000001, random:[73, 49, 77, 120, 105, 89, 113, 105]
2012-06-26 14:17:34,824 [pool-4-thread-2 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - new challenge for POS (POS ID): [108, 116, 80, 97, 116, 85, 81, 55]
2012-06-26 14:17:34,840 [pool-4-thread-2 ] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==serverKey=:JXTPOS
2012-06-26 14:17:34,996 [pool-4-thread-2 ] [DEBUG] ThreadSafeClientConnManager - Get connection: HttpRoute[{}->http://localhost:7070], timeout = 0
2012-06-26 14:17:34,996 [pool-4-thread-2 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - [HttpRoute[{}->http://localhost:7070]] total kept alive: 0, total issued: 0, total allocated: 0 out of 20
2012-06-26 14:17:34,996 [pool-4-thread-2 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - No free connections [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 14:17:34,996 [pool-4-thread-2 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Available capacity: 2 out of 2 [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 14:17:34,996 [pool-4-thread-2 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Creating new connection [HttpRoute[{}->http://localhost:7070]]
2012-06-26 14:17:35,027 [pool-4-thread-2 ] [DEBUG] ultClientConnectionOperator - Connecting to localhost:7070
2012-06-26 14:17:36,011 [pool-4-thread-2 ] [DEBUG] i.c.DefaultClientConnection - Connection closed
2012-06-26 14:17:36,011 [pool-4-thread-2 ] [DEBUG] i.c.DefaultClientConnection - Connection shut down
2012-06-26 14:17:36,011 [pool-4-thread-2 ] [DEBUG] ThreadSafeClientConnManager - Released connection is not reusable.
2012-06-26 14:17:36,011 [pool-4-thread-2 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Releasing connection [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 14:17:36,011 [pool-4-thread-2 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Notifying no-one, there are no waiting threads
2012-06-26 14:17:36,011 [pool-4-thread-2 ] [ERROR] q.m.p.h.LoginCommandHandler - initGrouponCache fail:com.chinarewards.qqgbvpn.qqapi.exception.ParseXMLException: com.chinarewards.qqgbvpn.qqapi.exception.SendPostTimeOutException: org.apache.http.conn.HttpHostConnectException: Connection to http://localhost:7070 refused
2012-06-26 14:17:36,011 [pool-4-thread-2 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 14:17:36,058 [pool-4-thread-2 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 14:17:36,058 [pool-4-thread-2 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 14:17:36,058 [pool-4-thread-2 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 14:17:36,058 [pool-4-thread-2 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 1
2012-06-26 14:17:36,058 [pool-4-thread-2 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (8)
2012-06-26 14:17:36,058 [pool-4-thread-2 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageResponseCodec@1b14f5e
2012-06-26 14:17:36,058 [pool-4-thread-2 ] [DEBUG] c.LoginMessageResponseCodec - login/bind message encode
2012-06-26 14:17:36,058 [pool-4-thread-2 ] [TRACE] c.LoginMessageResponseCodec - LoginResponseMessage: [cmdId=8, result=0, challenge=[108, 116, 80, 97, 116, 85, 81, 55]]
2012-06-26 14:17:36,058 [pool-4-thread-2 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0x7d76
2012-06-26 14:17:36,058 [pool-4-thread-2 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 14:17:36,058 [pool-4-thread-2 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 7D 76 00 00 00 1E ..........}v....
00000010 00 00 00 08 00 00 6C 74 50 61 74 55 51 37       ......ltPatUQ7

2012-06-26 14:17:36,058 [pool-4-thread-2 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 14:17:36,058 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 14:17:36,058 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 14:17:36,058 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 1: not mark to return session ID to client
2012-06-26 14:17:36,058 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 14:17:36,058 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 14:17:36,058 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 14:17:36,058 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:3301, Mina session ID 1, identified POS ID pos-0002
2012-06-26 14:17:36,058 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 28 of 28 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 65 68 00 00 00 1C ..........eh....
00000010 00 00 00 C9 00 06 31 32 33 34 35 36             ......123456

2012-06-26 14:17:36,073 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=28 cap=1024: 00 00 00 10 00 00 00 00 00 00 65 68 00 00 00 1C...]
2012-06-26 14:17:36,073 [NioProcessor-2  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 1
2012-06-26 14:17:36,073 [NioProcessor-2  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 14:17:36,073 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 14:17:36,073 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 1
2012-06-26 14:17:36,073 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =28
2012-06-26 14:17:36,073 [Finalizer       ] [DEBUG] ThreadSafeClientConnManager - Shutting down
2012-06-26 14:17:36,073 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 28 of 28 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 65 68 00 00 00 1C ..........eh....
00000010 00 00 00 C9 00 06 31 32 33 34 35 36             ......123456

2012-06-26 14:17:36,073 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 28, current position: 0
2012-06-26 14:17:36,073 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 14:17:36,073 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0x6568} messageSize:{0x1c} sessionKey:{null}
2012-06-26 14:17:36,073 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 12
2012-06-26 14:17:36,073 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=12, in.remaining=12
2012-06-26 14:17:36,073 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 14:17:36,073 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 201
2012-06-26 14:17:36,073 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 201: com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftMessageCodec@4a6ce5
2012-06-26 14:17:36,073 [NioProcessor-2  ] [DEBUG] m.c.ReceiveGiftMessageCodec - receive gift request message decode
2012-06-26 14:17:36,073 [NioProcessor-2  ] [DEBUG] m.c.ReceiveGiftMessageCodec - in.remaining()=12
2012-06-26 14:17:36,073 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 14:17:36,073 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0x6568} messageSize:{0x1c} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@4ef720
2012-06-26 14:17:36,073 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 14:17:36,073 [NioProcessor-2  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 14:17:36,073 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 14:17:36,073 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 14:17:36,073 [NioProcessor-2  ] [DEBUG] c.c.q.m.p.f.LoginFilter     - isLogin=true
2012-06-26 14:17:36,073 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 14:17:36,073 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 14:17:36,073 [NioProcessor-2  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:3301, Mina session ID 1, identified POS ID pos-0002, message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0x6568} messageSize:{0x1c} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@4ef720
2012-06-26 14:17:36,073 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 14:17:36,073 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 14:17:36,073 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 14:17:36,073 [NioProcessor-2  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 14:17:36,073 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 14:17:36,073 [pool-4-thread-3 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 14:17:36,073 [pool-4-thread-3 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 14:17:36,073 [pool-4-thread-3 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@169bd4e obtained for command ID 201
2012-06-26 14:17:36,073 [pool-4-thread-3 ] [DEBUG] er$$EnhancerByGuice$$156b27 - Handler for command ID 201 is com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@169bd4e
2012-06-26 14:17:36,073 [pool-4-thread-3 ] [DEBUG] h.ReceiveGiftCommandHandler - ReceiveGiftHandler======execute==bodyMessage=: com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@4ef720
2012-06-26 14:17:36,089 [pool-4-thread-3 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 14:17:36,089 [pool-4-thread-3 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 14:17:36,089 [pool-4-thread-3 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 14:17:36,089 [pool-4-thread-3 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 14:17:36,089 [pool-4-thread-3 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 1
2012-06-26 14:17:36,089 [pool-4-thread-3 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (202)
2012-06-26 14:17:36,089 [pool-4-thread-3 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftResponseMessageCodec@19c4afb
2012-06-26 14:17:36,089 [pool-4-thread-3 ] [DEBUG] iveGiftResponseMessageCodec - receive gift response message encode
2012-06-26 14:17:36,089 [pool-4-thread-3 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0x6e68
2012-06-26 14:17:36,089 [pool-4-thread-3 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 14:17:36,089 [pool-4-thread-3 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 69 of 69 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 6E 68 00 00 00 45 ..........nh...E
00000010 00 00 00 CA 00 00 00 02 07 DC 06 1A 0E 11 24 00 ..............$.
00000020 49 01 E0 00 08 C1 EC C8 A1 C0 F1 C6 B7 00 16 31 I..............1
00000030 32 33 34 35 36 0A CE DE D0 A7 0A B0 B4 4F 4B BC 23456........OK.
00000040 FC B7 B5 BB D8                                  .....

2012-06-26 14:17:36,089 [pool-4-thread-3 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 14:17:36,089 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 14:17:36,089 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 14:17:36,089 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 1: not mark to return session ID to client
2012-06-26 14:17:36,089 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 14:17:36,089 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 14:17:36,089 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 14:17:36,105 [NioProcessor-2  ] [INFO ] o.a.m.f.l.LoggingFilter     - CLOSED
2012-06-26 14:17:36,105 [NioProcessor-2  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 14:17:36,308 [NioProcessor-3  ] [INFO ] c.c.q.m.p.f.LoggingFilter   - incoming connection from remote address: 127.0.0.1:3303, Mina session ID: 2
2012-06-26 14:17:36,308 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - Currently managed session count: 1
2012-06-26 14:17:36,308 [NioProcessor-3  ] [INFO ] o.a.m.f.l.LoggingFilter     - CREATED
2012-06-26 14:17:36,308 [NioProcessor-3  ] [INFO ] o.a.m.f.l.LoggingFilter     - OPENED
2012-06-26 14:17:36,448 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:3303, Mina session ID 2, identified POS ID null
2012-06-26 14:17:36,448 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 14:17:36,448 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=32 cap=2048: 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20...]
2012-06-26 14:17:36,448 [NioProcessor-3  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 2
2012-06-26 14:17:36,448 [NioProcessor-3  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 14:17:36,448 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 14:17:36,448 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 2
2012-06-26 14:17:36,448 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =32
2012-06-26 14:17:36,448 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 14:17:36,448 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 32, current position: 0
2012-06-26 14:17:36,448 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 14:17:36,448 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}
2012-06-26 14:17:36,448 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 16
2012-06-26 14:17:36,448 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=16, in.remaining=16
2012-06-26 14:17:36,448 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 14:17:36,448 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 5
2012-06-26 14:17:36,448 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 5: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageCodec@1db77cf
2012-06-26 14:17:36,448 [NioProcessor-3  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - init request message decode
2012-06-26 14:17:36,448 [NioProcessor-3  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - in.remaining()=16
2012-06-26 14:17:36,448 [NioProcessor-3  ] [TRACE] .m.p.s.m.c.InitMessageCodec - InitRequestMessage: [cmdId=5, posId=pos-0002]
2012-06-26 14:17:36,448 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 14:17:36,448 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 14:17:36,448 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 14:17:36,448 [NioProcessor-3  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 14:17:36,448 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 14:17:36,448 [NioProcessor-3  ] [DEBUG] p.f.SessionKeyMessageFilter - Mina session ID 2: created session key aab79983837c4fbebc08571f4380caf8
2012-06-26 14:17:36,448 [NioProcessor-3  ] [DEBUG] p.f.SessionKeyMessageFilter - creating session for mina session ID 2 using session ID aab79983837c4fbebc08571f4380caf8
2012-06-26 14:17:36,448 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 14:17:36,448 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 14:17:36,448 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 14:17:36,448 [NioProcessor-3  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:3303, Mina session ID 2, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 14:17:36,448 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 14:17:36,448 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 14:17:36,448 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 14:17:36,448 [NioProcessor-3  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 14:17:36,448 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 14:17:36,448 [pool-4-thread-4 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 14:17:36,448 [pool-4-thread-4 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 14:17:36,448 [pool-4-thread-4 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@809310 obtained for command ID 5
2012-06-26 14:17:36,448 [pool-4-thread-4 ] [DEBUG] er$$EnhancerByGuice$$156b27 - Handler for command ID 5 is com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@809310
2012-06-26 14:17:36,448 [pool-4-thread-4 ] [DEBUG] .q.m.p.h.InitCommandHandler - InitCommandHandler======execute==bodyMessage=:  [cmdId=5, posId=pos-0002]
2012-06-26 14:17:36,448 [pool-4-thread-4 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - InitResponse() invoke
2012-06-26 14:17:36,448 [pool-4-thread-4 ] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:ALLOWED
2012-06-26 14:17:36,448 [pool-4-thread-4 ] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId AND p.ostatus = :ostatus
2012-06-26 14:17:36,464 [pool-4-thread-4 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - POS ID:pos-0002, init challenge saved - [81, 107, 48, 118, 102, 88, 106, 67]
2012-06-26 14:17:36,464 [pool-4-thread-4 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 14:17:36,479 [pool-4-thread-4 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 14:17:36,479 [pool-4-thread-4 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 14:17:36,479 [pool-4-thread-4 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 14:17:36,479 [pool-4-thread-4 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 2
2012-06-26 14:17:36,479 [pool-4-thread-4 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (6)
2012-06-26 14:17:36,479 [pool-4-thread-4 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageResponseCodec@866c6a
2012-06-26 14:17:36,479 [pool-4-thread-4 ] [DEBUG] .c.InitMessageResponseCodec - init response message encode
2012-06-26 14:17:36,479 [pool-4-thread-4 ] [TRACE] .c.InitMessageResponseCodec - InitResponseMessage: [cmdId=6, result=0, challenge=[81, 107, 48, 118, 102, 88, 106, 67]]
2012-06-26 14:17:36,479 [pool-4-thread-4 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0xad5d
2012-06-26 14:17:36,479 [pool-4-thread-4 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 14:17:36,479 [pool-4-thread-4 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 AD 5D 00 00 00 1E ...........]....
00000010 00 00 00 06 00 00 51 6B 30 76 66 58 6A 43       ......Qk0vfXjC

2012-06-26 14:17:36,479 [pool-4-thread-4 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 14:17:36,479 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 14:17:36,479 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 14:17:36,479 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 2: not mark to return session ID to client
2012-06-26 14:17:36,479 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 14:17:36,479 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 14:17:36,479 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 14:17:36,479 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:3303, Mina session ID 2, identified POS ID pos-0002
2012-06-26 14:17:36,479 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 F2 B2 00 00 00 30 ...............0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 E7 1F D2 96 16 84 43 E2 DB 6B C6 54 41 66 D1 D1 ......C..k.TAf..

2012-06-26 14:17:36,479 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=48 cap=2048: 00 00 00 01 00 00 00 00 00 00 F2 B2 00 00 00 30...]
2012-06-26 14:17:36,479 [NioProcessor-3  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 2
2012-06-26 14:17:36,479 [NioProcessor-3  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 14:17:36,479 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 14:17:36,479 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 2
2012-06-26 14:17:36,479 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =48
2012-06-26 14:17:36,479 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 F2 B2 00 00 00 30 ...............0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 E7 1F D2 96 16 84 43 E2 DB 6B C6 54 41 66 D1 D1 ......C..k.TAf..

2012-06-26 14:17:36,479 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 48, current position: 0
2012-06-26 14:17:36,479 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 14:17:36,479 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xf2b2} messageSize:{0x30} sessionKey:{null}
2012-06-26 14:17:36,479 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 32
2012-06-26 14:17:36,479 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=32, in.remaining=32
2012-06-26 14:17:36,479 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 14:17:36,479 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 7
2012-06-26 14:17:36,479 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 7: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageCodec@c95bd1
2012-06-26 14:17:36,479 [NioProcessor-3  ] [DEBUG] m.p.s.m.c.LoginMessageCodec - login/bind message decode
2012-06-26 14:17:36,479 [NioProcessor-3  ] [TRACE] m.p.s.m.c.LoginMessageCodec - LoginRequestMessage: [cmdId=7, posId=pos-0002, challengeResponse=[-25, 31, -46, -106, 22, -124, 67, -30, -37, 107, -58, 84, 65, 102, -47, -47]]
2012-06-26 14:17:36,479 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 14:17:36,479 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xf2b2} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[-25, 31, -46, -106, 22, -124, 67, -30, -37, 107, -58, 84, 65, 102, -47, -47]]
2012-06-26 14:17:36,479 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 14:17:36,479 [NioProcessor-3  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 14:17:36,479 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 14:17:36,479 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 14:17:36,479 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 14:17:36,479 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 14:17:36,479 [NioProcessor-3  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:3303, Mina session ID 2, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xf2b2} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[-25, 31, -46, -106, 22, -124, 67, -30, -37, 107, -58, 84, 65, 102, -47, -47]]
2012-06-26 14:17:36,479 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 14:17:36,479 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 14:17:36,479 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 14:17:36,479 [NioProcessor-3  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 14:17:36,479 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 14:17:36,479 [pool-4-thread-5 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 14:17:36,479 [pool-4-thread-5 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 14:17:36,479 [pool-4-thread-5 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@1df5800 obtained for command ID 7
2012-06-26 14:17:36,479 [pool-4-thread-5 ] [DEBUG] er$$EnhancerByGuice$$156b27 - Handler for command ID 7 is com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@1df5800
2012-06-26 14:17:36,479 [pool-4-thread-5 ] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==bodyMessage=: [cmdId=7, posId=pos-0002, challengeResponse=[-25, 31, -46, -106, 22, -124, 67, -30, -37, 107, -58, 84, 65, 102, -47, -47]]
2012-06-26 14:17:36,479 [pool-4-thread-5 ] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:null
2012-06-26 14:17:36,479 [pool-4-thread-5 ] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId
2012-06-26 14:17:36,479 [pool-4-thread-5 ] [TRACE] .q.m.l.l.i.LoginManagerImpl - Loaded from db: pos.posId:pos-0002, pos.secret:000001, oldChallenge:[81, 107, 48, 118, 102, 88, 106, 67]
2012-06-26 14:17:36,495 [pool-4-thread-5 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - disableChallengeCheck =0
2012-06-26 14:17:36,495 [pool-4-thread-5 ] [TRACE] c.c.q.m.l.c.ChallengeUtil   - checking challenge:response:[-25, 31, -46, -106, 22, -124, 67, -30, -37, 107, -58, 84, 65, 102, -47, -47], posKey:000001, random:[81, 107, 48, 118, 102, 88, 106, 67]
2012-06-26 14:17:36,495 [pool-4-thread-5 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - new challenge for POS (POS ID): [83, 77, 120, 84, 88, 65, 66, 97]
2012-06-26 14:17:36,495 [pool-4-thread-5 ] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==serverKey=:JXTPOS
2012-06-26 14:17:36,495 [pool-4-thread-5 ] [DEBUG] ThreadSafeClientConnManager - Get connection: HttpRoute[{}->http://localhost:7070], timeout = 0
2012-06-26 14:17:36,495 [pool-4-thread-5 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - [HttpRoute[{}->http://localhost:7070]] total kept alive: 0, total issued: 0, total allocated: 0 out of 20
2012-06-26 14:17:36,495 [pool-4-thread-5 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - No free connections [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 14:17:36,495 [pool-4-thread-5 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Available capacity: 2 out of 2 [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 14:17:36,495 [pool-4-thread-5 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Creating new connection [HttpRoute[{}->http://localhost:7070]]
2012-06-26 14:17:36,495 [pool-4-thread-5 ] [DEBUG] ultClientConnectionOperator - Connecting to localhost:7070
2012-06-26 14:17:37,495 [pool-4-thread-5 ] [DEBUG] i.c.DefaultClientConnection - Connection closed
2012-06-26 14:17:37,495 [pool-4-thread-5 ] [DEBUG] i.c.DefaultClientConnection - Connection shut down
2012-06-26 14:17:37,495 [pool-4-thread-5 ] [DEBUG] ThreadSafeClientConnManager - Released connection is not reusable.
2012-06-26 14:17:37,495 [pool-4-thread-5 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Releasing connection [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 14:17:37,495 [pool-4-thread-5 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Notifying no-one, there are no waiting threads
2012-06-26 14:17:37,495 [pool-4-thread-5 ] [ERROR] q.m.p.h.LoginCommandHandler - initGrouponCache fail:com.chinarewards.qqgbvpn.qqapi.exception.ParseXMLException: com.chinarewards.qqgbvpn.qqapi.exception.SendPostTimeOutException: org.apache.http.conn.HttpHostConnectException: Connection to http://localhost:7070 refused
2012-06-26 14:17:37,526 [pool-4-thread-5 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 14:17:37,557 [pool-4-thread-5 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 14:17:37,557 [pool-4-thread-5 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 14:17:37,557 [pool-4-thread-5 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 14:17:37,557 [pool-4-thread-5 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 2
2012-06-26 14:17:37,557 [pool-4-thread-5 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (8)
2012-06-26 14:17:37,557 [pool-4-thread-5 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageResponseCodec@b1fe42
2012-06-26 14:17:37,557 [pool-4-thread-5 ] [DEBUG] c.LoginMessageResponseCodec - login/bind message encode
2012-06-26 14:17:37,557 [pool-4-thread-5 ] [TRACE] c.LoginMessageResponseCodec - LoginResponseMessage: [cmdId=8, result=0, challenge=[83, 77, 120, 84, 88, 65, 66, 97]]
2012-06-26 14:17:37,557 [pool-4-thread-5 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0x9994
2012-06-26 14:17:37,557 [pool-4-thread-5 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 14:17:37,557 [pool-4-thread-5 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 99 94 00 00 00 1E ................
00000010 00 00 00 08 00 00 53 4D 78 54 58 41 42 61       ......SMxTXABa

2012-06-26 14:17:37,557 [pool-4-thread-5 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 14:17:37,557 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 14:17:37,557 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 14:17:37,557 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 2: not mark to return session ID to client
2012-06-26 14:17:37,557 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 14:17:37,557 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 14:17:37,557 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 14:17:37,557 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:3303, Mina session ID 2, identified POS ID pos-0002
2012-06-26 14:17:37,557 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 33 of 33 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 D8 04 00 00 00 21 ...............!
00000010 00 00 00 C9 00 0B 31 31 31 31 31 31 31 31 31 31 ......1111111111
00000020 31                                              1

2012-06-26 14:17:37,557 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=33 cap=1024: 00 00 00 10 00 00 00 00 00 00 D8 04 00 00 00 21...]
2012-06-26 14:17:37,557 [NioProcessor-3  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 2
2012-06-26 14:17:37,557 [NioProcessor-3  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 14:17:37,557 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 14:17:37,557 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 2
2012-06-26 14:17:37,557 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =33
2012-06-26 14:17:37,557 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 33 of 33 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 D8 04 00 00 00 21 ...............!
00000010 00 00 00 C9 00 0B 31 31 31 31 31 31 31 31 31 31 ......1111111111
00000020 31                                              1

2012-06-26 14:17:37,557 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 33, current position: 0
2012-06-26 14:17:37,557 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 14:17:37,557 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd804} messageSize:{0x21} sessionKey:{null}
2012-06-26 14:17:37,557 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 17
2012-06-26 14:17:37,557 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=17, in.remaining=17
2012-06-26 14:17:37,557 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 14:17:37,557 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 201
2012-06-26 14:17:37,557 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 201: com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftMessageCodec@1abba15
2012-06-26 14:17:37,557 [NioProcessor-3  ] [DEBUG] m.c.ReceiveGiftMessageCodec - receive gift request message decode
2012-06-26 14:17:37,557 [NioProcessor-3  ] [DEBUG] m.c.ReceiveGiftMessageCodec - in.remaining()=17
2012-06-26 14:17:37,557 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 14:17:37,557 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd804} messageSize:{0x21} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@b3fa45
2012-06-26 14:17:37,557 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 14:17:37,557 [NioProcessor-3  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 14:17:37,557 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 14:17:37,557 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 14:17:37,557 [NioProcessor-3  ] [DEBUG] c.c.q.m.p.f.LoginFilter     - isLogin=true
2012-06-26 14:17:37,557 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 14:17:37,557 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 14:17:37,557 [NioProcessor-3  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:3303, Mina session ID 2, identified POS ID pos-0002, message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd804} messageSize:{0x21} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@b3fa45
2012-06-26 14:17:37,557 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 14:17:37,557 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 14:17:37,557 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 14:17:37,557 [NioProcessor-3  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 14:17:37,557 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 14:17:37,557 [pool-4-thread-6 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 14:17:37,557 [pool-4-thread-6 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 14:17:37,557 [pool-4-thread-6 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@7d048 obtained for command ID 201
2012-06-26 14:17:37,557 [pool-4-thread-6 ] [DEBUG] er$$EnhancerByGuice$$156b27 - Handler for command ID 201 is com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@7d048
2012-06-26 14:17:37,557 [pool-4-thread-6 ] [DEBUG] h.ReceiveGiftCommandHandler - ReceiveGiftHandler======execute==bodyMessage=: com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@b3fa45
2012-06-26 14:17:37,573 [Finalizer       ] [DEBUG] ThreadSafeClientConnManager - Shutting down
2012-06-26 14:17:37,573 [pool-4-thread-6 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 14:17:37,573 [pool-4-thread-6 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 14:17:37,573 [pool-4-thread-6 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 14:17:37,573 [pool-4-thread-6 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 14:17:37,573 [pool-4-thread-6 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 2
2012-06-26 14:17:37,573 [pool-4-thread-6 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (202)
2012-06-26 14:17:37,573 [pool-4-thread-6 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftResponseMessageCodec@1dd807
2012-06-26 14:17:37,573 [pool-4-thread-6 ] [DEBUG] iveGiftResponseMessageCodec - receive gift response message encode
2012-06-26 14:17:37,573 [pool-4-thread-6 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0x64d3
2012-06-26 14:17:37,573 [pool-4-thread-6 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 14:17:37,573 [pool-4-thread-6 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 55 of 55 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 64 D3 00 00 00 37 ..........d....7
00000010 00 00 00 CA 00 00 00 00 07 DC 06 1A 0E 11 25 02 ..............%.
00000020 2D 01 E0 00 08 C1 EC C8 A1 C0 F1 C6 B7 00 08 BD -...............
00000030 BB D2 D7 B3 C9 B9 A6                            .......

2012-06-26 14:17:37,573 [pool-4-thread-6 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 14:17:37,573 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 14:17:37,573 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 14:17:37,573 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 2: not mark to return session ID to client
2012-06-26 14:17:37,573 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 14:17:37,573 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 14:17:37,573 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 14:17:37,573 [NioProcessor-3  ] [INFO ] o.a.m.f.l.LoggingFilter     - CLOSED
2012-06-26 14:17:37,573 [NioProcessor-3  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 14:17:37,807 [NioProcessor-1  ] [INFO ] c.c.q.m.p.f.LoggingFilter   - incoming connection from remote address: 127.0.0.1:3305, Mina session ID: 3
2012-06-26 14:17:37,807 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - Currently managed session count: 1
2012-06-26 14:17:37,807 [NioProcessor-1  ] [INFO ] o.a.m.f.l.LoggingFilter     - CREATED
2012-06-26 14:17:37,807 [NioProcessor-1  ] [INFO ] o.a.m.f.l.LoggingFilter     - OPENED
2012-06-26 14:17:37,807 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:3305, Mina session ID 3, identified POS ID null
2012-06-26 14:17:37,822 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 14:17:37,822 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=32 cap=2048: 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20...]
2012-06-26 14:17:37,822 [NioProcessor-1  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 3
2012-06-26 14:17:37,822 [NioProcessor-1  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 14:17:37,822 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 14:17:37,822 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 3
2012-06-26 14:17:37,822 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =32
2012-06-26 14:17:37,822 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 14:17:37,822 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 32, current position: 0
2012-06-26 14:17:37,822 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 14:17:37,822 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}
2012-06-26 14:17:37,822 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 16
2012-06-26 14:17:37,822 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=16, in.remaining=16
2012-06-26 14:17:37,822 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 14:17:37,822 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 5
2012-06-26 14:17:37,822 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 5: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageCodec@12ed36c
2012-06-26 14:17:37,822 [NioProcessor-1  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - init request message decode
2012-06-26 14:17:37,822 [NioProcessor-1  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - in.remaining()=16
2012-06-26 14:17:37,822 [NioProcessor-1  ] [TRACE] .m.p.s.m.c.InitMessageCodec - InitRequestMessage: [cmdId=5, posId=pos-0002]
2012-06-26 14:17:37,822 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 14:17:37,822 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 14:17:37,822 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 14:17:37,822 [NioProcessor-1  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 14:17:37,822 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 14:17:37,822 [NioProcessor-1  ] [DEBUG] p.f.SessionKeyMessageFilter - Mina session ID 3: created session key 89636ff978284384bcc69accc7224718
2012-06-26 14:17:37,822 [NioProcessor-1  ] [DEBUG] p.f.SessionKeyMessageFilter - creating session for mina session ID 3 using session ID 89636ff978284384bcc69accc7224718
2012-06-26 14:17:37,822 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 14:17:37,822 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 14:17:37,822 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 14:17:37,822 [NioProcessor-1  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:3305, Mina session ID 3, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 14:17:37,822 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 14:17:37,822 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 14:17:37,822 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 14:17:37,822 [NioProcessor-1  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 14:17:37,822 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 14:17:37,822 [pool-4-thread-7 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 14:17:37,822 [pool-4-thread-7 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 14:17:37,822 [pool-4-thread-7 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@3e755b obtained for command ID 5
2012-06-26 14:17:37,822 [pool-4-thread-7 ] [DEBUG] er$$EnhancerByGuice$$156b27 - Handler for command ID 5 is com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@3e755b
2012-06-26 14:17:37,822 [pool-4-thread-7 ] [DEBUG] .q.m.p.h.InitCommandHandler - InitCommandHandler======execute==bodyMessage=:  [cmdId=5, posId=pos-0002]
2012-06-26 14:17:37,822 [pool-4-thread-7 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - InitResponse() invoke
2012-06-26 14:17:37,822 [pool-4-thread-7 ] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:ALLOWED
2012-06-26 14:17:37,822 [pool-4-thread-7 ] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId AND p.ostatus = :ostatus
2012-06-26 14:17:37,822 [pool-4-thread-7 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - POS ID:pos-0002, init challenge saved - [98, 88, 54, 89, 115, 56, 85, 83]
2012-06-26 14:17:37,822 [pool-4-thread-7 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 14:17:37,854 [pool-4-thread-7 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 14:17:37,854 [pool-4-thread-7 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 14:17:37,854 [pool-4-thread-7 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 14:17:37,854 [pool-4-thread-7 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 3
2012-06-26 14:17:37,854 [pool-4-thread-7 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (6)
2012-06-26 14:17:37,854 [pool-4-thread-7 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageResponseCodec@422bd9
2012-06-26 14:17:37,854 [pool-4-thread-7 ] [DEBUG] .c.InitMessageResponseCodec - init response message encode
2012-06-26 14:17:37,854 [pool-4-thread-7 ] [TRACE] .c.InitMessageResponseCodec - InitResponseMessage: [cmdId=6, result=0, challenge=[98, 88, 54, 89, 115, 56, 85, 83]]
2012-06-26 14:17:37,854 [pool-4-thread-7 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0x9e9d
2012-06-26 14:17:37,854 [pool-4-thread-7 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 14:17:37,854 [pool-4-thread-7 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 9E 9D 00 00 00 1E ................
00000010 00 00 00 06 00 00 62 58 36 59 73 38 55 53       ......bX6Ys8US

2012-06-26 14:17:37,854 [pool-4-thread-7 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 14:17:37,854 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 14:17:37,854 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 14:17:37,854 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 3: not mark to return session ID to client
2012-06-26 14:17:37,854 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 14:17:37,854 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 14:17:37,854 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 14:17:37,854 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:3305, Mina session ID 3, identified POS ID pos-0002
2012-06-26 14:17:37,854 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 D9 5A 00 00 00 30 ...........Z...0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 71 3B 39 65 50 7E 77 3F 1A 13 BA 41 15 E2 85 D8 q;9eP~w?...A....

2012-06-26 14:17:37,854 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=48 cap=2048: 00 00 00 01 00 00 00 00 00 00 D9 5A 00 00 00 30...]
2012-06-26 14:17:37,854 [NioProcessor-1  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 3
2012-06-26 14:17:37,854 [NioProcessor-1  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 14:17:37,854 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 14:17:37,854 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 3
2012-06-26 14:17:37,854 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =48
2012-06-26 14:17:37,854 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 D9 5A 00 00 00 30 ...........Z...0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 71 3B 39 65 50 7E 77 3F 1A 13 BA 41 15 E2 85 D8 q;9eP~w?...A....

2012-06-26 14:17:37,854 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 48, current position: 0
2012-06-26 14:17:37,854 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 14:17:37,854 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xd95a} messageSize:{0x30} sessionKey:{null}
2012-06-26 14:17:37,854 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 32
2012-06-26 14:17:37,854 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=32, in.remaining=32
2012-06-26 14:17:37,854 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 14:17:37,854 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 7
2012-06-26 14:17:37,854 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 7: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageCodec@18fe63a
2012-06-26 14:17:37,854 [NioProcessor-1  ] [DEBUG] m.p.s.m.c.LoginMessageCodec - login/bind message decode
2012-06-26 14:17:37,854 [NioProcessor-1  ] [TRACE] m.p.s.m.c.LoginMessageCodec - LoginRequestMessage: [cmdId=7, posId=pos-0002, challengeResponse=[113, 59, 57, 101, 80, 126, 119, 63, 26, 19, -70, 65, 21, -30, -123, -40]]
2012-06-26 14:17:37,854 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 14:17:37,854 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xd95a} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[113, 59, 57, 101, 80, 126, 119, 63, 26, 19, -70, 65, 21, -30, -123, -40]]
2012-06-26 14:17:37,854 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 14:17:37,854 [NioProcessor-1  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 14:17:37,854 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 14:17:37,854 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 14:17:37,854 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 14:17:37,854 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 14:17:37,854 [NioProcessor-1  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:3305, Mina session ID 3, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xd95a} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[113, 59, 57, 101, 80, 126, 119, 63, 26, 19, -70, 65, 21, -30, -123, -40]]
2012-06-26 14:17:37,869 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 14:17:37,869 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 14:17:37,869 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 14:17:37,869 [NioProcessor-1  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 14:17:37,869 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 14:17:37,869 [pool-4-thread-8 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 14:17:37,869 [pool-4-thread-8 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 14:17:37,869 [pool-4-thread-8 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@bf51fe obtained for command ID 7
2012-06-26 14:17:37,869 [pool-4-thread-8 ] [DEBUG] er$$EnhancerByGuice$$156b27 - Handler for command ID 7 is com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@bf51fe
2012-06-26 14:17:37,869 [pool-4-thread-8 ] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==bodyMessage=: [cmdId=7, posId=pos-0002, challengeResponse=[113, 59, 57, 101, 80, 126, 119, 63, 26, 19, -70, 65, 21, -30, -123, -40]]
2012-06-26 14:17:37,869 [pool-4-thread-8 ] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:null
2012-06-26 14:17:37,869 [pool-4-thread-8 ] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId
2012-06-26 14:17:37,869 [pool-4-thread-8 ] [TRACE] .q.m.l.l.i.LoginManagerImpl - Loaded from db: pos.posId:pos-0002, pos.secret:000001, oldChallenge:[98, 88, 54, 89, 115, 56, 85, 83]
2012-06-26 14:17:37,869 [pool-4-thread-8 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - disableChallengeCheck =0
2012-06-26 14:17:37,869 [pool-4-thread-8 ] [TRACE] c.c.q.m.l.c.ChallengeUtil   - checking challenge:response:[113, 59, 57, 101, 80, 126, 119, 63, 26, 19, -70, 65, 21, -30, -123, -40], posKey:000001, random:[98, 88, 54, 89, 115, 56, 85, 83]
2012-06-26 14:17:37,869 [pool-4-thread-8 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - new challenge for POS (POS ID): [83, 54, 114, 87, 83, 97, 76, 120]
2012-06-26 14:17:37,869 [pool-4-thread-8 ] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==serverKey=:JXTPOS
2012-06-26 14:17:37,885 [pool-4-thread-8 ] [DEBUG] ThreadSafeClientConnManager - Get connection: HttpRoute[{}->http://localhost:7070], timeout = 0
2012-06-26 14:17:37,885 [pool-4-thread-8 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - [HttpRoute[{}->http://localhost:7070]] total kept alive: 0, total issued: 0, total allocated: 0 out of 20
2012-06-26 14:17:37,885 [pool-4-thread-8 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - No free connections [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 14:17:37,885 [pool-4-thread-8 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Available capacity: 2 out of 2 [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 14:17:37,885 [pool-4-thread-8 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Creating new connection [HttpRoute[{}->http://localhost:7070]]
2012-06-26 14:17:37,885 [pool-4-thread-8 ] [DEBUG] ultClientConnectionOperator - Connecting to localhost:7070
2012-06-26 14:17:39,025 [pool-4-thread-8 ] [DEBUG] i.c.DefaultClientConnection - Connection closed
2012-06-26 14:17:39,025 [pool-4-thread-8 ] [DEBUG] i.c.DefaultClientConnection - Connection shut down
2012-06-26 14:17:39,025 [pool-4-thread-8 ] [DEBUG] ThreadSafeClientConnManager - Released connection is not reusable.
2012-06-26 14:17:39,025 [pool-4-thread-8 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Releasing connection [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 14:17:39,025 [pool-4-thread-8 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Notifying no-one, there are no waiting threads
2012-06-26 14:17:39,025 [pool-4-thread-8 ] [ERROR] q.m.p.h.LoginCommandHandler - initGrouponCache fail:com.chinarewards.qqgbvpn.qqapi.exception.ParseXMLException: com.chinarewards.qqgbvpn.qqapi.exception.SendPostTimeOutException: org.apache.http.conn.HttpHostConnectException: Connection to http://localhost:7070 refused
2012-06-26 14:17:39,025 [pool-4-thread-8 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 14:17:39,056 [pool-4-thread-8 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 14:17:39,056 [pool-4-thread-8 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 14:17:39,056 [pool-4-thread-8 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 14:17:39,056 [pool-4-thread-8 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 3
2012-06-26 14:17:39,056 [pool-4-thread-8 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (8)
2012-06-26 14:17:39,056 [pool-4-thread-8 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageResponseCodec@2b17f1
2012-06-26 14:17:39,056 [pool-4-thread-8 ] [DEBUG] c.LoginMessageResponseCodec - login/bind message encode
2012-06-26 14:17:39,056 [pool-4-thread-8 ] [TRACE] c.LoginMessageResponseCodec - LoginResponseMessage: [cmdId=8, result=0, challenge=[83, 54, 114, 87, 83, 97, 76, 120]]
2012-06-26 14:17:39,056 [pool-4-thread-8 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0x9a71
2012-06-26 14:17:39,056 [pool-4-thread-8 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 14:17:39,056 [pool-4-thread-8 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 9A 71 00 00 00 1E ...........q....
00000010 00 00 00 08 00 00 53 36 72 57 53 61 4C 78       ......S6rWSaLx

2012-06-26 14:17:39,056 [pool-4-thread-8 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 14:17:39,056 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 14:17:39,056 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 14:17:39,056 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 3: not mark to return session ID to client
2012-06-26 14:17:39,056 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 14:17:39,056 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 14:17:39,056 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 14:17:39,056 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:3305, Mina session ID 3, identified POS ID pos-0002
2012-06-26 14:17:39,056 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 33 of 33 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 D1 FF 00 00 00 21 ...............!
00000010 00 00 00 C9 00 0B 32 32 32 32 32 32 32 32 32 32 ......2222222222
00000020 32                                              2

2012-06-26 14:17:39,056 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=33 cap=1024: 00 00 00 10 00 00 00 00 00 00 D1 FF 00 00 00 21...]
2012-06-26 14:17:39,056 [NioProcessor-1  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 3
2012-06-26 14:17:39,056 [NioProcessor-1  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 14:17:39,056 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 14:17:39,056 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 3
2012-06-26 14:17:39,056 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =33
2012-06-26 14:17:39,056 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 33 of 33 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 D1 FF 00 00 00 21 ...............!
00000010 00 00 00 C9 00 0B 32 32 32 32 32 32 32 32 32 32 ......2222222222
00000020 32                                              2

2012-06-26 14:17:39,056 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 33, current position: 0
2012-06-26 14:17:39,056 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 14:17:39,056 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd1ff} messageSize:{0x21} sessionKey:{null}
2012-06-26 14:17:39,056 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 17
2012-06-26 14:17:39,056 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=17, in.remaining=17
2012-06-26 14:17:39,056 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 14:17:39,056 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 201
2012-06-26 14:17:39,056 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 201: com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftMessageCodec@1310297
2012-06-26 14:17:39,056 [NioProcessor-1  ] [DEBUG] m.c.ReceiveGiftMessageCodec - receive gift request message decode
2012-06-26 14:17:39,056 [Finalizer       ] [DEBUG] ThreadSafeClientConnManager - Shutting down
2012-06-26 14:17:39,056 [NioProcessor-1  ] [DEBUG] m.c.ReceiveGiftMessageCodec - in.remaining()=17
2012-06-26 14:17:39,056 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 14:17:39,056 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd1ff} messageSize:{0x21} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@12e6b1f
2012-06-26 14:17:39,056 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 14:17:39,056 [NioProcessor-1  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 14:17:39,056 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 14:17:39,056 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 14:17:39,056 [NioProcessor-1  ] [DEBUG] c.c.q.m.p.f.LoginFilter     - isLogin=true
2012-06-26 14:17:39,056 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 14:17:39,056 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 14:17:39,056 [NioProcessor-1  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:3305, Mina session ID 3, identified POS ID pos-0002, message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd1ff} messageSize:{0x21} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@12e6b1f
2012-06-26 14:17:39,056 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 14:17:39,056 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 14:17:39,056 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 14:17:39,056 [NioProcessor-1  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 14:17:39,056 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 14:17:39,056 [pool-4-thread-9 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 14:17:39,056 [pool-4-thread-9 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 14:17:39,056 [pool-4-thread-9 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@2491a5 obtained for command ID 201
2012-06-26 14:17:39,056 [pool-4-thread-9 ] [DEBUG] er$$EnhancerByGuice$$156b27 - Handler for command ID 201 is com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@2491a5
2012-06-26 14:17:39,056 [pool-4-thread-9 ] [DEBUG] h.ReceiveGiftCommandHandler - ReceiveGiftHandler======execute==bodyMessage=: com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@12e6b1f
2012-06-26 14:17:39,072 [pool-4-thread-9 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 14:17:39,072 [pool-4-thread-9 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 14:17:39,072 [pool-4-thread-9 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 14:17:39,072 [pool-4-thread-9 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 14:17:39,072 [pool-4-thread-9 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 3
2012-06-26 14:17:39,072 [pool-4-thread-9 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (202)
2012-06-26 14:17:39,072 [pool-4-thread-9 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftResponseMessageCodec@143a2e8
2012-06-26 14:17:39,072 [pool-4-thread-9 ] [DEBUG] iveGiftResponseMessageCodec - receive gift response message encode
2012-06-26 14:17:39,072 [pool-4-thread-9 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0xfdba
2012-06-26 14:17:39,072 [pool-4-thread-9 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 14:17:39,072 [pool-4-thread-9 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 55 of 55 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 FD BA 00 00 00 37 ...............7
00000010 00 00 00 CA 00 00 00 01 07 DC 06 1A 0E 11 27 00 ..............'.
00000020 38 01 E0 00 08 C1 EC C8 A1 C0 F1 C6 B7 00 08 D2 8...............
00000030 D1 C1 EC C8 A1 B9 FD                            .......

2012-06-26 14:17:39,072 [pool-4-thread-9 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 14:17:39,072 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 14:17:39,072 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 14:17:39,072 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 3: not mark to return session ID to client
2012-06-26 14:17:39,072 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 14:17:39,072 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 14:17:39,072 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 14:17:39,072 [NioProcessor-1  ] [INFO ] o.a.m.f.l.LoggingFilter     - CLOSED
2012-06-26 14:17:39,072 [NioProcessor-1  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 14:17:41,180 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:17:41,180 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:17:41,180 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 14:17:41,180 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=3
2012-06-26 14:17:41,180 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:17:51,174 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:17:51,174 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:17:51,174 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 14:17:51,174 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=3
2012-06-26 14:17:51,174 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:18:01,169 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:18:01,169 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:18:01,169 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 14:18:01,169 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=3
2012-06-26 14:18:01,169 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:18:11,179 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:18:11,179 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:18:11,179 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 14:18:11,179 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=3
2012-06-26 14:18:11,179 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:18:21,174 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:18:21,174 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:18:21,174 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 14:18:21,174 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=3
2012-06-26 14:18:21,174 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:18:31,168 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:18:31,168 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:18:31,168 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 14:18:31,168 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=3
2012-06-26 14:18:31,168 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:18:41,163 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:18:41,163 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:18:41,163 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 14:18:41,163 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=3
2012-06-26 14:18:41,163 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:18:51,173 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:18:51,173 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:18:51,173 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 14:18:51,173 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=3
2012-06-26 14:18:51,173 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:19:01,183 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:19:01,183 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:19:01,183 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 14:19:01,183 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=3
2012-06-26 14:19:01,183 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:19:11,177 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:19:11,177 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:19:11,177 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 14:19:11,177 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=3
2012-06-26 14:19:11,177 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:19:21,187 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:19:21,187 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:19:21,187 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 14:19:21,187 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=3
2012-06-26 14:19:21,187 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:19:31,182 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:19:31,182 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:19:31,182 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 14:19:31,182 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=3
2012-06-26 14:19:31,182 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:19:41,176 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:19:41,176 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:19:41,176 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 14:19:41,176 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=3
2012-06-26 14:19:41,176 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:19:51,170 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:19:51,170 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:19:51,170 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 14:19:51,170 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=3
2012-06-26 14:19:51,170 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:20:01,164 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:20:01,164 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:20:01,164 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 14:20:01,164 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=3
2012-06-26 14:20:01,164 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:20:11,158 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:20:11,158 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:20:11,158 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 14:20:11,158 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=3
2012-06-26 14:20:11,158 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:20:21,152 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:20:21,152 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:20:21,152 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 14:20:21,152 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=3
2012-06-26 14:20:21,152 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:20:31,161 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:20:31,161 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:20:31,161 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 14:20:31,161 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=3
2012-06-26 14:20:31,161 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:20:41,155 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:20:41,155 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:20:41,155 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 14:20:41,155 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=3
2012-06-26 14:20:41,155 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:20:51,149 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:20:51,149 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:20:51,149 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 14:20:51,149 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=3
2012-06-26 14:20:51,149 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:21:01,143 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:21:01,143 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:21:01,143 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 14:21:01,143 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=3
2012-06-26 14:21:01,143 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:21:11,152 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:21:11,152 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:21:11,152 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 14:21:11,152 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:21:11,152 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:21:21,146 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:21:21,146 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:21:21,146 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:21:21,146 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:21:21,146 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:21:31,140 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:21:31,140 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:21:31,140 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:21:31,140 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:21:31,140 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:21:41,149 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:21:41,149 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:21:41,149 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:21:41,149 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:21:41,149 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:21:51,143 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:21:51,143 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:21:51,143 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:21:51,143 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:21:51,143 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:22:01,136 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:22:01,136 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:22:01,136 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:22:01,136 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:22:01,136 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:22:11,149 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:22:11,149 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:22:11,149 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:22:11,149 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:22:11,149 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:22:21,148 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:22:21,148 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:22:21,148 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:22:21,148 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:22:21,148 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:22:31,146 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:22:31,146 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:22:31,146 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:22:31,146 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:22:31,146 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:22:41,144 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:22:41,144 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:22:41,144 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:22:41,144 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:22:41,144 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:22:51,174 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:22:51,174 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:22:51,174 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:22:51,174 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:22:51,174 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:23:01,172 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:23:01,172 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:23:01,172 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:23:01,172 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:23:01,172 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:23:11,171 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:23:11,171 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:23:11,171 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:23:11,171 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:23:11,171 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:23:21,185 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:23:21,185 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:23:21,185 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:23:21,185 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:23:21,185 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:23:31,183 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:23:31,183 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:23:31,183 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:23:31,183 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:23:31,183 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:23:41,182 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:23:41,182 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:23:41,182 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:23:41,182 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:23:41,182 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:23:51,180 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:23:51,180 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:23:51,180 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:23:51,180 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:23:51,180 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:24:01,194 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:24:01,194 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:24:01,194 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:24:01,194 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:24:01,194 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:24:11,192 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:24:11,192 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:24:11,192 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:24:11,192 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:24:11,192 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:24:21,191 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:24:21,191 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:24:21,191 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:24:21,191 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:24:21,191 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:24:31,205 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:24:31,205 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:24:31,205 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:24:31,205 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:24:31,205 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:24:41,203 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:24:41,203 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:24:41,203 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:24:41,203 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:24:41,203 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:24:51,202 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:24:51,202 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:24:51,202 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:24:51,202 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:24:51,202 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:25:01,200 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:25:01,200 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:25:01,200 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:25:01,200 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:25:01,200 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:25:06,980 [NioProcessor-2  ] [INFO ] c.c.q.m.p.f.LoggingFilter   - incoming connection from remote address: 127.0.0.1:3314, Mina session ID: 4
2012-06-26 14:25:06,980 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - Currently managed session count: 1
2012-06-26 14:25:06,980 [NioProcessor-2  ] [INFO ] o.a.m.f.l.LoggingFilter     - CREATED
2012-06-26 14:25:06,980 [NioProcessor-2  ] [INFO ] o.a.m.f.l.LoggingFilter     - OPENED
2012-06-26 14:25:06,980 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:3314, Mina session ID 4, identified POS ID null
2012-06-26 14:25:06,980 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 14:25:06,980 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=32 cap=2048: 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20...]
2012-06-26 14:25:07,012 [NioProcessor-2  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 4
2012-06-26 14:25:07,012 [NioProcessor-2  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 14:25:07,012 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 14:25:07,012 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 4
2012-06-26 14:25:07,012 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =32
2012-06-26 14:25:07,012 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 14:25:07,012 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 32, current position: 0
2012-06-26 14:25:07,012 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 14:25:07,012 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}
2012-06-26 14:25:07,012 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 16
2012-06-26 14:25:07,012 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=16, in.remaining=16
2012-06-26 14:25:07,012 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 14:25:07,012 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 5
2012-06-26 14:25:07,012 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 5: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageCodec@10aae5f
2012-06-26 14:25:07,012 [NioProcessor-2  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - init request message decode
2012-06-26 14:25:07,012 [NioProcessor-2  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - in.remaining()=16
2012-06-26 14:25:07,012 [NioProcessor-2  ] [TRACE] .m.p.s.m.c.InitMessageCodec - InitRequestMessage: [cmdId=5, posId=pos-0002]
2012-06-26 14:25:07,012 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 14:25:07,012 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 14:25:07,012 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 14:25:07,012 [NioProcessor-2  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 14:25:07,012 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 14:25:07,012 [NioProcessor-2  ] [DEBUG] p.f.SessionKeyMessageFilter - Mina session ID 4: created session key 06d60e9c56ba4675a20cb5e77c44f3d2
2012-06-26 14:25:07,012 [NioProcessor-2  ] [DEBUG] p.f.SessionKeyMessageFilter - creating session for mina session ID 4 using session ID 06d60e9c56ba4675a20cb5e77c44f3d2
2012-06-26 14:25:07,012 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 14:25:07,012 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 14:25:07,012 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 14:25:07,012 [NioProcessor-2  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:3314, Mina session ID 4, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 14:25:07,012 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 14:25:07,012 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 14:25:07,012 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 14:25:07,012 [NioProcessor-2  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 14:25:07,012 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 14:25:07,012 [pool-4-thread-10] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 14:25:07,012 [pool-4-thread-10] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 14:25:07,012 [pool-4-thread-10] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@19703a6 obtained for command ID 5
2012-06-26 14:25:07,012 [pool-4-thread-10] [DEBUG] er$$EnhancerByGuice$$156b27 - Handler for command ID 5 is com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@19703a6
2012-06-26 14:25:07,012 [pool-4-thread-10] [DEBUG] .q.m.p.h.InitCommandHandler - InitCommandHandler======execute==bodyMessage=:  [cmdId=5, posId=pos-0002]
2012-06-26 14:25:07,012 [pool-4-thread-10] [DEBUG] .q.m.l.l.i.LoginManagerImpl - InitResponse() invoke
2012-06-26 14:25:07,012 [pool-4-thread-10] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:ALLOWED
2012-06-26 14:25:07,012 [pool-4-thread-10] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId AND p.ostatus = :ostatus
2012-06-26 14:25:07,012 [pool-4-thread-10] [DEBUG] .q.m.l.l.i.LoginManagerImpl - POS ID:pos-0002, init challenge saved - [74, 89, 111, 48, 85, 106, 116, 104]
2012-06-26 14:25:07,012 [pool-4-thread-10] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 14:25:07,043 [pool-4-thread-10] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 14:25:07,043 [pool-4-thread-10] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 14:25:07,043 [pool-4-thread-10] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 14:25:07,043 [pool-4-thread-10] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 4
2012-06-26 14:25:07,043 [pool-4-thread-10] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (6)
2012-06-26 14:25:07,043 [pool-4-thread-10] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageResponseCodec@eb3955
2012-06-26 14:25:07,043 [pool-4-thread-10] [DEBUG] .c.InitMessageResponseCodec - init response message encode
2012-06-26 14:25:07,043 [pool-4-thread-10] [TRACE] .c.InitMessageResponseCodec - InitResponseMessage: [cmdId=6, result=0, challenge=[74, 89, 111, 48, 85, 106, 116, 104]]
2012-06-26 14:25:07,043 [pool-4-thread-10] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0x7c7e
2012-06-26 14:25:07,043 [pool-4-thread-10] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 14:25:07,043 [pool-4-thread-10] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 7C 7E 00 00 00 1E ..........|~....
00000010 00 00 00 06 00 00 4A 59 6F 30 55 6A 74 68       ......JYo0Ujth

2012-06-26 14:25:07,043 [pool-4-thread-10] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 14:25:07,043 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 14:25:07,043 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 14:25:07,043 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 4: not mark to return session ID to client
2012-06-26 14:25:07,043 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 14:25:07,043 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 14:25:07,043 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 14:25:07,262 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:3314, Mina session ID 4, identified POS ID pos-0002
2012-06-26 14:25:07,262 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 7B FD 00 00 00 30 ..........{....0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 E9 8D C0 73 11 6D 84 99 49 B7 84 55 C7 3C 6A 79 ...s.m..I..U.<jy

2012-06-26 14:25:07,262 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=48 cap=2048: 00 00 00 01 00 00 00 00 00 00 7B FD 00 00 00 30...]
2012-06-26 14:25:07,262 [NioProcessor-2  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 4
2012-06-26 14:25:07,262 [NioProcessor-2  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 14:25:07,262 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 14:25:07,262 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 4
2012-06-26 14:25:07,262 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =48
2012-06-26 14:25:07,262 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 7B FD 00 00 00 30 ..........{....0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 E9 8D C0 73 11 6D 84 99 49 B7 84 55 C7 3C 6A 79 ...s.m..I..U.<jy

2012-06-26 14:25:07,262 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 48, current position: 0
2012-06-26 14:25:07,262 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 14:25:07,262 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x7bfd} messageSize:{0x30} sessionKey:{null}
2012-06-26 14:25:07,262 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 32
2012-06-26 14:25:07,262 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=32, in.remaining=32
2012-06-26 14:25:07,262 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 14:25:07,262 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 7
2012-06-26 14:25:07,262 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 7: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageCodec@d0541b
2012-06-26 14:25:07,262 [NioProcessor-2  ] [DEBUG] m.p.s.m.c.LoginMessageCodec - login/bind message decode
2012-06-26 14:25:07,262 [NioProcessor-2  ] [TRACE] m.p.s.m.c.LoginMessageCodec - LoginRequestMessage: [cmdId=7, posId=pos-0002, challengeResponse=[-23, -115, -64, 115, 17, 109, -124, -103, 73, -73, -124, 85, -57, 60, 106, 121]]
2012-06-26 14:25:07,262 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 14:25:07,262 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x7bfd} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[-23, -115, -64, 115, 17, 109, -124, -103, 73, -73, -124, 85, -57, 60, 106, 121]]
2012-06-26 14:25:07,262 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 14:25:07,262 [NioProcessor-2  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 14:25:07,262 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 14:25:07,262 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 14:25:07,262 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 14:25:07,262 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 14:25:07,262 [NioProcessor-2  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:3314, Mina session ID 4, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x7bfd} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[-23, -115, -64, 115, 17, 109, -124, -103, 73, -73, -124, 85, -57, 60, 106, 121]]
2012-06-26 14:25:07,262 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 14:25:07,262 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 14:25:07,262 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 14:25:07,262 [NioProcessor-2  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 14:25:07,262 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 14:25:07,262 [pool-4-thread-11] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 14:25:07,262 [pool-4-thread-11] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 14:25:07,262 [pool-4-thread-11] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@f26382 obtained for command ID 7
2012-06-26 14:25:07,262 [pool-4-thread-11] [DEBUG] er$$EnhancerByGuice$$156b27 - Handler for command ID 7 is com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@f26382
2012-06-26 14:25:07,262 [pool-4-thread-11] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==bodyMessage=: [cmdId=7, posId=pos-0002, challengeResponse=[-23, -115, -64, 115, 17, 109, -124, -103, 73, -73, -124, 85, -57, 60, 106, 121]]
2012-06-26 14:25:07,262 [pool-4-thread-11] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:null
2012-06-26 14:25:07,262 [pool-4-thread-11] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId
2012-06-26 14:25:07,277 [pool-4-thread-11] [TRACE] .q.m.l.l.i.LoginManagerImpl - Loaded from db: pos.posId:pos-0002, pos.secret:000001, oldChallenge:[74, 89, 111, 48, 85, 106, 116, 104]
2012-06-26 14:25:07,277 [pool-4-thread-11] [DEBUG] .q.m.l.l.i.LoginManagerImpl - disableChallengeCheck =0
2012-06-26 14:25:07,277 [pool-4-thread-11] [TRACE] c.c.q.m.l.c.ChallengeUtil   - checking challenge:response:[-23, -115, -64, 115, 17, 109, -124, -103, 73, -73, -124, 85, -57, 60, 106, 121], posKey:000001, random:[74, 89, 111, 48, 85, 106, 116, 104]
2012-06-26 14:25:07,277 [pool-4-thread-11] [DEBUG] .q.m.l.l.i.LoginManagerImpl - new challenge for POS (POS ID): [111, 86, 52, 121, 80, 103, 85, 74]
2012-06-26 14:25:07,277 [pool-4-thread-11] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==serverKey=:JXTPOS
2012-06-26 14:25:07,277 [pool-4-thread-11] [DEBUG] ThreadSafeClientConnManager - Get connection: HttpRoute[{}->http://localhost:7070], timeout = 0
2012-06-26 14:25:07,277 [pool-4-thread-11] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - [HttpRoute[{}->http://localhost:7070]] total kept alive: 0, total issued: 0, total allocated: 0 out of 20
2012-06-26 14:25:07,277 [pool-4-thread-11] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - No free connections [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 14:25:07,277 [pool-4-thread-11] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Available capacity: 2 out of 2 [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 14:25:07,277 [pool-4-thread-11] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Creating new connection [HttpRoute[{}->http://localhost:7070]]
2012-06-26 14:25:07,277 [pool-4-thread-11] [DEBUG] ultClientConnectionOperator - Connecting to localhost:7070
2012-06-26 14:25:08,230 [pool-4-thread-11] [DEBUG] i.c.DefaultClientConnection - Connection closed
2012-06-26 14:25:08,230 [pool-4-thread-11] [DEBUG] i.c.DefaultClientConnection - Connection shut down
2012-06-26 14:25:08,230 [pool-4-thread-11] [DEBUG] ThreadSafeClientConnManager - Released connection is not reusable.
2012-06-26 14:25:08,230 [pool-4-thread-11] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Releasing connection [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 14:25:08,230 [pool-4-thread-11] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Notifying no-one, there are no waiting threads
2012-06-26 14:25:08,230 [pool-4-thread-11] [ERROR] q.m.p.h.LoginCommandHandler - initGrouponCache fail:com.chinarewards.qqgbvpn.qqapi.exception.ParseXMLException: com.chinarewards.qqgbvpn.qqapi.exception.SendPostTimeOutException: org.apache.http.conn.HttpHostConnectException: Connection to http://localhost:7070 refused
2012-06-26 14:25:08,230 [pool-4-thread-11] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 14:25:08,261 [pool-4-thread-11] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 14:25:08,261 [pool-4-thread-11] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 14:25:08,261 [pool-4-thread-11] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 14:25:08,261 [pool-4-thread-11] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 4
2012-06-26 14:25:08,261 [pool-4-thread-11] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (8)
2012-06-26 14:25:08,261 [pool-4-thread-11] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageResponseCodec@9a19a0
2012-06-26 14:25:08,261 [pool-4-thread-11] [DEBUG] c.LoginMessageResponseCodec - login/bind message encode
2012-06-26 14:25:08,261 [pool-4-thread-11] [TRACE] c.LoginMessageResponseCodec - LoginResponseMessage: [cmdId=8, result=0, challenge=[111, 86, 52, 121, 80, 103, 85, 74]]
2012-06-26 14:25:08,261 [Finalizer       ] [DEBUG] ThreadSafeClientConnManager - Shutting down
2012-06-26 14:25:08,261 [pool-4-thread-11] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0xb657
2012-06-26 14:25:08,261 [pool-4-thread-11] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 14:25:08,261 [pool-4-thread-11] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 B6 57 00 00 00 1E ...........W....
00000010 00 00 00 08 00 00 6F 56 34 79 50 67 55 4A       ......oV4yPgUJ

2012-06-26 14:25:08,261 [pool-4-thread-11] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 14:25:08,261 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 14:25:08,261 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 14:25:08,261 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 4: not mark to return session ID to client
2012-06-26 14:25:08,261 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 14:25:08,261 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 14:25:08,261 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 14:25:08,261 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:3314, Mina session ID 4, identified POS ID pos-0002
2012-06-26 14:25:08,261 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 28 of 28 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 65 68 00 00 00 1C ..........eh....
00000010 00 00 00 C9 00 06 31 32 33 34 35 36             ......123456

2012-06-26 14:25:08,261 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=28 cap=1024: 00 00 00 10 00 00 00 00 00 00 65 68 00 00 00 1C...]
2012-06-26 14:25:08,261 [NioProcessor-2  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 4
2012-06-26 14:25:08,261 [NioProcessor-2  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 14:25:08,261 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 14:25:08,261 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 4
2012-06-26 14:25:08,261 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =28
2012-06-26 14:25:08,261 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 28 of 28 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 65 68 00 00 00 1C ..........eh....
00000010 00 00 00 C9 00 06 31 32 33 34 35 36             ......123456

2012-06-26 14:25:08,261 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 28, current position: 0
2012-06-26 14:25:08,261 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 14:25:08,261 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0x6568} messageSize:{0x1c} sessionKey:{null}
2012-06-26 14:25:08,261 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 12
2012-06-26 14:25:08,261 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=12, in.remaining=12
2012-06-26 14:25:08,261 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 14:25:08,261 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 201
2012-06-26 14:25:08,261 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 201: com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftMessageCodec@cfb3cb
2012-06-26 14:25:08,261 [NioProcessor-2  ] [DEBUG] m.c.ReceiveGiftMessageCodec - receive gift request message decode
2012-06-26 14:25:08,261 [NioProcessor-2  ] [DEBUG] m.c.ReceiveGiftMessageCodec - in.remaining()=12
2012-06-26 14:25:08,261 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 14:25:08,261 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0x6568} messageSize:{0x1c} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@24dd0c
2012-06-26 14:25:08,261 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 14:25:08,261 [NioProcessor-2  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 14:25:08,261 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 14:25:08,261 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 14:25:08,261 [NioProcessor-2  ] [DEBUG] c.c.q.m.p.f.LoginFilter     - isLogin=true
2012-06-26 14:25:08,261 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 14:25:08,261 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 14:25:08,261 [NioProcessor-2  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:3314, Mina session ID 4, identified POS ID pos-0002, message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0x6568} messageSize:{0x1c} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@24dd0c
2012-06-26 14:25:08,261 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 14:25:08,261 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 14:25:08,261 [pool-4-thread-12] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 14:25:08,261 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 14:25:08,261 [NioProcessor-2  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 14:25:08,261 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 14:25:08,261 [pool-4-thread-12] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 14:25:08,261 [pool-4-thread-12] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@167281e obtained for command ID 201
2012-06-26 14:25:08,261 [pool-4-thread-12] [DEBUG] er$$EnhancerByGuice$$156b27 - Handler for command ID 201 is com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@167281e
2012-06-26 14:25:08,261 [pool-4-thread-12] [DEBUG] h.ReceiveGiftCommandHandler - ReceiveGiftHandler======execute==bodyMessage=: com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@24dd0c
2012-06-26 14:25:08,261 [pool-4-thread-12] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 14:25:08,261 [pool-4-thread-12] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 14:25:08,261 [pool-4-thread-12] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 14:25:08,261 [pool-4-thread-12] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 14:25:08,261 [pool-4-thread-12] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 4
2012-06-26 14:25:08,261 [pool-4-thread-12] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (202)
2012-06-26 14:25:08,261 [pool-4-thread-12] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftResponseMessageCodec@258ce5
2012-06-26 14:25:08,261 [pool-4-thread-12] [DEBUG] iveGiftResponseMessageCodec - receive gift response message encode
2012-06-26 14:25:08,261 [pool-4-thread-12] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0xce5f
2012-06-26 14:25:08,261 [pool-4-thread-12] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 14:25:08,261 [pool-4-thread-12] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 69 of 69 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 CE 5F 00 00 00 45 ..........._...E
00000010 00 00 00 CA 00 00 00 02 07 DC 06 1A 0E 19 08 01 ................
00000020 05 01 E0 00 08 C1 EC C8 A1 C0 F1 C6 B7 00 16 31 ...............1
00000030 32 33 34 35 36 0A CE DE D0 A7 0A B0 B4 4F 4B BC 23456........OK.
00000040 FC B7 B5 BB D8                                  .....

2012-06-26 14:25:08,261 [pool-4-thread-12] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 14:25:08,261 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 14:25:08,261 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 14:25:08,261 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 4: not mark to return session ID to client
2012-06-26 14:25:08,261 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 14:25:08,261 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 14:25:08,261 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 14:25:08,293 [NioProcessor-2  ] [INFO ] o.a.m.f.l.LoggingFilter     - CLOSED
2012-06-26 14:25:08,293 [NioProcessor-2  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 14:25:11,245 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:25:11,245 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:25:11,245 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 14:25:11,245 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 14:25:11,245 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:25:21,244 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:25:21,244 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:25:21,244 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 14:25:21,244 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 14:25:21,244 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:25:31,242 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:25:31,242 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:25:31,242 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 14:25:31,242 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 14:25:31,242 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:25:41,256 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:25:41,256 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:25:41,256 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 14:25:41,256 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 14:25:41,256 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:25:51,255 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:25:51,255 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:25:51,255 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 14:25:51,255 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 14:25:51,255 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:26:01,284 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:26:01,284 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:26:01,284 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 14:26:01,284 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 14:26:01,284 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:26:11,283 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:26:11,283 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:26:11,283 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 14:26:11,283 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 14:26:11,283 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:26:27,374 [main            ] [INFO ] c.c.q.m.BootStrap           - Home directory: D:\posnetv2
2012-06-26 14:26:27,389 [main            ] [DEBUG] c.c.q.c.ConfigReader        - Home directory is set to D:\posnetv2
2012-06-26 14:26:27,389 [main            ] [DEBUG] c.c.q.c.ConfigReader        - Configuration subdirectory is set to conf
2012-06-26 14:26:27,389 [main            ] [DEBUG] c.c.q.c.ConfigReader        - Configuration directory is set to D:\posnetv2\conf
2012-06-26 14:26:27,389 [main            ] [DEBUG] c.c.q.c.ConfigReader        - Config file: D:\posnetv2\conf\posnet.ini
2012-06-26 14:26:27,389 [main            ] [DEBUG] c.c.q.c.ConfigReader        - Reading configuration file D:\posnetv2\conf\posnet.ini
2012-06-26 14:26:27,389 [main            ] [DEBUG] c.c.q.c.ConfigReader        - - D:\posnetv2\conf\posnet.ini is an .ini file, load using PropertiesConfiguration.
2012-06-26 14:26:27,421 [main            ] [DEBUG] c.c.PropertiesConfiguration - FileName set to posnet.ini
2012-06-26 14:26:27,421 [main            ] [DEBUG] c.c.PropertiesConfiguration - Base path set to D:\posnetv2\conf
2012-06-26 14:26:27,421 [main            ] [DEBUG] o.a.c.c.ConfigurationUtils  - ConfigurationUtils.locate(): base is D:\posnetv2\conf, name is posnet.ini
2012-06-26 14:26:27,421 [main            ] [DEBUG] o.a.c.c.DefaultFileSystem   - Could not locate file posnet.ini at D:\posnetv2\conf: unknown protocol: d
2012-06-26 14:26:27,421 [main            ] [DEBUG] o.a.c.c.ConfigurationUtils  - Loading configuration from the path D:\posnetv2\conf\posnet.ini
2012-06-26 14:26:27,452 [main            ] [DEBUG] o.a.c.c.ConfigurationUtils  - ConfigurationUtils.locate(): base is D:\posnetv2\conf, name is dispatcher.ini
2012-06-26 14:26:27,452 [main            ] [DEBUG] o.a.c.c.DefaultFileSystem   - Could not locate file dispatcher.ini at D:\posnetv2\conf: unknown protocol: d
2012-06-26 14:26:27,468 [main            ] [DEBUG] o.a.c.c.ConfigurationUtils  - Loading configuration from the path D:\posnetv2\conf\dispatcher.ini
2012-06-26 14:26:27,468 [main            ] [DEBUG] c.c.q.m.BootStrap           - System configuration:
2012-06-26 14:26:27,468 [main            ] [DEBUG] c.c.q.m.BootStrap           - - server.port: 1234
2012-06-26 14:26:27,468 [main            ] [DEBUG] c.c.q.m.BootStrap           - - server.client_max_idle_time: 20
2012-06-26 14:26:27,468 [main            ] [DEBUG] c.c.q.m.BootStrap           - - server.session.timeout_check_interval: 10
2012-06-26 14:26:27,468 [main            ] [DEBUG] c.c.q.m.BootStrap           - - server.session.client_timeout: 210
2012-06-26 14:26:27,468 [main            ] [DEBUG] c.c.q.m.BootStrap           - - server.disable_checksum_check: 0
2012-06-26 14:26:27,468 [main            ] [DEBUG] c.c.q.m.BootStrap           - - server.service_handler.thread_pool_size: 20
2012-06-26 14:26:27,468 [main            ] [DEBUG] c.c.q.m.BootStrap           - - firmware.location: D:\posnetv2\posnet2-mgmtui\firmware
2012-06-26 14:26:27,468 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.hibernate.show_sql: [true, true]
2012-06-26 14:26:27,468 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.hibernate.hbm2ddl.auto: false
2012-06-26 14:26:27,468 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.ext.hibernate.dialect: org.hibernate.dialect.MySQL5Dialect
2012-06-26 14:26:27,468 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.user: root
2012-06-26 14:26:27,483 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.password: 167118
2012-06-26 14:26:27,483 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.driver: com.mysql.jdbc.Driver
2012-06-26 14:26:27,483 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.url: jdbc:mysql://localhost/posnet?autoReconnect=true&useUnicode=true&characterEncoding=UTF-8
2012-06-26 14:26:27,483 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.ext.hibernate.connection.provider_class: org.hibernate.connection.C3P0ConnectionProvider
2012-06-26 14:26:27,483 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.ext.hibernate.c3p0.minPoolSize: 5
2012-06-26 14:26:27,483 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.ext.hibernate.c3p0.maxPoolSize: 20
2012-06-26 14:26:27,483 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.ext.hibernate.c3p0.maxIdleTime: 1800
2012-06-26 14:26:27,483 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.ext.hibernate.c3p0.testConnectionOnCheckout: true
2012-06-26 14:26:27,483 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.ext.hibernate.c3p0.maxStatements: 50
2012-06-26 14:26:27,483 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.ext.hibernate.c3p0.maxStatementsPerConnection: 10
2012-06-26 14:26:27,483 [main            ] [DEBUG] c.c.q.m.BootStrap           - - qq.groupbuy.url.groupBuyingSearchGroupon: http://localhost:7070/testdata/TuanSearchListVO.xml
2012-06-26 14:26:27,483 [main            ] [DEBUG] c.c.q.m.BootStrap           - - qq.groupbuy.url.groupBuyingValidationUrl: http://localhost:7070/testdata/TuanValidateResultVO.xml
2012-06-26 14:26:27,483 [main            ] [DEBUG] c.c.q.m.BootStrap           - - qq.groupbuy.url.groupBuyingUnbindPosUrl: http://localhost:7070/testdata/TuanUnbindVO.xml
2012-06-26 14:26:27,483 [main            ] [DEBUG] c.c.q.m.BootStrap           - - txserver.key: JXTPOS
2012-06-26 14:26:27,483 [main            ] [DEBUG] c.c.q.m.BootStrap           - - qq.meishi.wsapi.host: localhost:7070
2012-06-26 14:26:27,483 [main            ] [DEBUG] c.c.q.m.BootStrap           - - qq.meishi.wsapi.url: http://localhost:7070/qq-meishi/data
2012-06-26 14:26:27,483 [main            ] [DEBUG] c.c.q.m.BootStrap           - - qq.meishi.wsapi.secretKey: NDA2ZTkwOTExZjlkZDY3ZTIxMTU1OTY0NmVlYzVmY2Q=
2012-06-26 14:26:27,483 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.1.handler: com.chinarewards.qqgbvpn.main.protocol.handler.SearchCommandHandler
2012-06-26 14:26:27,483 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.1.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.SearchBodyMessageCodec
2012-06-26 14:26:27,483 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.2.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.SearchBodyMessageResponseCodec
2012-06-26 14:26:27,483 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.3.handler: com.chinarewards.qqgbvpn.main.protocol.handler.ValidateCommandHandler
2012-06-26 14:26:27,483 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.3.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.ValidateBodyMessageCodec
2012-06-26 14:26:27,483 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.4.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.ValidateBodyMessageResponseCodec
2012-06-26 14:26:27,483 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.5.handler: com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler
2012-06-26 14:26:27,483 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.5.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageCodec
2012-06-26 14:26:27,483 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.6.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageResponseCodec
2012-06-26 14:26:27,483 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.7.handler: com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler
2012-06-26 14:26:27,483 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.7.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageCodec
2012-06-26 14:26:27,483 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.8.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageResponseCodec
2012-06-26 14:26:27,483 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.9.handler: com.chinarewards.qqgbvpn.main.protocol.handler.BindCommandHandler
2012-06-26 14:26:27,483 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.9.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageCodec
2012-06-26 14:26:27,483 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.10.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageResponseCodec
2012-06-26 14:26:27,483 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.11.handler: com.chinarewards.qqgbvpn.main.protocol.handler.ValidationCallbackHandler
2012-06-26 14:26:27,483 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.11.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.ValidationCallbackCodec
2012-06-26 14:26:27,483 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.12.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.ValidationCallbackResponseCodec
2012-06-26 14:26:27,483 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.13.handler: com.chinarewards.qqgbvpn.main.protocol.handler.FirmwareUpgradeRequestCommandHandler
2012-06-26 14:26:27,483 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.13.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.FirmwareRequestMessageCodec
2012-06-26 14:26:27,483 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.14.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.FirmwareResponseMessageCodec
2012-06-26 14:26:27,483 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.15.handler: com.chinarewards.qqgbvpn.main.protocol.handler.GetFirmwareFragmentHandler
2012-06-26 14:26:27,483 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.15.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.GetFirmwareFragmentRequestMessageCodec
2012-06-26 14:26:27,483 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.16.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.GetFirmwareFragmentResponseMessageCodec
2012-06-26 14:26:27,483 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.17.handler: com.chinarewards.qqgbvpn.main.protocol.handler.FirmwareUpDoneHandler
2012-06-26 14:26:27,483 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.17.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.FirmwareUpDoneRequestCodec
2012-06-26 14:26:27,483 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.18.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.FirmwareUpDoneResponseCodec
2012-06-26 14:26:27,483 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.19.handler: com.chinarewards.qqgbvpn.main.protocol.handler.HuaxiaSearchCommandHandler
2012-06-26 14:26:27,483 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.19.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.HuaxiaSearchBodyMessageCodec
2012-06-26 14:26:27,483 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.20.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.HuaxiaSearchBodyMessageResponseCodec
2012-06-26 14:26:27,483 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.21.handler: com.chinarewards.qqgbvpn.main.protocol.handler.HuaxiaConfirmCommandHandler
2012-06-26 14:26:27,483 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.21.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.HuaxiaConfirmBodyMessageCodec
2012-06-26 14:26:27,483 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.22.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.HuaxiaConfirmBodyMessageResponseCodec
2012-06-26 14:26:27,483 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.23.handler: com.chinarewards.qqgbvpn.main.protocol.handler.HuaxiaAckCommandHandler
2012-06-26 14:26:27,483 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.23.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.HuaxiaAckBodyMessageCodec
2012-06-26 14:26:27,483 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.24.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.HuaxiaAckBodyMessageResponseCodec
2012-06-26 14:26:27,483 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.25.handler: com.chinarewards.qqgbvpn.main.protocol.handler.PosEchoCommandHandler
2012-06-26 14:26:27,483 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.25.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.PosEchoCommandRequestMessageCodec
2012-06-26 14:26:27,483 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.26.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.PosEchoCommandResponseMessageCodec
2012-06-26 14:26:27,483 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.27.handler: com.chinarewards.qqgbvpn.main.protocol.handler.ValidateCommandHandler2
2012-06-26 14:26:27,483 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.27.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.ValidateBodyMessageCodec2
2012-06-26 14:26:27,483 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.28.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.ValidateBodyMessageResponseCodec2
2012-06-26 14:26:27,483 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.101.handler: com.chinarewards.qqgbvpn.main.protocol.handler.QQMeishiCommandHandler
2012-06-26 14:26:27,483 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.101.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.QQMeishiBodyMessageCodec
2012-06-26 14:26:27,483 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.102.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.QQMeishiBodyMessageResponseCodec
2012-06-26 14:26:27,483 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.201.handler: com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler
2012-06-26 14:26:27,483 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.201.codec: com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftMessageCodec
2012-06-26 14:26:27,483 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.202.codec: com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftResponseMessageCodec
2012-06-26 14:26:27,483 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.203.handler: com.chinarewards.qqadidas.main.protocol.handler.RightForCommandHandler
2012-06-26 14:26:27,483 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.203.codec: com.chinarewards.qqadidas.main.protocol.socket.mina.codec.RightForMessageCodec
2012-06-26 14:26:27,483 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.204.codec: com.chinarewards.qqadidas.main.protocol.socket.mina.codec.RightForResponseMessageCodec
2012-06-26 14:26:27,483 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.110.handler: com.chinarewards.timeserver.main.protocol.handler.TimeServerHandler
2012-06-26 14:26:27,483 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.110.codec: com.chinarewards.timeserver.main.protocol.socket.mina.codec.TimeServerMessageCodec
2012-06-26 14:26:27,483 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.111.codec: com.chinarewards.timeserver.main.protocol.socket.mina.codec.TimeServerMessageResponseCodec
2012-06-26 14:26:27,483 [main            ] [DEBUG] c.c.q.m.BootStrap           - - qq.vip.adidas.des.secretkey: qqadidas
2012-06-26 14:26:27,483 [main            ] [INFO ] c.c.q.m.BootStrap           - Bootstrapping...
2012-06-26 14:26:27,483 [main            ] [INFO ] c.c.q.m.BootStrap           - Initializing dependency injection environment...
2012-06-26 14:26:27,514 [main            ] [INFO ] c.c.q.m.BootStrap           - Creating Guice injector. If it is stucked, there is a chance the database is down.
2012-06-26 14:26:27,686 [main            ] [DEBUG] .q.m.p.ServiceHandlerModule - Finished configuration
2012-06-26 14:26:27,686 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.SearchCommandHandler to Guice
2012-06-26 14:26:27,686 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.QQMeishiCommandHandler to Guice
2012-06-26 14:26:27,686 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.ValidateCommandHandler to Guice
2012-06-26 14:26:27,686 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler to Guice
2012-06-26 14:26:27,686 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler to Guice
2012-06-26 14:26:27,686 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqadidas.main.protocol.handler.RightForCommandHandler to Guice
2012-06-26 14:26:27,686 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler to Guice
2012-06-26 14:26:27,686 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.timeserver.main.protocol.handler.TimeServerHandler to Guice
2012-06-26 14:26:27,686 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.BindCommandHandler to Guice
2012-06-26 14:26:27,686 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.ValidationCallbackHandler to Guice
2012-06-26 14:26:27,686 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.FirmwareUpgradeRequestCommandHandler to Guice
2012-06-26 14:26:27,686 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.GetFirmwareFragmentHandler to Guice
2012-06-26 14:26:27,686 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.FirmwareUpDoneHandler to Guice
2012-06-26 14:26:27,686 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.HuaxiaSearchCommandHandler to Guice
2012-06-26 14:26:27,686 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.HuaxiaConfirmCommandHandler to Guice
2012-06-26 14:26:27,686 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.HuaxiaAckCommandHandler to Guice
2012-06-26 14:26:27,686 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.PosEchoCommandHandler to Guice
2012-06-26 14:26:27,686 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.ValidateCommandHandler2 to Guice
2012-06-26 14:26:27,686 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Configuration completed
2012-06-26 14:26:28,046 [main            ] [INFO ] c.c.q.m.BootStrap           - Bootstrapping completed
2012-06-26 14:26:28,046 [main            ] [DEBUG] dule$ServiceMappingProvider - Returning ServiceMapping
2012-06-26 14:26:28,046 [main            ] [DEBUG] $$EnhancerByGuice$$22e9f5a5 - ServiceHandlerObjectFactory is com.chinarewards.qqgbvpn.main.protocol.guice.GuiceServiceHandlerObjectFactory@77ef83
2012-06-26 14:26:29,420 [main            ] [DEBUG] c.c.q.m.PosServer           - idleTime=20
2012-06-26 14:26:29,483 [main            ] [DEBUG] c.c.q.m.PosServer           -  monitor port =9999
2012-06-26 14:26:29,498 [main            ] [DEBUG] c.c.q.m.PosServer           -  JMXServiceURL =service:jmx:rmi:///jndi/rmi://localhost:9999/jmxrmi
2012-06-26 14:26:29,514 [main            ] [INFO ] c.c.q.m.PosServer           - Client idle timeout set to 20 seconds
2012-06-26 14:26:29,530 [main            ] [DEBUG] c.c.q.m.PosServer           - config server.session.timeout_check_interval=10
2012-06-26 14:26:29,530 [main            ] [INFO ] c.c.q.m.PosServer           - Server running, listening on 1234
2012-06-26 14:26:29,530 [main            ] [INFO ] c.c.q.m.r.RMIRegistry       - Start listener rmi server, port=9999
2012-06-26 14:26:30,561 [main            ] [INFO ] c.c.q.m.r.RMIRegistry       - no existing RMI registry found on port 9999, creating...
2012-06-26 14:26:30,561 [main            ] [INFO ] c.c.q.m.r.RMIRegistry       - RMI server create success.
2012-06-26 14:26:39,544 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:26:39,544 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:26:39,544 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:26:39,544 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:26:39,544 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:26:49,558 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:26:49,558 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:26:49,558 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:26:49,558 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:26:49,558 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:26:59,556 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:26:59,556 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:26:59,556 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:26:59,556 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:26:59,556 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:27:09,568 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:27:09,568 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:27:09,568 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:27:09,568 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:27:09,568 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:27:19,564 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:27:19,564 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:27:19,564 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:27:19,564 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:27:19,564 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:27:29,559 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:27:29,559 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:27:29,559 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:27:29,559 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:27:29,559 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:27:39,555 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:27:39,555 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:27:39,555 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:27:39,555 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:27:39,555 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:27:49,550 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:27:49,550 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:27:49,550 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:27:49,550 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:27:49,550 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:27:59,561 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:27:59,561 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:27:59,561 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:27:59,561 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:27:59,561 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:28:09,557 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:28:09,557 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:28:09,557 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:28:09,557 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:28:09,557 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:28:19,552 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:28:19,552 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:28:19,552 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:28:19,552 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:28:19,552 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:28:29,548 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:28:29,548 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:28:29,548 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:28:29,548 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:28:29,548 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:28:39,559 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:28:39,559 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:28:39,559 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:28:39,559 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:28:39,559 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:28:49,554 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:28:49,554 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:28:49,554 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:28:49,554 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:28:49,554 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:28:59,550 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:28:59,550 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:28:59,550 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:28:59,550 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:28:59,550 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:29:09,561 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:29:09,561 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:29:09,561 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:29:09,561 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:29:09,561 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:29:19,556 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:29:19,556 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:29:19,556 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:29:19,556 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:29:19,556 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:29:29,552 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:29:29,552 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:29:29,552 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:29:29,552 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:29:29,552 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:29:39,547 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:29:39,547 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:29:39,547 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:29:39,547 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:29:39,547 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:29:49,558 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:29:49,558 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:29:49,558 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:29:49,558 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:29:49,558 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:29:59,554 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:29:59,554 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:29:59,554 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:29:59,554 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:29:59,554 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:30:09,565 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:30:09,565 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:30:09,565 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:30:09,565 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:30:09,565 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:30:19,576 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:30:19,576 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:30:19,576 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:30:19,576 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:30:19,576 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:30:29,571 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:30:29,571 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:30:29,571 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:30:29,571 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:30:29,571 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:30:39,567 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:30:39,567 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:30:39,567 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:30:39,567 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:30:39,567 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:30:49,562 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:30:49,562 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:30:49,562 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:30:49,562 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:30:49,562 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:30:59,573 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:30:59,573 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:30:59,573 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:30:59,573 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:30:59,573 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:31:09,569 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:31:09,569 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:31:09,569 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:31:09,569 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:31:09,569 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:31:19,564 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:31:19,564 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:31:19,564 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:31:19,564 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:31:19,564 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:31:29,560 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:31:29,560 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:31:29,560 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:31:29,560 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:31:29,560 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:31:39,555 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:31:39,555 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:31:39,555 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:31:39,555 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:31:39,555 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:31:49,550 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:31:49,550 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:31:49,550 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:31:49,550 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:31:49,550 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:31:59,562 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:31:59,562 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:31:59,562 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:31:59,562 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:31:59,562 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:32:09,556 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:32:09,556 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:32:09,556 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:32:09,556 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:32:09,556 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:32:19,566 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:32:19,566 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:32:19,566 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:32:19,566 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:32:19,566 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:32:29,561 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:32:29,561 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:32:29,561 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:32:29,561 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:32:29,561 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:32:39,555 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:32:39,555 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:32:39,555 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:32:39,555 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:32:39,555 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:32:49,550 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:32:49,550 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:32:49,550 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:32:49,550 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:32:49,550 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:32:59,544 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:32:59,544 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:32:59,544 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:32:59,544 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:32:59,544 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:33:09,539 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:33:09,539 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:33:09,539 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:33:09,539 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:33:09,539 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:33:19,549 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:33:19,549 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:33:19,549 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:33:19,549 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:33:19,549 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:33:29,543 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:33:29,543 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:33:29,543 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:33:29,543 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:33:29,543 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:33:39,538 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:33:39,538 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:33:39,538 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:33:39,538 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:33:39,538 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:33:49,548 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:33:49,548 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:33:49,548 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:33:49,548 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:33:49,548 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:33:59,542 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:33:59,542 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:33:59,542 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:33:59,542 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:33:59,542 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:34:09,536 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:34:09,536 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:34:09,536 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:34:09,536 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:34:09,536 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:34:19,546 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:34:19,546 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:34:19,546 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:34:19,546 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:34:19,546 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:34:29,557 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:34:29,557 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:34:29,557 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:34:29,557 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:34:29,557 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:34:39,551 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:34:39,551 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:34:39,551 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:34:39,551 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:34:39,551 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:34:49,545 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:34:49,545 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:34:49,545 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:34:49,545 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:34:49,545 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:34:59,555 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:34:59,555 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:34:59,555 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:34:59,555 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:34:59,555 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:35:09,550 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:35:09,550 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:35:09,550 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:35:09,550 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:35:09,550 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:35:19,544 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:35:19,544 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:35:19,544 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:35:19,544 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:35:19,544 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:35:29,539 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:35:29,539 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:35:29,539 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:35:29,539 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:35:29,539 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:35:39,549 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:35:39,549 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:35:39,549 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:35:39,549 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:35:39,549 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:35:49,543 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:35:49,543 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:35:49,543 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:35:49,543 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:35:49,543 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:35:59,538 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:35:59,538 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:35:59,538 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:35:59,538 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:35:59,538 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:36:09,548 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:36:09,548 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:36:09,548 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:36:09,548 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:36:09,548 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:36:19,542 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:36:19,542 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:36:19,542 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:36:19,542 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:36:19,542 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:36:29,537 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:36:29,537 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:36:29,537 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:36:29,537 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:36:29,537 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:36:39,531 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:36:39,531 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:36:39,531 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:36:39,531 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:36:39,531 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:36:49,541 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:36:49,541 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:36:49,541 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:36:49,541 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:36:49,541 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:36:59,535 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:36:59,535 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:36:59,535 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:36:59,535 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:36:59,535 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:37:09,545 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:37:09,545 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:37:09,545 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:37:09,545 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:37:09,545 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:37:19,555 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:37:19,555 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:37:19,555 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:37:19,555 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:37:19,555 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:37:29,549 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:37:29,549 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:37:29,549 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:37:29,549 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:37:29,549 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:37:39,543 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:37:39,543 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:37:39,543 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:37:39,543 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:37:39,543 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:37:49,537 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:37:49,537 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:37:49,537 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:37:49,537 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:37:49,537 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:37:59,546 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:37:59,546 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:37:59,546 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:37:59,546 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:37:59,546 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:38:09,540 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:38:09,540 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:38:09,540 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:38:09,540 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:38:09,540 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:38:19,534 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:38:19,534 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:38:19,534 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:38:19,534 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:38:19,534 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:38:29,528 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:38:29,528 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:38:29,528 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:38:29,528 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:38:29,528 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:38:39,538 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:38:39,538 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:38:39,538 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:38:39,538 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:38:39,538 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:38:49,532 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:38:49,532 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:38:49,532 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:38:49,532 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:38:49,532 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:38:59,527 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:38:59,527 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:38:59,527 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:38:59,527 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:38:59,527 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:39:09,522 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:39:09,522 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:39:09,522 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:39:09,522 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:39:09,522 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:39:18,893 [main            ] [INFO ] c.c.q.m.BootStrap           - Home directory: D:\posnetv2
2012-06-26 14:39:18,908 [main            ] [DEBUG] c.c.q.c.ConfigReader        - Home directory is set to D:\posnetv2
2012-06-26 14:39:18,908 [main            ] [DEBUG] c.c.q.c.ConfigReader        - Configuration subdirectory is set to conf
2012-06-26 14:39:18,908 [main            ] [DEBUG] c.c.q.c.ConfigReader        - Configuration directory is set to D:\posnetv2\conf
2012-06-26 14:39:18,908 [main            ] [DEBUG] c.c.q.c.ConfigReader        - Config file: D:\posnetv2\conf\posnet.ini
2012-06-26 14:39:18,908 [main            ] [DEBUG] c.c.q.c.ConfigReader        - Reading configuration file D:\posnetv2\conf\posnet.ini
2012-06-26 14:39:18,908 [main            ] [DEBUG] c.c.q.c.ConfigReader        - - D:\posnetv2\conf\posnet.ini is an .ini file, load using PropertiesConfiguration.
2012-06-26 14:39:18,940 [main            ] [DEBUG] c.c.PropertiesConfiguration - FileName set to posnet.ini
2012-06-26 14:39:18,940 [main            ] [DEBUG] c.c.PropertiesConfiguration - Base path set to D:\posnetv2\conf
2012-06-26 14:39:18,940 [main            ] [DEBUG] o.a.c.c.ConfigurationUtils  - ConfigurationUtils.locate(): base is D:\posnetv2\conf, name is posnet.ini
2012-06-26 14:39:18,940 [main            ] [DEBUG] o.a.c.c.DefaultFileSystem   - Could not locate file posnet.ini at D:\posnetv2\conf: unknown protocol: d
2012-06-26 14:39:18,940 [main            ] [DEBUG] o.a.c.c.ConfigurationUtils  - Loading configuration from the path D:\posnetv2\conf\posnet.ini
2012-06-26 14:39:18,971 [main            ] [DEBUG] o.a.c.c.ConfigurationUtils  - ConfigurationUtils.locate(): base is D:\posnetv2\conf, name is dispatcher.ini
2012-06-26 14:39:18,971 [main            ] [DEBUG] o.a.c.c.DefaultFileSystem   - Could not locate file dispatcher.ini at D:\posnetv2\conf: unknown protocol: d
2012-06-26 14:39:18,971 [main            ] [DEBUG] o.a.c.c.ConfigurationUtils  - Loading configuration from the path D:\posnetv2\conf\dispatcher.ini
2012-06-26 14:39:18,986 [main            ] [DEBUG] c.c.q.m.BootStrap           - System configuration:
2012-06-26 14:39:18,986 [main            ] [DEBUG] c.c.q.m.BootStrap           - - server.port: 1234
2012-06-26 14:39:18,986 [main            ] [DEBUG] c.c.q.m.BootStrap           - - server.client_max_idle_time: 20
2012-06-26 14:39:18,986 [main            ] [DEBUG] c.c.q.m.BootStrap           - - server.session.timeout_check_interval: 10
2012-06-26 14:39:18,986 [main            ] [DEBUG] c.c.q.m.BootStrap           - - server.session.client_timeout: 210
2012-06-26 14:39:18,986 [main            ] [DEBUG] c.c.q.m.BootStrap           - - server.disable_checksum_check: 0
2012-06-26 14:39:18,986 [main            ] [DEBUG] c.c.q.m.BootStrap           - - server.service_handler.thread_pool_size: 20
2012-06-26 14:39:18,986 [main            ] [DEBUG] c.c.q.m.BootStrap           - - firmware.location: D:\posnetv2\posnet2-mgmtui\firmware
2012-06-26 14:39:18,986 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.hibernate.show_sql: [true, true]
2012-06-26 14:39:18,986 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.hibernate.hbm2ddl.auto: false
2012-06-26 14:39:18,986 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.ext.hibernate.dialect: org.hibernate.dialect.MySQL5Dialect
2012-06-26 14:39:18,986 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.user: root
2012-06-26 14:39:18,986 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.password: 167118
2012-06-26 14:39:18,986 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.driver: com.mysql.jdbc.Driver
2012-06-26 14:39:18,986 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.url: jdbc:mysql://localhost/posnet?autoReconnect=true&useUnicode=true&characterEncoding=UTF-8
2012-06-26 14:39:18,986 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.ext.hibernate.connection.provider_class: org.hibernate.connection.C3P0ConnectionProvider
2012-06-26 14:39:18,986 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.ext.hibernate.c3p0.minPoolSize: 5
2012-06-26 14:39:18,986 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.ext.hibernate.c3p0.maxPoolSize: 20
2012-06-26 14:39:18,986 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.ext.hibernate.c3p0.maxIdleTime: 1800
2012-06-26 14:39:18,986 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.ext.hibernate.c3p0.testConnectionOnCheckout: true
2012-06-26 14:39:18,986 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.ext.hibernate.c3p0.maxStatements: 50
2012-06-26 14:39:18,986 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.ext.hibernate.c3p0.maxStatementsPerConnection: 10
2012-06-26 14:39:18,986 [main            ] [DEBUG] c.c.q.m.BootStrap           - - qq.groupbuy.url.groupBuyingSearchGroupon: http://localhost:7070/testdata/TuanSearchListVO.xml
2012-06-26 14:39:18,986 [main            ] [DEBUG] c.c.q.m.BootStrap           - - qq.groupbuy.url.groupBuyingValidationUrl: http://localhost:7070/testdata/TuanValidateResultVO.xml
2012-06-26 14:39:18,986 [main            ] [DEBUG] c.c.q.m.BootStrap           - - qq.groupbuy.url.groupBuyingUnbindPosUrl: http://localhost:7070/testdata/TuanUnbindVO.xml
2012-06-26 14:39:18,986 [main            ] [DEBUG] c.c.q.m.BootStrap           - - txserver.key: JXTPOS
2012-06-26 14:39:18,986 [main            ] [DEBUG] c.c.q.m.BootStrap           - - qq.meishi.wsapi.host: localhost:7070
2012-06-26 14:39:18,986 [main            ] [DEBUG] c.c.q.m.BootStrap           - - qq.meishi.wsapi.url: http://localhost:7070/qq-meishi/data
2012-06-26 14:39:18,986 [main            ] [DEBUG] c.c.q.m.BootStrap           - - qq.meishi.wsapi.secretKey: NDA2ZTkwOTExZjlkZDY3ZTIxMTU1OTY0NmVlYzVmY2Q=
2012-06-26 14:39:18,986 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.1.handler: com.chinarewards.qqgbvpn.main.protocol.handler.SearchCommandHandler
2012-06-26 14:39:18,986 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.1.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.SearchBodyMessageCodec
2012-06-26 14:39:18,986 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.2.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.SearchBodyMessageResponseCodec
2012-06-26 14:39:18,986 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.3.handler: com.chinarewards.qqgbvpn.main.protocol.handler.ValidateCommandHandler
2012-06-26 14:39:18,986 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.3.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.ValidateBodyMessageCodec
2012-06-26 14:39:18,986 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.4.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.ValidateBodyMessageResponseCodec
2012-06-26 14:39:18,986 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.5.handler: com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler
2012-06-26 14:39:18,986 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.5.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageCodec
2012-06-26 14:39:18,986 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.6.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageResponseCodec
2012-06-26 14:39:18,986 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.7.handler: com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler
2012-06-26 14:39:18,986 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.7.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageCodec
2012-06-26 14:39:18,986 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.8.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageResponseCodec
2012-06-26 14:39:18,986 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.9.handler: com.chinarewards.qqgbvpn.main.protocol.handler.BindCommandHandler
2012-06-26 14:39:18,986 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.9.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageCodec
2012-06-26 14:39:18,986 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.10.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageResponseCodec
2012-06-26 14:39:18,986 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.11.handler: com.chinarewards.qqgbvpn.main.protocol.handler.ValidationCallbackHandler
2012-06-26 14:39:18,986 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.11.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.ValidationCallbackCodec
2012-06-26 14:39:18,986 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.12.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.ValidationCallbackResponseCodec
2012-06-26 14:39:18,986 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.13.handler: com.chinarewards.qqgbvpn.main.protocol.handler.FirmwareUpgradeRequestCommandHandler
2012-06-26 14:39:18,986 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.13.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.FirmwareRequestMessageCodec
2012-06-26 14:39:18,986 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.14.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.FirmwareResponseMessageCodec
2012-06-26 14:39:18,986 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.15.handler: com.chinarewards.qqgbvpn.main.protocol.handler.GetFirmwareFragmentHandler
2012-06-26 14:39:18,986 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.15.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.GetFirmwareFragmentRequestMessageCodec
2012-06-26 14:39:19,002 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.16.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.GetFirmwareFragmentResponseMessageCodec
2012-06-26 14:39:19,002 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.17.handler: com.chinarewards.qqgbvpn.main.protocol.handler.FirmwareUpDoneHandler
2012-06-26 14:39:19,002 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.17.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.FirmwareUpDoneRequestCodec
2012-06-26 14:39:19,002 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.18.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.FirmwareUpDoneResponseCodec
2012-06-26 14:39:19,002 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.19.handler: com.chinarewards.qqgbvpn.main.protocol.handler.HuaxiaSearchCommandHandler
2012-06-26 14:39:19,002 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.19.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.HuaxiaSearchBodyMessageCodec
2012-06-26 14:39:19,002 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.20.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.HuaxiaSearchBodyMessageResponseCodec
2012-06-26 14:39:19,002 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.21.handler: com.chinarewards.qqgbvpn.main.protocol.handler.HuaxiaConfirmCommandHandler
2012-06-26 14:39:19,002 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.21.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.HuaxiaConfirmBodyMessageCodec
2012-06-26 14:39:19,002 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.22.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.HuaxiaConfirmBodyMessageResponseCodec
2012-06-26 14:39:19,002 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.23.handler: com.chinarewards.qqgbvpn.main.protocol.handler.HuaxiaAckCommandHandler
2012-06-26 14:39:19,002 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.23.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.HuaxiaAckBodyMessageCodec
2012-06-26 14:39:19,002 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.24.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.HuaxiaAckBodyMessageResponseCodec
2012-06-26 14:39:19,002 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.25.handler: com.chinarewards.qqgbvpn.main.protocol.handler.PosEchoCommandHandler
2012-06-26 14:39:19,002 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.25.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.PosEchoCommandRequestMessageCodec
2012-06-26 14:39:19,002 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.26.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.PosEchoCommandResponseMessageCodec
2012-06-26 14:39:19,002 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.27.handler: com.chinarewards.qqgbvpn.main.protocol.handler.ValidateCommandHandler2
2012-06-26 14:39:19,002 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.27.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.ValidateBodyMessageCodec2
2012-06-26 14:39:19,002 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.28.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.ValidateBodyMessageResponseCodec2
2012-06-26 14:39:19,002 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.101.handler: com.chinarewards.qqgbvpn.main.protocol.handler.QQMeishiCommandHandler
2012-06-26 14:39:19,002 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.101.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.QQMeishiBodyMessageCodec
2012-06-26 14:39:19,002 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.102.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.QQMeishiBodyMessageResponseCodec
2012-06-26 14:39:19,002 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.201.handler: com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler
2012-06-26 14:39:19,002 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.201.codec: com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftMessageCodec
2012-06-26 14:39:19,002 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.202.codec: com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftResponseMessageCodec
2012-06-26 14:39:19,002 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.203.handler: com.chinarewards.qqadidas.main.protocol.handler.RightForCommandHandler
2012-06-26 14:39:19,002 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.203.codec: com.chinarewards.qqadidas.main.protocol.socket.mina.codec.RightForMessageCodec
2012-06-26 14:39:19,002 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.204.codec: com.chinarewards.qqadidas.main.protocol.socket.mina.codec.RightForResponseMessageCodec
2012-06-26 14:39:19,002 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.110.handler: com.chinarewards.timeserver.main.protocol.handler.TimeServerHandler
2012-06-26 14:39:19,002 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.110.codec: com.chinarewards.timeserver.main.protocol.socket.mina.codec.TimeServerMessageCodec
2012-06-26 14:39:19,002 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.111.codec: com.chinarewards.timeserver.main.protocol.socket.mina.codec.TimeServerMessageResponseCodec
2012-06-26 14:39:19,002 [main            ] [DEBUG] c.c.q.m.BootStrap           - - qq.vip.adidas.des.secretkey: qqadidas
2012-06-26 14:39:19,002 [main            ] [INFO ] c.c.q.m.BootStrap           - Bootstrapping...
2012-06-26 14:39:19,002 [main            ] [INFO ] c.c.q.m.BootStrap           - Initializing dependency injection environment...
2012-06-26 14:39:19,033 [main            ] [INFO ] c.c.q.m.BootStrap           - Creating Guice injector. If it is stucked, there is a chance the database is down.
2012-06-26 14:39:19,174 [main            ] [DEBUG] .q.m.p.ServiceHandlerModule - Finished configuration
2012-06-26 14:39:19,174 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.SearchCommandHandler to Guice
2012-06-26 14:39:19,174 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.QQMeishiCommandHandler to Guice
2012-06-26 14:39:19,174 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.ValidateCommandHandler to Guice
2012-06-26 14:39:19,174 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler to Guice
2012-06-26 14:39:19,174 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler to Guice
2012-06-26 14:39:19,174 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqadidas.main.protocol.handler.RightForCommandHandler to Guice
2012-06-26 14:39:19,174 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler to Guice
2012-06-26 14:39:19,174 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.timeserver.main.protocol.handler.TimeServerHandler to Guice
2012-06-26 14:39:19,174 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.BindCommandHandler to Guice
2012-06-26 14:39:19,189 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.ValidationCallbackHandler to Guice
2012-06-26 14:39:19,189 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.FirmwareUpgradeRequestCommandHandler to Guice
2012-06-26 14:39:19,189 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.GetFirmwareFragmentHandler to Guice
2012-06-26 14:39:19,189 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.FirmwareUpDoneHandler to Guice
2012-06-26 14:39:19,189 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.HuaxiaSearchCommandHandler to Guice
2012-06-26 14:39:19,189 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.HuaxiaConfirmCommandHandler to Guice
2012-06-26 14:39:19,189 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.HuaxiaAckCommandHandler to Guice
2012-06-26 14:39:19,189 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.PosEchoCommandHandler to Guice
2012-06-26 14:39:19,189 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.ValidateCommandHandler2 to Guice
2012-06-26 14:39:19,189 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Configuration completed
2012-06-26 14:39:19,549 [main            ] [INFO ] c.c.q.m.BootStrap           - Bootstrapping completed
2012-06-26 14:39:19,549 [main            ] [DEBUG] dule$ServiceMappingProvider - Returning ServiceMapping
2012-06-26 14:39:19,549 [main            ] [DEBUG] $$EnhancerByGuice$$22e9f5a5 - ServiceHandlerObjectFactory is com.chinarewards.qqgbvpn.main.protocol.guice.GuiceServiceHandlerObjectFactory@77ef83
2012-06-26 14:39:20,876 [main            ] [DEBUG] c.c.q.m.PosServer           - idleTime=20
2012-06-26 14:39:20,954 [main            ] [DEBUG] c.c.q.m.PosServer           -  monitor port =9999
2012-06-26 14:39:20,954 [main            ] [DEBUG] c.c.q.m.PosServer           -  JMXServiceURL =service:jmx:rmi:///jndi/rmi://localhost:9999/jmxrmi
2012-06-26 14:39:20,970 [main            ] [INFO ] c.c.q.m.PosServer           - Client idle timeout set to 20 seconds
2012-06-26 14:39:20,986 [main            ] [DEBUG] c.c.q.m.PosServer           - config server.session.timeout_check_interval=10
2012-06-26 14:39:20,986 [main            ] [INFO ] c.c.q.m.PosServer           - Server running, listening on 1234
2012-06-26 14:39:20,986 [main            ] [INFO ] c.c.q.m.r.RMIRegistry       - Start listener rmi server, port=9999
2012-06-26 14:39:21,938 [main            ] [INFO ] c.c.q.m.r.RMIRegistry       - no existing RMI registry found on port 9999, creating...
2012-06-26 14:39:21,938 [main            ] [INFO ] c.c.q.m.r.RMIRegistry       - RMI server create success.
2012-06-26 14:39:31,012 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:39:31,012 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:39:31,012 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:39:31,012 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:39:31,012 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:39:41,039 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:39:41,039 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:39:41,039 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:39:41,039 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:39:41,039 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:39:51,034 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:39:51,034 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:39:51,034 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:39:51,034 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:39:51,034 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:40:01,029 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:40:01,029 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:40:01,029 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:40:01,029 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:40:01,029 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:40:11,024 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:40:11,024 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:40:11,024 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:40:11,024 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:40:11,024 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:40:21,035 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:40:21,035 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:40:21,035 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:40:21,035 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:40:21,035 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:40:31,030 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:40:31,030 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:40:31,030 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:40:31,030 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:40:31,030 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:40:41,026 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:40:41,026 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:40:41,026 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:40:41,026 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:40:41,026 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:40:51,037 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:40:51,037 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:40:51,037 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:40:51,037 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:40:51,037 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:41:01,032 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:41:01,032 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:41:01,032 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:41:01,032 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:41:01,032 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:41:11,027 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:41:11,027 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:41:11,027 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:41:11,027 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:41:11,027 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:41:21,022 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:41:21,022 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:41:21,022 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:41:21,022 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:41:21,022 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:41:31,033 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:41:31,033 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:41:31,033 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:41:31,033 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:41:31,033 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:41:41,029 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:41:41,029 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:41:41,029 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:41:41,029 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:41:41,029 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:41:51,039 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:41:51,039 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:41:51,039 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:41:51,039 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:41:51,039 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:42:01,035 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:42:01,035 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:42:01,035 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:42:01,035 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:42:01,035 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:42:11,030 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:42:11,030 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:42:11,030 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:42:11,030 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:42:11,030 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:42:21,025 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:42:21,025 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:42:21,025 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:42:21,025 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:42:21,025 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:42:31,020 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:42:31,020 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:42:31,020 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:42:31,020 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:42:31,020 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:42:41,031 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:42:41,031 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:42:41,031 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:42:41,031 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:42:41,031 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:42:51,027 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:42:51,027 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:42:51,027 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:42:51,027 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:42:51,027 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:43:01,022 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:43:01,022 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:43:01,022 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:43:01,022 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:43:01,022 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:43:11,033 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:43:11,033 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:43:11,033 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:43:11,033 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:43:11,033 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:43:21,028 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:43:21,028 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:43:21,028 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:43:21,028 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:43:21,028 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:43:31,039 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:43:31,039 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:43:31,039 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:43:31,039 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:43:31,039 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:43:41,034 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:43:41,034 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:43:41,034 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:43:41,034 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:43:41,034 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:43:51,045 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:43:51,045 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:43:51,045 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:43:51,045 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:43:51,045 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:44:01,040 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:44:01,040 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:44:01,040 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:44:01,040 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:44:01,040 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:44:11,034 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:44:11,034 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:44:11,034 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:44:11,034 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:44:11,034 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:44:21,028 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:44:21,028 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:44:21,028 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:44:21,028 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:44:21,028 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:44:31,038 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:44:31,038 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:44:31,038 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:44:31,038 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:44:31,038 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:44:41,033 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:44:41,033 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:44:41,033 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:44:41,033 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:44:41,033 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:44:51,027 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:44:51,027 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:44:51,027 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:44:51,027 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:44:51,027 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:45:01,037 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:45:01,037 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:45:01,037 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:45:01,037 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:45:01,037 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:45:11,032 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:45:11,032 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:45:11,032 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:45:11,032 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:45:11,032 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:45:21,026 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:45:21,026 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:45:21,026 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:45:21,026 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:45:21,026 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:45:28,069 [NioProcessor-2  ] [INFO ] c.c.q.m.p.f.LoggingFilter   - incoming connection from remote address: 127.0.0.1:3382, Mina session ID: 1
2012-06-26 14:45:28,069 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - Currently managed session count: 1
2012-06-26 14:45:28,069 [NioProcessor-2  ] [INFO ] o.a.m.f.l.LoggingFilter     - CREATED
2012-06-26 14:45:28,069 [NioProcessor-2  ] [INFO ] o.a.m.f.l.LoggingFilter     - OPENED
2012-06-26 14:45:28,069 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:3382, Mina session ID 1, identified POS ID null
2012-06-26 14:45:28,116 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 14:45:28,116 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=32 cap=2048: 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20...]
2012-06-26 14:45:28,116 [NioProcessor-2  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 1
2012-06-26 14:45:28,116 [NioProcessor-2  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 14:45:28,116 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 14:45:28,116 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 1
2012-06-26 14:45:28,116 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =32
2012-06-26 14:45:28,116 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 14:45:28,116 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 32, current position: 0
2012-06-26 14:45:28,116 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 14:45:28,116 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}
2012-06-26 14:45:28,116 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 16
2012-06-26 14:45:28,116 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=16, in.remaining=16
2012-06-26 14:45:28,116 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 14:45:28,116 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 5
2012-06-26 14:45:28,116 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 5: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageCodec@1a9417
2012-06-26 14:45:28,116 [NioProcessor-2  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - init request message decode
2012-06-26 14:45:28,116 [NioProcessor-2  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - in.remaining()=16
2012-06-26 14:45:28,116 [NioProcessor-2  ] [TRACE] .m.p.s.m.c.InitMessageCodec - InitRequestMessage: [cmdId=5, posId=pos-0002]
2012-06-26 14:45:28,116 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 14:45:28,116 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 14:45:28,116 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 14:45:28,116 [NioProcessor-2  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 14:45:28,116 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 14:45:28,116 [NioProcessor-2  ] [DEBUG] p.f.SessionKeyMessageFilter - Mina session ID 1: created session key 204176ff618c45da91de82ad2ab21874
2012-06-26 14:45:28,116 [NioProcessor-2  ] [DEBUG] p.f.SessionKeyMessageFilter - creating session for mina session ID 1 using session ID 204176ff618c45da91de82ad2ab21874
2012-06-26 14:45:28,116 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 14:45:28,116 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 14:45:28,116 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 14:45:28,116 [NioProcessor-2  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:3382, Mina session ID 1, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 14:45:28,116 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 14:45:28,116 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 14:45:28,116 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 14:45:28,116 [NioProcessor-2  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 14:45:28,116 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 14:45:28,116 [pool-4-thread-1 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 14:45:28,163 [pool-4-thread-1 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 14:45:28,163 [pool-4-thread-1 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@7382ad obtained for command ID 5
2012-06-26 14:45:28,163 [pool-4-thread-1 ] [DEBUG] $$EnhancerByGuice$$22e9f5a5 - Handler for command ID 5 is com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@7382ad
2012-06-26 14:45:28,163 [pool-4-thread-1 ] [DEBUG] .q.m.p.h.InitCommandHandler - InitCommandHandler======execute==bodyMessage=:  [cmdId=5, posId=pos-0002]
2012-06-26 14:45:28,163 [pool-4-thread-1 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - InitResponse() invoke
2012-06-26 14:45:28,163 [pool-4-thread-1 ] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:ALLOWED
2012-06-26 14:45:28,163 [pool-4-thread-1 ] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId AND p.ostatus = :ostatus
2012-06-26 14:45:28,350 [pool-4-thread-1 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - POS ID:pos-0002, init challenge saved - [78, 72, 81, 110, 105, 69, 120, 117]
2012-06-26 14:45:28,553 [pool-4-thread-1 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 14:45:28,600 [pool-4-thread-1 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 14:45:28,600 [pool-4-thread-1 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 14:45:28,600 [pool-4-thread-1 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 14:45:28,600 [pool-4-thread-1 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 1
2012-06-26 14:45:28,600 [pool-4-thread-1 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (6)
2012-06-26 14:45:28,600 [pool-4-thread-1 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageResponseCodec@1788ed3
2012-06-26 14:45:28,600 [pool-4-thread-1 ] [DEBUG] .c.InitMessageResponseCodec - init response message encode
2012-06-26 14:45:28,600 [pool-4-thread-1 ] [TRACE] .c.InitMessageResponseCodec - InitResponseMessage: [cmdId=6, result=0, challenge=[78, 72, 81, 110, 105, 69, 120, 117]]
2012-06-26 14:45:28,600 [pool-4-thread-1 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0x7e69
2012-06-26 14:45:28,600 [pool-4-thread-1 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 14:45:28,600 [pool-4-thread-1 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 7E 69 00 00 00 1E ..........~i....
00000010 00 00 00 06 00 00 4E 48 51 6E 69 45 78 75       ......NHQniExu

2012-06-26 14:45:28,600 [pool-4-thread-1 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 14:45:28,600 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 14:45:28,600 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 14:45:28,600 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 1: not mark to return session ID to client
2012-06-26 14:45:28,600 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 14:45:28,600 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 14:45:28,600 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 14:45:28,819 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:3382, Mina session ID 1, identified POS ID pos-0002
2012-06-26 14:45:28,819 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 2C 89 00 00 00 30 ..........,....0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 09 29 96 B6 BA 48 43 EE E4 B4 63 14 E2 1D C7 41 .)...HC...c....A

2012-06-26 14:45:28,819 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=48 cap=2048: 00 00 00 01 00 00 00 00 00 00 2C 89 00 00 00 30...]
2012-06-26 14:45:28,819 [NioProcessor-2  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 1
2012-06-26 14:45:28,819 [NioProcessor-2  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 14:45:28,819 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 14:45:28,819 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 1
2012-06-26 14:45:28,819 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =48
2012-06-26 14:45:28,819 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 2C 89 00 00 00 30 ..........,....0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 09 29 96 B6 BA 48 43 EE E4 B4 63 14 E2 1D C7 41 .)...HC...c....A

2012-06-26 14:45:28,819 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 48, current position: 0
2012-06-26 14:45:28,819 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 14:45:28,819 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x2c89} messageSize:{0x30} sessionKey:{null}
2012-06-26 14:45:28,819 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 32
2012-06-26 14:45:28,819 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=32, in.remaining=32
2012-06-26 14:45:28,819 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 14:45:28,819 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 7
2012-06-26 14:45:28,819 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 7: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageCodec@1dcc7cd
2012-06-26 14:45:28,819 [NioProcessor-2  ] [DEBUG] m.p.s.m.c.LoginMessageCodec - login/bind message decode
2012-06-26 14:45:28,819 [NioProcessor-2  ] [TRACE] m.p.s.m.c.LoginMessageCodec - LoginRequestMessage: [cmdId=7, posId=pos-0002, challengeResponse=[9, 41, -106, -74, -70, 72, 67, -18, -28, -76, 99, 20, -30, 29, -57, 65]]
2012-06-26 14:45:28,819 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 14:45:28,819 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x2c89} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[9, 41, -106, -74, -70, 72, 67, -18, -28, -76, 99, 20, -30, 29, -57, 65]]
2012-06-26 14:45:28,819 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 14:45:28,819 [NioProcessor-2  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 14:45:28,819 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 14:45:28,819 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 14:45:28,819 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 14:45:28,819 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 14:45:28,819 [NioProcessor-2  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:3382, Mina session ID 1, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x2c89} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[9, 41, -106, -74, -70, 72, 67, -18, -28, -76, 99, 20, -30, 29, -57, 65]]
2012-06-26 14:45:28,819 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 14:45:28,819 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 14:45:28,819 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 14:45:28,819 [NioProcessor-2  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 14:45:28,819 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 14:45:28,819 [pool-4-thread-2 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 14:45:28,819 [pool-4-thread-2 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 14:45:28,819 [pool-4-thread-2 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@1f5878d obtained for command ID 7
2012-06-26 14:45:28,819 [pool-4-thread-2 ] [DEBUG] $$EnhancerByGuice$$22e9f5a5 - Handler for command ID 7 is com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@1f5878d
2012-06-26 14:45:28,819 [pool-4-thread-2 ] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==bodyMessage=: [cmdId=7, posId=pos-0002, challengeResponse=[9, 41, -106, -74, -70, 72, 67, -18, -28, -76, 99, 20, -30, 29, -57, 65]]
2012-06-26 14:45:28,819 [pool-4-thread-2 ] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:null
2012-06-26 14:45:28,819 [pool-4-thread-2 ] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId
2012-06-26 14:45:28,834 [pool-4-thread-2 ] [TRACE] .q.m.l.l.i.LoginManagerImpl - Loaded from db: pos.posId:pos-0002, pos.secret:000001, oldChallenge:[78, 72, 81, 110, 105, 69, 120, 117]
2012-06-26 14:45:28,834 [pool-4-thread-2 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - disableChallengeCheck =0
2012-06-26 14:45:28,834 [pool-4-thread-2 ] [TRACE] c.c.q.m.l.c.ChallengeUtil   - checking challenge:response:[9, 41, -106, -74, -70, 72, 67, -18, -28, -76, 99, 20, -30, 29, -57, 65], posKey:000001, random:[78, 72, 81, 110, 105, 69, 120, 117]
2012-06-26 14:45:29,069 [pool-4-thread-2 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - new challenge for POS (POS ID): [82, 74, 76, 84, 71, 97, 76, 117]
2012-06-26 14:45:29,069 [pool-4-thread-2 ] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==serverKey=:JXTPOS
2012-06-26 14:45:29,240 [pool-4-thread-2 ] [DEBUG] ThreadSafeClientConnManager - Get connection: HttpRoute[{}->http://localhost:7070], timeout = 0
2012-06-26 14:45:29,240 [pool-4-thread-2 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - [HttpRoute[{}->http://localhost:7070]] total kept alive: 0, total issued: 0, total allocated: 0 out of 20
2012-06-26 14:45:29,240 [pool-4-thread-2 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - No free connections [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 14:45:29,240 [pool-4-thread-2 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Available capacity: 2 out of 2 [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 14:45:29,240 [pool-4-thread-2 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Creating new connection [HttpRoute[{}->http://localhost:7070]]
2012-06-26 14:45:29,272 [pool-4-thread-2 ] [DEBUG] ultClientConnectionOperator - Connecting to localhost:7070
2012-06-26 14:45:30,380 [pool-4-thread-2 ] [DEBUG] i.c.DefaultClientConnection - Connection closed
2012-06-26 14:45:30,380 [pool-4-thread-2 ] [DEBUG] i.c.DefaultClientConnection - Connection shut down
2012-06-26 14:45:30,380 [pool-4-thread-2 ] [DEBUG] ThreadSafeClientConnManager - Released connection is not reusable.
2012-06-26 14:45:30,380 [pool-4-thread-2 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Releasing connection [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 14:45:30,380 [pool-4-thread-2 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Notifying no-one, there are no waiting threads
2012-06-26 14:45:30,380 [pool-4-thread-2 ] [ERROR] q.m.p.h.LoginCommandHandler - initGrouponCache fail:com.chinarewards.qqgbvpn.qqapi.exception.ParseXMLException: com.chinarewards.qqgbvpn.qqapi.exception.SendPostTimeOutException: org.apache.http.conn.HttpHostConnectException: Connection to http://localhost:7070 refused
2012-06-26 14:45:30,380 [pool-4-thread-2 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 14:45:30,412 [pool-4-thread-2 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 14:45:30,412 [pool-4-thread-2 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 14:45:30,412 [pool-4-thread-2 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 14:45:30,412 [pool-4-thread-2 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 1
2012-06-26 14:45:30,412 [pool-4-thread-2 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (8)
2012-06-26 14:45:30,412 [pool-4-thread-2 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageResponseCodec@d0f227
2012-06-26 14:45:30,412 [pool-4-thread-2 ] [DEBUG] c.LoginMessageResponseCodec - login/bind message encode
2012-06-26 14:45:30,412 [pool-4-thread-2 ] [TRACE] c.LoginMessageResponseCodec - LoginResponseMessage: [cmdId=8, result=0, challenge=[82, 74, 76, 84, 71, 97, 76, 117]]
2012-06-26 14:45:30,412 [pool-4-thread-2 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0xcd63
2012-06-26 14:45:30,412 [pool-4-thread-2 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 14:45:30,412 [pool-4-thread-2 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 CD 63 00 00 00 1E ...........c....
00000010 00 00 00 08 00 00 52 4A 4C 54 47 61 4C 75       ......RJLTGaLu

2012-06-26 14:45:30,412 [pool-4-thread-2 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 14:45:30,412 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 14:45:30,412 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 14:45:30,412 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 1: not mark to return session ID to client
2012-06-26 14:45:30,412 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 14:45:30,412 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 14:45:30,412 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 14:45:30,412 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:3382, Mina session ID 1, identified POS ID pos-0002
2012-06-26 14:45:30,412 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 36 of 36 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 CC C0 00 00 00 24 ...............$
00000010 00 00 00 CB 00 06 31 32 33 34 35 36 00 06 33 36 ......123456..36
00000020 32 2E 33 33                                     2.33

2012-06-26 14:45:30,412 [Finalizer       ] [DEBUG] ThreadSafeClientConnManager - Shutting down
2012-06-26 14:45:30,412 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=36 cap=1024: 00 00 00 10 00 00 00 00 00 00 CC C0 00 00 00 24...]
2012-06-26 14:45:30,412 [NioProcessor-2  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 1
2012-06-26 14:45:30,412 [NioProcessor-2  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 14:45:30,412 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 14:45:30,412 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 1
2012-06-26 14:45:30,412 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =36
2012-06-26 14:45:30,412 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 36 of 36 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 CC C0 00 00 00 24 ...............$
00000010 00 00 00 CB 00 06 31 32 33 34 35 36 00 06 33 36 ......123456..36
00000020 32 2E 33 33                                     2.33

2012-06-26 14:45:30,412 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 36, current position: 0
2012-06-26 14:45:30,412 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 14:45:30,412 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xccc0} messageSize:{0x24} sessionKey:{null}
2012-06-26 14:45:30,412 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 20
2012-06-26 14:45:30,412 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=20, in.remaining=20
2012-06-26 14:45:30,412 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 14:45:30,412 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 203
2012-06-26 14:45:30,412 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 203: com.chinarewards.qqadidas.main.protocol.socket.mina.codec.RightForMessageCodec@1ee680
2012-06-26 14:45:30,412 [NioProcessor-2  ] [DEBUG] .s.m.c.RightForMessageCodec - right for request message decode
2012-06-26 14:45:30,412 [NioProcessor-2  ] [DEBUG] .s.m.c.RightForMessageCodec - in.remaining()=20
2012-06-26 14:45:30,412 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 14:45:30,412 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xccc0} messageSize:{0x24} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.RightForRequestMessage@1bec5ff
2012-06-26 14:45:30,412 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 14:45:30,412 [NioProcessor-2  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 14:45:30,412 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 14:45:30,412 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 14:45:30,412 [NioProcessor-2  ] [DEBUG] c.c.q.m.p.f.LoginFilter     - isLogin=true
2012-06-26 14:45:30,412 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 14:45:30,412 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 14:45:30,412 [NioProcessor-2  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:3382, Mina session ID 1, identified POS ID pos-0002, message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xccc0} messageSize:{0x24} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.RightForRequestMessage@1bec5ff
2012-06-26 14:45:30,412 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 14:45:30,412 [pool-4-thread-3 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 14:45:30,412 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 14:45:30,412 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 14:45:30,412 [NioProcessor-2  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 14:45:30,412 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 14:45:30,412 [pool-4-thread-3 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 14:45:30,412 [pool-4-thread-3 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqadidas.main.protocol.handler.RightForCommandHandler@172cfe7 obtained for command ID 203
2012-06-26 14:45:30,412 [pool-4-thread-3 ] [DEBUG] $$EnhancerByGuice$$22e9f5a5 - Handler for command ID 203 is com.chinarewards.qqadidas.main.protocol.handler.RightForCommandHandler@172cfe7
2012-06-26 14:45:30,412 [pool-4-thread-3 ] [DEBUG] .p.h.RightForCommandHandler - RightForCommandHandler======execute==bodyMessage=: com.chinarewards.qqadidas.main.protocol.cmd.RightForRequestMessage@1bec5ff
2012-06-26 14:45:30,412 [pool-4-thread-3 ] [DEBUG] .p.h.RightForCommandHandler - right for cdkey is: 123456
2012-06-26 14:45:30,412 [pool-4-thread-3 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 14:45:30,412 [pool-4-thread-3 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 14:45:30,412 [pool-4-thread-3 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 14:45:30,412 [pool-4-thread-3 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 14:45:30,412 [pool-4-thread-3 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 1
2012-06-26 14:45:30,412 [pool-4-thread-3 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (204)
2012-06-26 14:45:30,412 [pool-4-thread-3 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqadidas.main.protocol.socket.mina.codec.RightForResponseMessageCodec@179175
2012-06-26 14:45:30,412 [pool-4-thread-3 ] [DEBUG] ightForResponseMessageCodec - right for response message encode
2012-06-26 14:45:30,412 [pool-4-thread-3 ] [DEBUG] ightForResponseMessageCodec - right for response message encode resultByte length: 53
2012-06-26 14:45:30,412 [pool-4-thread-3 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0x2247
2012-06-26 14:45:30,412 [pool-4-thread-3 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 14:45:30,412 [pool-4-thread-3 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 69 of 69 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 22 47 00 00 00 45 .........."G...E
00000010 00 00 00 CC 00 00 00 02 07 DC 06 1A 0E 2D 1E 01 .............-..
00000020 9C 01 E0 00 08 BB F1 C8 A1 D3 C5 BB DD 00 16 31 ...............1
00000030 32 33 34 35 36 0A CE DE D0 A7 0A B0 B4 4F 4B BC 23456........OK.
00000040 FC B7 B5 BB D8                                  .....

2012-06-26 14:45:30,412 [pool-4-thread-3 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 14:45:30,412 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 14:45:30,412 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 14:45:30,412 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 1: not mark to return session ID to client
2012-06-26 14:45:30,412 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 14:45:30,412 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 14:45:30,412 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 14:45:30,443 [NioProcessor-2  ] [INFO ] o.a.m.f.l.LoggingFilter     - CLOSED
2012-06-26 14:45:30,443 [NioProcessor-2  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 14:45:31,067 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:45:31,067 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:45:31,067 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 14:45:31,067 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 14:45:31,067 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:45:41,078 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:45:41,078 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:45:41,078 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 14:45:41,078 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 14:45:41,078 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:45:51,072 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:45:51,072 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:45:51,072 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 14:45:51,072 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 14:45:51,072 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:46:01,066 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:46:01,066 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:46:01,066 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 14:46:01,066 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 14:46:01,066 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:46:11,076 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:46:11,076 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:46:11,076 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 14:46:11,076 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 14:46:11,076 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:46:21,071 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:46:21,071 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:46:21,071 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 14:46:21,071 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 14:46:21,071 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:46:31,065 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:46:31,065 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:46:31,065 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 14:46:31,065 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 14:46:31,065 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:46:41,060 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:46:41,060 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:46:41,060 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 14:46:41,060 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 14:46:41,060 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:46:51,054 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:46:51,054 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:46:51,054 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 14:46:51,054 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 14:46:51,054 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:47:01,049 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:47:01,049 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:47:01,049 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 14:47:01,049 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 14:47:01,049 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:47:11,043 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:47:11,043 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:47:11,043 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 14:47:11,043 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 14:47:11,043 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:47:21,053 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:47:21,053 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:47:21,053 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 14:47:21,053 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 14:47:21,053 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:47:24,114 [NioProcessor-3  ] [INFO ] c.c.q.m.p.f.LoggingFilter   - incoming connection from remote address: 127.0.0.1:3386, Mina session ID: 2
2012-06-26 14:47:24,114 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - Currently managed session count: 1
2012-06-26 14:47:24,114 [NioProcessor-3  ] [INFO ] o.a.m.f.l.LoggingFilter     - CREATED
2012-06-26 14:47:24,114 [NioProcessor-3  ] [INFO ] o.a.m.f.l.LoggingFilter     - OPENED
2012-06-26 14:47:24,114 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:3386, Mina session ID 2, identified POS ID null
2012-06-26 14:47:24,114 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 14:47:24,145 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=32 cap=2048: 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20...]
2012-06-26 14:47:24,145 [NioProcessor-3  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 2
2012-06-26 14:47:24,145 [NioProcessor-3  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 14:47:24,145 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 14:47:24,145 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 2
2012-06-26 14:47:24,145 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =32
2012-06-26 14:47:24,145 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 14:47:24,145 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 32, current position: 0
2012-06-26 14:47:24,145 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 14:47:24,145 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}
2012-06-26 14:47:24,145 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 16
2012-06-26 14:47:24,145 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=16, in.remaining=16
2012-06-26 14:47:24,145 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 14:47:24,145 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 5
2012-06-26 14:47:24,145 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 5: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageCodec@16eefb9
2012-06-26 14:47:24,145 [NioProcessor-3  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - init request message decode
2012-06-26 14:47:24,145 [NioProcessor-3  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - in.remaining()=16
2012-06-26 14:47:24,145 [NioProcessor-3  ] [TRACE] .m.p.s.m.c.InitMessageCodec - InitRequestMessage: [cmdId=5, posId=pos-0002]
2012-06-26 14:47:24,145 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 14:47:24,145 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 14:47:24,145 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 14:47:24,145 [NioProcessor-3  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 14:47:24,145 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 14:47:24,145 [NioProcessor-3  ] [DEBUG] p.f.SessionKeyMessageFilter - Mina session ID 2: created session key 332195f2d46c42b59ada1910ac7b3b4f
2012-06-26 14:47:24,145 [NioProcessor-3  ] [DEBUG] p.f.SessionKeyMessageFilter - creating session for mina session ID 2 using session ID 332195f2d46c42b59ada1910ac7b3b4f
2012-06-26 14:47:24,145 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 14:47:24,145 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 14:47:24,145 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 14:47:24,145 [NioProcessor-3  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:3386, Mina session ID 2, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 14:47:24,145 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 14:47:24,145 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 14:47:24,145 [pool-4-thread-4 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 14:47:24,145 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 14:47:24,145 [NioProcessor-3  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 14:47:24,145 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 14:47:24,145 [pool-4-thread-4 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 14:47:24,145 [pool-4-thread-4 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@7a4647 obtained for command ID 5
2012-06-26 14:47:24,145 [pool-4-thread-4 ] [DEBUG] $$EnhancerByGuice$$22e9f5a5 - Handler for command ID 5 is com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@7a4647
2012-06-26 14:47:24,145 [pool-4-thread-4 ] [DEBUG] .q.m.p.h.InitCommandHandler - InitCommandHandler======execute==bodyMessage=:  [cmdId=5, posId=pos-0002]
2012-06-26 14:47:24,145 [pool-4-thread-4 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - InitResponse() invoke
2012-06-26 14:47:24,145 [pool-4-thread-4 ] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:ALLOWED
2012-06-26 14:47:24,145 [pool-4-thread-4 ] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId AND p.ostatus = :ostatus
2012-06-26 14:47:24,145 [pool-4-thread-4 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - POS ID:pos-0002, init challenge saved - [83, 79, 120, 115, 72, 71, 54, 68]
2012-06-26 14:47:24,145 [pool-4-thread-4 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 14:47:24,176 [pool-4-thread-4 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 14:47:24,176 [pool-4-thread-4 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 14:47:24,176 [pool-4-thread-4 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 14:47:24,176 [pool-4-thread-4 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 2
2012-06-26 14:47:24,176 [pool-4-thread-4 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (6)
2012-06-26 14:47:24,176 [pool-4-thread-4 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageResponseCodec@421d1e
2012-06-26 14:47:24,176 [pool-4-thread-4 ] [DEBUG] .c.InitMessageResponseCodec - init response message encode
2012-06-26 14:47:24,176 [pool-4-thread-4 ] [TRACE] .c.InitMessageResponseCodec - InitResponseMessage: [cmdId=6, result=0, challenge=[83, 79, 120, 115, 72, 71, 54, 68]]
2012-06-26 14:47:24,176 [pool-4-thread-4 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0xb58c
2012-06-26 14:47:24,176 [pool-4-thread-4 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 14:47:24,176 [pool-4-thread-4 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 B5 8C 00 00 00 1E ................
00000010 00 00 00 06 00 00 53 4F 78 73 48 47 36 44       ......SOxsHG6D

2012-06-26 14:47:24,176 [pool-4-thread-4 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 14:47:24,176 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 14:47:24,176 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 14:47:24,176 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 2: not mark to return session ID to client
2012-06-26 14:47:24,176 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 14:47:24,176 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 14:47:24,176 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 14:47:24,395 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:3386, Mina session ID 2, identified POS ID pos-0002
2012-06-26 14:47:24,395 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 81 00 00 00 00 30 ...............0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 22 01 DD 19 3B B1 08 9B 25 45 ED BA 0E EB D5 75 "...;...%E.....u

2012-06-26 14:47:24,395 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=48 cap=2048: 00 00 00 01 00 00 00 00 00 00 81 00 00 00 00 30...]
2012-06-26 14:47:24,395 [NioProcessor-3  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 2
2012-06-26 14:47:24,395 [NioProcessor-3  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 14:47:24,395 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 14:47:24,395 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 2
2012-06-26 14:47:24,395 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =48
2012-06-26 14:47:24,395 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 81 00 00 00 00 30 ...............0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 22 01 DD 19 3B B1 08 9B 25 45 ED BA 0E EB D5 75 "...;...%E.....u

2012-06-26 14:47:24,395 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 48, current position: 0
2012-06-26 14:47:24,395 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 14:47:24,395 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x8100} messageSize:{0x30} sessionKey:{null}
2012-06-26 14:47:24,395 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 32
2012-06-26 14:47:24,395 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=32, in.remaining=32
2012-06-26 14:47:24,395 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 14:47:24,395 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 7
2012-06-26 14:47:24,395 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 7: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageCodec@10d4866
2012-06-26 14:47:24,395 [NioProcessor-3  ] [DEBUG] m.p.s.m.c.LoginMessageCodec - login/bind message decode
2012-06-26 14:47:24,395 [NioProcessor-3  ] [TRACE] m.p.s.m.c.LoginMessageCodec - LoginRequestMessage: [cmdId=7, posId=pos-0002, challengeResponse=[34, 1, -35, 25, 59, -79, 8, -101, 37, 69, -19, -70, 14, -21, -43, 117]]
2012-06-26 14:47:24,395 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 14:47:24,395 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x8100} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[34, 1, -35, 25, 59, -79, 8, -101, 37, 69, -19, -70, 14, -21, -43, 117]]
2012-06-26 14:47:24,395 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 14:47:24,395 [NioProcessor-3  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 14:47:24,395 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 14:47:24,395 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 14:47:24,395 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 14:47:24,395 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 14:47:24,395 [NioProcessor-3  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:3386, Mina session ID 2, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x8100} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[34, 1, -35, 25, 59, -79, 8, -101, 37, 69, -19, -70, 14, -21, -43, 117]]
2012-06-26 14:47:24,395 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 14:47:24,395 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 14:47:24,395 [pool-4-thread-5 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 14:47:24,395 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 14:47:24,395 [NioProcessor-3  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 14:47:24,395 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 14:47:24,395 [pool-4-thread-5 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 14:47:24,395 [pool-4-thread-5 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@4637a0 obtained for command ID 7
2012-06-26 14:47:24,395 [pool-4-thread-5 ] [DEBUG] $$EnhancerByGuice$$22e9f5a5 - Handler for command ID 7 is com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@4637a0
2012-06-26 14:47:24,395 [pool-4-thread-5 ] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==bodyMessage=: [cmdId=7, posId=pos-0002, challengeResponse=[34, 1, -35, 25, 59, -79, 8, -101, 37, 69, -19, -70, 14, -21, -43, 117]]
2012-06-26 14:47:24,395 [pool-4-thread-5 ] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:null
2012-06-26 14:47:24,395 [pool-4-thread-5 ] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId
2012-06-26 14:47:24,395 [pool-4-thread-5 ] [TRACE] .q.m.l.l.i.LoginManagerImpl - Loaded from db: pos.posId:pos-0002, pos.secret:000001, oldChallenge:[83, 79, 120, 115, 72, 71, 54, 68]
2012-06-26 14:47:24,395 [pool-4-thread-5 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - disableChallengeCheck =0
2012-06-26 14:47:24,395 [pool-4-thread-5 ] [TRACE] c.c.q.m.l.c.ChallengeUtil   - checking challenge:response:[34, 1, -35, 25, 59, -79, 8, -101, 37, 69, -19, -70, 14, -21, -43, 117], posKey:000001, random:[83, 79, 120, 115, 72, 71, 54, 68]
2012-06-26 14:47:24,395 [pool-4-thread-5 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - new challenge for POS (POS ID): [67, 102, 66, 100, 110, 105, 66, 97]
2012-06-26 14:47:24,411 [pool-4-thread-5 ] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==serverKey=:JXTPOS
2012-06-26 14:47:24,411 [pool-4-thread-5 ] [DEBUG] ThreadSafeClientConnManager - Get connection: HttpRoute[{}->http://localhost:7070], timeout = 0
2012-06-26 14:47:24,411 [pool-4-thread-5 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - [HttpRoute[{}->http://localhost:7070]] total kept alive: 0, total issued: 0, total allocated: 0 out of 20
2012-06-26 14:47:24,411 [pool-4-thread-5 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - No free connections [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 14:47:24,411 [pool-4-thread-5 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Available capacity: 2 out of 2 [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 14:47:24,411 [pool-4-thread-5 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Creating new connection [HttpRoute[{}->http://localhost:7070]]
2012-06-26 14:47:24,411 [pool-4-thread-5 ] [DEBUG] ultClientConnectionOperator - Connecting to localhost:7070
2012-06-26 14:47:25,348 [pool-4-thread-5 ] [DEBUG] i.c.DefaultClientConnection - Connection closed
2012-06-26 14:47:25,348 [pool-4-thread-5 ] [DEBUG] i.c.DefaultClientConnection - Connection shut down
2012-06-26 14:47:25,348 [pool-4-thread-5 ] [DEBUG] ThreadSafeClientConnManager - Released connection is not reusable.
2012-06-26 14:47:25,348 [pool-4-thread-5 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Releasing connection [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 14:47:25,348 [pool-4-thread-5 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Notifying no-one, there are no waiting threads
2012-06-26 14:47:25,348 [pool-4-thread-5 ] [ERROR] q.m.p.h.LoginCommandHandler - initGrouponCache fail:com.chinarewards.qqgbvpn.qqapi.exception.ParseXMLException: com.chinarewards.qqgbvpn.qqapi.exception.SendPostTimeOutException: org.apache.http.conn.HttpHostConnectException: Connection to http://localhost:7070 refused
2012-06-26 14:47:25,348 [pool-4-thread-5 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 14:47:25,379 [pool-4-thread-5 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 14:47:25,379 [pool-4-thread-5 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 14:47:25,379 [pool-4-thread-5 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 14:47:25,379 [pool-4-thread-5 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 2
2012-06-26 14:47:25,379 [pool-4-thread-5 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (8)
2012-06-26 14:47:25,379 [pool-4-thread-5 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageResponseCodec@c7f290
2012-06-26 14:47:25,379 [pool-4-thread-5 ] [DEBUG] c.LoginMessageResponseCodec - login/bind message encode
2012-06-26 14:47:25,379 [pool-4-thread-5 ] [TRACE] c.LoginMessageResponseCodec - LoginResponseMessage: [cmdId=8, result=0, challenge=[67, 102, 66, 100, 110, 105, 66, 97]]
2012-06-26 14:47:25,379 [pool-4-thread-5 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0xc943
2012-06-26 14:47:25,379 [pool-4-thread-5 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 14:47:25,379 [pool-4-thread-5 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 C9 43 00 00 00 1E ...........C....
00000010 00 00 00 08 00 00 43 66 42 64 6E 69 42 61       ......CfBdniBa

2012-06-26 14:47:25,379 [pool-4-thread-5 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 14:47:25,379 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 14:47:25,379 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 14:47:25,379 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 2: not mark to return session ID to client
2012-06-26 14:47:25,379 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 14:47:25,379 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 14:47:25,379 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 14:47:25,379 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:3386, Mina session ID 2, identified POS ID pos-0002
2012-06-26 14:47:25,379 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 36 of 36 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 CC C0 00 00 00 24 ...............$
00000010 00 00 00 CB 00 06 31 32 33 34 35 36 00 06 33 36 ......123456..36
00000020 32 2E 33 33                                     2.33

2012-06-26 14:47:25,379 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=36 cap=1024: 00 00 00 10 00 00 00 00 00 00 CC C0 00 00 00 24...]
2012-06-26 14:47:25,379 [NioProcessor-3  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 2
2012-06-26 14:47:25,379 [NioProcessor-3  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 14:47:25,379 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 14:47:25,379 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 2
2012-06-26 14:47:25,379 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =36
2012-06-26 14:47:25,379 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 36 of 36 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 CC C0 00 00 00 24 ...............$
00000010 00 00 00 CB 00 06 31 32 33 34 35 36 00 06 33 36 ......123456..36
00000020 32 2E 33 33                                     2.33

2012-06-26 14:47:25,379 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 36, current position: 0
2012-06-26 14:47:25,379 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 14:47:25,379 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xccc0} messageSize:{0x24} sessionKey:{null}
2012-06-26 14:47:25,379 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 20
2012-06-26 14:47:25,379 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=20, in.remaining=20
2012-06-26 14:47:25,379 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 14:47:25,379 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 203
2012-06-26 14:47:25,379 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 203: com.chinarewards.qqadidas.main.protocol.socket.mina.codec.RightForMessageCodec@105f76c
2012-06-26 14:47:25,379 [NioProcessor-3  ] [DEBUG] .s.m.c.RightForMessageCodec - right for request message decode
2012-06-26 14:47:25,379 [NioProcessor-3  ] [DEBUG] .s.m.c.RightForMessageCodec - in.remaining()=20
2012-06-26 14:47:25,379 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 14:47:25,379 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xccc0} messageSize:{0x24} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.RightForRequestMessage@b6dd35
2012-06-26 14:47:25,379 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 14:47:25,379 [NioProcessor-3  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 14:47:25,379 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 14:47:25,379 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 14:47:25,379 [NioProcessor-3  ] [DEBUG] c.c.q.m.p.f.LoginFilter     - isLogin=true
2012-06-26 14:47:25,379 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 14:47:25,379 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 14:47:25,379 [NioProcessor-3  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:3386, Mina session ID 2, identified POS ID pos-0002, message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xccc0} messageSize:{0x24} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.RightForRequestMessage@b6dd35
2012-06-26 14:47:25,379 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 14:47:25,379 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 14:47:25,379 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 14:47:25,379 [NioProcessor-3  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 14:47:25,379 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 14:47:25,379 [pool-4-thread-6 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 14:47:25,379 [pool-4-thread-6 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 14:47:25,379 [pool-4-thread-6 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqadidas.main.protocol.handler.RightForCommandHandler@1ad5796 obtained for command ID 203
2012-06-26 14:47:25,379 [pool-4-thread-6 ] [DEBUG] $$EnhancerByGuice$$22e9f5a5 - Handler for command ID 203 is com.chinarewards.qqadidas.main.protocol.handler.RightForCommandHandler@1ad5796
2012-06-26 14:47:25,379 [pool-4-thread-6 ] [DEBUG] .p.h.RightForCommandHandler - RightForCommandHandler======execute==bodyMessage=: com.chinarewards.qqadidas.main.protocol.cmd.RightForRequestMessage@b6dd35
2012-06-26 14:47:25,379 [pool-4-thread-6 ] [DEBUG] .p.h.RightForCommandHandler - right for cdkey is: 123456
2012-06-26 14:47:25,379 [Finalizer       ] [DEBUG] ThreadSafeClientConnManager - Shutting down
2012-06-26 14:47:25,379 [pool-4-thread-6 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 14:47:25,379 [pool-4-thread-6 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 14:47:25,379 [pool-4-thread-6 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 14:47:25,379 [pool-4-thread-6 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 14:47:25,379 [pool-4-thread-6 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 2
2012-06-26 14:47:25,379 [pool-4-thread-6 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (204)
2012-06-26 14:47:25,379 [pool-4-thread-6 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqadidas.main.protocol.socket.mina.codec.RightForResponseMessageCodec@1f4e564
2012-06-26 14:47:25,379 [pool-4-thread-6 ] [DEBUG] ightForResponseMessageCodec - right for response message encode
2012-06-26 14:47:25,379 [pool-4-thread-6 ] [DEBUG] ightForResponseMessageCodec - right for response message encode resultByte length: 53
2012-06-26 14:47:25,379 [pool-4-thread-6 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0x4845
2012-06-26 14:47:25,379 [pool-4-thread-6 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 14:47:25,379 [pool-4-thread-6 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 69 of 69 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 48 45 00 00 00 45 ..........HE...E
00000010 00 00 00 CC 00 00 00 02 07 DC 06 1A 0E 2F 19 01 ............./..
00000020 7B 01 E0 00 08 BB F1 C8 A1 D3 C5 BB DD 00 16 31 {..............1
00000030 32 33 34 35 36 0A CE DE D0 A7 0A B0 B4 4F 4B BC 23456........OK.
00000040 FC B7 B5 BB D8                                  .....

2012-06-26 14:47:25,379 [pool-4-thread-6 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 14:47:25,379 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 14:47:25,379 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 14:47:25,379 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 2: not mark to return session ID to client
2012-06-26 14:47:25,379 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 14:47:25,379 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 14:47:25,379 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 14:47:25,379 [NioProcessor-3  ] [INFO ] o.a.m.f.l.LoggingFilter     - CLOSED
2012-06-26 14:47:25,379 [NioProcessor-3  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 14:47:31,063 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:47:31,063 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:47:31,063 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 14:47:31,063 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 14:47:31,063 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:47:41,058 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:47:41,058 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:47:41,058 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 14:47:41,058 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 14:47:41,058 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:47:51,052 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:47:51,052 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:47:51,052 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 14:47:51,052 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 14:47:51,052 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:48:01,062 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:48:01,062 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:48:01,062 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 14:48:01,062 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 14:48:01,062 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:48:11,072 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:48:11,072 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:48:11,072 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 14:48:11,072 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 14:48:11,072 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:48:21,067 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:48:21,067 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:48:21,067 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 14:48:21,067 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 14:48:21,067 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:48:31,077 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:48:31,077 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:48:31,077 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 14:48:31,077 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 14:48:31,077 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:48:41,071 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:48:41,071 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:48:41,071 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 14:48:41,071 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 14:48:41,071 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:48:51,065 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:48:51,065 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:48:51,065 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 14:48:51,065 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 14:48:51,065 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:49:01,060 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:49:01,060 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:49:01,060 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 14:49:01,060 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 14:49:01,060 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:49:11,069 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:49:11,069 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:49:11,069 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 14:49:11,069 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 14:49:11,069 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:49:21,063 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:49:21,063 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:49:21,063 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 14:49:21,063 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 14:49:21,063 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:49:31,058 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:49:31,058 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:49:31,058 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 14:49:31,058 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 14:49:31,058 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:49:41,052 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:49:41,052 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:49:41,052 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 14:49:41,052 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 14:49:41,052 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:49:51,061 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:49:51,061 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:49:51,061 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 14:49:51,061 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 14:49:51,061 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:50:01,055 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:50:01,055 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:50:01,055 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 14:50:01,055 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 14:50:01,055 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:50:11,050 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:50:11,050 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:50:11,050 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 14:50:11,050 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 14:50:11,050 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:50:21,059 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:50:21,059 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:50:21,059 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 14:50:21,059 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 14:50:21,059 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:50:31,053 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:50:31,053 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:50:31,053 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 14:50:31,053 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 14:50:31,053 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:50:41,048 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:50:41,048 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:50:41,048 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 14:50:41,048 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 14:50:41,048 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:50:51,042 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:50:51,042 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:50:51,042 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 14:50:51,042 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 14:50:51,042 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:51:01,051 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:51:01,051 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:51:01,051 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 14:51:01,051 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:51:01,051 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:51:11,061 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:51:11,061 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:51:11,061 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:51:11,061 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:51:11,061 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:51:21,055 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:51:21,055 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:51:21,055 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:51:21,055 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:51:21,055 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:51:31,065 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:51:31,065 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:51:31,065 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:51:31,065 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:51:31,065 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:51:41,059 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:51:41,059 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:51:41,059 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:51:41,059 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:51:41,059 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:51:51,053 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:51:51,053 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:51:51,053 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:51:51,053 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:51:51,053 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:52:01,047 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:52:01,047 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:52:01,047 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:52:01,047 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:52:01,047 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:52:11,057 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:52:11,057 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:52:11,057 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:52:11,057 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:52:11,057 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:52:21,051 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:52:21,051 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:52:21,051 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:52:21,051 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:52:21,051 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:52:31,045 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:52:31,045 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:52:31,045 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:52:31,045 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:52:31,045 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:52:41,039 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:52:41,039 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:52:41,039 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:52:41,039 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:52:41,039 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:52:51,033 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:52:51,033 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:52:51,033 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:52:51,033 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:52:51,033 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:53:01,028 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:53:01,028 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:53:01,028 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:53:01,028 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:53:01,028 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:53:11,022 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:53:11,022 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:53:11,022 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:53:11,022 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:53:11,022 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:53:21,047 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:53:21,047 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:53:21,047 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:53:21,047 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:53:21,047 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:53:31,041 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:53:31,041 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:53:31,041 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:53:31,041 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:53:31,041 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:53:41,035 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:53:41,035 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:53:41,035 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:53:41,035 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:53:41,035 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:53:51,029 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:53:51,029 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:53:51,029 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:53:51,029 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:53:51,029 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:54:01,039 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:54:01,039 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:54:01,039 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:54:01,039 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:54:01,039 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:54:04,677 [NioProcessor-1  ] [INFO ] c.c.q.m.p.f.LoggingFilter   - incoming connection from remote address: 127.0.0.1:3408, Mina session ID: 3
2012-06-26 14:54:04,677 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - Currently managed session count: 1
2012-06-26 14:54:04,677 [NioProcessor-1  ] [INFO ] o.a.m.f.l.LoggingFilter     - CREATED
2012-06-26 14:54:04,677 [NioProcessor-1  ] [INFO ] o.a.m.f.l.LoggingFilter     - OPENED
2012-06-26 14:54:04,677 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:3408, Mina session ID 3, identified POS ID null
2012-06-26 14:54:04,677 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 14:54:04,709 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=32 cap=2048: 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20...]
2012-06-26 14:54:04,709 [NioProcessor-1  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 3
2012-06-26 14:54:04,709 [NioProcessor-1  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 14:54:04,709 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 14:54:04,709 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 3
2012-06-26 14:54:04,709 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =32
2012-06-26 14:54:04,709 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 14:54:04,709 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 32, current position: 0
2012-06-26 14:54:04,709 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 14:54:04,709 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}
2012-06-26 14:54:04,709 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 16
2012-06-26 14:54:04,709 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=16, in.remaining=16
2012-06-26 14:54:04,709 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 14:54:04,709 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 5
2012-06-26 14:54:04,709 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 5: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageCodec@a8d279
2012-06-26 14:54:04,709 [NioProcessor-1  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - init request message decode
2012-06-26 14:54:04,709 [NioProcessor-1  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - in.remaining()=16
2012-06-26 14:54:04,709 [NioProcessor-1  ] [TRACE] .m.p.s.m.c.InitMessageCodec - InitRequestMessage: [cmdId=5, posId=pos-0002]
2012-06-26 14:54:04,709 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 14:54:04,709 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 14:54:04,709 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 14:54:04,709 [NioProcessor-1  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 14:54:04,709 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 14:54:04,709 [NioProcessor-1  ] [DEBUG] p.f.SessionKeyMessageFilter - Mina session ID 3: created session key 2b3b93c2d984478080c48527e87c2047
2012-06-26 14:54:04,709 [NioProcessor-1  ] [DEBUG] p.f.SessionKeyMessageFilter - creating session for mina session ID 3 using session ID 2b3b93c2d984478080c48527e87c2047
2012-06-26 14:54:04,709 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 14:54:04,709 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 14:54:04,709 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 14:54:04,709 [NioProcessor-1  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:3408, Mina session ID 3, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 14:54:04,709 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 14:54:04,709 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 14:54:04,709 [pool-4-thread-7 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 14:54:04,709 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 14:54:04,709 [NioProcessor-1  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 14:54:04,709 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 14:54:04,709 [pool-4-thread-7 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 14:54:04,709 [pool-4-thread-7 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@1ba30 obtained for command ID 5
2012-06-26 14:54:04,709 [pool-4-thread-7 ] [DEBUG] $$EnhancerByGuice$$22e9f5a5 - Handler for command ID 5 is com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@1ba30
2012-06-26 14:54:04,709 [pool-4-thread-7 ] [DEBUG] .q.m.p.h.InitCommandHandler - InitCommandHandler======execute==bodyMessage=:  [cmdId=5, posId=pos-0002]
2012-06-26 14:54:04,709 [pool-4-thread-7 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - InitResponse() invoke
2012-06-26 14:54:04,709 [pool-4-thread-7 ] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:ALLOWED
2012-06-26 14:54:04,709 [pool-4-thread-7 ] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId AND p.ostatus = :ostatus
2012-06-26 14:54:04,709 [pool-4-thread-7 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - POS ID:pos-0002, init challenge saved - [100, 67, 75, 55, 49, 65, 84, 105]
2012-06-26 14:54:04,709 [pool-4-thread-7 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 14:54:04,740 [pool-4-thread-7 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 14:54:04,740 [pool-4-thread-7 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 14:54:04,740 [pool-4-thread-7 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 14:54:04,740 [pool-4-thread-7 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 3
2012-06-26 14:54:04,740 [pool-4-thread-7 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (6)
2012-06-26 14:54:04,740 [pool-4-thread-7 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageResponseCodec@8b763a
2012-06-26 14:54:04,740 [pool-4-thread-7 ] [DEBUG] .c.InitMessageResponseCodec - init response message encode
2012-06-26 14:54:04,740 [pool-4-thread-7 ] [TRACE] .c.InitMessageResponseCodec - InitResponseMessage: [cmdId=6, result=0, challenge=[100, 67, 75, 55, 49, 65, 84, 105]]
2012-06-26 14:54:04,740 [pool-4-thread-7 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0xcab5
2012-06-26 14:54:04,740 [pool-4-thread-7 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 14:54:04,740 [pool-4-thread-7 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 CA B5 00 00 00 1E ................
00000010 00 00 00 06 00 00 64 43 4B 37 31 41 54 69       ......dCK71ATi

2012-06-26 14:54:04,740 [pool-4-thread-7 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 14:54:04,740 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 14:54:04,740 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 14:54:04,740 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 3: not mark to return session ID to client
2012-06-26 14:54:04,740 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 14:54:04,740 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 14:54:04,740 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 14:54:04,958 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:3408, Mina session ID 3, identified POS ID pos-0002
2012-06-26 14:54:04,958 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 6B 44 00 00 00 30 ..........kD...0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 63 EB 85 4C 18 E7 69 41 69 5E 43 EB 73 DC C3 FD c..L..iAi^C.s...

2012-06-26 14:54:04,958 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=48 cap=2048: 00 00 00 01 00 00 00 00 00 00 6B 44 00 00 00 30...]
2012-06-26 14:54:04,958 [NioProcessor-1  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 3
2012-06-26 14:54:04,958 [NioProcessor-1  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 14:54:04,958 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 14:54:04,958 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 3
2012-06-26 14:54:04,958 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =48
2012-06-26 14:54:04,958 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 6B 44 00 00 00 30 ..........kD...0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 63 EB 85 4C 18 E7 69 41 69 5E 43 EB 73 DC C3 FD c..L..iAi^C.s...

2012-06-26 14:54:04,958 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 48, current position: 0
2012-06-26 14:54:04,958 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 14:54:04,958 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x6b44} messageSize:{0x30} sessionKey:{null}
2012-06-26 14:54:04,958 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 32
2012-06-26 14:54:04,958 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=32, in.remaining=32
2012-06-26 14:54:04,958 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 14:54:04,958 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 7
2012-06-26 14:54:04,958 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 7: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageCodec@309c77
2012-06-26 14:54:04,958 [NioProcessor-1  ] [DEBUG] m.p.s.m.c.LoginMessageCodec - login/bind message decode
2012-06-26 14:54:04,958 [NioProcessor-1  ] [TRACE] m.p.s.m.c.LoginMessageCodec - LoginRequestMessage: [cmdId=7, posId=pos-0002, challengeResponse=[99, -21, -123, 76, 24, -25, 105, 65, 105, 94, 67, -21, 115, -36, -61, -3]]
2012-06-26 14:54:04,958 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 14:54:04,958 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x6b44} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[99, -21, -123, 76, 24, -25, 105, 65, 105, 94, 67, -21, 115, -36, -61, -3]]
2012-06-26 14:54:04,958 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 14:54:04,958 [NioProcessor-1  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 14:54:04,958 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 14:54:04,958 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 14:54:04,958 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 14:54:04,958 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 14:54:04,958 [NioProcessor-1  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:3408, Mina session ID 3, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x6b44} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[99, -21, -123, 76, 24, -25, 105, 65, 105, 94, 67, -21, 115, -36, -61, -3]]
2012-06-26 14:54:04,958 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 14:54:04,958 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 14:54:04,958 [pool-4-thread-8 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 14:54:04,958 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 14:54:04,958 [NioProcessor-1  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 14:54:04,958 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 14:54:04,974 [pool-4-thread-8 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 14:54:04,974 [pool-4-thread-8 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@1804312 obtained for command ID 7
2012-06-26 14:54:04,974 [pool-4-thread-8 ] [DEBUG] $$EnhancerByGuice$$22e9f5a5 - Handler for command ID 7 is com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@1804312
2012-06-26 14:54:04,974 [pool-4-thread-8 ] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==bodyMessage=: [cmdId=7, posId=pos-0002, challengeResponse=[99, -21, -123, 76, 24, -25, 105, 65, 105, 94, 67, -21, 115, -36, -61, -3]]
2012-06-26 14:54:04,974 [pool-4-thread-8 ] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:null
2012-06-26 14:54:04,974 [pool-4-thread-8 ] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId
2012-06-26 14:54:04,974 [pool-4-thread-8 ] [TRACE] .q.m.l.l.i.LoginManagerImpl - Loaded from db: pos.posId:pos-0002, pos.secret:000001, oldChallenge:[100, 67, 75, 55, 49, 65, 84, 105]
2012-06-26 14:54:04,974 [pool-4-thread-8 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - disableChallengeCheck =0
2012-06-26 14:54:04,974 [pool-4-thread-8 ] [TRACE] c.c.q.m.l.c.ChallengeUtil   - checking challenge:response:[99, -21, -123, 76, 24, -25, 105, 65, 105, 94, 67, -21, 115, -36, -61, -3], posKey:000001, random:[100, 67, 75, 55, 49, 65, 84, 105]
2012-06-26 14:54:04,974 [pool-4-thread-8 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - new challenge for POS (POS ID): [83, 111, 49, 67, 109, 117, 99, 108]
2012-06-26 14:54:04,974 [pool-4-thread-8 ] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==serverKey=:JXTPOS
2012-06-26 14:54:04,974 [pool-4-thread-8 ] [DEBUG] ThreadSafeClientConnManager - Get connection: HttpRoute[{}->http://localhost:7070], timeout = 0
2012-06-26 14:54:04,974 [pool-4-thread-8 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - [HttpRoute[{}->http://localhost:7070]] total kept alive: 0, total issued: 0, total allocated: 0 out of 20
2012-06-26 14:54:04,974 [pool-4-thread-8 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - No free connections [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 14:54:04,974 [pool-4-thread-8 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Available capacity: 2 out of 2 [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 14:54:04,974 [pool-4-thread-8 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Creating new connection [HttpRoute[{}->http://localhost:7070]]
2012-06-26 14:54:04,974 [pool-4-thread-8 ] [DEBUG] ultClientConnectionOperator - Connecting to localhost:7070
2012-06-26 14:54:05,942 [pool-4-thread-8 ] [DEBUG] i.c.DefaultClientConnection - Connection closed
2012-06-26 14:54:05,942 [pool-4-thread-8 ] [DEBUG] i.c.DefaultClientConnection - Connection shut down
2012-06-26 14:54:05,942 [pool-4-thread-8 ] [DEBUG] ThreadSafeClientConnManager - Released connection is not reusable.
2012-06-26 14:54:05,942 [pool-4-thread-8 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Releasing connection [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 14:54:05,942 [pool-4-thread-8 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Notifying no-one, there are no waiting threads
2012-06-26 14:54:05,942 [pool-4-thread-8 ] [ERROR] q.m.p.h.LoginCommandHandler - initGrouponCache fail:com.chinarewards.qqgbvpn.qqapi.exception.ParseXMLException: com.chinarewards.qqgbvpn.qqapi.exception.SendPostTimeOutException: org.apache.http.conn.HttpHostConnectException: Connection to http://localhost:7070 refused
2012-06-26 14:54:05,942 [pool-4-thread-8 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 14:54:05,973 [pool-4-thread-8 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 14:54:05,973 [pool-4-thread-8 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 14:54:05,973 [pool-4-thread-8 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 14:54:05,973 [pool-4-thread-8 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 3
2012-06-26 14:54:05,973 [pool-4-thread-8 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (8)
2012-06-26 14:54:05,973 [pool-4-thread-8 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageResponseCodec@4ec1ed
2012-06-26 14:54:05,973 [pool-4-thread-8 ] [DEBUG] c.LoginMessageResponseCodec - login/bind message encode
2012-06-26 14:54:05,973 [pool-4-thread-8 ] [TRACE] c.LoginMessageResponseCodec - LoginResponseMessage: [cmdId=8, result=0, challenge=[83, 111, 49, 67, 109, 117, 99, 108]]
2012-06-26 14:54:05,973 [pool-4-thread-8 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0xaa44
2012-06-26 14:54:05,973 [pool-4-thread-8 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 14:54:05,973 [pool-4-thread-8 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 AA 44 00 00 00 1E ...........D....
00000010 00 00 00 08 00 00 53 6F 31 43 6D 75 63 6C       ......So1Cmucl

2012-06-26 14:54:05,973 [pool-4-thread-8 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 14:54:05,973 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 14:54:05,973 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 14:54:05,973 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 3: not mark to return session ID to client
2012-06-26 14:54:05,973 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 14:54:05,973 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 14:54:05,973 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 14:54:05,973 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:3408, Mina session ID 3, identified POS ID pos-0002
2012-06-26 14:54:05,973 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 28 of 28 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 65 68 00 00 00 1C ..........eh....
00000010 00 00 00 C9 00 06 31 32 33 34 35 36             ......123456

2012-06-26 14:54:05,973 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=28 cap=1024: 00 00 00 10 00 00 00 00 00 00 65 68 00 00 00 1C...]
2012-06-26 14:54:05,973 [NioProcessor-1  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 3
2012-06-26 14:54:05,973 [NioProcessor-1  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 14:54:05,973 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 14:54:05,973 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 3
2012-06-26 14:54:05,973 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =28
2012-06-26 14:54:05,973 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 28 of 28 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 65 68 00 00 00 1C ..........eh....
00000010 00 00 00 C9 00 06 31 32 33 34 35 36             ......123456

2012-06-26 14:54:05,973 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 28, current position: 0
2012-06-26 14:54:05,973 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 14:54:05,973 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0x6568} messageSize:{0x1c} sessionKey:{null}
2012-06-26 14:54:05,973 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 12
2012-06-26 14:54:05,973 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=12, in.remaining=12
2012-06-26 14:54:05,973 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 14:54:05,973 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 201
2012-06-26 14:54:05,973 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 201: com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftMessageCodec@9db1d7
2012-06-26 14:54:05,973 [NioProcessor-1  ] [DEBUG] m.c.ReceiveGiftMessageCodec - receive gift request message decode
2012-06-26 14:54:05,973 [NioProcessor-1  ] [DEBUG] m.c.ReceiveGiftMessageCodec - in.remaining()=12
2012-06-26 14:54:05,973 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 14:54:05,973 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0x6568} messageSize:{0x1c} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@3cbc74
2012-06-26 14:54:05,973 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 14:54:05,973 [NioProcessor-1  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 14:54:05,973 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 14:54:05,973 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 14:54:05,973 [NioProcessor-1  ] [DEBUG] c.c.q.m.p.f.LoginFilter     - isLogin=true
2012-06-26 14:54:05,973 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 14:54:05,973 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 14:54:05,973 [NioProcessor-1  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:3408, Mina session ID 3, identified POS ID pos-0002, message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0x6568} messageSize:{0x1c} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@3cbc74
2012-06-26 14:54:05,973 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 14:54:05,973 [Finalizer       ] [DEBUG] ThreadSafeClientConnManager - Shutting down
2012-06-26 14:54:05,973 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 14:54:05,973 [pool-4-thread-9 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 14:54:05,989 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 14:54:05,989 [NioProcessor-1  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 14:54:05,989 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 14:54:05,989 [pool-4-thread-9 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 14:54:05,989 [pool-4-thread-9 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@a053ff obtained for command ID 201
2012-06-26 14:54:05,989 [pool-4-thread-9 ] [DEBUG] $$EnhancerByGuice$$22e9f5a5 - Handler for command ID 201 is com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@a053ff
2012-06-26 14:54:05,989 [pool-4-thread-9 ] [DEBUG] h.ReceiveGiftCommandHandler - ReceiveGiftHandler======execute==bodyMessage=: com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@3cbc74
2012-06-26 14:54:05,989 [pool-4-thread-9 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 14:54:05,989 [pool-4-thread-9 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 14:54:05,989 [pool-4-thread-9 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 14:54:05,989 [pool-4-thread-9 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 14:54:05,989 [pool-4-thread-9 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 3
2012-06-26 14:54:05,989 [pool-4-thread-9 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (202)
2012-06-26 14:54:05,989 [pool-4-thread-9 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftResponseMessageCodec@1002aba
2012-06-26 14:54:05,989 [pool-4-thread-9 ] [DEBUG] iveGiftResponseMessageCodec - receive gift response message encode
2012-06-26 14:54:05,989 [pool-4-thread-9 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0xf93f
2012-06-26 14:54:05,989 [pool-4-thread-9 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 14:54:05,989 [pool-4-thread-9 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 69 of 69 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 F9 3F 00 00 00 45 ...........?...E
00000010 00 00 00 CA 00 00 00 02 07 DC 06 1A 0E 36 05 03 .............6..
00000020 DD 01 E0 00 08 C1 EC C8 A1 C0 F1 C6 B7 00 16 31 ...............1
00000030 32 33 34 35 36 0A CE DE D0 A7 0A B0 B4 4F 4B BC 23456........OK.
00000040 FC B7 B5 BB D8                                  .....

2012-06-26 14:54:05,989 [pool-4-thread-9 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 14:54:05,989 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 14:54:05,989 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 14:54:05,989 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 3: not mark to return session ID to client
2012-06-26 14:54:05,989 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 14:54:05,989 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 14:54:05,989 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 14:54:05,989 [NioProcessor-1  ] [INFO ] o.a.m.f.l.LoggingFilter     - CLOSED
2012-06-26 14:54:05,989 [NioProcessor-1  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 14:54:06,223 [NioProcessor-2  ] [INFO ] c.c.q.m.p.f.LoggingFilter   - incoming connection from remote address: 127.0.0.1:3410, Mina session ID: 4
2012-06-26 14:54:06,223 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - Currently managed session count: 1
2012-06-26 14:54:06,223 [NioProcessor-2  ] [INFO ] o.a.m.f.l.LoggingFilter     - CREATED
2012-06-26 14:54:06,223 [NioProcessor-2  ] [INFO ] o.a.m.f.l.LoggingFilter     - OPENED
2012-06-26 14:54:06,364 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:3410, Mina session ID 4, identified POS ID null
2012-06-26 14:54:06,364 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 14:54:06,364 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=32 cap=2048: 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20...]
2012-06-26 14:54:06,364 [NioProcessor-2  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 4
2012-06-26 14:54:06,364 [NioProcessor-2  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 14:54:06,364 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 14:54:06,364 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 4
2012-06-26 14:54:06,364 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =32
2012-06-26 14:54:06,364 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 14:54:06,364 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 32, current position: 0
2012-06-26 14:54:06,364 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 14:54:06,364 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}
2012-06-26 14:54:06,364 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 16
2012-06-26 14:54:06,364 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=16, in.remaining=16
2012-06-26 14:54:06,364 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 14:54:06,364 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 5
2012-06-26 14:54:06,364 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 5: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageCodec@170dc61
2012-06-26 14:54:06,364 [NioProcessor-2  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - init request message decode
2012-06-26 14:54:06,364 [NioProcessor-2  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - in.remaining()=16
2012-06-26 14:54:06,364 [NioProcessor-2  ] [TRACE] .m.p.s.m.c.InitMessageCodec - InitRequestMessage: [cmdId=5, posId=pos-0002]
2012-06-26 14:54:06,364 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 14:54:06,364 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 14:54:06,364 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 14:54:06,364 [NioProcessor-2  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 14:54:06,364 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 14:54:06,364 [NioProcessor-2  ] [DEBUG] p.f.SessionKeyMessageFilter - Mina session ID 4: created session key 1410a138f21c45d39776a8838601621f
2012-06-26 14:54:06,364 [NioProcessor-2  ] [DEBUG] p.f.SessionKeyMessageFilter - creating session for mina session ID 4 using session ID 1410a138f21c45d39776a8838601621f
2012-06-26 14:54:06,364 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 14:54:06,364 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 14:54:06,364 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 14:54:06,364 [NioProcessor-2  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:3410, Mina session ID 4, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 14:54:06,364 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 14:54:06,364 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 14:54:06,364 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 14:54:06,364 [NioProcessor-2  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 14:54:06,364 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 14:54:06,364 [pool-4-thread-10] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 14:54:06,364 [pool-4-thread-10] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 14:54:06,364 [pool-4-thread-10] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@f5d7d4 obtained for command ID 5
2012-06-26 14:54:06,379 [pool-4-thread-10] [DEBUG] $$EnhancerByGuice$$22e9f5a5 - Handler for command ID 5 is com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@f5d7d4
2012-06-26 14:54:06,379 [pool-4-thread-10] [DEBUG] .q.m.p.h.InitCommandHandler - InitCommandHandler======execute==bodyMessage=:  [cmdId=5, posId=pos-0002]
2012-06-26 14:54:06,379 [pool-4-thread-10] [DEBUG] .q.m.l.l.i.LoginManagerImpl - InitResponse() invoke
2012-06-26 14:54:06,379 [pool-4-thread-10] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:ALLOWED
2012-06-26 14:54:06,379 [pool-4-thread-10] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId AND p.ostatus = :ostatus
2012-06-26 14:54:06,379 [pool-4-thread-10] [DEBUG] .q.m.l.l.i.LoginManagerImpl - POS ID:pos-0002, init challenge saved - [71, 88, 104, 68, 115, 65, 66, 114]
2012-06-26 14:54:06,379 [pool-4-thread-10] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 14:54:06,395 [pool-4-thread-10] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 14:54:06,395 [pool-4-thread-10] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 14:54:06,395 [pool-4-thread-10] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 14:54:06,395 [pool-4-thread-10] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 4
2012-06-26 14:54:06,395 [pool-4-thread-10] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (6)
2012-06-26 14:54:06,395 [pool-4-thread-10] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageResponseCodec@149fab4
2012-06-26 14:54:06,395 [pool-4-thread-10] [DEBUG] .c.InitMessageResponseCodec - init response message encode
2012-06-26 14:54:06,395 [pool-4-thread-10] [TRACE] .c.InitMessageResponseCodec - InitResponseMessage: [cmdId=6, result=0, challenge=[71, 88, 104, 68, 115, 65, 66, 114]]
2012-06-26 14:54:06,395 [pool-4-thread-10] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0x9a8a
2012-06-26 14:54:06,395 [pool-4-thread-10] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 14:54:06,395 [pool-4-thread-10] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 9A 8A 00 00 00 1E ................
00000010 00 00 00 06 00 00 47 58 68 44 73 41 42 72       ......GXhDsABr

2012-06-26 14:54:06,395 [pool-4-thread-10] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 14:54:06,395 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 14:54:06,395 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 14:54:06,395 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 4: not mark to return session ID to client
2012-06-26 14:54:06,395 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 14:54:06,395 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 14:54:06,395 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 14:54:06,395 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:3410, Mina session ID 4, identified POS ID pos-0002
2012-06-26 14:54:06,395 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 E9 1C 00 00 00 30 ...............0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 18 81 0E A0 FF 6F 0C 09 3F F0 A9 E5 96 2B 20 10 .....o..?....+ .

2012-06-26 14:54:06,395 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=48 cap=2048: 00 00 00 01 00 00 00 00 00 00 E9 1C 00 00 00 30...]
2012-06-26 14:54:06,395 [NioProcessor-2  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 4
2012-06-26 14:54:06,395 [NioProcessor-2  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 14:54:06,395 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 14:54:06,395 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 4
2012-06-26 14:54:06,395 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =48
2012-06-26 14:54:06,395 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 E9 1C 00 00 00 30 ...............0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 18 81 0E A0 FF 6F 0C 09 3F F0 A9 E5 96 2B 20 10 .....o..?....+ .

2012-06-26 14:54:06,395 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 48, current position: 0
2012-06-26 14:54:06,395 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 14:54:06,395 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xe91c} messageSize:{0x30} sessionKey:{null}
2012-06-26 14:54:06,395 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 32
2012-06-26 14:54:06,395 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=32, in.remaining=32
2012-06-26 14:54:06,395 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 14:54:06,411 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 7
2012-06-26 14:54:06,411 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 7: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageCodec@58f360
2012-06-26 14:54:06,411 [NioProcessor-2  ] [DEBUG] m.p.s.m.c.LoginMessageCodec - login/bind message decode
2012-06-26 14:54:06,411 [NioProcessor-2  ] [TRACE] m.p.s.m.c.LoginMessageCodec - LoginRequestMessage: [cmdId=7, posId=pos-0002, challengeResponse=[24, -127, 14, -96, -1, 111, 12, 9, 63, -16, -87, -27, -106, 43, 32, 16]]
2012-06-26 14:54:06,411 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 14:54:06,411 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xe91c} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[24, -127, 14, -96, -1, 111, 12, 9, 63, -16, -87, -27, -106, 43, 32, 16]]
2012-06-26 14:54:06,411 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 14:54:06,411 [NioProcessor-2  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 14:54:06,411 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 14:54:06,411 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 14:54:06,411 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 14:54:06,411 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 14:54:06,411 [NioProcessor-2  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:3410, Mina session ID 4, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xe91c} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[24, -127, 14, -96, -1, 111, 12, 9, 63, -16, -87, -27, -106, 43, 32, 16]]
2012-06-26 14:54:06,411 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 14:54:06,411 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 14:54:06,411 [pool-4-thread-11] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 14:54:06,411 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 14:54:06,411 [NioProcessor-2  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 14:54:06,411 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 14:54:06,411 [pool-4-thread-11] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 14:54:06,411 [pool-4-thread-11] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@fc843e obtained for command ID 7
2012-06-26 14:54:06,411 [pool-4-thread-11] [DEBUG] $$EnhancerByGuice$$22e9f5a5 - Handler for command ID 7 is com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@fc843e
2012-06-26 14:54:06,411 [pool-4-thread-11] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==bodyMessage=: [cmdId=7, posId=pos-0002, challengeResponse=[24, -127, 14, -96, -1, 111, 12, 9, 63, -16, -87, -27, -106, 43, 32, 16]]
2012-06-26 14:54:06,411 [pool-4-thread-11] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:null
2012-06-26 14:54:06,411 [pool-4-thread-11] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId
2012-06-26 14:54:06,411 [pool-4-thread-11] [TRACE] .q.m.l.l.i.LoginManagerImpl - Loaded from db: pos.posId:pos-0002, pos.secret:000001, oldChallenge:[71, 88, 104, 68, 115, 65, 66, 114]
2012-06-26 14:54:06,411 [pool-4-thread-11] [DEBUG] .q.m.l.l.i.LoginManagerImpl - disableChallengeCheck =0
2012-06-26 14:54:06,411 [pool-4-thread-11] [TRACE] c.c.q.m.l.c.ChallengeUtil   - checking challenge:response:[24, -127, 14, -96, -1, 111, 12, 9, 63, -16, -87, -27, -106, 43, 32, 16], posKey:000001, random:[71, 88, 104, 68, 115, 65, 66, 114]
2012-06-26 14:54:06,411 [pool-4-thread-11] [DEBUG] .q.m.l.l.i.LoginManagerImpl - new challenge for POS (POS ID): [90, 112, 50, 66, 84, 100, 112, 55]
2012-06-26 14:54:06,411 [pool-4-thread-11] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==serverKey=:JXTPOS
2012-06-26 14:54:06,411 [pool-4-thread-11] [DEBUG] ThreadSafeClientConnManager - Get connection: HttpRoute[{}->http://localhost:7070], timeout = 0
2012-06-26 14:54:06,411 [pool-4-thread-11] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - [HttpRoute[{}->http://localhost:7070]] total kept alive: 0, total issued: 0, total allocated: 0 out of 20
2012-06-26 14:54:06,411 [pool-4-thread-11] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - No free connections [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 14:54:06,411 [pool-4-thread-11] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Available capacity: 2 out of 2 [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 14:54:06,411 [pool-4-thread-11] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Creating new connection [HttpRoute[{}->http://localhost:7070]]
2012-06-26 14:54:06,411 [pool-4-thread-11] [DEBUG] ultClientConnectionOperator - Connecting to localhost:7070
2012-06-26 14:54:07,473 [pool-4-thread-11] [DEBUG] i.c.DefaultClientConnection - Connection closed
2012-06-26 14:54:07,473 [pool-4-thread-11] [DEBUG] i.c.DefaultClientConnection - Connection shut down
2012-06-26 14:54:07,473 [pool-4-thread-11] [DEBUG] ThreadSafeClientConnManager - Released connection is not reusable.
2012-06-26 14:54:07,473 [pool-4-thread-11] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Releasing connection [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 14:54:07,473 [pool-4-thread-11] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Notifying no-one, there are no waiting threads
2012-06-26 14:54:07,473 [pool-4-thread-11] [ERROR] q.m.p.h.LoginCommandHandler - initGrouponCache fail:com.chinarewards.qqgbvpn.qqapi.exception.ParseXMLException: com.chinarewards.qqgbvpn.qqapi.exception.SendPostTimeOutException: org.apache.http.conn.HttpHostConnectException: Connection to http://localhost:7070 refused
2012-06-26 14:54:07,473 [pool-4-thread-11] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 14:54:07,519 [pool-4-thread-11] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 14:54:07,519 [pool-4-thread-11] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 14:54:07,519 [pool-4-thread-11] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 14:54:07,519 [pool-4-thread-11] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 4
2012-06-26 14:54:07,519 [pool-4-thread-11] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (8)
2012-06-26 14:54:07,519 [pool-4-thread-11] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageResponseCodec@1165d12
2012-06-26 14:54:07,519 [pool-4-thread-11] [DEBUG] c.LoginMessageResponseCodec - login/bind message encode
2012-06-26 14:54:07,519 [pool-4-thread-11] [TRACE] c.LoginMessageResponseCodec - LoginResponseMessage: [cmdId=8, result=0, challenge=[90, 112, 50, 66, 84, 100, 112, 55]]
2012-06-26 14:54:07,519 [pool-4-thread-11] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0xae8a
2012-06-26 14:54:07,519 [pool-4-thread-11] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 14:54:07,519 [pool-4-thread-11] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 AE 8A 00 00 00 1E ................
00000010 00 00 00 08 00 00 5A 70 32 42 54 64 70 37       ......Zp2BTdp7

2012-06-26 14:54:07,519 [pool-4-thread-11] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 14:54:07,519 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 14:54:07,519 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 14:54:07,519 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 4: not mark to return session ID to client
2012-06-26 14:54:07,519 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 14:54:07,519 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 14:54:07,519 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 14:54:07,519 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:3410, Mina session ID 4, identified POS ID pos-0002
2012-06-26 14:54:07,519 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 33 of 33 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 D8 04 00 00 00 21 ...............!
00000010 00 00 00 C9 00 0B 31 31 31 31 31 31 31 31 31 31 ......1111111111
00000020 31                                              1

2012-06-26 14:54:07,519 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=33 cap=1024: 00 00 00 10 00 00 00 00 00 00 D8 04 00 00 00 21...]
2012-06-26 14:54:07,519 [NioProcessor-2  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 4
2012-06-26 14:54:07,519 [NioProcessor-2  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 14:54:07,519 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 14:54:07,519 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 4
2012-06-26 14:54:07,519 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =33
2012-06-26 14:54:07,519 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 33 of 33 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 D8 04 00 00 00 21 ...............!
00000010 00 00 00 C9 00 0B 31 31 31 31 31 31 31 31 31 31 ......1111111111
00000020 31                                              1

2012-06-26 14:54:07,519 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 33, current position: 0
2012-06-26 14:54:07,519 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 14:54:07,519 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd804} messageSize:{0x21} sessionKey:{null}
2012-06-26 14:54:07,519 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 17
2012-06-26 14:54:07,519 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=17, in.remaining=17
2012-06-26 14:54:07,519 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 14:54:07,519 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 201
2012-06-26 14:54:07,519 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 201: com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftMessageCodec@1385495
2012-06-26 14:54:07,519 [NioProcessor-2  ] [DEBUG] m.c.ReceiveGiftMessageCodec - receive gift request message decode
2012-06-26 14:54:07,519 [NioProcessor-2  ] [DEBUG] m.c.ReceiveGiftMessageCodec - in.remaining()=17
2012-06-26 14:54:07,519 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 14:54:07,519 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd804} messageSize:{0x21} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@1392199
2012-06-26 14:54:07,519 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 14:54:07,519 [NioProcessor-2  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 14:54:07,519 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 14:54:07,519 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 14:54:07,519 [NioProcessor-2  ] [DEBUG] c.c.q.m.p.f.LoginFilter     - isLogin=true
2012-06-26 14:54:07,519 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 14:54:07,519 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 14:54:07,519 [NioProcessor-2  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:3410, Mina session ID 4, identified POS ID pos-0002, message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd804} messageSize:{0x21} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@1392199
2012-06-26 14:54:07,519 [Finalizer       ] [DEBUG] ThreadSafeClientConnManager - Shutting down
2012-06-26 14:54:07,519 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 14:54:07,519 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 14:54:07,519 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 14:54:07,519 [NioProcessor-2  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 14:54:07,519 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 14:54:07,519 [pool-4-thread-12] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 14:54:07,535 [pool-4-thread-12] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 14:54:07,535 [pool-4-thread-12] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@10ff5e0 obtained for command ID 201
2012-06-26 14:54:07,535 [pool-4-thread-12] [DEBUG] $$EnhancerByGuice$$22e9f5a5 - Handler for command ID 201 is com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@10ff5e0
2012-06-26 14:54:07,535 [pool-4-thread-12] [DEBUG] h.ReceiveGiftCommandHandler - ReceiveGiftHandler======execute==bodyMessage=: com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@1392199
2012-06-26 14:54:07,535 [pool-4-thread-12] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 14:54:07,535 [pool-4-thread-12] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 14:54:07,535 [pool-4-thread-12] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 14:54:07,535 [pool-4-thread-12] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 14:54:07,535 [pool-4-thread-12] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 4
2012-06-26 14:54:07,535 [pool-4-thread-12] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (202)
2012-06-26 14:54:07,535 [pool-4-thread-12] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftResponseMessageCodec@46109f
2012-06-26 14:54:07,535 [pool-4-thread-12] [DEBUG] iveGiftResponseMessageCodec - receive gift response message encode
2012-06-26 14:54:07,535 [pool-4-thread-12] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0x98ae
2012-06-26 14:54:07,535 [pool-4-thread-12] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 14:54:07,535 [pool-4-thread-12] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 55 of 55 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 98 AE 00 00 00 37 ...............7
00000010 00 00 00 CA 00 00 00 00 07 DC 06 1A 0E 36 07 02 .............6..
00000020 17 01 E0 00 08 C1 EC C8 A1 C0 F1 C6 B7 00 08 BD ................
00000030 BB D2 D7 B3 C9 B9 A6                            .......

2012-06-26 14:54:07,535 [pool-4-thread-12] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 14:54:07,535 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 14:54:07,535 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 14:54:07,535 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 4: not mark to return session ID to client
2012-06-26 14:54:07,535 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 14:54:07,535 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 14:54:07,535 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 14:54:07,535 [NioProcessor-2  ] [INFO ] o.a.m.f.l.LoggingFilter     - CLOSED
2012-06-26 14:54:07,535 [NioProcessor-2  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 14:54:07,816 [NioProcessor-3  ] [INFO ] c.c.q.m.p.f.LoggingFilter   - incoming connection from remote address: 127.0.0.1:3412, Mina session ID: 5
2012-06-26 14:54:07,816 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - Currently managed session count: 1
2012-06-26 14:54:07,816 [NioProcessor-3  ] [INFO ] o.a.m.f.l.LoggingFilter     - CREATED
2012-06-26 14:54:07,816 [NioProcessor-3  ] [INFO ] o.a.m.f.l.LoggingFilter     - OPENED
2012-06-26 14:54:07,816 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:3412, Mina session ID 5, identified POS ID null
2012-06-26 14:54:07,816 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 14:54:07,816 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=32 cap=2048: 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20...]
2012-06-26 14:54:07,816 [NioProcessor-3  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 5
2012-06-26 14:54:07,832 [NioProcessor-3  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 14:54:07,832 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 14:54:07,832 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 5
2012-06-26 14:54:07,832 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =32
2012-06-26 14:54:07,832 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 14:54:07,832 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 32, current position: 0
2012-06-26 14:54:07,832 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 14:54:07,832 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}
2012-06-26 14:54:07,832 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 16
2012-06-26 14:54:07,832 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=16, in.remaining=16
2012-06-26 14:54:07,832 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 14:54:07,832 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 5
2012-06-26 14:54:07,832 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 5: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageCodec@14d8f3b
2012-06-26 14:54:07,832 [NioProcessor-3  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - init request message decode
2012-06-26 14:54:07,832 [NioProcessor-3  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - in.remaining()=16
2012-06-26 14:54:07,832 [NioProcessor-3  ] [TRACE] .m.p.s.m.c.InitMessageCodec - InitRequestMessage: [cmdId=5, posId=pos-0002]
2012-06-26 14:54:07,832 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 14:54:07,832 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 14:54:07,832 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 14:54:07,832 [NioProcessor-3  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 14:54:07,832 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 14:54:07,832 [NioProcessor-3  ] [DEBUG] p.f.SessionKeyMessageFilter - Mina session ID 5: created session key 0aaaa09da2ec4732886afce9c3fbe251
2012-06-26 14:54:07,832 [NioProcessor-3  ] [DEBUG] p.f.SessionKeyMessageFilter - creating session for mina session ID 5 using session ID 0aaaa09da2ec4732886afce9c3fbe251
2012-06-26 14:54:07,832 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 14:54:07,832 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 14:54:07,832 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 14:54:07,832 [NioProcessor-3  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:3412, Mina session ID 5, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 14:54:07,832 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 14:54:07,832 [pool-4-thread-13] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 14:54:07,832 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 14:54:07,832 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 14:54:07,832 [NioProcessor-3  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 14:54:07,832 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 14:54:07,832 [pool-4-thread-13] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 14:54:07,832 [pool-4-thread-13] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@2dfc48 obtained for command ID 5
2012-06-26 14:54:07,832 [pool-4-thread-13] [DEBUG] $$EnhancerByGuice$$22e9f5a5 - Handler for command ID 5 is com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@2dfc48
2012-06-26 14:54:07,832 [pool-4-thread-13] [DEBUG] .q.m.p.h.InitCommandHandler - InitCommandHandler======execute==bodyMessage=:  [cmdId=5, posId=pos-0002]
2012-06-26 14:54:07,832 [pool-4-thread-13] [DEBUG] .q.m.l.l.i.LoginManagerImpl - InitResponse() invoke
2012-06-26 14:54:07,832 [pool-4-thread-13] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:ALLOWED
2012-06-26 14:54:07,832 [pool-4-thread-13] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId AND p.ostatus = :ostatus
2012-06-26 14:54:07,832 [pool-4-thread-13] [DEBUG] .q.m.l.l.i.LoginManagerImpl - POS ID:pos-0002, init challenge saved - [88, 103, 70, 75, 101, 72, 108, 68]
2012-06-26 14:54:07,832 [pool-4-thread-13] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 14:54:07,863 [pool-4-thread-13] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 14:54:07,863 [pool-4-thread-13] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 14:54:07,863 [pool-4-thread-13] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 14:54:07,863 [pool-4-thread-13] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 5
2012-06-26 14:54:07,863 [pool-4-thread-13] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (6)
2012-06-26 14:54:07,863 [pool-4-thread-13] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageResponseCodec@1e04142
2012-06-26 14:54:07,863 [pool-4-thread-13] [DEBUG] .c.InitMessageResponseCodec - init response message encode
2012-06-26 14:54:07,863 [pool-4-thread-13] [TRACE] .c.InitMessageResponseCodec - InitResponseMessage: [cmdId=6, result=0, challenge=[88, 103, 70, 75, 101, 72, 108, 68]]
2012-06-26 14:54:07,863 [pool-4-thread-13] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0x8f9b
2012-06-26 14:54:07,863 [pool-4-thread-13] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 14:54:07,863 [pool-4-thread-13] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 8F 9B 00 00 00 1E ................
00000010 00 00 00 06 00 00 58 67 46 4B 65 48 6C 44       ......XgFKeHlD

2012-06-26 14:54:07,863 [pool-4-thread-13] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 14:54:07,863 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 14:54:07,863 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 14:54:07,863 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 5: not mark to return session ID to client
2012-06-26 14:54:07,863 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 14:54:07,863 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 14:54:07,863 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 14:54:07,863 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:3412, Mina session ID 5, identified POS ID pos-0002
2012-06-26 14:54:07,863 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 7A 6D 00 00 00 30 ..........zm...0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 5A F7 D8 F2 4C 41 45 5C AB 30 0D A8 9B BD 27 3D Z...LAE\.0....'=

2012-06-26 14:54:07,863 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=48 cap=2048: 00 00 00 01 00 00 00 00 00 00 7A 6D 00 00 00 30...]
2012-06-26 14:54:07,863 [NioProcessor-3  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 5
2012-06-26 14:54:07,863 [NioProcessor-3  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 14:54:07,863 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 14:54:07,863 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 5
2012-06-26 14:54:07,863 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =48
2012-06-26 14:54:07,863 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 7A 6D 00 00 00 30 ..........zm...0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 5A F7 D8 F2 4C 41 45 5C AB 30 0D A8 9B BD 27 3D Z...LAE\.0....'=

2012-06-26 14:54:07,863 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 48, current position: 0
2012-06-26 14:54:07,863 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 14:54:07,863 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x7a6d} messageSize:{0x30} sessionKey:{null}
2012-06-26 14:54:07,863 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 32
2012-06-26 14:54:07,863 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=32, in.remaining=32
2012-06-26 14:54:07,863 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 14:54:07,863 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 7
2012-06-26 14:54:07,863 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 7: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageCodec@1e4ef63
2012-06-26 14:54:07,863 [NioProcessor-3  ] [DEBUG] m.p.s.m.c.LoginMessageCodec - login/bind message decode
2012-06-26 14:54:07,863 [NioProcessor-3  ] [TRACE] m.p.s.m.c.LoginMessageCodec - LoginRequestMessage: [cmdId=7, posId=pos-0002, challengeResponse=[90, -9, -40, -14, 76, 65, 69, 92, -85, 48, 13, -88, -101, -67, 39, 61]]
2012-06-26 14:54:07,863 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 14:54:07,863 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x7a6d} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[90, -9, -40, -14, 76, 65, 69, 92, -85, 48, 13, -88, -101, -67, 39, 61]]
2012-06-26 14:54:07,863 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 14:54:07,863 [NioProcessor-3  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 14:54:07,863 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 14:54:07,863 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 14:54:07,863 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 14:54:07,863 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 14:54:07,863 [NioProcessor-3  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:3412, Mina session ID 5, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x7a6d} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[90, -9, -40, -14, 76, 65, 69, 92, -85, 48, 13, -88, -101, -67, 39, 61]]
2012-06-26 14:54:07,863 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 14:54:07,863 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 14:54:07,863 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 14:54:07,863 [NioProcessor-3  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 14:54:07,863 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 14:54:07,863 [pool-4-thread-14] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 14:54:07,863 [pool-4-thread-14] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 14:54:07,863 [pool-4-thread-14] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@14cb47a obtained for command ID 7
2012-06-26 14:54:07,863 [pool-4-thread-14] [DEBUG] $$EnhancerByGuice$$22e9f5a5 - Handler for command ID 7 is com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@14cb47a
2012-06-26 14:54:07,863 [pool-4-thread-14] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==bodyMessage=: [cmdId=7, posId=pos-0002, challengeResponse=[90, -9, -40, -14, 76, 65, 69, 92, -85, 48, 13, -88, -101, -67, 39, 61]]
2012-06-26 14:54:07,863 [pool-4-thread-14] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:null
2012-06-26 14:54:07,863 [pool-4-thread-14] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId
2012-06-26 14:54:07,863 [pool-4-thread-14] [TRACE] .q.m.l.l.i.LoginManagerImpl - Loaded from db: pos.posId:pos-0002, pos.secret:000001, oldChallenge:[88, 103, 70, 75, 101, 72, 108, 68]
2012-06-26 14:54:07,863 [pool-4-thread-14] [DEBUG] .q.m.l.l.i.LoginManagerImpl - disableChallengeCheck =0
2012-06-26 14:54:07,863 [pool-4-thread-14] [TRACE] c.c.q.m.l.c.ChallengeUtil   - checking challenge:response:[90, -9, -40, -14, 76, 65, 69, 92, -85, 48, 13, -88, -101, -67, 39, 61], posKey:000001, random:[88, 103, 70, 75, 101, 72, 108, 68]
2012-06-26 14:54:07,863 [pool-4-thread-14] [DEBUG] .q.m.l.l.i.LoginManagerImpl - new challenge for POS (POS ID): [120, 120, 76, 102, 83, 66, 75, 76]
2012-06-26 14:54:07,879 [pool-4-thread-14] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==serverKey=:JXTPOS
2012-06-26 14:54:07,879 [pool-4-thread-14] [DEBUG] ThreadSafeClientConnManager - Get connection: HttpRoute[{}->http://localhost:7070], timeout = 0
2012-06-26 14:54:07,879 [pool-4-thread-14] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - [HttpRoute[{}->http://localhost:7070]] total kept alive: 0, total issued: 0, total allocated: 0 out of 20
2012-06-26 14:54:07,879 [pool-4-thread-14] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - No free connections [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 14:54:07,879 [pool-4-thread-14] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Available capacity: 2 out of 2 [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 14:54:07,879 [pool-4-thread-14] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Creating new connection [HttpRoute[{}->http://localhost:7070]]
2012-06-26 14:54:07,879 [pool-4-thread-14] [DEBUG] ultClientConnectionOperator - Connecting to localhost:7070
2012-06-26 14:54:09,019 [pool-4-thread-14] [DEBUG] i.c.DefaultClientConnection - Connection closed
2012-06-26 14:54:09,019 [pool-4-thread-14] [DEBUG] i.c.DefaultClientConnection - Connection shut down
2012-06-26 14:54:09,019 [pool-4-thread-14] [DEBUG] ThreadSafeClientConnManager - Released connection is not reusable.
2012-06-26 14:54:09,019 [pool-4-thread-14] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Releasing connection [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 14:54:09,019 [pool-4-thread-14] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Notifying no-one, there are no waiting threads
2012-06-26 14:54:09,019 [pool-4-thread-14] [ERROR] q.m.p.h.LoginCommandHandler - initGrouponCache fail:com.chinarewards.qqgbvpn.qqapi.exception.ParseXMLException: com.chinarewards.qqgbvpn.qqapi.exception.SendPostTimeOutException: org.apache.http.conn.HttpHostConnectException: Connection to http://localhost:7070 refused
2012-06-26 14:54:09,019 [pool-4-thread-14] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 14:54:09,065 [pool-4-thread-14] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 14:54:09,065 [pool-4-thread-14] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 14:54:09,065 [pool-4-thread-14] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 14:54:09,065 [pool-4-thread-14] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 5
2012-06-26 14:54:09,065 [pool-4-thread-14] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (8)
2012-06-26 14:54:09,065 [pool-4-thread-14] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageResponseCodec@128bbbf
2012-06-26 14:54:09,065 [pool-4-thread-14] [DEBUG] c.LoginMessageResponseCodec - login/bind message encode
2012-06-26 14:54:09,065 [pool-4-thread-14] [TRACE] c.LoginMessageResponseCodec - LoginResponseMessage: [cmdId=8, result=0, challenge=[120, 120, 76, 102, 83, 66, 75, 76]]
2012-06-26 14:54:09,065 [pool-4-thread-14] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0x9c6b
2012-06-26 14:54:09,065 [pool-4-thread-14] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 14:54:09,065 [pool-4-thread-14] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 9C 6B 00 00 00 1E ...........k....
00000010 00 00 00 08 00 00 78 78 4C 66 53 42 4B 4C       ......xxLfSBKL

2012-06-26 14:54:09,065 [pool-4-thread-14] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 14:54:09,065 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 14:54:09,065 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 14:54:09,065 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 5: not mark to return session ID to client
2012-06-26 14:54:09,065 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 14:54:09,065 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 14:54:09,065 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 14:54:09,065 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:3412, Mina session ID 5, identified POS ID pos-0002
2012-06-26 14:54:09,065 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 33 of 33 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 D1 FF 00 00 00 21 ...............!
00000010 00 00 00 C9 00 0B 32 32 32 32 32 32 32 32 32 32 ......2222222222
00000020 32                                              2

2012-06-26 14:54:09,065 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=33 cap=1024: 00 00 00 10 00 00 00 00 00 00 D1 FF 00 00 00 21...]
2012-06-26 14:54:09,065 [NioProcessor-3  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 5
2012-06-26 14:54:09,065 [NioProcessor-3  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 14:54:09,065 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 14:54:09,065 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 5
2012-06-26 14:54:09,065 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =33
2012-06-26 14:54:09,065 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 33 of 33 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 D1 FF 00 00 00 21 ...............!
00000010 00 00 00 C9 00 0B 32 32 32 32 32 32 32 32 32 32 ......2222222222
00000020 32                                              2

2012-06-26 14:54:09,065 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 33, current position: 0
2012-06-26 14:54:09,065 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 14:54:09,065 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd1ff} messageSize:{0x21} sessionKey:{null}
2012-06-26 14:54:09,065 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 17
2012-06-26 14:54:09,065 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=17, in.remaining=17
2012-06-26 14:54:09,065 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 14:54:09,065 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 201
2012-06-26 14:54:09,065 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 201: com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftMessageCodec@13e10c9
2012-06-26 14:54:09,065 [NioProcessor-3  ] [DEBUG] m.c.ReceiveGiftMessageCodec - receive gift request message decode
2012-06-26 14:54:09,065 [NioProcessor-3  ] [DEBUG] m.c.ReceiveGiftMessageCodec - in.remaining()=17
2012-06-26 14:54:09,065 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 14:54:09,065 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd1ff} messageSize:{0x21} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@1c00a18
2012-06-26 14:54:09,065 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 14:54:09,065 [NioProcessor-3  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 14:54:09,065 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 14:54:09,065 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 14:54:09,065 [NioProcessor-3  ] [DEBUG] c.c.q.m.p.f.LoginFilter     - isLogin=true
2012-06-26 14:54:09,065 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 14:54:09,065 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 14:54:09,065 [NioProcessor-3  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:3412, Mina session ID 5, identified POS ID pos-0002, message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd1ff} messageSize:{0x21} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@1c00a18
2012-06-26 14:54:09,065 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 14:54:09,065 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 14:54:09,065 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 14:54:09,065 [NioProcessor-3  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 14:54:09,065 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 14:54:09,065 [pool-4-thread-15] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 14:54:09,065 [pool-4-thread-15] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 14:54:09,065 [pool-4-thread-15] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@19fc0c5 obtained for command ID 201
2012-06-26 14:54:09,065 [pool-4-thread-15] [DEBUG] $$EnhancerByGuice$$22e9f5a5 - Handler for command ID 201 is com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@19fc0c5
2012-06-26 14:54:09,065 [pool-4-thread-15] [DEBUG] h.ReceiveGiftCommandHandler - ReceiveGiftHandler======execute==bodyMessage=: com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@1c00a18
2012-06-26 14:54:09,081 [pool-4-thread-15] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 14:54:09,081 [pool-4-thread-15] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 14:54:09,081 [pool-4-thread-15] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 14:54:09,081 [pool-4-thread-15] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 14:54:09,081 [pool-4-thread-15] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 5
2012-06-26 14:54:09,081 [pool-4-thread-15] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (202)
2012-06-26 14:54:09,081 [pool-4-thread-15] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftResponseMessageCodec@188c64b
2012-06-26 14:54:09,081 [pool-4-thread-15] [DEBUG] iveGiftResponseMessageCodec - receive gift response message encode
2012-06-26 14:54:09,081 [pool-4-thread-15] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0x1296
2012-06-26 14:54:09,081 [pool-4-thread-15] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 14:54:09,081 [pool-4-thread-15] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 55 of 55 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 12 96 00 00 00 37 ...............7
00000010 00 00 00 CA 00 00 00 01 07 DC 06 1A 0E 36 09 00 .............6..
00000020 41 01 E0 00 08 C1 EC C8 A1 C0 F1 C6 B7 00 08 D2 A...............
00000030 D1 C1 EC C8 A1 B9 FD                            .......

2012-06-26 14:54:09,081 [pool-4-thread-15] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 14:54:09,081 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 14:54:09,081 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 14:54:09,081 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 5: not mark to return session ID to client
2012-06-26 14:54:09,081 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 14:54:09,081 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 14:54:09,081 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 14:54:09,081 [NioProcessor-3  ] [INFO ] o.a.m.f.l.LoggingFilter     - CLOSED
2012-06-26 14:54:09,081 [NioProcessor-3  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 14:54:11,173 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:54:11,173 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:54:11,173 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 14:54:11,173 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=3
2012-06-26 14:54:11,173 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:54:21,167 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:54:21,167 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:54:21,167 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 14:54:21,167 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=3
2012-06-26 14:54:21,167 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:54:31,177 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:54:31,177 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:54:31,177 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 14:54:31,177 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=3
2012-06-26 14:54:31,177 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:54:41,171 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:54:41,171 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:54:41,171 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 14:54:41,171 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=3
2012-06-26 14:54:41,171 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:54:51,165 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:54:51,165 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:54:51,165 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 14:54:51,165 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=3
2012-06-26 14:54:51,165 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:55:01,159 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:55:01,159 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:55:01,159 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 14:55:01,159 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=3
2012-06-26 14:55:01,159 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:55:03,626 [NioProcessor-1  ] [INFO ] c.c.q.m.p.f.LoggingFilter   - incoming connection from remote address: 127.0.0.1:3417, Mina session ID: 6
2012-06-26 14:55:03,626 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - Currently managed session count: 1
2012-06-26 14:55:03,626 [NioProcessor-1  ] [INFO ] o.a.m.f.l.LoggingFilter     - CREATED
2012-06-26 14:55:03,626 [NioProcessor-1  ] [INFO ] o.a.m.f.l.LoggingFilter     - OPENED
2012-06-26 14:55:03,658 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:3417, Mina session ID 6, identified POS ID null
2012-06-26 14:55:03,658 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 14:55:03,658 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=32 cap=2048: 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20...]
2012-06-26 14:55:03,658 [NioProcessor-1  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 6
2012-06-26 14:55:03,658 [NioProcessor-1  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 14:55:03,658 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 14:55:03,658 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 6
2012-06-26 14:55:03,673 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =32
2012-06-26 14:55:03,673 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 14:55:03,673 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 32, current position: 0
2012-06-26 14:55:03,673 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 14:55:03,673 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}
2012-06-26 14:55:03,673 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 16
2012-06-26 14:55:03,673 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=16, in.remaining=16
2012-06-26 14:55:03,673 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 14:55:03,673 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 5
2012-06-26 14:55:03,673 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 5: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageCodec@136555c
2012-06-26 14:55:03,673 [NioProcessor-1  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - init request message decode
2012-06-26 14:55:03,673 [NioProcessor-1  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - in.remaining()=16
2012-06-26 14:55:03,673 [NioProcessor-1  ] [TRACE] .m.p.s.m.c.InitMessageCodec - InitRequestMessage: [cmdId=5, posId=pos-0002]
2012-06-26 14:55:03,673 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 14:55:03,673 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 14:55:03,673 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 14:55:03,673 [NioProcessor-1  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 14:55:03,673 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 14:55:03,673 [NioProcessor-1  ] [DEBUG] p.f.SessionKeyMessageFilter - Mina session ID 6: created session key 7adf35dacc5c42659e88d4269a787afe
2012-06-26 14:55:03,673 [NioProcessor-1  ] [DEBUG] p.f.SessionKeyMessageFilter - creating session for mina session ID 6 using session ID 7adf35dacc5c42659e88d4269a787afe
2012-06-26 14:55:03,673 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 14:55:03,673 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 14:55:03,673 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 14:55:03,673 [NioProcessor-1  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:3417, Mina session ID 6, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 14:55:03,673 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 14:55:03,673 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 14:55:03,673 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 14:55:03,673 [NioProcessor-1  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 14:55:03,673 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 14:55:03,673 [pool-4-thread-16] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 14:55:03,673 [pool-4-thread-16] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 14:55:03,673 [pool-4-thread-16] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@7de921 obtained for command ID 5
2012-06-26 14:55:03,673 [pool-4-thread-16] [DEBUG] $$EnhancerByGuice$$22e9f5a5 - Handler for command ID 5 is com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@7de921
2012-06-26 14:55:03,673 [pool-4-thread-16] [DEBUG] .q.m.p.h.InitCommandHandler - InitCommandHandler======execute==bodyMessage=:  [cmdId=5, posId=pos-0002]
2012-06-26 14:55:03,673 [pool-4-thread-16] [DEBUG] .q.m.l.l.i.LoginManagerImpl - InitResponse() invoke
2012-06-26 14:55:03,673 [pool-4-thread-16] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:ALLOWED
2012-06-26 14:55:03,673 [pool-4-thread-16] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId AND p.ostatus = :ostatus
2012-06-26 14:55:03,673 [pool-4-thread-16] [DEBUG] .q.m.l.l.i.LoginManagerImpl - POS ID:pos-0002, init challenge saved - [100, 49, 110, 75, 115, 82, 76, 75]
2012-06-26 14:55:03,673 [pool-4-thread-16] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 14:55:03,720 [pool-4-thread-16] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 14:55:03,720 [pool-4-thread-16] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 14:55:03,720 [pool-4-thread-16] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 14:55:03,720 [pool-4-thread-16] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 6
2012-06-26 14:55:03,720 [pool-4-thread-16] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (6)
2012-06-26 14:55:03,720 [pool-4-thread-16] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageResponseCodec@dd9182
2012-06-26 14:55:03,720 [pool-4-thread-16] [DEBUG] .c.InitMessageResponseCodec - init response message encode
2012-06-26 14:55:03,720 [pool-4-thread-16] [TRACE] .c.InitMessageResponseCodec - InitResponseMessage: [cmdId=6, result=0, challenge=[100, 49, 110, 75, 115, 82, 76, 75]]
2012-06-26 14:55:03,720 [pool-4-thread-16] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0x6dc0
2012-06-26 14:55:03,720 [pool-4-thread-16] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 14:55:03,720 [pool-4-thread-16] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 6D C0 00 00 00 1E ..........m.....
00000010 00 00 00 06 00 00 64 31 6E 4B 73 52 4C 4B       ......d1nKsRLK

2012-06-26 14:55:03,720 [pool-4-thread-16] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 14:55:03,720 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 14:55:03,720 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 14:55:03,720 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 6: not mark to return session ID to client
2012-06-26 14:55:03,720 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 14:55:03,720 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 14:55:03,720 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 14:55:03,939 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:3417, Mina session ID 6, identified POS ID pos-0002
2012-06-26 14:55:03,939 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 D0 6C 00 00 00 30 ...........l...0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 91 00 82 C4 8A C8 95 13 51 2B 85 C0 84 E5 5B E9 ........Q+....[.

2012-06-26 14:55:03,939 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=48 cap=2048: 00 00 00 01 00 00 00 00 00 00 D0 6C 00 00 00 30...]
2012-06-26 14:55:03,939 [NioProcessor-1  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 6
2012-06-26 14:55:03,939 [NioProcessor-1  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 14:55:03,939 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 14:55:03,939 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 6
2012-06-26 14:55:03,939 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =48
2012-06-26 14:55:03,939 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 D0 6C 00 00 00 30 ...........l...0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 91 00 82 C4 8A C8 95 13 51 2B 85 C0 84 E5 5B E9 ........Q+....[.

2012-06-26 14:55:03,939 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 48, current position: 0
2012-06-26 14:55:03,939 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 14:55:03,939 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xd06c} messageSize:{0x30} sessionKey:{null}
2012-06-26 14:55:03,939 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 32
2012-06-26 14:55:03,939 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=32, in.remaining=32
2012-06-26 14:55:03,939 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 14:55:03,939 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 7
2012-06-26 14:55:03,939 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 7: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageCodec@8b5623
2012-06-26 14:55:03,939 [NioProcessor-1  ] [DEBUG] m.p.s.m.c.LoginMessageCodec - login/bind message decode
2012-06-26 14:55:03,939 [NioProcessor-1  ] [TRACE] m.p.s.m.c.LoginMessageCodec - LoginRequestMessage: [cmdId=7, posId=pos-0002, challengeResponse=[-111, 0, -126, -60, -118, -56, -107, 19, 81, 43, -123, -64, -124, -27, 91, -23]]
2012-06-26 14:55:03,939 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 14:55:03,939 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xd06c} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[-111, 0, -126, -60, -118, -56, -107, 19, 81, 43, -123, -64, -124, -27, 91, -23]]
2012-06-26 14:55:03,939 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 14:55:03,939 [NioProcessor-1  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 14:55:03,939 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 14:55:03,939 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 14:55:03,939 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 14:55:03,939 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 14:55:03,939 [NioProcessor-1  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:3417, Mina session ID 6, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xd06c} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[-111, 0, -126, -60, -118, -56, -107, 19, 81, 43, -123, -64, -124, -27, 91, -23]]
2012-06-26 14:55:03,939 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 14:55:03,939 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 14:55:03,939 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 14:55:03,939 [NioProcessor-1  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 14:55:03,939 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 14:55:03,939 [pool-4-thread-17] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 14:55:03,939 [pool-4-thread-17] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 14:55:03,939 [pool-4-thread-17] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@da59e obtained for command ID 7
2012-06-26 14:55:03,939 [pool-4-thread-17] [DEBUG] $$EnhancerByGuice$$22e9f5a5 - Handler for command ID 7 is com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@da59e
2012-06-26 14:55:03,939 [pool-4-thread-17] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==bodyMessage=: [cmdId=7, posId=pos-0002, challengeResponse=[-111, 0, -126, -60, -118, -56, -107, 19, 81, 43, -123, -64, -124, -27, 91, -23]]
2012-06-26 14:55:03,939 [pool-4-thread-17] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:null
2012-06-26 14:55:03,939 [pool-4-thread-17] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId
2012-06-26 14:55:03,954 [pool-4-thread-17] [TRACE] .q.m.l.l.i.LoginManagerImpl - Loaded from db: pos.posId:pos-0002, pos.secret:000001, oldChallenge:[100, 49, 110, 75, 115, 82, 76, 75]
2012-06-26 14:55:03,954 [pool-4-thread-17] [DEBUG] .q.m.l.l.i.LoginManagerImpl - disableChallengeCheck =0
2012-06-26 14:55:03,954 [pool-4-thread-17] [TRACE] c.c.q.m.l.c.ChallengeUtil   - checking challenge:response:[-111, 0, -126, -60, -118, -56, -107, 19, 81, 43, -123, -64, -124, -27, 91, -23], posKey:000001, random:[100, 49, 110, 75, 115, 82, 76, 75]
2012-06-26 14:55:03,954 [pool-4-thread-17] [DEBUG] .q.m.l.l.i.LoginManagerImpl - new challenge for POS (POS ID): [83, 50, 97, 118, 67, 72, 105, 52]
2012-06-26 14:55:03,954 [pool-4-thread-17] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==serverKey=:JXTPOS
2012-06-26 14:55:03,954 [pool-4-thread-17] [DEBUG] ThreadSafeClientConnManager - Get connection: HttpRoute[{}->http://localhost:7070], timeout = 0
2012-06-26 14:55:03,954 [pool-4-thread-17] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - [HttpRoute[{}->http://localhost:7070]] total kept alive: 0, total issued: 0, total allocated: 0 out of 20
2012-06-26 14:55:03,954 [pool-4-thread-17] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - No free connections [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 14:55:03,954 [pool-4-thread-17] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Available capacity: 2 out of 2 [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 14:55:03,954 [pool-4-thread-17] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Creating new connection [HttpRoute[{}->http://localhost:7070]]
2012-06-26 14:55:03,954 [pool-4-thread-17] [DEBUG] ultClientConnectionOperator - Connecting to localhost:7070
2012-06-26 14:55:05,079 [pool-4-thread-17] [DEBUG] i.c.DefaultClientConnection - Connection closed
2012-06-26 14:55:05,079 [pool-4-thread-17] [DEBUG] i.c.DefaultClientConnection - Connection shut down
2012-06-26 14:55:05,079 [pool-4-thread-17] [DEBUG] ThreadSafeClientConnManager - Released connection is not reusable.
2012-06-26 14:55:05,079 [pool-4-thread-17] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Releasing connection [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 14:55:05,079 [pool-4-thread-17] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Notifying no-one, there are no waiting threads
2012-06-26 14:55:05,079 [pool-4-thread-17] [ERROR] q.m.p.h.LoginCommandHandler - initGrouponCache fail:com.chinarewards.qqgbvpn.qqapi.exception.ParseXMLException: com.chinarewards.qqgbvpn.qqapi.exception.SendPostTimeOutException: org.apache.http.conn.HttpHostConnectException: Connection to http://localhost:7070 refused
2012-06-26 14:55:05,079 [pool-4-thread-17] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 14:55:05,094 [pool-4-thread-17] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 14:55:05,094 [pool-4-thread-17] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 14:55:05,094 [pool-4-thread-17] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 14:55:05,094 [pool-4-thread-17] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 6
2012-06-26 14:55:05,094 [pool-4-thread-17] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (8)
2012-06-26 14:55:05,094 [pool-4-thread-17] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageResponseCodec@1fb58eb
2012-06-26 14:55:05,094 [pool-4-thread-17] [DEBUG] c.LoginMessageResponseCodec - login/bind message encode
2012-06-26 14:55:05,094 [pool-4-thread-17] [TRACE] c.LoginMessageResponseCodec - LoginResponseMessage: [cmdId=8, result=0, challenge=[83, 50, 97, 118, 67, 72, 105, 52]]
2012-06-26 14:55:05,094 [pool-4-thread-17] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0x9eb3
2012-06-26 14:55:05,094 [pool-4-thread-17] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 14:55:05,094 [pool-4-thread-17] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 9E B3 00 00 00 1E ................
00000010 00 00 00 08 00 00 53 32 61 76 43 48 69 34       ......S2avCHi4

2012-06-26 14:55:05,094 [pool-4-thread-17] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 14:55:05,094 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 14:55:05,094 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 14:55:05,094 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 6: not mark to return session ID to client
2012-06-26 14:55:05,094 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 14:55:05,094 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 14:55:05,094 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 14:55:05,094 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:3417, Mina session ID 6, identified POS ID pos-0002
2012-06-26 14:55:05,094 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 28 of 28 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 65 68 00 00 00 1C ..........eh....
00000010 00 00 00 C9 00 06 31 32 33 34 35 36             ......123456

2012-06-26 14:55:05,094 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=28 cap=1024: 00 00 00 10 00 00 00 00 00 00 65 68 00 00 00 1C...]
2012-06-26 14:55:05,094 [NioProcessor-1  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 6
2012-06-26 14:55:05,094 [NioProcessor-1  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 14:55:05,094 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 14:55:05,094 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 6
2012-06-26 14:55:05,094 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =28
2012-06-26 14:55:05,094 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 28 of 28 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 65 68 00 00 00 1C ..........eh....
00000010 00 00 00 C9 00 06 31 32 33 34 35 36             ......123456

2012-06-26 14:55:05,094 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 28, current position: 0
2012-06-26 14:55:05,094 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 14:55:05,094 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0x6568} messageSize:{0x1c} sessionKey:{null}
2012-06-26 14:55:05,094 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 12
2012-06-26 14:55:05,094 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=12, in.remaining=12
2012-06-26 14:55:05,094 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 14:55:05,094 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 201
2012-06-26 14:55:05,094 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 201: com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftMessageCodec@a07407
2012-06-26 14:55:05,094 [NioProcessor-1  ] [DEBUG] m.c.ReceiveGiftMessageCodec - receive gift request message decode
2012-06-26 14:55:05,094 [NioProcessor-1  ] [DEBUG] m.c.ReceiveGiftMessageCodec - in.remaining()=12
2012-06-26 14:55:05,094 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 14:55:05,094 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0x6568} messageSize:{0x1c} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@2195a2
2012-06-26 14:55:05,094 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 14:55:05,094 [NioProcessor-1  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 14:55:05,094 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 14:55:05,094 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 14:55:05,094 [NioProcessor-1  ] [DEBUG] c.c.q.m.p.f.LoginFilter     - isLogin=true
2012-06-26 14:55:05,094 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 14:55:05,094 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 14:55:05,094 [NioProcessor-1  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:3417, Mina session ID 6, identified POS ID pos-0002, message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0x6568} messageSize:{0x1c} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@2195a2
2012-06-26 14:55:05,094 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 14:55:05,094 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 14:55:05,094 [pool-4-thread-18] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 14:55:05,094 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 14:55:05,094 [NioProcessor-1  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 14:55:05,094 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 14:55:05,094 [pool-4-thread-18] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 14:55:05,094 [pool-4-thread-18] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@157138a obtained for command ID 201
2012-06-26 14:55:05,094 [pool-4-thread-18] [DEBUG] $$EnhancerByGuice$$22e9f5a5 - Handler for command ID 201 is com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@157138a
2012-06-26 14:55:05,094 [pool-4-thread-18] [DEBUG] h.ReceiveGiftCommandHandler - ReceiveGiftHandler======execute==bodyMessage=: com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@2195a2
2012-06-26 14:55:05,094 [pool-4-thread-18] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 14:55:05,094 [pool-4-thread-18] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 14:55:05,094 [pool-4-thread-18] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 14:55:05,094 [pool-4-thread-18] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 14:55:05,094 [pool-4-thread-18] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 6
2012-06-26 14:55:05,094 [pool-4-thread-18] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (202)
2012-06-26 14:55:05,094 [pool-4-thread-18] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftResponseMessageCodec@1894423
2012-06-26 14:55:05,094 [pool-4-thread-18] [DEBUG] iveGiftResponseMessageCodec - receive gift response message encode
2012-06-26 14:55:05,094 [pool-4-thread-18] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0x7842
2012-06-26 14:55:05,094 [pool-4-thread-18] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 14:55:05,094 [pool-4-thread-18] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 69 of 69 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 78 42 00 00 00 45 ..........xB...E
00000010 00 00 00 CA 00 00 00 02 07 DC 06 1A 0E 37 05 00 .............7..
00000020 5E 01 E0 00 08 C1 EC C8 A1 C0 F1 C6 B7 00 16 31 ^..............1
00000030 32 33 34 35 36 0A CE DE D0 A7 0A B0 B4 4F 4B BC 23456........OK.
00000040 FC B7 B5 BB D8                                  .....

2012-06-26 14:55:05,094 [pool-4-thread-18] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 14:55:05,110 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 14:55:05,110 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 14:55:05,110 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 6: not mark to return session ID to client
2012-06-26 14:55:05,110 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 14:55:05,110 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 14:55:05,110 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 14:55:05,110 [NioProcessor-1  ] [INFO ] o.a.m.f.l.LoggingFilter     - CLOSED
2012-06-26 14:55:05,110 [NioProcessor-1  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 14:55:05,328 [NioProcessor-2  ] [INFO ] c.c.q.m.p.f.LoggingFilter   - incoming connection from remote address: 127.0.0.1:3419, Mina session ID: 7
2012-06-26 14:55:05,328 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - Currently managed session count: 1
2012-06-26 14:55:05,328 [NioProcessor-2  ] [INFO ] o.a.m.f.l.LoggingFilter     - CREATED
2012-06-26 14:55:05,328 [NioProcessor-2  ] [INFO ] o.a.m.f.l.LoggingFilter     - OPENED
2012-06-26 14:55:05,469 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:3419, Mina session ID 7, identified POS ID null
2012-06-26 14:55:05,469 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 14:55:05,469 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=32 cap=2048: 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20...]
2012-06-26 14:55:05,469 [NioProcessor-2  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 7
2012-06-26 14:55:05,469 [NioProcessor-2  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 14:55:05,469 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 14:55:05,469 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 7
2012-06-26 14:55:05,469 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =32
2012-06-26 14:55:05,469 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 14:55:05,469 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 32, current position: 0
2012-06-26 14:55:05,469 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 14:55:05,469 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}
2012-06-26 14:55:05,469 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 16
2012-06-26 14:55:05,469 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=16, in.remaining=16
2012-06-26 14:55:05,485 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 14:55:05,485 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 5
2012-06-26 14:55:05,485 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 5: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageCodec@1c046e0
2012-06-26 14:55:05,485 [NioProcessor-2  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - init request message decode
2012-06-26 14:55:05,485 [NioProcessor-2  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - in.remaining()=16
2012-06-26 14:55:05,485 [NioProcessor-2  ] [TRACE] .m.p.s.m.c.InitMessageCodec - InitRequestMessage: [cmdId=5, posId=pos-0002]
2012-06-26 14:55:05,485 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 14:55:05,485 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 14:55:05,485 [Finalizer       ] [DEBUG] ThreadSafeClientConnManager - Shutting down
2012-06-26 14:55:05,485 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 14:55:05,485 [NioProcessor-2  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 14:55:05,485 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 14:55:05,485 [NioProcessor-2  ] [DEBUG] p.f.SessionKeyMessageFilter - Mina session ID 7: created session key a5bbef98115a46f2b6d55352fd6f6a90
2012-06-26 14:55:05,485 [NioProcessor-2  ] [DEBUG] p.f.SessionKeyMessageFilter - creating session for mina session ID 7 using session ID a5bbef98115a46f2b6d55352fd6f6a90
2012-06-26 14:55:05,485 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 14:55:05,485 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 14:55:05,485 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 14:55:05,485 [NioProcessor-2  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:3419, Mina session ID 7, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 14:55:05,485 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 14:55:05,485 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 14:55:05,485 [pool-4-thread-19] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 14:55:05,485 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 14:55:05,485 [NioProcessor-2  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 14:55:05,485 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 14:55:05,485 [pool-4-thread-19] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 14:55:05,485 [pool-4-thread-19] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@1fab2d7 obtained for command ID 5
2012-06-26 14:55:05,485 [pool-4-thread-19] [DEBUG] $$EnhancerByGuice$$22e9f5a5 - Handler for command ID 5 is com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@1fab2d7
2012-06-26 14:55:05,485 [pool-4-thread-19] [DEBUG] .q.m.p.h.InitCommandHandler - InitCommandHandler======execute==bodyMessage=:  [cmdId=5, posId=pos-0002]
2012-06-26 14:55:05,485 [pool-4-thread-19] [DEBUG] .q.m.l.l.i.LoginManagerImpl - InitResponse() invoke
2012-06-26 14:55:05,485 [pool-4-thread-19] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:ALLOWED
2012-06-26 14:55:05,485 [pool-4-thread-19] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId AND p.ostatus = :ostatus
2012-06-26 14:55:05,485 [pool-4-thread-19] [DEBUG] .q.m.l.l.i.LoginManagerImpl - POS ID:pos-0002, init challenge saved - [120, 104, 74, 80, 109, 71, 107, 118]
2012-06-26 14:55:05,485 [pool-4-thread-19] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 14:55:05,516 [pool-4-thread-19] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 14:55:05,516 [pool-4-thread-19] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 14:55:05,516 [pool-4-thread-19] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 14:55:05,516 [pool-4-thread-19] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 7
2012-06-26 14:55:05,516 [pool-4-thread-19] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (6)
2012-06-26 14:55:05,516 [pool-4-thread-19] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageResponseCodec@2afb7a
2012-06-26 14:55:05,516 [pool-4-thread-19] [DEBUG] .c.InitMessageResponseCodec - init response message encode
2012-06-26 14:55:05,516 [pool-4-thread-19] [TRACE] .c.InitMessageResponseCodec - InitResponseMessage: [cmdId=6, result=0, challenge=[120, 104, 74, 80, 109, 71, 107, 118]]
2012-06-26 14:55:05,516 [pool-4-thread-19] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0x6464
2012-06-26 14:55:05,516 [pool-4-thread-19] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 14:55:05,516 [pool-4-thread-19] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 64 64 00 00 00 1E ..........dd....
00000010 00 00 00 06 00 00 78 68 4A 50 6D 47 6B 76       ......xhJPmGkv

2012-06-26 14:55:05,516 [pool-4-thread-19] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 14:55:05,516 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 14:55:05,516 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 14:55:05,516 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 7: not mark to return session ID to client
2012-06-26 14:55:05,516 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 14:55:05,516 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 14:55:05,516 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 14:55:05,516 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:3419, Mina session ID 7, identified POS ID pos-0002
2012-06-26 14:55:05,516 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BE BB 00 00 00 30 ...............0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 9E 87 21 0C 40 14 FB 99 92 61 C8 7A 9E 90 08 5E ..!.@....a.z...^

2012-06-26 14:55:05,516 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=48 cap=2048: 00 00 00 01 00 00 00 00 00 00 BE BB 00 00 00 30...]
2012-06-26 14:55:05,516 [NioProcessor-2  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 7
2012-06-26 14:55:05,516 [NioProcessor-2  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 14:55:05,516 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 14:55:05,516 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 7
2012-06-26 14:55:05,516 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =48
2012-06-26 14:55:05,516 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BE BB 00 00 00 30 ...............0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 9E 87 21 0C 40 14 FB 99 92 61 C8 7A 9E 90 08 5E ..!.@....a.z...^

2012-06-26 14:55:05,516 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 48, current position: 0
2012-06-26 14:55:05,516 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 14:55:05,516 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbebb} messageSize:{0x30} sessionKey:{null}
2012-06-26 14:55:05,516 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 32
2012-06-26 14:55:05,516 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=32, in.remaining=32
2012-06-26 14:55:05,516 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 14:55:05,516 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 7
2012-06-26 14:55:05,516 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 7: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageCodec@128ab54
2012-06-26 14:55:05,516 [NioProcessor-2  ] [DEBUG] m.p.s.m.c.LoginMessageCodec - login/bind message decode
2012-06-26 14:55:05,516 [NioProcessor-2  ] [TRACE] m.p.s.m.c.LoginMessageCodec - LoginRequestMessage: [cmdId=7, posId=pos-0002, challengeResponse=[-98, -121, 33, 12, 64, 20, -5, -103, -110, 97, -56, 122, -98, -112, 8, 94]]
2012-06-26 14:55:05,516 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 14:55:05,516 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbebb} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[-98, -121, 33, 12, 64, 20, -5, -103, -110, 97, -56, 122, -98, -112, 8, 94]]
2012-06-26 14:55:05,516 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 14:55:05,516 [NioProcessor-2  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 14:55:05,516 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 14:55:05,516 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 14:55:05,516 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 14:55:05,516 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 14:55:05,516 [NioProcessor-2  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:3419, Mina session ID 7, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbebb} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[-98, -121, 33, 12, 64, 20, -5, -103, -110, 97, -56, 122, -98, -112, 8, 94]]
2012-06-26 14:55:05,516 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 14:55:05,516 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 14:55:05,516 [pool-4-thread-20] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 14:55:05,516 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 14:55:05,516 [NioProcessor-2  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 14:55:05,516 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 14:55:05,516 [pool-4-thread-20] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 14:55:05,516 [pool-4-thread-20] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@87a6e5 obtained for command ID 7
2012-06-26 14:55:05,516 [pool-4-thread-20] [DEBUG] $$EnhancerByGuice$$22e9f5a5 - Handler for command ID 7 is com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@87a6e5
2012-06-26 14:55:05,516 [pool-4-thread-20] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==bodyMessage=: [cmdId=7, posId=pos-0002, challengeResponse=[-98, -121, 33, 12, 64, 20, -5, -103, -110, 97, -56, 122, -98, -112, 8, 94]]
2012-06-26 14:55:05,516 [pool-4-thread-20] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:null
2012-06-26 14:55:05,516 [pool-4-thread-20] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId
2012-06-26 14:55:05,516 [pool-4-thread-20] [TRACE] .q.m.l.l.i.LoginManagerImpl - Loaded from db: pos.posId:pos-0002, pos.secret:000001, oldChallenge:[120, 104, 74, 80, 109, 71, 107, 118]
2012-06-26 14:55:05,516 [pool-4-thread-20] [DEBUG] .q.m.l.l.i.LoginManagerImpl - disableChallengeCheck =0
2012-06-26 14:55:05,516 [pool-4-thread-20] [TRACE] c.c.q.m.l.c.ChallengeUtil   - checking challenge:response:[-98, -121, 33, 12, 64, 20, -5, -103, -110, 97, -56, 122, -98, -112, 8, 94], posKey:000001, random:[120, 104, 74, 80, 109, 71, 107, 118]
2012-06-26 14:55:05,516 [pool-4-thread-20] [DEBUG] .q.m.l.l.i.LoginManagerImpl - new challenge for POS (POS ID): [77, 66, 107, 90, 108, 50, 102, 69]
2012-06-26 14:55:05,516 [pool-4-thread-20] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==serverKey=:JXTPOS
2012-06-26 14:55:05,531 [pool-4-thread-20] [DEBUG] ThreadSafeClientConnManager - Get connection: HttpRoute[{}->http://localhost:7070], timeout = 0
2012-06-26 14:55:05,531 [pool-4-thread-20] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - [HttpRoute[{}->http://localhost:7070]] total kept alive: 0, total issued: 0, total allocated: 0 out of 20
2012-06-26 14:55:05,531 [pool-4-thread-20] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - No free connections [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 14:55:05,531 [pool-4-thread-20] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Available capacity: 2 out of 2 [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 14:55:05,531 [pool-4-thread-20] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Creating new connection [HttpRoute[{}->http://localhost:7070]]
2012-06-26 14:55:05,531 [pool-4-thread-20] [DEBUG] ultClientConnectionOperator - Connecting to localhost:7070
2012-06-26 14:55:06,640 [pool-4-thread-20] [DEBUG] i.c.DefaultClientConnection - Connection closed
2012-06-26 14:55:06,640 [pool-4-thread-20] [DEBUG] i.c.DefaultClientConnection - Connection shut down
2012-06-26 14:55:06,640 [pool-4-thread-20] [DEBUG] ThreadSafeClientConnManager - Released connection is not reusable.
2012-06-26 14:55:06,640 [pool-4-thread-20] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Releasing connection [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 14:55:06,640 [pool-4-thread-20] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Notifying no-one, there are no waiting threads
2012-06-26 14:55:06,640 [pool-4-thread-20] [ERROR] q.m.p.h.LoginCommandHandler - initGrouponCache fail:com.chinarewards.qqgbvpn.qqapi.exception.ParseXMLException: com.chinarewards.qqgbvpn.qqapi.exception.SendPostTimeOutException: org.apache.http.conn.HttpHostConnectException: Connection to http://localhost:7070 refused
2012-06-26 14:55:06,640 [pool-4-thread-20] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 14:55:06,687 [pool-4-thread-20] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 14:55:06,687 [pool-4-thread-20] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 14:55:06,687 [pool-4-thread-20] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 14:55:06,687 [pool-4-thread-20] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 7
2012-06-26 14:55:06,687 [pool-4-thread-20] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (8)
2012-06-26 14:55:06,687 [pool-4-thread-20] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageResponseCodec@4f331b
2012-06-26 14:55:06,687 [pool-4-thread-20] [DEBUG] c.LoginMessageResponseCodec - login/bind message encode
2012-06-26 14:55:06,687 [pool-4-thread-20] [TRACE] c.LoginMessageResponseCodec - LoginResponseMessage: [cmdId=8, result=0, challenge=[77, 66, 107, 90, 108, 50, 102, 69]]
2012-06-26 14:55:06,687 [pool-4-thread-20] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0x74c4
2012-06-26 14:55:06,687 [pool-4-thread-20] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 14:55:06,687 [pool-4-thread-20] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 74 C4 00 00 00 1E ..........t.....
00000010 00 00 00 08 00 00 4D 42 6B 5A 6C 32 66 45       ......MBkZl2fE

2012-06-26 14:55:06,687 [pool-4-thread-20] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 14:55:06,687 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 14:55:06,687 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 14:55:06,687 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 7: not mark to return session ID to client
2012-06-26 14:55:06,687 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 14:55:06,687 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 14:55:06,687 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 14:55:06,687 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:3419, Mina session ID 7, identified POS ID pos-0002
2012-06-26 14:55:06,687 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 33 of 33 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 D8 04 00 00 00 21 ...............!
00000010 00 00 00 C9 00 0B 31 31 31 31 31 31 31 31 31 31 ......1111111111
00000020 31                                              1

2012-06-26 14:55:06,687 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=33 cap=1024: 00 00 00 10 00 00 00 00 00 00 D8 04 00 00 00 21...]
2012-06-26 14:55:06,687 [NioProcessor-2  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 7
2012-06-26 14:55:06,687 [NioProcessor-2  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 14:55:06,687 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 14:55:06,687 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 7
2012-06-26 14:55:06,687 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =33
2012-06-26 14:55:06,687 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 33 of 33 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 D8 04 00 00 00 21 ...............!
00000010 00 00 00 C9 00 0B 31 31 31 31 31 31 31 31 31 31 ......1111111111
00000020 31                                              1

2012-06-26 14:55:06,687 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 33, current position: 0
2012-06-26 14:55:06,687 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 14:55:06,687 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd804} messageSize:{0x21} sessionKey:{null}
2012-06-26 14:55:06,687 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 17
2012-06-26 14:55:06,687 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=17, in.remaining=17
2012-06-26 14:55:06,687 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 14:55:06,687 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 201
2012-06-26 14:55:06,687 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 201: com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftMessageCodec@1a44857
2012-06-26 14:55:06,687 [NioProcessor-2  ] [DEBUG] m.c.ReceiveGiftMessageCodec - receive gift request message decode
2012-06-26 14:55:06,687 [NioProcessor-2  ] [DEBUG] m.c.ReceiveGiftMessageCodec - in.remaining()=17
2012-06-26 14:55:06,687 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 14:55:06,687 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd804} messageSize:{0x21} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@89499f
2012-06-26 14:55:06,687 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 14:55:06,687 [NioProcessor-2  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 14:55:06,687 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 14:55:06,687 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 14:55:06,687 [NioProcessor-2  ] [DEBUG] c.c.q.m.p.f.LoginFilter     - isLogin=true
2012-06-26 14:55:06,687 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 14:55:06,687 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 14:55:06,687 [NioProcessor-2  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:3419, Mina session ID 7, identified POS ID pos-0002, message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd804} messageSize:{0x21} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@89499f
2012-06-26 14:55:06,703 [pool-4-thread-1 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 14:55:06,703 [pool-4-thread-1 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 14:55:06,703 [pool-4-thread-1 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@9c2747 obtained for command ID 201
2012-06-26 14:55:06,703 [pool-4-thread-1 ] [DEBUG] $$EnhancerByGuice$$22e9f5a5 - Handler for command ID 201 is com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@9c2747
2012-06-26 14:55:06,703 [pool-4-thread-1 ] [DEBUG] h.ReceiveGiftCommandHandler - ReceiveGiftHandler======execute==bodyMessage=: com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@89499f
2012-06-26 14:55:06,703 [pool-4-thread-1 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 14:55:06,703 [pool-4-thread-1 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 14:55:06,703 [pool-4-thread-1 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 14:55:06,703 [pool-4-thread-1 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 14:55:06,703 [pool-4-thread-1 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 7
2012-06-26 14:55:06,703 [pool-4-thread-1 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (202)
2012-06-26 14:55:06,703 [pool-4-thread-1 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftResponseMessageCodec@10dc903
2012-06-26 14:55:06,703 [pool-4-thread-1 ] [DEBUG] iveGiftResponseMessageCodec - receive gift response message encode
2012-06-26 14:55:06,703 [pool-4-thread-1 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0xf1ac
2012-06-26 14:55:06,703 [pool-4-thread-1 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 14:55:06,703 [pool-4-thread-1 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 55 of 55 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 F1 AC 00 00 00 37 ...............7
00000010 00 00 00 CA 00 00 00 00 07 DC 06 1A 0E 37 06 02 .............7..
00000020 BF 01 E0 00 08 C1 EC C8 A1 C0 F1 C6 B7 00 08 BD ................
00000030 BB D2 D7 B3 C9 B9 A6                            .......

2012-06-26 14:55:06,703 [pool-4-thread-1 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 14:55:06,703 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 14:55:06,703 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 14:55:06,703 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 14:55:06,703 [NioProcessor-2  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 14:55:06,703 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 14:55:06,703 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 14:55:06,718 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 14:55:06,718 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 7: not mark to return session ID to client
2012-06-26 14:55:06,718 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 14:55:06,718 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 14:55:06,718 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 14:55:06,718 [NioProcessor-2  ] [INFO ] o.a.m.f.l.LoggingFilter     - CLOSED
2012-06-26 14:55:06,718 [NioProcessor-2  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 14:55:06,952 [NioProcessor-3  ] [INFO ] c.c.q.m.p.f.LoggingFilter   - incoming connection from remote address: 127.0.0.1:3421, Mina session ID: 8
2012-06-26 14:55:06,952 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - Currently managed session count: 1
2012-06-26 14:55:06,952 [NioProcessor-3  ] [INFO ] o.a.m.f.l.LoggingFilter     - CREATED
2012-06-26 14:55:06,952 [NioProcessor-3  ] [INFO ] o.a.m.f.l.LoggingFilter     - OPENED
2012-06-26 14:55:06,952 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:3421, Mina session ID 8, identified POS ID null
2012-06-26 14:55:06,952 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 14:55:06,952 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=32 cap=2048: 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20...]
2012-06-26 14:55:06,952 [NioProcessor-3  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 8
2012-06-26 14:55:06,952 [NioProcessor-3  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 14:55:06,952 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 14:55:06,952 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 8
2012-06-26 14:55:06,952 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =32
2012-06-26 14:55:06,952 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 14:55:06,952 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 32, current position: 0
2012-06-26 14:55:06,952 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 14:55:06,952 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}
2012-06-26 14:55:06,952 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 16
2012-06-26 14:55:06,952 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=16, in.remaining=16
2012-06-26 14:55:06,952 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 14:55:06,952 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 5
2012-06-26 14:55:06,952 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 5: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageCodec@1e876dd
2012-06-26 14:55:06,952 [NioProcessor-3  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - init request message decode
2012-06-26 14:55:06,952 [NioProcessor-3  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - in.remaining()=16
2012-06-26 14:55:06,952 [NioProcessor-3  ] [TRACE] .m.p.s.m.c.InitMessageCodec - InitRequestMessage: [cmdId=5, posId=pos-0002]
2012-06-26 14:55:06,952 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 14:55:06,952 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 14:55:06,952 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 14:55:06,952 [NioProcessor-3  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 14:55:06,952 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 14:55:06,952 [NioProcessor-3  ] [DEBUG] p.f.SessionKeyMessageFilter - Mina session ID 8: created session key c1d40f6ac2534765ac3169d7aeb0acbd
2012-06-26 14:55:06,952 [NioProcessor-3  ] [DEBUG] p.f.SessionKeyMessageFilter - creating session for mina session ID 8 using session ID c1d40f6ac2534765ac3169d7aeb0acbd
2012-06-26 14:55:06,952 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 14:55:06,952 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 14:55:06,952 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 14:55:06,952 [NioProcessor-3  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:3421, Mina session ID 8, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 14:55:06,952 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 14:55:06,952 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 14:55:06,952 [pool-4-thread-2 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 14:55:06,952 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 14:55:06,952 [NioProcessor-3  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 14:55:06,952 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 14:55:06,952 [pool-4-thread-2 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 14:55:06,968 [pool-4-thread-2 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@bfabe5 obtained for command ID 5
2012-06-26 14:55:06,968 [pool-4-thread-2 ] [DEBUG] $$EnhancerByGuice$$22e9f5a5 - Handler for command ID 5 is com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@bfabe5
2012-06-26 14:55:06,968 [pool-4-thread-2 ] [DEBUG] .q.m.p.h.InitCommandHandler - InitCommandHandler======execute==bodyMessage=:  [cmdId=5, posId=pos-0002]
2012-06-26 14:55:06,968 [pool-4-thread-2 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - InitResponse() invoke
2012-06-26 14:55:06,968 [pool-4-thread-2 ] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:ALLOWED
2012-06-26 14:55:06,968 [pool-4-thread-2 ] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId AND p.ostatus = :ostatus
2012-06-26 14:55:06,968 [pool-4-thread-2 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - POS ID:pos-0002, init challenge saved - [68, 102, 71, 106, 65, 54, 100, 52]
2012-06-26 14:55:06,968 [pool-4-thread-2 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 14:55:07,015 [pool-4-thread-2 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 14:55:07,015 [pool-4-thread-2 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 14:55:07,015 [pool-4-thread-2 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 14:55:07,015 [pool-4-thread-2 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 8
2012-06-26 14:55:07,015 [pool-4-thread-2 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (6)
2012-06-26 14:55:07,015 [pool-4-thread-2 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageResponseCodec@e3257
2012-06-26 14:55:07,015 [pool-4-thread-2 ] [DEBUG] .c.InitMessageResponseCodec - init response message encode
2012-06-26 14:55:07,015 [pool-4-thread-2 ] [TRACE] .c.InitMessageResponseCodec - InitResponseMessage: [cmdId=6, result=0, challenge=[68, 102, 71, 106, 65, 54, 100, 52]]
2012-06-26 14:55:07,015 [pool-4-thread-2 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0xce9f
2012-06-26 14:55:07,015 [pool-4-thread-2 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 14:55:07,015 [pool-4-thread-2 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 CE 9F 00 00 00 1E ................
00000010 00 00 00 06 00 00 44 66 47 6A 41 36 64 34       ......DfGjA6d4

2012-06-26 14:55:07,015 [pool-4-thread-2 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 14:55:07,015 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 14:55:07,015 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 14:55:07,015 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 8: not mark to return session ID to client
2012-06-26 14:55:07,015 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 14:55:07,015 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 14:55:07,015 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 14:55:07,015 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:3421, Mina session ID 8, identified POS ID pos-0002
2012-06-26 14:55:07,015 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 D8 B8 00 00 00 30 ...............0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 36 A6 1C 88 18 AA 1C B9 95 93 C7 D4 98 21 64 F4 6............!d.

2012-06-26 14:55:07,015 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=48 cap=2048: 00 00 00 01 00 00 00 00 00 00 D8 B8 00 00 00 30...]
2012-06-26 14:55:07,015 [NioProcessor-3  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 8
2012-06-26 14:55:07,015 [NioProcessor-3  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 14:55:07,015 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 14:55:07,015 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 8
2012-06-26 14:55:07,015 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =48
2012-06-26 14:55:07,015 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 D8 B8 00 00 00 30 ...............0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 36 A6 1C 88 18 AA 1C B9 95 93 C7 D4 98 21 64 F4 6............!d.

2012-06-26 14:55:07,015 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 48, current position: 0
2012-06-26 14:55:07,015 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 14:55:07,015 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xd8b8} messageSize:{0x30} sessionKey:{null}
2012-06-26 14:55:07,015 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 32
2012-06-26 14:55:07,015 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=32, in.remaining=32
2012-06-26 14:55:07,015 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 14:55:07,015 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 7
2012-06-26 14:55:07,015 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 7: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageCodec@d8dbfd
2012-06-26 14:55:07,015 [NioProcessor-3  ] [DEBUG] m.p.s.m.c.LoginMessageCodec - login/bind message decode
2012-06-26 14:55:07,015 [NioProcessor-3  ] [TRACE] m.p.s.m.c.LoginMessageCodec - LoginRequestMessage: [cmdId=7, posId=pos-0002, challengeResponse=[54, -90, 28, -120, 24, -86, 28, -71, -107, -109, -57, -44, -104, 33, 100, -12]]
2012-06-26 14:55:07,015 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 14:55:07,015 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xd8b8} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[54, -90, 28, -120, 24, -86, 28, -71, -107, -109, -57, -44, -104, 33, 100, -12]]
2012-06-26 14:55:07,015 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 14:55:07,015 [NioProcessor-3  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 14:55:07,015 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 14:55:07,015 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 14:55:07,015 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 14:55:07,015 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 14:55:07,015 [NioProcessor-3  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:3421, Mina session ID 8, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xd8b8} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[54, -90, 28, -120, 24, -86, 28, -71, -107, -109, -57, -44, -104, 33, 100, -12]]
2012-06-26 14:55:07,015 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 14:55:07,015 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 14:55:07,015 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 14:55:07,015 [NioProcessor-3  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 14:55:07,015 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 14:55:07,015 [pool-4-thread-3 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 14:55:07,015 [pool-4-thread-3 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 14:55:07,015 [pool-4-thread-3 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@f1f423 obtained for command ID 7
2012-06-26 14:55:07,015 [pool-4-thread-3 ] [DEBUG] $$EnhancerByGuice$$22e9f5a5 - Handler for command ID 7 is com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@f1f423
2012-06-26 14:55:07,015 [pool-4-thread-3 ] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==bodyMessage=: [cmdId=7, posId=pos-0002, challengeResponse=[54, -90, 28, -120, 24, -86, 28, -71, -107, -109, -57, -44, -104, 33, 100, -12]]
2012-06-26 14:55:07,015 [pool-4-thread-3 ] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:null
2012-06-26 14:55:07,015 [pool-4-thread-3 ] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId
2012-06-26 14:55:07,030 [pool-4-thread-3 ] [TRACE] .q.m.l.l.i.LoginManagerImpl - Loaded from db: pos.posId:pos-0002, pos.secret:000001, oldChallenge:[68, 102, 71, 106, 65, 54, 100, 52]
2012-06-26 14:55:07,030 [pool-4-thread-3 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - disableChallengeCheck =0
2012-06-26 14:55:07,030 [pool-4-thread-3 ] [TRACE] c.c.q.m.l.c.ChallengeUtil   - checking challenge:response:[54, -90, 28, -120, 24, -86, 28, -71, -107, -109, -57, -44, -104, 33, 100, -12], posKey:000001, random:[68, 102, 71, 106, 65, 54, 100, 52]
2012-06-26 14:55:07,030 [pool-4-thread-3 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - new challenge for POS (POS ID): [70, 79, 53, 71, 114, 89, 103, 67]
2012-06-26 14:55:07,030 [pool-4-thread-3 ] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==serverKey=:JXTPOS
2012-06-26 14:55:07,030 [pool-4-thread-3 ] [DEBUG] ThreadSafeClientConnManager - Get connection: HttpRoute[{}->http://localhost:7070], timeout = 0
2012-06-26 14:55:07,030 [pool-4-thread-3 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - [HttpRoute[{}->http://localhost:7070]] total kept alive: 0, total issued: 0, total allocated: 0 out of 20
2012-06-26 14:55:07,030 [pool-4-thread-3 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - No free connections [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 14:55:07,030 [pool-4-thread-3 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Available capacity: 2 out of 2 [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 14:55:07,030 [pool-4-thread-3 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Creating new connection [HttpRoute[{}->http://localhost:7070]]
2012-06-26 14:55:07,030 [pool-4-thread-3 ] [DEBUG] ultClientConnectionOperator - Connecting to localhost:7070
2012-06-26 14:55:07,952 [pool-4-thread-3 ] [DEBUG] i.c.DefaultClientConnection - Connection closed
2012-06-26 14:55:07,952 [pool-4-thread-3 ] [DEBUG] i.c.DefaultClientConnection - Connection shut down
2012-06-26 14:55:07,952 [pool-4-thread-3 ] [DEBUG] ThreadSafeClientConnManager - Released connection is not reusable.
2012-06-26 14:55:07,952 [pool-4-thread-3 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Releasing connection [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 14:55:07,952 [pool-4-thread-3 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Notifying no-one, there are no waiting threads
2012-06-26 14:55:07,952 [pool-4-thread-3 ] [ERROR] q.m.p.h.LoginCommandHandler - initGrouponCache fail:com.chinarewards.qqgbvpn.qqapi.exception.ParseXMLException: com.chinarewards.qqgbvpn.qqapi.exception.SendPostTimeOutException: org.apache.http.conn.HttpHostConnectException: Connection to http://localhost:7070 refused
2012-06-26 14:55:07,952 [pool-4-thread-3 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 14:55:07,983 [pool-4-thread-3 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 14:55:07,983 [pool-4-thread-3 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 14:55:07,983 [pool-4-thread-3 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 14:55:07,983 [Finalizer       ] [DEBUG] ThreadSafeClientConnManager - Shutting down
2012-06-26 14:55:07,983 [pool-4-thread-3 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 8
2012-06-26 14:55:07,983 [pool-4-thread-3 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (8)
2012-06-26 14:55:07,983 [pool-4-thread-3 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageResponseCodec@82e60f
2012-06-26 14:55:07,983 [pool-4-thread-3 ] [DEBUG] c.LoginMessageResponseCodec - login/bind message encode
2012-06-26 14:55:07,983 [pool-4-thread-3 ] [TRACE] c.LoginMessageResponseCodec - LoginResponseMessage: [cmdId=8, result=0, challenge=[70, 79, 53, 71, 114, 89, 103, 67]]
2012-06-26 14:55:07,983 [pool-4-thread-3 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0xaaa5
2012-06-26 14:55:07,983 [pool-4-thread-3 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 14:55:07,983 [pool-4-thread-3 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 AA A5 00 00 00 1E ................
00000010 00 00 00 08 00 00 46 4F 35 47 72 59 67 43       ......FO5GrYgC

2012-06-26 14:55:07,983 [pool-4-thread-3 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 14:55:07,983 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 14:55:07,983 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 14:55:07,983 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 8: not mark to return session ID to client
2012-06-26 14:55:07,983 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 14:55:07,983 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 14:55:07,983 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 14:55:07,983 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:3421, Mina session ID 8, identified POS ID pos-0002
2012-06-26 14:55:07,983 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 33 of 33 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 D1 FF 00 00 00 21 ...............!
00000010 00 00 00 C9 00 0B 32 32 32 32 32 32 32 32 32 32 ......2222222222
00000020 32                                              2

2012-06-26 14:55:07,983 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=33 cap=1024: 00 00 00 10 00 00 00 00 00 00 D1 FF 00 00 00 21...]
2012-06-26 14:55:07,983 [NioProcessor-3  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 8
2012-06-26 14:55:07,983 [NioProcessor-3  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 14:55:07,983 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 14:55:07,983 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 8
2012-06-26 14:55:07,983 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =33
2012-06-26 14:55:07,983 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 33 of 33 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 D1 FF 00 00 00 21 ...............!
00000010 00 00 00 C9 00 0B 32 32 32 32 32 32 32 32 32 32 ......2222222222
00000020 32                                              2

2012-06-26 14:55:07,983 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 33, current position: 0
2012-06-26 14:55:07,983 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 14:55:07,983 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd1ff} messageSize:{0x21} sessionKey:{null}
2012-06-26 14:55:07,983 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 17
2012-06-26 14:55:07,983 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=17, in.remaining=17
2012-06-26 14:55:07,983 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 14:55:07,983 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 201
2012-06-26 14:55:07,983 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 201: com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftMessageCodec@1cde82d
2012-06-26 14:55:07,983 [NioProcessor-3  ] [DEBUG] m.c.ReceiveGiftMessageCodec - receive gift request message decode
2012-06-26 14:55:07,983 [NioProcessor-3  ] [DEBUG] m.c.ReceiveGiftMessageCodec - in.remaining()=17
2012-06-26 14:55:07,983 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 14:55:07,983 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd1ff} messageSize:{0x21} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@145ee90
2012-06-26 14:55:07,983 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 14:55:07,983 [NioProcessor-3  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 14:55:07,983 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 14:55:07,983 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 14:55:07,983 [NioProcessor-3  ] [DEBUG] c.c.q.m.p.f.LoginFilter     - isLogin=true
2012-06-26 14:55:07,983 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 14:55:07,983 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 14:55:07,983 [NioProcessor-3  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:3421, Mina session ID 8, identified POS ID pos-0002, message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd1ff} messageSize:{0x21} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@145ee90
2012-06-26 14:55:07,983 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 14:55:07,983 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 14:55:07,983 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 14:55:07,983 [pool-4-thread-4 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 14:55:07,983 [NioProcessor-3  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 14:55:07,983 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 14:55:07,983 [pool-4-thread-4 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 14:55:07,983 [pool-4-thread-4 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@d80648 obtained for command ID 201
2012-06-26 14:55:07,983 [pool-4-thread-4 ] [DEBUG] $$EnhancerByGuice$$22e9f5a5 - Handler for command ID 201 is com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@d80648
2012-06-26 14:55:07,983 [pool-4-thread-4 ] [DEBUG] h.ReceiveGiftCommandHandler - ReceiveGiftHandler======execute==bodyMessage=: com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@145ee90
2012-06-26 14:55:07,983 [pool-4-thread-4 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 14:55:07,983 [pool-4-thread-4 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 14:55:07,983 [pool-4-thread-4 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 14:55:07,983 [pool-4-thread-4 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 14:55:07,983 [pool-4-thread-4 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 8
2012-06-26 14:55:07,983 [pool-4-thread-4 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (202)
2012-06-26 14:55:07,983 [pool-4-thread-4 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftResponseMessageCodec@1a85922
2012-06-26 14:55:07,983 [pool-4-thread-4 ] [DEBUG] iveGiftResponseMessageCodec - receive gift response message encode
2012-06-26 14:55:07,983 [pool-4-thread-4 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0x7e91
2012-06-26 14:55:07,983 [pool-4-thread-4 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 14:55:07,983 [pool-4-thread-4 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 55 of 55 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 7E 91 00 00 00 37 ..........~....7
00000010 00 00 00 CA 00 00 00 01 07 DC 06 1A 0E 37 07 03 .............7..
00000020 D7 01 E0 00 08 C1 EC C8 A1 C0 F1 C6 B7 00 08 D2 ................
00000030 D1 C1 EC C8 A1 B9 FD                            .......

2012-06-26 14:55:07,983 [pool-4-thread-4 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 14:55:07,983 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 14:55:07,983 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 14:55:07,983 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 8: not mark to return session ID to client
2012-06-26 14:55:07,983 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 14:55:07,983 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 14:55:07,983 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 14:55:07,983 [NioProcessor-3  ] [INFO ] o.a.m.f.l.LoggingFilter     - CLOSED
2012-06-26 14:55:07,983 [NioProcessor-3  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 14:55:11,231 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:55:11,231 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:55:11,231 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=6
2012-06-26 14:55:11,231 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=6
2012-06-26 14:55:11,231 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:55:21,225 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:55:21,225 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:55:21,225 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=6
2012-06-26 14:55:21,225 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=6
2012-06-26 14:55:21,225 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:55:31,219 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:55:31,219 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:55:31,219 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=6
2012-06-26 14:55:31,219 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=6
2012-06-26 14:55:31,219 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:55:36,669 [NioProcessor-1  ] [INFO ] c.c.q.m.p.f.LoggingFilter   - incoming connection from remote address: 127.0.0.1:3425, Mina session ID: 9
2012-06-26 14:55:36,669 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - Currently managed session count: 1
2012-06-26 14:55:36,669 [NioProcessor-1  ] [INFO ] o.a.m.f.l.LoggingFilter     - CREATED
2012-06-26 14:55:36,669 [NioProcessor-1  ] [INFO ] o.a.m.f.l.LoggingFilter     - OPENED
2012-06-26 14:55:36,669 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:3425, Mina session ID 9, identified POS ID null
2012-06-26 14:55:36,669 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 14:55:36,685 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=32 cap=2048: 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20...]
2012-06-26 14:55:36,700 [NioProcessor-1  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 9
2012-06-26 14:55:36,700 [NioProcessor-1  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 14:55:36,700 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 14:55:36,700 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 9
2012-06-26 14:55:36,700 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =32
2012-06-26 14:55:36,700 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 14:55:36,700 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 32, current position: 0
2012-06-26 14:55:36,700 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 14:55:36,700 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}
2012-06-26 14:55:36,700 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 16
2012-06-26 14:55:36,700 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=16, in.remaining=16
2012-06-26 14:55:36,700 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 14:55:36,700 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 5
2012-06-26 14:55:36,700 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 5: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageCodec@280fd0
2012-06-26 14:55:36,700 [NioProcessor-1  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - init request message decode
2012-06-26 14:55:36,700 [NioProcessor-1  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - in.remaining()=16
2012-06-26 14:55:36,700 [NioProcessor-1  ] [TRACE] .m.p.s.m.c.InitMessageCodec - InitRequestMessage: [cmdId=5, posId=pos-0002]
2012-06-26 14:55:36,700 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 14:55:36,700 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 14:55:36,700 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 14:55:36,700 [NioProcessor-1  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 14:55:36,700 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 14:55:36,700 [NioProcessor-1  ] [DEBUG] p.f.SessionKeyMessageFilter - Mina session ID 9: created session key f14808b024c04749921d160ada68f0e6
2012-06-26 14:55:36,700 [NioProcessor-1  ] [DEBUG] p.f.SessionKeyMessageFilter - creating session for mina session ID 9 using session ID f14808b024c04749921d160ada68f0e6
2012-06-26 14:55:36,700 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 14:55:36,700 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 14:55:36,700 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 14:55:36,700 [NioProcessor-1  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:3425, Mina session ID 9, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 14:55:36,700 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 14:55:36,700 [pool-4-thread-5 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 14:55:36,700 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 14:55:36,700 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 14:55:36,700 [NioProcessor-1  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 14:55:36,700 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 14:55:36,700 [pool-4-thread-5 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 14:55:36,700 [pool-4-thread-5 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@175efba obtained for command ID 5
2012-06-26 14:55:36,700 [pool-4-thread-5 ] [DEBUG] $$EnhancerByGuice$$22e9f5a5 - Handler for command ID 5 is com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@175efba
2012-06-26 14:55:36,700 [pool-4-thread-5 ] [DEBUG] .q.m.p.h.InitCommandHandler - InitCommandHandler======execute==bodyMessage=:  [cmdId=5, posId=pos-0002]
2012-06-26 14:55:36,700 [pool-4-thread-5 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - InitResponse() invoke
2012-06-26 14:55:36,700 [pool-4-thread-5 ] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:ALLOWED
2012-06-26 14:55:36,700 [pool-4-thread-5 ] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId AND p.ostatus = :ostatus
2012-06-26 14:55:36,700 [pool-4-thread-5 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - POS ID:pos-0002, init challenge saved - [71, 103, 68, 76, 57, 50, 70, 101]
2012-06-26 14:55:36,700 [pool-4-thread-5 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 14:55:36,747 [pool-4-thread-5 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 14:55:36,747 [pool-4-thread-5 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 14:55:36,747 [pool-4-thread-5 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 14:55:36,747 [pool-4-thread-5 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 9
2012-06-26 14:55:36,747 [pool-4-thread-5 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (6)
2012-06-26 14:55:36,747 [pool-4-thread-5 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageResponseCodec@12749a5
2012-06-26 14:55:36,747 [pool-4-thread-5 ] [DEBUG] .c.InitMessageResponseCodec - init response message encode
2012-06-26 14:55:36,747 [pool-4-thread-5 ] [TRACE] .c.InitMessageResponseCodec - InitResponseMessage: [cmdId=6, result=0, challenge=[71, 103, 68, 76, 57, 50, 70, 101]]
2012-06-26 14:55:36,747 [pool-4-thread-5 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0xf48f
2012-06-26 14:55:36,747 [pool-4-thread-5 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 14:55:36,747 [pool-4-thread-5 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 F4 8F 00 00 00 1E ................
00000010 00 00 00 06 00 00 47 67 44 4C 39 32 46 65       ......GgDL92Fe

2012-06-26 14:55:36,747 [pool-4-thread-5 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 14:55:36,763 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 14:55:36,763 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 14:55:36,763 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 9: not mark to return session ID to client
2012-06-26 14:55:36,763 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 14:55:36,763 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 14:55:36,763 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 14:55:36,966 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:3425, Mina session ID 9, identified POS ID pos-0002
2012-06-26 14:55:36,966 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 4D 6B 00 00 00 30 ..........Mk...0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 F7 51 CB B3 58 8D 1A 0F 0A DE 3B 62 52 0C A0 6E .Q..X.....;bR..n

2012-06-26 14:55:36,966 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=48 cap=2048: 00 00 00 01 00 00 00 00 00 00 4D 6B 00 00 00 30...]
2012-06-26 14:55:36,966 [NioProcessor-1  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 9
2012-06-26 14:55:36,966 [NioProcessor-1  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 14:55:36,966 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 14:55:36,966 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 9
2012-06-26 14:55:36,966 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =48
2012-06-26 14:55:36,966 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 4D 6B 00 00 00 30 ..........Mk...0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 F7 51 CB B3 58 8D 1A 0F 0A DE 3B 62 52 0C A0 6E .Q..X.....;bR..n

2012-06-26 14:55:36,966 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 48, current position: 0
2012-06-26 14:55:36,966 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 14:55:36,966 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x4d6b} messageSize:{0x30} sessionKey:{null}
2012-06-26 14:55:36,966 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 32
2012-06-26 14:55:36,966 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=32, in.remaining=32
2012-06-26 14:55:36,981 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 14:55:36,981 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 7
2012-06-26 14:55:36,981 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 7: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageCodec@110e3db
2012-06-26 14:55:36,981 [NioProcessor-1  ] [DEBUG] m.p.s.m.c.LoginMessageCodec - login/bind message decode
2012-06-26 14:55:36,981 [NioProcessor-1  ] [TRACE] m.p.s.m.c.LoginMessageCodec - LoginRequestMessage: [cmdId=7, posId=pos-0002, challengeResponse=[-9, 81, -53, -77, 88, -115, 26, 15, 10, -34, 59, 98, 82, 12, -96, 110]]
2012-06-26 14:55:36,981 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 14:55:36,981 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x4d6b} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[-9, 81, -53, -77, 88, -115, 26, 15, 10, -34, 59, 98, 82, 12, -96, 110]]
2012-06-26 14:55:36,981 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 14:55:36,981 [NioProcessor-1  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 14:55:36,981 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 14:55:36,981 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 14:55:36,981 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 14:55:36,981 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 14:55:36,981 [NioProcessor-1  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:3425, Mina session ID 9, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x4d6b} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[-9, 81, -53, -77, 88, -115, 26, 15, 10, -34, 59, 98, 82, 12, -96, 110]]
2012-06-26 14:55:36,981 [pool-4-thread-6 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 14:55:36,981 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 14:55:36,981 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 14:55:36,981 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 14:55:36,981 [NioProcessor-1  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 14:55:36,981 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 14:55:36,981 [pool-4-thread-6 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 14:55:36,981 [pool-4-thread-6 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@88a30f obtained for command ID 7
2012-06-26 14:55:36,981 [pool-4-thread-6 ] [DEBUG] $$EnhancerByGuice$$22e9f5a5 - Handler for command ID 7 is com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@88a30f
2012-06-26 14:55:36,981 [pool-4-thread-6 ] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==bodyMessage=: [cmdId=7, posId=pos-0002, challengeResponse=[-9, 81, -53, -77, 88, -115, 26, 15, 10, -34, 59, 98, 82, 12, -96, 110]]
2012-06-26 14:55:36,981 [pool-4-thread-6 ] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:null
2012-06-26 14:55:36,981 [pool-4-thread-6 ] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId
2012-06-26 14:55:36,981 [pool-4-thread-6 ] [TRACE] .q.m.l.l.i.LoginManagerImpl - Loaded from db: pos.posId:pos-0002, pos.secret:000001, oldChallenge:[71, 103, 68, 76, 57, 50, 70, 101]
2012-06-26 14:55:36,981 [pool-4-thread-6 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - disableChallengeCheck =0
2012-06-26 14:55:36,981 [pool-4-thread-6 ] [TRACE] c.c.q.m.l.c.ChallengeUtil   - checking challenge:response:[-9, 81, -53, -77, 88, -115, 26, 15, 10, -34, 59, 98, 82, 12, -96, 110], posKey:000001, random:[71, 103, 68, 76, 57, 50, 70, 101]
2012-06-26 14:55:36,981 [pool-4-thread-6 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - new challenge for POS (POS ID): [57, 112, 111, 75, 86, 55, 49, 52]
2012-06-26 14:55:36,981 [pool-4-thread-6 ] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==serverKey=:JXTPOS
2012-06-26 14:55:36,981 [pool-4-thread-6 ] [DEBUG] ThreadSafeClientConnManager - Get connection: HttpRoute[{}->http://localhost:7070], timeout = 0
2012-06-26 14:55:36,981 [pool-4-thread-6 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - [HttpRoute[{}->http://localhost:7070]] total kept alive: 0, total issued: 0, total allocated: 0 out of 20
2012-06-26 14:55:36,981 [pool-4-thread-6 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - No free connections [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 14:55:36,981 [pool-4-thread-6 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Available capacity: 2 out of 2 [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 14:55:36,981 [pool-4-thread-6 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Creating new connection [HttpRoute[{}->http://localhost:7070]]
2012-06-26 14:55:36,997 [pool-4-thread-6 ] [DEBUG] ultClientConnectionOperator - Connecting to localhost:7070
2012-06-26 14:55:38,027 [pool-4-thread-6 ] [DEBUG] i.c.DefaultClientConnection - Connection closed
2012-06-26 14:55:38,027 [pool-4-thread-6 ] [DEBUG] i.c.DefaultClientConnection - Connection shut down
2012-06-26 14:55:38,027 [pool-4-thread-6 ] [DEBUG] ThreadSafeClientConnManager - Released connection is not reusable.
2012-06-26 14:55:38,027 [pool-4-thread-6 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Releasing connection [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 14:55:38,027 [pool-4-thread-6 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Notifying no-one, there are no waiting threads
2012-06-26 14:55:38,027 [pool-4-thread-6 ] [ERROR] q.m.p.h.LoginCommandHandler - initGrouponCache fail:com.chinarewards.qqgbvpn.qqapi.exception.ParseXMLException: com.chinarewards.qqgbvpn.qqapi.exception.SendPostTimeOutException: org.apache.http.conn.HttpHostConnectException: Connection to http://localhost:7070 refused
2012-06-26 14:55:38,043 [pool-4-thread-6 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 14:55:38,059 [pool-4-thread-6 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 14:55:38,059 [pool-4-thread-6 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 14:55:38,059 [pool-4-thread-6 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 14:55:38,059 [pool-4-thread-6 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 9
2012-06-26 14:55:38,059 [pool-4-thread-6 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (8)
2012-06-26 14:55:38,059 [pool-4-thread-6 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageResponseCodec@1d0e336
2012-06-26 14:55:38,059 [pool-4-thread-6 ] [DEBUG] c.LoginMessageResponseCodec - login/bind message encode
2012-06-26 14:55:38,059 [pool-4-thread-6 ] [TRACE] c.LoginMessageResponseCodec - LoginResponseMessage: [cmdId=8, result=0, challenge=[57, 112, 111, 75, 86, 55, 49, 52]]
2012-06-26 14:55:38,059 [pool-4-thread-6 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0xcfb1
2012-06-26 14:55:38,059 [Finalizer       ] [DEBUG] ThreadSafeClientConnManager - Shutting down
2012-06-26 14:55:38,059 [pool-4-thread-6 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 14:55:38,059 [pool-4-thread-6 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 CF B1 00 00 00 1E ................
00000010 00 00 00 08 00 00 39 70 6F 4B 56 37 31 34       ......9poKV714

2012-06-26 14:55:38,059 [pool-4-thread-6 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 14:55:38,059 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 14:55:38,059 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 14:55:38,059 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 9: not mark to return session ID to client
2012-06-26 14:55:38,059 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 14:55:38,059 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 14:55:38,059 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 14:55:38,059 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:3425, Mina session ID 9, identified POS ID pos-0002
2012-06-26 14:55:38,059 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 28 of 28 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 65 68 00 00 00 1C ..........eh....
00000010 00 00 00 C9 00 06 31 32 33 34 35 36             ......123456

2012-06-26 14:55:38,059 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=28 cap=1024: 00 00 00 10 00 00 00 00 00 00 65 68 00 00 00 1C...]
2012-06-26 14:55:38,059 [NioProcessor-1  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 9
2012-06-26 14:55:38,059 [NioProcessor-1  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 14:55:38,059 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 14:55:38,059 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 9
2012-06-26 14:55:38,059 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =28
2012-06-26 14:55:38,059 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 28 of 28 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 65 68 00 00 00 1C ..........eh....
00000010 00 00 00 C9 00 06 31 32 33 34 35 36             ......123456

2012-06-26 14:55:38,059 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 28, current position: 0
2012-06-26 14:55:38,059 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 14:55:38,059 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0x6568} messageSize:{0x1c} sessionKey:{null}
2012-06-26 14:55:38,059 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 12
2012-06-26 14:55:38,059 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=12, in.remaining=12
2012-06-26 14:55:38,059 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 14:55:38,059 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 201
2012-06-26 14:55:38,059 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 201: com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftMessageCodec@1747cf3
2012-06-26 14:55:38,059 [NioProcessor-1  ] [DEBUG] m.c.ReceiveGiftMessageCodec - receive gift request message decode
2012-06-26 14:55:38,059 [NioProcessor-1  ] [DEBUG] m.c.ReceiveGiftMessageCodec - in.remaining()=12
2012-06-26 14:55:38,059 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 14:55:38,059 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0x6568} messageSize:{0x1c} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@b74bce
2012-06-26 14:55:38,059 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 14:55:38,059 [NioProcessor-1  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 14:55:38,059 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 14:55:38,059 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 14:55:38,059 [NioProcessor-1  ] [DEBUG] c.c.q.m.p.f.LoginFilter     - isLogin=true
2012-06-26 14:55:38,059 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 14:55:38,059 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 14:55:38,059 [NioProcessor-1  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:3425, Mina session ID 9, identified POS ID pos-0002, message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0x6568} messageSize:{0x1c} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@b74bce
2012-06-26 14:55:38,059 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 14:55:38,059 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 14:55:38,059 [pool-4-thread-7 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 14:55:38,059 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 14:55:38,059 [NioProcessor-1  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 14:55:38,059 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 14:55:38,059 [pool-4-thread-7 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 14:55:38,059 [pool-4-thread-7 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@9e5ae9 obtained for command ID 201
2012-06-26 14:55:38,059 [pool-4-thread-7 ] [DEBUG] $$EnhancerByGuice$$22e9f5a5 - Handler for command ID 201 is com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@9e5ae9
2012-06-26 14:55:38,059 [pool-4-thread-7 ] [DEBUG] h.ReceiveGiftCommandHandler - ReceiveGiftHandler======execute==bodyMessage=: com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@b74bce
2012-06-26 14:55:38,059 [pool-4-thread-7 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 14:55:38,059 [pool-4-thread-7 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 14:55:38,059 [pool-4-thread-7 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 14:55:38,059 [pool-4-thread-7 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 14:55:38,059 [pool-4-thread-7 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 9
2012-06-26 14:55:38,059 [pool-4-thread-7 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (202)
2012-06-26 14:55:38,059 [pool-4-thread-7 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftResponseMessageCodec@1ffa28f
2012-06-26 14:55:38,059 [pool-4-thread-7 ] [DEBUG] iveGiftResponseMessageCodec - receive gift response message encode
2012-06-26 14:55:38,059 [pool-4-thread-7 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0x7a42
2012-06-26 14:55:38,059 [pool-4-thread-7 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 14:55:38,059 [pool-4-thread-7 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 69 of 69 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 7A 42 00 00 00 45 ..........zB...E
00000010 00 00 00 CA 00 00 00 02 07 DC 06 1A 0E 37 26 00 .............7&.
00000020 3B 01 E0 00 08 C1 EC C8 A1 C0 F1 C6 B7 00 16 31 ;..............1
00000030 32 33 34 35 36 0A CE DE D0 A7 0A B0 B4 4F 4B BC 23456........OK.
00000040 FC B7 B5 BB D8                                  .....

2012-06-26 14:55:38,059 [pool-4-thread-7 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 14:55:38,059 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 14:55:38,059 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 14:55:38,059 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 9: not mark to return session ID to client
2012-06-26 14:55:38,059 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 14:55:38,059 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 14:55:38,059 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 14:55:38,059 [NioProcessor-1  ] [INFO ] o.a.m.f.l.LoggingFilter     - CLOSED
2012-06-26 14:55:38,059 [NioProcessor-1  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 14:55:38,277 [NioProcessor-2  ] [INFO ] c.c.q.m.p.f.LoggingFilter   - incoming connection from remote address: 127.0.0.1:3427, Mina session ID: 10
2012-06-26 14:55:38,277 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - Currently managed session count: 1
2012-06-26 14:55:38,277 [NioProcessor-2  ] [INFO ] o.a.m.f.l.LoggingFilter     - CREATED
2012-06-26 14:55:38,277 [NioProcessor-2  ] [INFO ] o.a.m.f.l.LoggingFilter     - OPENED
2012-06-26 14:55:38,418 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:3427, Mina session ID 10, identified POS ID null
2012-06-26 14:55:38,418 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 14:55:38,418 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=32 cap=2048: 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20...]
2012-06-26 14:55:38,418 [NioProcessor-2  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 10
2012-06-26 14:55:38,418 [NioProcessor-2  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 14:55:38,418 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 14:55:38,418 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 10
2012-06-26 14:55:38,418 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =32
2012-06-26 14:55:38,418 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 14:55:38,418 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 32, current position: 0
2012-06-26 14:55:38,418 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 14:55:38,418 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}
2012-06-26 14:55:38,418 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 16
2012-06-26 14:55:38,418 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=16, in.remaining=16
2012-06-26 14:55:38,418 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 14:55:38,418 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 5
2012-06-26 14:55:38,418 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 5: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageCodec@18be0aa
2012-06-26 14:55:38,418 [NioProcessor-2  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - init request message decode
2012-06-26 14:55:38,418 [NioProcessor-2  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - in.remaining()=16
2012-06-26 14:55:38,418 [NioProcessor-2  ] [TRACE] .m.p.s.m.c.InitMessageCodec - InitRequestMessage: [cmdId=5, posId=pos-0002]
2012-06-26 14:55:38,418 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 14:55:38,418 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 14:55:38,418 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 14:55:38,418 [NioProcessor-2  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 14:55:38,418 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 14:55:38,418 [NioProcessor-2  ] [DEBUG] p.f.SessionKeyMessageFilter - Mina session ID 10: created session key 122ede4241b4448fb2f1ed6a9a30b3d7
2012-06-26 14:55:38,418 [NioProcessor-2  ] [DEBUG] p.f.SessionKeyMessageFilter - creating session for mina session ID 10 using session ID 122ede4241b4448fb2f1ed6a9a30b3d7
2012-06-26 14:55:38,418 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 14:55:38,418 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 14:55:38,418 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 14:55:38,418 [NioProcessor-2  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:3427, Mina session ID 10, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 14:55:38,418 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 14:55:38,418 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 14:55:38,418 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 14:55:38,418 [pool-4-thread-8 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 14:55:38,418 [NioProcessor-2  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 14:55:38,418 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 14:55:38,418 [pool-4-thread-8 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 14:55:38,418 [pool-4-thread-8 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@3495f1 obtained for command ID 5
2012-06-26 14:55:38,418 [pool-4-thread-8 ] [DEBUG] $$EnhancerByGuice$$22e9f5a5 - Handler for command ID 5 is com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@3495f1
2012-06-26 14:55:38,418 [pool-4-thread-8 ] [DEBUG] .q.m.p.h.InitCommandHandler - InitCommandHandler======execute==bodyMessage=:  [cmdId=5, posId=pos-0002]
2012-06-26 14:55:38,418 [pool-4-thread-8 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - InitResponse() invoke
2012-06-26 14:55:38,418 [pool-4-thread-8 ] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:ALLOWED
2012-06-26 14:55:38,418 [pool-4-thread-8 ] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId AND p.ostatus = :ostatus
2012-06-26 14:55:38,418 [pool-4-thread-8 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - POS ID:pos-0002, init challenge saved - [118, 101, 113, 101, 120, 107, 85, 99]
2012-06-26 14:55:38,418 [pool-4-thread-8 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 14:55:38,433 [pool-4-thread-8 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 14:55:38,433 [pool-4-thread-8 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 14:55:38,433 [pool-4-thread-8 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 14:55:38,433 [pool-4-thread-8 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 10
2012-06-26 14:55:38,433 [pool-4-thread-8 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (6)
2012-06-26 14:55:38,433 [pool-4-thread-8 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageResponseCodec@1e99807
2012-06-26 14:55:38,433 [pool-4-thread-8 ] [DEBUG] .c.InitMessageResponseCodec - init response message encode
2012-06-26 14:55:38,433 [pool-4-thread-8 ] [TRACE] .c.InitMessageResponseCodec - InitResponseMessage: [cmdId=6, result=0, challenge=[118, 101, 113, 101, 120, 107, 85, 99]]
2012-06-26 14:55:38,433 [pool-4-thread-8 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0x4a41
2012-06-26 14:55:38,433 [pool-4-thread-8 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 14:55:38,433 [pool-4-thread-8 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 4A 41 00 00 00 1E ..........JA....
00000010 00 00 00 06 00 00 76 65 71 65 78 6B 55 63       ......veqexkUc

2012-06-26 14:55:38,433 [pool-4-thread-8 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 14:55:38,433 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 14:55:38,433 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 14:55:38,433 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 10: not mark to return session ID to client
2012-06-26 14:55:38,433 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 14:55:38,433 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 14:55:38,433 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 14:55:38,433 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:3427, Mina session ID 10, identified POS ID pos-0002
2012-06-26 14:55:38,433 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BD 88 00 00 00 30 ...............0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 4A AA 9E 18 88 56 8E C4 E5 E6 40 E8 1C 85 BB 0D J....V....@.....

2012-06-26 14:55:38,433 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=48 cap=2048: 00 00 00 01 00 00 00 00 00 00 BD 88 00 00 00 30...]
2012-06-26 14:55:38,433 [NioProcessor-2  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 10
2012-06-26 14:55:38,433 [NioProcessor-2  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 14:55:38,433 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 14:55:38,433 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 10
2012-06-26 14:55:38,433 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =48
2012-06-26 14:55:38,433 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BD 88 00 00 00 30 ...............0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 4A AA 9E 18 88 56 8E C4 E5 E6 40 E8 1C 85 BB 0D J....V....@.....

2012-06-26 14:55:38,433 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 48, current position: 0
2012-06-26 14:55:38,433 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 14:55:38,433 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbd88} messageSize:{0x30} sessionKey:{null}
2012-06-26 14:55:38,433 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 32
2012-06-26 14:55:38,433 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=32, in.remaining=32
2012-06-26 14:55:38,433 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 14:55:38,433 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 7
2012-06-26 14:55:38,433 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 7: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageCodec@1998280
2012-06-26 14:55:38,433 [NioProcessor-2  ] [DEBUG] m.p.s.m.c.LoginMessageCodec - login/bind message decode
2012-06-26 14:55:38,433 [NioProcessor-2  ] [TRACE] m.p.s.m.c.LoginMessageCodec - LoginRequestMessage: [cmdId=7, posId=pos-0002, challengeResponse=[74, -86, -98, 24, -120, 86, -114, -60, -27, -26, 64, -24, 28, -123, -69, 13]]
2012-06-26 14:55:38,433 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 14:55:38,433 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbd88} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[74, -86, -98, 24, -120, 86, -114, -60, -27, -26, 64, -24, 28, -123, -69, 13]]
2012-06-26 14:55:38,433 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 14:55:38,433 [NioProcessor-2  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 14:55:38,433 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 14:55:38,433 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 14:55:38,433 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 14:55:38,433 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 14:55:38,433 [NioProcessor-2  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:3427, Mina session ID 10, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbd88} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[74, -86, -98, 24, -120, 86, -114, -60, -27, -26, 64, -24, 28, -123, -69, 13]]
2012-06-26 14:55:38,433 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 14:55:38,433 [pool-4-thread-9 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 14:55:38,433 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 14:55:38,433 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 14:55:38,433 [NioProcessor-2  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 14:55:38,433 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 14:55:38,433 [pool-4-thread-9 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 14:55:38,433 [pool-4-thread-9 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@1ac7426 obtained for command ID 7
2012-06-26 14:55:38,433 [pool-4-thread-9 ] [DEBUG] $$EnhancerByGuice$$22e9f5a5 - Handler for command ID 7 is com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@1ac7426
2012-06-26 14:55:38,433 [pool-4-thread-9 ] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==bodyMessage=: [cmdId=7, posId=pos-0002, challengeResponse=[74, -86, -98, 24, -120, 86, -114, -60, -27, -26, 64, -24, 28, -123, -69, 13]]
2012-06-26 14:55:38,433 [pool-4-thread-9 ] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:null
2012-06-26 14:55:38,433 [pool-4-thread-9 ] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId
2012-06-26 14:55:38,449 [pool-4-thread-9 ] [TRACE] .q.m.l.l.i.LoginManagerImpl - Loaded from db: pos.posId:pos-0002, pos.secret:000001, oldChallenge:[118, 101, 113, 101, 120, 107, 85, 99]
2012-06-26 14:55:38,449 [pool-4-thread-9 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - disableChallengeCheck =0
2012-06-26 14:55:38,449 [pool-4-thread-9 ] [TRACE] c.c.q.m.l.c.ChallengeUtil   - checking challenge:response:[74, -86, -98, 24, -120, 86, -114, -60, -27, -26, 64, -24, 28, -123, -69, 13], posKey:000001, random:[118, 101, 113, 101, 120, 107, 85, 99]
2012-06-26 14:55:38,449 [pool-4-thread-9 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - new challenge for POS (POS ID): [80, 106, 119, 85, 80, 51, 56, 68]
2012-06-26 14:55:38,449 [pool-4-thread-9 ] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==serverKey=:JXTPOS
2012-06-26 14:55:38,449 [pool-4-thread-9 ] [DEBUG] ThreadSafeClientConnManager - Get connection: HttpRoute[{}->http://localhost:7070], timeout = 0
2012-06-26 14:55:38,449 [pool-4-thread-9 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - [HttpRoute[{}->http://localhost:7070]] total kept alive: 0, total issued: 0, total allocated: 0 out of 20
2012-06-26 14:55:38,449 [pool-4-thread-9 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - No free connections [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 14:55:38,449 [pool-4-thread-9 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Available capacity: 2 out of 2 [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 14:55:38,449 [pool-4-thread-9 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Creating new connection [HttpRoute[{}->http://localhost:7070]]
2012-06-26 14:55:38,449 [pool-4-thread-9 ] [DEBUG] ultClientConnectionOperator - Connecting to localhost:7070
2012-06-26 14:55:39,339 [pool-4-thread-9 ] [DEBUG] i.c.DefaultClientConnection - Connection closed
2012-06-26 14:55:39,339 [pool-4-thread-9 ] [DEBUG] i.c.DefaultClientConnection - Connection shut down
2012-06-26 14:55:39,339 [pool-4-thread-9 ] [DEBUG] ThreadSafeClientConnManager - Released connection is not reusable.
2012-06-26 14:55:39,339 [pool-4-thread-9 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Releasing connection [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 14:55:39,339 [pool-4-thread-9 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Notifying no-one, there are no waiting threads
2012-06-26 14:55:39,339 [pool-4-thread-9 ] [ERROR] q.m.p.h.LoginCommandHandler - initGrouponCache fail:com.chinarewards.qqgbvpn.qqapi.exception.ParseXMLException: com.chinarewards.qqgbvpn.qqapi.exception.SendPostTimeOutException: org.apache.http.conn.HttpHostConnectException: Connection to http://localhost:7070 refused
2012-06-26 14:55:39,339 [pool-4-thread-9 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 14:55:39,370 [pool-4-thread-9 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 14:55:39,370 [pool-4-thread-9 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 14:55:39,370 [pool-4-thread-9 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 14:55:39,370 [pool-4-thread-9 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 10
2012-06-26 14:55:39,370 [pool-4-thread-9 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (8)
2012-06-26 14:55:39,370 [pool-4-thread-9 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageResponseCodec@1c4e79a
2012-06-26 14:55:39,370 [pool-4-thread-9 ] [DEBUG] c.LoginMessageResponseCodec - login/bind message encode
2012-06-26 14:55:39,370 [pool-4-thread-9 ] [TRACE] c.LoginMessageResponseCodec - LoginResponseMessage: [cmdId=8, result=0, challenge=[80, 106, 119, 85, 80, 51, 56, 68]]
2012-06-26 14:55:39,370 [pool-4-thread-9 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0xafa1
2012-06-26 14:55:39,370 [pool-4-thread-9 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 14:55:39,370 [pool-4-thread-9 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 AF A1 00 00 00 1E ................
00000010 00 00 00 08 00 00 50 6A 77 55 50 33 38 44       ......PjwUP38D

2012-06-26 14:55:39,370 [pool-4-thread-9 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 14:55:39,370 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 14:55:39,370 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 14:55:39,370 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 10: not mark to return session ID to client
2012-06-26 14:55:39,370 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 14:55:39,370 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 14:55:39,370 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 14:55:39,370 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:3427, Mina session ID 10, identified POS ID pos-0002
2012-06-26 14:55:39,370 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 33 of 33 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 D8 04 00 00 00 21 ...............!
00000010 00 00 00 C9 00 0B 31 31 31 31 31 31 31 31 31 31 ......1111111111
00000020 31                                              1

2012-06-26 14:55:39,370 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=33 cap=1024: 00 00 00 10 00 00 00 00 00 00 D8 04 00 00 00 21...]
2012-06-26 14:55:39,370 [NioProcessor-2  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 10
2012-06-26 14:55:39,370 [NioProcessor-2  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 14:55:39,370 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 14:55:39,370 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 10
2012-06-26 14:55:39,370 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =33
2012-06-26 14:55:39,386 [Finalizer       ] [DEBUG] ThreadSafeClientConnManager - Shutting down
2012-06-26 14:55:39,386 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 33 of 33 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 D8 04 00 00 00 21 ...............!
00000010 00 00 00 C9 00 0B 31 31 31 31 31 31 31 31 31 31 ......1111111111
00000020 31                                              1

2012-06-26 14:55:39,386 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 33, current position: 0
2012-06-26 14:55:39,386 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 14:55:39,386 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd804} messageSize:{0x21} sessionKey:{null}
2012-06-26 14:55:39,386 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 17
2012-06-26 14:55:39,386 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=17, in.remaining=17
2012-06-26 14:55:39,386 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 14:55:39,386 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 201
2012-06-26 14:55:39,386 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 201: com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftMessageCodec@7bcadd
2012-06-26 14:55:39,386 [NioProcessor-2  ] [DEBUG] m.c.ReceiveGiftMessageCodec - receive gift request message decode
2012-06-26 14:55:39,386 [NioProcessor-2  ] [DEBUG] m.c.ReceiveGiftMessageCodec - in.remaining()=17
2012-06-26 14:55:39,386 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 14:55:39,386 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd804} messageSize:{0x21} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@143a9c8
2012-06-26 14:55:39,386 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 14:55:39,386 [NioProcessor-2  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 14:55:39,386 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 14:55:39,386 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 14:55:39,386 [NioProcessor-2  ] [DEBUG] c.c.q.m.p.f.LoginFilter     - isLogin=true
2012-06-26 14:55:39,386 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 14:55:39,386 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 14:55:39,386 [NioProcessor-2  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:3427, Mina session ID 10, identified POS ID pos-0002, message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd804} messageSize:{0x21} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@143a9c8
2012-06-26 14:55:39,386 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 14:55:39,386 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 14:55:39,386 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 14:55:39,386 [NioProcessor-2  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 14:55:39,386 [pool-4-thread-10] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 14:55:39,386 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 14:55:39,386 [pool-4-thread-10] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 14:55:39,386 [pool-4-thread-10] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@c12578 obtained for command ID 201
2012-06-26 14:55:39,386 [pool-4-thread-10] [DEBUG] $$EnhancerByGuice$$22e9f5a5 - Handler for command ID 201 is com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@c12578
2012-06-26 14:55:39,386 [pool-4-thread-10] [DEBUG] h.ReceiveGiftCommandHandler - ReceiveGiftHandler======execute==bodyMessage=: com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@143a9c8
2012-06-26 14:55:39,386 [pool-4-thread-10] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 14:55:39,386 [pool-4-thread-10] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 14:55:39,386 [pool-4-thread-10] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 14:55:39,386 [pool-4-thread-10] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 14:55:39,386 [pool-4-thread-10] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 10
2012-06-26 14:55:39,386 [pool-4-thread-10] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (202)
2012-06-26 14:55:39,386 [pool-4-thread-10] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftResponseMessageCodec@d32b98
2012-06-26 14:55:39,386 [pool-4-thread-10] [DEBUG] iveGiftResponseMessageCodec - receive gift response message encode
2012-06-26 14:55:39,386 [pool-4-thread-10] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0xdae
2012-06-26 14:55:39,386 [pool-4-thread-10] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 14:55:39,386 [pool-4-thread-10] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 55 of 55 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 0D AE 00 00 00 37 ...............7
00000010 00 00 00 CA 00 00 00 00 07 DC 06 1A 0E 37 27 01 .............7'.
00000020 82 01 E0 00 08 C1 EC C8 A1 C0 F1 C6 B7 00 08 BD ................
00000030 BB D2 D7 B3 C9 B9 A6                            .......

2012-06-26 14:55:39,386 [pool-4-thread-10] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 14:55:39,386 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 14:55:39,386 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 14:55:39,386 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 10: not mark to return session ID to client
2012-06-26 14:55:39,386 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 14:55:39,386 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 14:55:39,386 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 14:55:39,386 [NioProcessor-2  ] [INFO ] o.a.m.f.l.LoggingFilter     - CLOSED
2012-06-26 14:55:39,386 [NioProcessor-2  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 14:55:39,667 [NioProcessor-3  ] [INFO ] c.c.q.m.p.f.LoggingFilter   - incoming connection from remote address: 127.0.0.1:3429, Mina session ID: 11
2012-06-26 14:55:39,667 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - Currently managed session count: 1
2012-06-26 14:55:39,667 [NioProcessor-3  ] [INFO ] o.a.m.f.l.LoggingFilter     - CREATED
2012-06-26 14:55:39,667 [NioProcessor-3  ] [INFO ] o.a.m.f.l.LoggingFilter     - OPENED
2012-06-26 14:55:39,683 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:3429, Mina session ID 11, identified POS ID null
2012-06-26 14:55:39,683 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 14:55:39,683 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=32 cap=2048: 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20...]
2012-06-26 14:55:39,683 [NioProcessor-3  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 11
2012-06-26 14:55:39,683 [NioProcessor-3  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 14:55:39,683 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 14:55:39,683 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 11
2012-06-26 14:55:39,683 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =32
2012-06-26 14:55:39,683 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 14:55:39,683 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 32, current position: 0
2012-06-26 14:55:39,683 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 14:55:39,683 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}
2012-06-26 14:55:39,683 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 16
2012-06-26 14:55:39,683 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=16, in.remaining=16
2012-06-26 14:55:39,683 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 14:55:39,683 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 5
2012-06-26 14:55:39,683 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 5: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageCodec@dcfb5
2012-06-26 14:55:39,683 [NioProcessor-3  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - init request message decode
2012-06-26 14:55:39,683 [NioProcessor-3  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - in.remaining()=16
2012-06-26 14:55:39,683 [NioProcessor-3  ] [TRACE] .m.p.s.m.c.InitMessageCodec - InitRequestMessage: [cmdId=5, posId=pos-0002]
2012-06-26 14:55:39,683 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 14:55:39,683 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 14:55:39,683 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 14:55:39,683 [NioProcessor-3  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 14:55:39,683 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 14:55:39,683 [NioProcessor-3  ] [DEBUG] p.f.SessionKeyMessageFilter - Mina session ID 11: created session key f478406263be4be9a453fa5daf196bd9
2012-06-26 14:55:39,683 [NioProcessor-3  ] [DEBUG] p.f.SessionKeyMessageFilter - creating session for mina session ID 11 using session ID f478406263be4be9a453fa5daf196bd9
2012-06-26 14:55:39,683 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 14:55:39,683 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 14:55:39,683 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 14:55:39,683 [NioProcessor-3  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:3429, Mina session ID 11, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 14:55:39,683 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 14:55:39,683 [pool-4-thread-11] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 14:55:39,683 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 14:55:39,683 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 14:55:39,683 [NioProcessor-3  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 14:55:39,683 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 14:55:39,683 [pool-4-thread-11] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 14:55:39,683 [pool-4-thread-11] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@1de6b2c obtained for command ID 5
2012-06-26 14:55:39,683 [pool-4-thread-11] [DEBUG] $$EnhancerByGuice$$22e9f5a5 - Handler for command ID 5 is com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@1de6b2c
2012-06-26 14:55:39,683 [pool-4-thread-11] [DEBUG] .q.m.p.h.InitCommandHandler - InitCommandHandler======execute==bodyMessage=:  [cmdId=5, posId=pos-0002]
2012-06-26 14:55:39,683 [pool-4-thread-11] [DEBUG] .q.m.l.l.i.LoginManagerImpl - InitResponse() invoke
2012-06-26 14:55:39,683 [pool-4-thread-11] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:ALLOWED
2012-06-26 14:55:39,683 [pool-4-thread-11] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId AND p.ostatus = :ostatus
2012-06-26 14:55:39,683 [pool-4-thread-11] [DEBUG] .q.m.l.l.i.LoginManagerImpl - POS ID:pos-0002, init challenge saved - [51, 65, 72, 57, 119, 67, 81, 65]
2012-06-26 14:55:39,683 [pool-4-thread-11] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 14:55:39,698 [pool-4-thread-11] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 14:55:39,698 [pool-4-thread-11] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 14:55:39,698 [pool-4-thread-11] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 14:55:39,698 [pool-4-thread-11] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 11
2012-06-26 14:55:39,698 [pool-4-thread-11] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (6)
2012-06-26 14:55:39,698 [pool-4-thread-11] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageResponseCodec@ce8593
2012-06-26 14:55:39,698 [pool-4-thread-11] [DEBUG] .c.InitMessageResponseCodec - init response message encode
2012-06-26 14:55:39,698 [pool-4-thread-11] [TRACE] .c.InitMessageResponseCodec - InitResponseMessage: [cmdId=6, result=0, challenge=[51, 65, 72, 57, 119, 67, 81, 65]]
2012-06-26 14:55:39,698 [pool-4-thread-11] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0xbbdb
2012-06-26 14:55:39,698 [pool-4-thread-11] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 14:55:39,698 [pool-4-thread-11] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DB 00 00 00 1E ................
00000010 00 00 00 06 00 00 33 41 48 39 77 43 51 41       ......3AH9wCQA

2012-06-26 14:55:39,698 [pool-4-thread-11] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 14:55:39,698 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 14:55:39,698 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 14:55:39,698 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 11: not mark to return session ID to client
2012-06-26 14:55:39,698 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 14:55:39,698 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 14:55:39,698 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 14:55:39,698 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:3429, Mina session ID 11, identified POS ID pos-0002
2012-06-26 14:55:39,698 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 90 CA 00 00 00 30 ...............0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 86 21 23 24 D7 88 92 EE F3 AC 50 94 A7 90 2B 6F .!#$......P...+o

2012-06-26 14:55:39,714 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=48 cap=2048: 00 00 00 01 00 00 00 00 00 00 90 CA 00 00 00 30...]
2012-06-26 14:55:39,714 [NioProcessor-3  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 11
2012-06-26 14:55:39,714 [NioProcessor-3  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 14:55:39,714 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 14:55:39,714 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 11
2012-06-26 14:55:39,714 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =48
2012-06-26 14:55:39,714 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 90 CA 00 00 00 30 ...............0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 86 21 23 24 D7 88 92 EE F3 AC 50 94 A7 90 2B 6F .!#$......P...+o

2012-06-26 14:55:39,714 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 48, current position: 0
2012-06-26 14:55:39,714 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 14:55:39,714 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x90ca} messageSize:{0x30} sessionKey:{null}
2012-06-26 14:55:39,714 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 32
2012-06-26 14:55:39,714 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=32, in.remaining=32
2012-06-26 14:55:39,714 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 14:55:39,714 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 7
2012-06-26 14:55:39,714 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 7: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageCodec@c92846
2012-06-26 14:55:39,714 [NioProcessor-3  ] [DEBUG] m.p.s.m.c.LoginMessageCodec - login/bind message decode
2012-06-26 14:55:39,714 [NioProcessor-3  ] [TRACE] m.p.s.m.c.LoginMessageCodec - LoginRequestMessage: [cmdId=7, posId=pos-0002, challengeResponse=[-122, 33, 35, 36, -41, -120, -110, -18, -13, -84, 80, -108, -89, -112, 43, 111]]
2012-06-26 14:55:39,714 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 14:55:39,714 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x90ca} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[-122, 33, 35, 36, -41, -120, -110, -18, -13, -84, 80, -108, -89, -112, 43, 111]]
2012-06-26 14:55:39,714 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 14:55:39,714 [NioProcessor-3  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 14:55:39,714 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 14:55:39,714 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 14:55:39,714 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 14:55:39,714 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 14:55:39,714 [NioProcessor-3  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:3429, Mina session ID 11, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x90ca} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[-122, 33, 35, 36, -41, -120, -110, -18, -13, -84, 80, -108, -89, -112, 43, 111]]
2012-06-26 14:55:39,714 [pool-4-thread-12] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 14:55:39,714 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 14:55:39,714 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 14:55:39,714 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 14:55:39,714 [NioProcessor-3  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 14:55:39,714 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 14:55:39,714 [pool-4-thread-12] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 14:55:39,714 [pool-4-thread-12] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@86a27e obtained for command ID 7
2012-06-26 14:55:39,714 [pool-4-thread-12] [DEBUG] $$EnhancerByGuice$$22e9f5a5 - Handler for command ID 7 is com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@86a27e
2012-06-26 14:55:39,714 [pool-4-thread-12] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==bodyMessage=: [cmdId=7, posId=pos-0002, challengeResponse=[-122, 33, 35, 36, -41, -120, -110, -18, -13, -84, 80, -108, -89, -112, 43, 111]]
2012-06-26 14:55:39,714 [pool-4-thread-12] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:null
2012-06-26 14:55:39,714 [pool-4-thread-12] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId
2012-06-26 14:55:39,714 [pool-4-thread-12] [TRACE] .q.m.l.l.i.LoginManagerImpl - Loaded from db: pos.posId:pos-0002, pos.secret:000001, oldChallenge:[51, 65, 72, 57, 119, 67, 81, 65]
2012-06-26 14:55:39,714 [pool-4-thread-12] [DEBUG] .q.m.l.l.i.LoginManagerImpl - disableChallengeCheck =0
2012-06-26 14:55:39,714 [pool-4-thread-12] [TRACE] c.c.q.m.l.c.ChallengeUtil   - checking challenge:response:[-122, 33, 35, 36, -41, -120, -110, -18, -13, -84, 80, -108, -89, -112, 43, 111], posKey:000001, random:[51, 65, 72, 57, 119, 67, 81, 65]
2012-06-26 14:55:39,714 [pool-4-thread-12] [DEBUG] .q.m.l.l.i.LoginManagerImpl - new challenge for POS (POS ID): [97, 89, 115, 49, 119, 119, 53, 75]
2012-06-26 14:55:39,714 [pool-4-thread-12] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==serverKey=:JXTPOS
2012-06-26 14:55:39,714 [pool-4-thread-12] [DEBUG] ThreadSafeClientConnManager - Get connection: HttpRoute[{}->http://localhost:7070], timeout = 0
2012-06-26 14:55:39,714 [pool-4-thread-12] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - [HttpRoute[{}->http://localhost:7070]] total kept alive: 0, total issued: 0, total allocated: 0 out of 20
2012-06-26 14:55:39,714 [pool-4-thread-12] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - No free connections [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 14:55:39,714 [pool-4-thread-12] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Available capacity: 2 out of 2 [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 14:55:39,714 [pool-4-thread-12] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Creating new connection [HttpRoute[{}->http://localhost:7070]]
2012-06-26 14:55:39,714 [pool-4-thread-12] [DEBUG] ultClientConnectionOperator - Connecting to localhost:7070
2012-06-26 14:55:40,869 [pool-4-thread-12] [DEBUG] i.c.DefaultClientConnection - Connection closed
2012-06-26 14:55:40,869 [pool-4-thread-12] [DEBUG] i.c.DefaultClientConnection - Connection shut down
2012-06-26 14:55:40,869 [pool-4-thread-12] [DEBUG] ThreadSafeClientConnManager - Released connection is not reusable.
2012-06-26 14:55:40,869 [pool-4-thread-12] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Releasing connection [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 14:55:40,869 [pool-4-thread-12] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Notifying no-one, there are no waiting threads
2012-06-26 14:55:40,869 [pool-4-thread-12] [ERROR] q.m.p.h.LoginCommandHandler - initGrouponCache fail:com.chinarewards.qqgbvpn.qqapi.exception.ParseXMLException: com.chinarewards.qqgbvpn.qqapi.exception.SendPostTimeOutException: org.apache.http.conn.HttpHostConnectException: Connection to http://localhost:7070 refused
2012-06-26 14:55:40,869 [pool-4-thread-12] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 14:55:40,885 [pool-4-thread-12] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 14:55:40,885 [pool-4-thread-12] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 14:55:40,885 [pool-4-thread-12] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 14:55:40,885 [pool-4-thread-12] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 11
2012-06-26 14:55:40,885 [pool-4-thread-12] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (8)
2012-06-26 14:55:40,885 [pool-4-thread-12] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageResponseCodec@1aa474e
2012-06-26 14:55:40,885 [pool-4-thread-12] [DEBUG] c.LoginMessageResponseCodec - login/bind message encode
2012-06-26 14:55:40,885 [pool-4-thread-12] [TRACE] c.LoginMessageResponseCodec - LoginResponseMessage: [cmdId=8, result=0, challenge=[97, 89, 115, 49, 119, 119, 53, 75]]
2012-06-26 14:55:40,885 [pool-4-thread-12] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0x7e8b
2012-06-26 14:55:40,885 [pool-4-thread-12] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 14:55:40,885 [pool-4-thread-12] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 7E 8B 00 00 00 1E ..........~.....
00000010 00 00 00 08 00 00 61 59 73 31 77 77 35 4B       ......aYs1ww5K

2012-06-26 14:55:40,885 [pool-4-thread-12] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 14:55:40,885 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 14:55:40,885 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 14:55:40,885 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 11: not mark to return session ID to client
2012-06-26 14:55:40,885 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 14:55:40,885 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 14:55:40,885 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 14:55:40,885 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:3429, Mina session ID 11, identified POS ID pos-0002
2012-06-26 14:55:40,885 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 33 of 33 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 D1 FF 00 00 00 21 ...............!
00000010 00 00 00 C9 00 0B 32 32 32 32 32 32 32 32 32 32 ......2222222222
00000020 32                                              2

2012-06-26 14:55:40,885 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=33 cap=1024: 00 00 00 10 00 00 00 00 00 00 D1 FF 00 00 00 21...]
2012-06-26 14:55:40,885 [NioProcessor-3  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 11
2012-06-26 14:55:40,885 [NioProcessor-3  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 14:55:40,885 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 14:55:40,885 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 11
2012-06-26 14:55:40,885 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =33
2012-06-26 14:55:40,885 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 33 of 33 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 D1 FF 00 00 00 21 ...............!
00000010 00 00 00 C9 00 0B 32 32 32 32 32 32 32 32 32 32 ......2222222222
00000020 32                                              2

2012-06-26 14:55:40,885 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 33, current position: 0
2012-06-26 14:55:40,885 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 14:55:40,885 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd1ff} messageSize:{0x21} sessionKey:{null}
2012-06-26 14:55:40,885 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 17
2012-06-26 14:55:40,885 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=17, in.remaining=17
2012-06-26 14:55:40,885 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 14:55:40,885 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 201
2012-06-26 14:55:40,885 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 201: com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftMessageCodec@2f870d
2012-06-26 14:55:40,885 [NioProcessor-3  ] [DEBUG] m.c.ReceiveGiftMessageCodec - receive gift request message decode
2012-06-26 14:55:40,885 [NioProcessor-3  ] [DEBUG] m.c.ReceiveGiftMessageCodec - in.remaining()=17
2012-06-26 14:55:40,885 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 14:55:40,885 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd1ff} messageSize:{0x21} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@4b95c3
2012-06-26 14:55:40,885 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 14:55:40,885 [Finalizer       ] [DEBUG] ThreadSafeClientConnManager - Shutting down
2012-06-26 14:55:40,885 [NioProcessor-3  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 14:55:40,885 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 14:55:40,885 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 14:55:40,885 [NioProcessor-3  ] [DEBUG] c.c.q.m.p.f.LoginFilter     - isLogin=true
2012-06-26 14:55:40,885 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 14:55:40,885 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 14:55:40,885 [NioProcessor-3  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:3429, Mina session ID 11, identified POS ID pos-0002, message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd1ff} messageSize:{0x21} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@4b95c3
2012-06-26 14:55:40,901 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 14:55:40,901 [pool-4-thread-13] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 14:55:40,901 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 14:55:40,901 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 14:55:40,901 [NioProcessor-3  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 14:55:40,901 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 14:55:40,901 [pool-4-thread-13] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 14:55:40,901 [pool-4-thread-13] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@1d028d6 obtained for command ID 201
2012-06-26 14:55:40,901 [pool-4-thread-13] [DEBUG] $$EnhancerByGuice$$22e9f5a5 - Handler for command ID 201 is com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@1d028d6
2012-06-26 14:55:40,901 [pool-4-thread-13] [DEBUG] h.ReceiveGiftCommandHandler - ReceiveGiftHandler======execute==bodyMessage=: com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@4b95c3
2012-06-26 14:55:40,901 [pool-4-thread-13] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 14:55:40,901 [pool-4-thread-13] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 14:55:40,901 [pool-4-thread-13] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 14:55:40,901 [pool-4-thread-13] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 14:55:40,901 [pool-4-thread-13] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 11
2012-06-26 14:55:40,901 [pool-4-thread-13] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (202)
2012-06-26 14:55:40,901 [pool-4-thread-13] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftResponseMessageCodec@836ea4
2012-06-26 14:55:40,901 [pool-4-thread-13] [DEBUG] iveGiftResponseMessageCodec - receive gift response message encode
2012-06-26 14:55:40,901 [pool-4-thread-13] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0xaf91
2012-06-26 14:55:40,901 [pool-4-thread-13] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 14:55:40,901 [pool-4-thread-13] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 55 of 55 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 AF 91 00 00 00 37 ...............7
00000010 00 00 00 CA 00 00 00 01 07 DC 06 1A 0E 37 28 03 .............7(.
00000020 85 01 E0 00 08 C1 EC C8 A1 C0 F1 C6 B7 00 08 D2 ................
00000030 D1 C1 EC C8 A1 B9 FD                            .......

2012-06-26 14:55:40,901 [pool-4-thread-13] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 14:55:40,901 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 14:55:40,901 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 14:55:40,901 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 11: not mark to return session ID to client
2012-06-26 14:55:40,901 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 14:55:40,901 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 14:55:40,901 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 14:55:40,901 [NioProcessor-3  ] [INFO ] o.a.m.f.l.LoggingFilter     - CLOSED
2012-06-26 14:55:40,901 [NioProcessor-3  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 14:55:41,275 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:55:41,275 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:55:41,275 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=9
2012-06-26 14:55:41,275 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=9
2012-06-26 14:55:41,275 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:55:47,834 [NioProcessor-1  ] [INFO ] c.c.q.m.p.f.LoggingFilter   - incoming connection from remote address: 127.0.0.1:3433, Mina session ID: 12
2012-06-26 14:55:47,834 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - Currently managed session count: 1
2012-06-26 14:55:47,834 [NioProcessor-1  ] [INFO ] o.a.m.f.l.LoggingFilter     - CREATED
2012-06-26 14:55:47,834 [NioProcessor-1  ] [INFO ] o.a.m.f.l.LoggingFilter     - OPENED
2012-06-26 14:55:47,834 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:3433, Mina session ID 12, identified POS ID null
2012-06-26 14:55:47,834 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 14:55:47,834 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=32 cap=2048: 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20...]
2012-06-26 14:55:47,865 [NioProcessor-1  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 12
2012-06-26 14:55:47,865 [NioProcessor-1  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 14:55:47,865 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 14:55:47,865 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 12
2012-06-26 14:55:47,865 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =32
2012-06-26 14:55:47,865 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 14:55:47,865 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 32, current position: 0
2012-06-26 14:55:47,865 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 14:55:47,865 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}
2012-06-26 14:55:47,865 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 16
2012-06-26 14:55:47,865 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=16, in.remaining=16
2012-06-26 14:55:47,865 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 14:55:47,865 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 5
2012-06-26 14:55:47,865 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 5: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageCodec@196ace7
2012-06-26 14:55:47,865 [NioProcessor-1  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - init request message decode
2012-06-26 14:55:47,865 [NioProcessor-1  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - in.remaining()=16
2012-06-26 14:55:47,865 [NioProcessor-1  ] [TRACE] .m.p.s.m.c.InitMessageCodec - InitRequestMessage: [cmdId=5, posId=pos-0002]
2012-06-26 14:55:47,865 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 14:55:47,865 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 14:55:47,865 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 14:55:47,865 [NioProcessor-1  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 14:55:47,865 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 14:55:47,865 [NioProcessor-1  ] [DEBUG] p.f.SessionKeyMessageFilter - Mina session ID 12: created session key c70c4f12143649a185b64cc3166372d6
2012-06-26 14:55:47,865 [NioProcessor-1  ] [DEBUG] p.f.SessionKeyMessageFilter - creating session for mina session ID 12 using session ID c70c4f12143649a185b64cc3166372d6
2012-06-26 14:55:47,865 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 14:55:47,865 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 14:55:47,865 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 14:55:47,865 [NioProcessor-1  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:3433, Mina session ID 12, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 14:55:47,865 [pool-4-thread-14] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 14:55:47,865 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 14:55:47,865 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 14:55:47,865 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 14:55:47,865 [NioProcessor-1  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 14:55:47,865 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 14:55:47,865 [pool-4-thread-14] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 14:55:47,865 [pool-4-thread-14] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@3905fe obtained for command ID 5
2012-06-26 14:55:47,865 [pool-4-thread-14] [DEBUG] $$EnhancerByGuice$$22e9f5a5 - Handler for command ID 5 is com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@3905fe
2012-06-26 14:55:47,865 [pool-4-thread-14] [DEBUG] .q.m.p.h.InitCommandHandler - InitCommandHandler======execute==bodyMessage=:  [cmdId=5, posId=pos-0002]
2012-06-26 14:55:47,865 [pool-4-thread-14] [DEBUG] .q.m.l.l.i.LoginManagerImpl - InitResponse() invoke
2012-06-26 14:55:47,865 [pool-4-thread-14] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:ALLOWED
2012-06-26 14:55:47,865 [pool-4-thread-14] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId AND p.ostatus = :ostatus
2012-06-26 14:55:47,865 [pool-4-thread-14] [DEBUG] .q.m.l.l.i.LoginManagerImpl - POS ID:pos-0002, init challenge saved - [107, 100, 53, 53, 105, 111, 109, 117]
2012-06-26 14:55:47,865 [pool-4-thread-14] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 14:55:47,881 [pool-4-thread-14] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 14:55:47,881 [pool-4-thread-14] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 14:55:47,881 [pool-4-thread-14] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 14:55:47,881 [pool-4-thread-14] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 12
2012-06-26 14:55:47,881 [pool-4-thread-14] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (6)
2012-06-26 14:55:47,881 [pool-4-thread-14] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageResponseCodec@f47244
2012-06-26 14:55:47,881 [pool-4-thread-14] [DEBUG] .c.InitMessageResponseCodec - init response message encode
2012-06-26 14:55:47,881 [pool-4-thread-14] [TRACE] .c.InitMessageResponseCodec - InitResponseMessage: [cmdId=6, result=0, challenge=[107, 100, 53, 53, 105, 111, 109, 117]]
2012-06-26 14:55:47,881 [pool-4-thread-14] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0x885c
2012-06-26 14:55:47,881 [pool-4-thread-14] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 14:55:47,881 [pool-4-thread-14] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 88 5C 00 00 00 1E ...........\....
00000010 00 00 00 06 00 00 6B 64 35 35 69 6F 6D 75       ......kd55iomu

2012-06-26 14:55:47,881 [pool-4-thread-14] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 14:55:47,881 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 14:55:47,881 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 14:55:47,881 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 12: not mark to return session ID to client
2012-06-26 14:55:47,881 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 14:55:47,881 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 14:55:47,881 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 14:55:48,100 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:3433, Mina session ID 12, identified POS ID pos-0002
2012-06-26 14:55:48,100 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 FE CA 00 00 00 30 ...............0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 71 1B 02 C8 03 21 4F E8 A9 47 CF DE D1 E8 AB 01 q....!O..G......

2012-06-26 14:55:48,100 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=48 cap=2048: 00 00 00 01 00 00 00 00 00 00 FE CA 00 00 00 30...]
2012-06-26 14:55:48,100 [NioProcessor-1  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 12
2012-06-26 14:55:48,100 [NioProcessor-1  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 14:55:48,100 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 14:55:48,100 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 12
2012-06-26 14:55:48,100 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =48
2012-06-26 14:55:48,100 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 FE CA 00 00 00 30 ...............0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 71 1B 02 C8 03 21 4F E8 A9 47 CF DE D1 E8 AB 01 q....!O..G......

2012-06-26 14:55:48,100 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 48, current position: 0
2012-06-26 14:55:48,100 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 14:55:48,100 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xfeca} messageSize:{0x30} sessionKey:{null}
2012-06-26 14:55:48,100 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 32
2012-06-26 14:55:48,100 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=32, in.remaining=32
2012-06-26 14:55:48,100 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 14:55:48,100 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 7
2012-06-26 14:55:48,100 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 7: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageCodec@f5b4c1
2012-06-26 14:55:48,100 [NioProcessor-1  ] [DEBUG] m.p.s.m.c.LoginMessageCodec - login/bind message decode
2012-06-26 14:55:48,100 [NioProcessor-1  ] [TRACE] m.p.s.m.c.LoginMessageCodec - LoginRequestMessage: [cmdId=7, posId=pos-0002, challengeResponse=[113, 27, 2, -56, 3, 33, 79, -24, -87, 71, -49, -34, -47, -24, -85, 1]]
2012-06-26 14:55:48,100 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 14:55:48,100 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xfeca} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[113, 27, 2, -56, 3, 33, 79, -24, -87, 71, -49, -34, -47, -24, -85, 1]]
2012-06-26 14:55:48,100 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 14:55:48,100 [NioProcessor-1  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 14:55:48,100 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 14:55:48,100 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 14:55:48,100 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 14:55:48,100 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 14:55:48,100 [NioProcessor-1  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:3433, Mina session ID 12, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xfeca} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[113, 27, 2, -56, 3, 33, 79, -24, -87, 71, -49, -34, -47, -24, -85, 1]]
2012-06-26 14:55:48,100 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 14:55:48,100 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 14:55:48,100 [pool-4-thread-15] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 14:55:48,100 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 14:55:48,100 [NioProcessor-1  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 14:55:48,100 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 14:55:48,100 [pool-4-thread-15] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 14:55:48,100 [pool-4-thread-15] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@f2d3d2 obtained for command ID 7
2012-06-26 14:55:48,100 [pool-4-thread-15] [DEBUG] $$EnhancerByGuice$$22e9f5a5 - Handler for command ID 7 is com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@f2d3d2
2012-06-26 14:55:48,100 [pool-4-thread-15] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==bodyMessage=: [cmdId=7, posId=pos-0002, challengeResponse=[113, 27, 2, -56, 3, 33, 79, -24, -87, 71, -49, -34, -47, -24, -85, 1]]
2012-06-26 14:55:48,100 [pool-4-thread-15] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:null
2012-06-26 14:55:48,100 [pool-4-thread-15] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId
2012-06-26 14:55:48,100 [pool-4-thread-15] [TRACE] .q.m.l.l.i.LoginManagerImpl - Loaded from db: pos.posId:pos-0002, pos.secret:000001, oldChallenge:[107, 100, 53, 53, 105, 111, 109, 117]
2012-06-26 14:55:48,100 [pool-4-thread-15] [DEBUG] .q.m.l.l.i.LoginManagerImpl - disableChallengeCheck =0
2012-06-26 14:55:48,100 [pool-4-thread-15] [TRACE] c.c.q.m.l.c.ChallengeUtil   - checking challenge:response:[113, 27, 2, -56, 3, 33, 79, -24, -87, 71, -49, -34, -47, -24, -85, 1], posKey:000001, random:[107, 100, 53, 53, 105, 111, 109, 117]
2012-06-26 14:55:48,100 [pool-4-thread-15] [DEBUG] .q.m.l.l.i.LoginManagerImpl - new challenge for POS (POS ID): [120, 117, 66, 82, 105, 116, 105, 57]
2012-06-26 14:55:48,100 [pool-4-thread-15] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==serverKey=:JXTPOS
2012-06-26 14:55:48,115 [pool-4-thread-15] [DEBUG] ThreadSafeClientConnManager - Get connection: HttpRoute[{}->http://localhost:7070], timeout = 0
2012-06-26 14:55:48,115 [pool-4-thread-15] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - [HttpRoute[{}->http://localhost:7070]] total kept alive: 0, total issued: 0, total allocated: 0 out of 20
2012-06-26 14:55:48,115 [pool-4-thread-15] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - No free connections [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 14:55:48,115 [pool-4-thread-15] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Available capacity: 2 out of 2 [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 14:55:48,115 [pool-4-thread-15] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Creating new connection [HttpRoute[{}->http://localhost:7070]]
2012-06-26 14:55:48,115 [pool-4-thread-15] [DEBUG] ultClientConnectionOperator - Connecting to localhost:7070
2012-06-26 14:55:49,208 [pool-4-thread-15] [DEBUG] i.c.DefaultClientConnection - Connection closed
2012-06-26 14:55:49,208 [pool-4-thread-15] [DEBUG] i.c.DefaultClientConnection - Connection shut down
2012-06-26 14:55:49,208 [pool-4-thread-15] [DEBUG] ThreadSafeClientConnManager - Released connection is not reusable.
2012-06-26 14:55:49,208 [pool-4-thread-15] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Releasing connection [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 14:55:49,208 [pool-4-thread-15] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Notifying no-one, there are no waiting threads
2012-06-26 14:55:49,208 [pool-4-thread-15] [ERROR] q.m.p.h.LoginCommandHandler - initGrouponCache fail:com.chinarewards.qqgbvpn.qqapi.exception.ParseXMLException: com.chinarewards.qqgbvpn.qqapi.exception.SendPostTimeOutException: org.apache.http.conn.HttpHostConnectException: Connection to http://localhost:7070 refused
2012-06-26 14:55:49,239 [pool-4-thread-15] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 14:55:49,255 [pool-4-thread-15] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 14:55:49,255 [pool-4-thread-15] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 14:55:49,255 [pool-4-thread-15] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 14:55:49,255 [pool-4-thread-15] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 12
2012-06-26 14:55:49,255 [pool-4-thread-15] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (8)
2012-06-26 14:55:49,255 [pool-4-thread-15] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageResponseCodec@4b2ca8
2012-06-26 14:55:49,255 [pool-4-thread-15] [DEBUG] c.LoginMessageResponseCodec - login/bind message encode
2012-06-26 14:55:49,255 [pool-4-thread-15] [TRACE] c.LoginMessageResponseCodec - LoginResponseMessage: [cmdId=8, result=0, challenge=[120, 117, 66, 82, 105, 116, 105, 57]]
2012-06-26 14:55:49,255 [pool-4-thread-15] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0x7263
2012-06-26 14:55:49,255 [pool-4-thread-15] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 14:55:49,255 [pool-4-thread-15] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 72 63 00 00 00 1E ..........rc....
00000010 00 00 00 08 00 00 78 75 42 52 69 74 69 39       ......xuBRiti9

2012-06-26 14:55:49,255 [pool-4-thread-15] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 14:55:49,255 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 14:55:49,255 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 14:55:49,255 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 12: not mark to return session ID to client
2012-06-26 14:55:49,255 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 14:55:49,255 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 14:55:49,255 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 14:55:49,255 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:3433, Mina session ID 12, identified POS ID pos-0002
2012-06-26 14:55:49,255 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 28 of 28 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 65 68 00 00 00 1C ..........eh....
00000010 00 00 00 C9 00 06 31 32 33 34 35 36             ......123456

2012-06-26 14:55:49,255 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=28 cap=1024: 00 00 00 10 00 00 00 00 00 00 65 68 00 00 00 1C...]
2012-06-26 14:55:49,255 [NioProcessor-1  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 12
2012-06-26 14:55:49,255 [NioProcessor-1  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 14:55:49,255 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 14:55:49,255 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 12
2012-06-26 14:55:49,255 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =28
2012-06-26 14:55:49,255 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 28 of 28 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 65 68 00 00 00 1C ..........eh....
00000010 00 00 00 C9 00 06 31 32 33 34 35 36             ......123456

2012-06-26 14:55:49,255 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 28, current position: 0
2012-06-26 14:55:49,255 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 14:55:49,255 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0x6568} messageSize:{0x1c} sessionKey:{null}
2012-06-26 14:55:49,255 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 12
2012-06-26 14:55:49,255 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=12, in.remaining=12
2012-06-26 14:55:49,255 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 14:55:49,255 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 201
2012-06-26 14:55:49,255 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 201: com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftMessageCodec@160eeac
2012-06-26 14:55:49,255 [NioProcessor-1  ] [DEBUG] m.c.ReceiveGiftMessageCodec - receive gift request message decode
2012-06-26 14:55:49,255 [NioProcessor-1  ] [DEBUG] m.c.ReceiveGiftMessageCodec - in.remaining()=12
2012-06-26 14:55:49,255 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 14:55:49,255 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0x6568} messageSize:{0x1c} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@d57eb5
2012-06-26 14:55:49,255 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 14:55:49,255 [NioProcessor-1  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 14:55:49,255 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 14:55:49,255 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 14:55:49,255 [NioProcessor-1  ] [DEBUG] c.c.q.m.p.f.LoginFilter     - isLogin=true
2012-06-26 14:55:49,255 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 14:55:49,255 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 14:55:49,255 [NioProcessor-1  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:3433, Mina session ID 12, identified POS ID pos-0002, message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0x6568} messageSize:{0x1c} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@d57eb5
2012-06-26 14:55:49,255 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 14:55:49,255 [pool-4-thread-16] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 14:55:49,255 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 14:55:49,255 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 14:55:49,255 [NioProcessor-1  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 14:55:49,255 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 14:55:49,255 [pool-4-thread-16] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 14:55:49,255 [pool-4-thread-16] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@e18775 obtained for command ID 201
2012-06-26 14:55:49,255 [pool-4-thread-16] [DEBUG] $$EnhancerByGuice$$22e9f5a5 - Handler for command ID 201 is com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@e18775
2012-06-26 14:55:49,255 [Finalizer       ] [DEBUG] ThreadSafeClientConnManager - Shutting down
2012-06-26 14:55:49,255 [pool-4-thread-16] [DEBUG] h.ReceiveGiftCommandHandler - ReceiveGiftHandler======execute==bodyMessage=: com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@d57eb5
2012-06-26 14:55:49,255 [pool-4-thread-16] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 14:55:49,255 [pool-4-thread-16] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 14:55:49,255 [pool-4-thread-16] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 14:55:49,255 [pool-4-thread-16] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 14:55:49,255 [pool-4-thread-16] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 12
2012-06-26 14:55:49,255 [pool-4-thread-16] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (202)
2012-06-26 14:55:49,255 [pool-4-thread-16] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftResponseMessageCodec@1945242
2012-06-26 14:55:49,255 [pool-4-thread-16] [DEBUG] iveGiftResponseMessageCodec - receive gift response message encode
2012-06-26 14:55:49,255 [pool-4-thread-16] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0xab41
2012-06-26 14:55:49,255 [pool-4-thread-16] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 14:55:49,255 [pool-4-thread-16] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 69 of 69 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 AB 41 00 00 00 45 ...........A...E
00000010 00 00 00 CA 00 00 00 02 07 DC 06 1A 0E 37 31 00 .............71.
00000020 FF 01 E0 00 08 C1 EC C8 A1 C0 F1 C6 B7 00 16 31 ...............1
00000030 32 33 34 35 36 0A CE DE D0 A7 0A B0 B4 4F 4B BC 23456........OK.
00000040 FC B7 B5 BB D8                                  .....

2012-06-26 14:55:49,255 [pool-4-thread-16] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 14:55:49,255 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 14:55:49,255 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 14:55:49,255 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 12: not mark to return session ID to client
2012-06-26 14:55:49,255 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 14:55:49,255 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 14:55:49,255 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 14:55:49,286 [NioProcessor-1  ] [INFO ] o.a.m.f.l.LoggingFilter     - CLOSED
2012-06-26 14:55:49,286 [NioProcessor-1  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 14:55:49,458 [NioProcessor-2  ] [INFO ] c.c.q.m.p.f.LoggingFilter   - incoming connection from remote address: 127.0.0.1:3435, Mina session ID: 13
2012-06-26 14:55:49,458 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - Currently managed session count: 1
2012-06-26 14:55:49,458 [NioProcessor-2  ] [INFO ] o.a.m.f.l.LoggingFilter     - CREATED
2012-06-26 14:55:49,458 [NioProcessor-2  ] [INFO ] o.a.m.f.l.LoggingFilter     - OPENED
2012-06-26 14:55:49,614 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:3435, Mina session ID 13, identified POS ID null
2012-06-26 14:55:49,614 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 14:55:49,614 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=32 cap=2048: 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20...]
2012-06-26 14:55:49,614 [NioProcessor-2  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 13
2012-06-26 14:55:49,614 [NioProcessor-2  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 14:55:49,614 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 14:55:49,614 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 13
2012-06-26 14:55:49,614 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =32
2012-06-26 14:55:49,614 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 14:55:49,614 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 32, current position: 0
2012-06-26 14:55:49,614 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 14:55:49,614 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}
2012-06-26 14:55:49,614 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 16
2012-06-26 14:55:49,614 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=16, in.remaining=16
2012-06-26 14:55:49,614 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 14:55:49,614 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 5
2012-06-26 14:55:49,614 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 5: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageCodec@da54d9
2012-06-26 14:55:49,614 [NioProcessor-2  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - init request message decode
2012-06-26 14:55:49,614 [NioProcessor-2  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - in.remaining()=16
2012-06-26 14:55:49,614 [NioProcessor-2  ] [TRACE] .m.p.s.m.c.InitMessageCodec - InitRequestMessage: [cmdId=5, posId=pos-0002]
2012-06-26 14:55:49,614 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 14:55:49,614 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 14:55:49,614 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 14:55:49,614 [NioProcessor-2  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 14:55:49,614 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 14:55:49,614 [NioProcessor-2  ] [DEBUG] p.f.SessionKeyMessageFilter - Mina session ID 13: created session key 78020fc674814122a063de33af0c5191
2012-06-26 14:55:49,614 [NioProcessor-2  ] [DEBUG] p.f.SessionKeyMessageFilter - creating session for mina session ID 13 using session ID 78020fc674814122a063de33af0c5191
2012-06-26 14:55:49,614 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 14:55:49,614 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 14:55:49,614 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 14:55:49,614 [NioProcessor-2  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:3435, Mina session ID 13, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 14:55:49,614 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 14:55:49,614 [pool-4-thread-17] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 14:55:49,614 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 14:55:49,614 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 14:55:49,614 [NioProcessor-2  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 14:55:49,614 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 14:55:49,614 [pool-4-thread-17] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 14:55:49,614 [pool-4-thread-17] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@137b99f obtained for command ID 5
2012-06-26 14:55:49,614 [pool-4-thread-17] [DEBUG] $$EnhancerByGuice$$22e9f5a5 - Handler for command ID 5 is com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@137b99f
2012-06-26 14:55:49,614 [pool-4-thread-17] [DEBUG] .q.m.p.h.InitCommandHandler - InitCommandHandler======execute==bodyMessage=:  [cmdId=5, posId=pos-0002]
2012-06-26 14:55:49,614 [pool-4-thread-17] [DEBUG] .q.m.l.l.i.LoginManagerImpl - InitResponse() invoke
2012-06-26 14:55:49,614 [pool-4-thread-17] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:ALLOWED
2012-06-26 14:55:49,614 [pool-4-thread-17] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId AND p.ostatus = :ostatus
2012-06-26 14:55:49,614 [pool-4-thread-17] [DEBUG] .q.m.l.l.i.LoginManagerImpl - POS ID:pos-0002, init challenge saved - [52, 111, 52, 113, 99, 113, 101, 70]
2012-06-26 14:55:49,614 [pool-4-thread-17] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 14:55:49,708 [pool-4-thread-17] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 14:55:49,708 [pool-4-thread-17] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 14:55:49,708 [pool-4-thread-17] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 14:55:49,708 [pool-4-thread-17] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 13
2012-06-26 14:55:49,708 [pool-4-thread-17] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (6)
2012-06-26 14:55:49,708 [pool-4-thread-17] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageResponseCodec@1a2697f
2012-06-26 14:55:49,708 [pool-4-thread-17] [DEBUG] .c.InitMessageResponseCodec - init response message encode
2012-06-26 14:55:49,708 [pool-4-thread-17] [TRACE] .c.InitMessageResponseCodec - InitResponseMessage: [cmdId=6, result=0, challenge=[52, 111, 52, 113, 99, 113, 101, 70]]
2012-06-26 14:55:49,708 [pool-4-thread-17] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0xce42
2012-06-26 14:55:49,708 [pool-4-thread-17] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 14:55:49,708 [pool-4-thread-17] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 CE 42 00 00 00 1E ...........B....
00000010 00 00 00 06 00 00 34 6F 34 71 63 71 65 46       ......4o4qcqeF

2012-06-26 14:55:49,708 [pool-4-thread-17] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 14:55:49,708 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 14:55:49,708 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 14:55:49,708 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 13: not mark to return session ID to client
2012-06-26 14:55:49,708 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 14:55:49,708 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 14:55:49,708 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 14:55:49,708 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:3435, Mina session ID 13, identified POS ID pos-0002
2012-06-26 14:55:49,708 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 DB CA 00 00 00 30 ...............0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 71 6F A7 7B C3 F6 B2 28 F4 50 E2 05 09 A6 70 F6 qo.{...(.P....p.

2012-06-26 14:55:49,708 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=48 cap=2048: 00 00 00 01 00 00 00 00 00 00 DB CA 00 00 00 30...]
2012-06-26 14:55:49,708 [NioProcessor-2  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 13
2012-06-26 14:55:49,708 [NioProcessor-2  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 14:55:49,708 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 14:55:49,708 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 13
2012-06-26 14:55:49,708 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =48
2012-06-26 14:55:49,708 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 DB CA 00 00 00 30 ...............0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 71 6F A7 7B C3 F6 B2 28 F4 50 E2 05 09 A6 70 F6 qo.{...(.P....p.

2012-06-26 14:55:49,708 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 48, current position: 0
2012-06-26 14:55:49,708 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 14:55:49,708 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xdbca} messageSize:{0x30} sessionKey:{null}
2012-06-26 14:55:49,708 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 32
2012-06-26 14:55:49,708 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=32, in.remaining=32
2012-06-26 14:55:49,708 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 14:55:49,708 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 7
2012-06-26 14:55:49,708 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 7: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageCodec@1554b15
2012-06-26 14:55:49,708 [NioProcessor-2  ] [DEBUG] m.p.s.m.c.LoginMessageCodec - login/bind message decode
2012-06-26 14:55:49,708 [NioProcessor-2  ] [TRACE] m.p.s.m.c.LoginMessageCodec - LoginRequestMessage: [cmdId=7, posId=pos-0002, challengeResponse=[113, 111, -89, 123, -61, -10, -78, 40, -12, 80, -30, 5, 9, -90, 112, -10]]
2012-06-26 14:55:49,708 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 14:55:49,708 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xdbca} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[113, 111, -89, 123, -61, -10, -78, 40, -12, 80, -30, 5, 9, -90, 112, -10]]
2012-06-26 14:55:49,708 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 14:55:49,708 [NioProcessor-2  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 14:55:49,708 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 14:55:49,708 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 14:55:49,708 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 14:55:49,708 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 14:55:49,708 [NioProcessor-2  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:3435, Mina session ID 13, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xdbca} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[113, 111, -89, 123, -61, -10, -78, 40, -12, 80, -30, 5, 9, -90, 112, -10]]
2012-06-26 14:55:49,708 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 14:55:49,708 [pool-4-thread-18] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 14:55:49,708 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 14:55:49,708 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 14:55:49,708 [NioProcessor-2  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 14:55:49,708 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 14:55:49,708 [pool-4-thread-18] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 14:55:49,708 [pool-4-thread-18] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@1d6bfe9 obtained for command ID 7
2012-06-26 14:55:49,708 [pool-4-thread-18] [DEBUG] $$EnhancerByGuice$$22e9f5a5 - Handler for command ID 7 is com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@1d6bfe9
2012-06-26 14:55:49,708 [pool-4-thread-18] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==bodyMessage=: [cmdId=7, posId=pos-0002, challengeResponse=[113, 111, -89, 123, -61, -10, -78, 40, -12, 80, -30, 5, 9, -90, 112, -10]]
2012-06-26 14:55:49,708 [pool-4-thread-18] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:null
2012-06-26 14:55:49,708 [pool-4-thread-18] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId
2012-06-26 14:55:49,708 [pool-4-thread-18] [TRACE] .q.m.l.l.i.LoginManagerImpl - Loaded from db: pos.posId:pos-0002, pos.secret:000001, oldChallenge:[52, 111, 52, 113, 99, 113, 101, 70]
2012-06-26 14:55:49,708 [pool-4-thread-18] [DEBUG] .q.m.l.l.i.LoginManagerImpl - disableChallengeCheck =0
2012-06-26 14:55:49,708 [pool-4-thread-18] [TRACE] c.c.q.m.l.c.ChallengeUtil   - checking challenge:response:[113, 111, -89, 123, -61, -10, -78, 40, -12, 80, -30, 5, 9, -90, 112, -10], posKey:000001, random:[52, 111, 52, 113, 99, 113, 101, 70]
2012-06-26 14:55:49,708 [pool-4-thread-18] [DEBUG] .q.m.l.l.i.LoginManagerImpl - new challenge for POS (POS ID): [77, 73, 113, 84, 74, 114, 102, 115]
2012-06-26 14:55:49,708 [pool-4-thread-18] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==serverKey=:JXTPOS
2012-06-26 14:55:49,724 [pool-4-thread-18] [DEBUG] ThreadSafeClientConnManager - Get connection: HttpRoute[{}->http://localhost:7070], timeout = 0
2012-06-26 14:55:49,724 [pool-4-thread-18] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - [HttpRoute[{}->http://localhost:7070]] total kept alive: 0, total issued: 0, total allocated: 0 out of 20
2012-06-26 14:55:49,724 [pool-4-thread-18] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - No free connections [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 14:55:49,724 [pool-4-thread-18] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Available capacity: 2 out of 2 [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 14:55:49,724 [pool-4-thread-18] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Creating new connection [HttpRoute[{}->http://localhost:7070]]
2012-06-26 14:55:49,724 [pool-4-thread-18] [DEBUG] ultClientConnectionOperator - Connecting to localhost:7070
2012-06-26 14:55:50,723 [pool-4-thread-18] [DEBUG] i.c.DefaultClientConnection - Connection closed
2012-06-26 14:55:50,723 [pool-4-thread-18] [DEBUG] i.c.DefaultClientConnection - Connection shut down
2012-06-26 14:55:50,723 [pool-4-thread-18] [DEBUG] ThreadSafeClientConnManager - Released connection is not reusable.
2012-06-26 14:55:50,723 [pool-4-thread-18] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Releasing connection [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 14:55:50,723 [pool-4-thread-18] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Notifying no-one, there are no waiting threads
2012-06-26 14:55:50,723 [pool-4-thread-18] [ERROR] q.m.p.h.LoginCommandHandler - initGrouponCache fail:com.chinarewards.qqgbvpn.qqapi.exception.ParseXMLException: com.chinarewards.qqgbvpn.qqapi.exception.SendPostTimeOutException: org.apache.http.conn.HttpHostConnectException: Connection to http://localhost:7070 refused
2012-06-26 14:55:50,723 [pool-4-thread-18] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 14:55:50,754 [pool-4-thread-18] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 14:55:50,754 [pool-4-thread-18] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 14:55:50,754 [pool-4-thread-18] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 14:55:50,754 [pool-4-thread-18] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 13
2012-06-26 14:55:50,754 [pool-4-thread-18] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (8)
2012-06-26 14:55:50,754 [pool-4-thread-18] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageResponseCodec@19310d4
2012-06-26 14:55:50,754 [pool-4-thread-18] [DEBUG] c.LoginMessageResponseCodec - login/bind message encode
2012-06-26 14:55:50,754 [pool-4-thread-18] [TRACE] c.LoginMessageResponseCodec - LoginResponseMessage: [cmdId=8, result=0, challenge=[77, 73, 113, 84, 74, 114, 102, 115]]
2012-06-26 14:55:50,754 [pool-4-thread-18] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0x9055
2012-06-26 14:55:50,754 [pool-4-thread-18] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 14:55:50,754 [pool-4-thread-18] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 90 55 00 00 00 1E ...........U....
00000010 00 00 00 08 00 00 4D 49 71 54 4A 72 66 73       ......MIqTJrfs

2012-06-26 14:55:50,754 [pool-4-thread-18] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 14:55:50,754 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 14:55:50,754 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 14:55:50,754 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 13: not mark to return session ID to client
2012-06-26 14:55:50,754 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 14:55:50,754 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 14:55:50,754 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 14:55:50,754 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:3435, Mina session ID 13, identified POS ID pos-0002
2012-06-26 14:55:50,754 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 33 of 33 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 D8 04 00 00 00 21 ...............!
00000010 00 00 00 C9 00 0B 31 31 31 31 31 31 31 31 31 31 ......1111111111
00000020 31                                              1

2012-06-26 14:55:50,754 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=33 cap=1024: 00 00 00 10 00 00 00 00 00 00 D8 04 00 00 00 21...]
2012-06-26 14:55:50,754 [NioProcessor-2  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 13
2012-06-26 14:55:50,754 [NioProcessor-2  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 14:55:50,754 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 14:55:50,754 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 13
2012-06-26 14:55:50,754 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =33
2012-06-26 14:55:50,754 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 33 of 33 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 D8 04 00 00 00 21 ...............!
00000010 00 00 00 C9 00 0B 31 31 31 31 31 31 31 31 31 31 ......1111111111
00000020 31                                              1

2012-06-26 14:55:50,754 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 33, current position: 0
2012-06-26 14:55:50,754 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 14:55:50,754 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd804} messageSize:{0x21} sessionKey:{null}
2012-06-26 14:55:50,754 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 17
2012-06-26 14:55:50,754 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=17, in.remaining=17
2012-06-26 14:55:50,754 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 14:55:50,754 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 201
2012-06-26 14:55:50,754 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 201: com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftMessageCodec@35ecda
2012-06-26 14:55:50,754 [NioProcessor-2  ] [DEBUG] m.c.ReceiveGiftMessageCodec - receive gift request message decode
2012-06-26 14:55:50,754 [NioProcessor-2  ] [DEBUG] m.c.ReceiveGiftMessageCodec - in.remaining()=17
2012-06-26 14:55:50,754 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 14:55:50,754 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd804} messageSize:{0x21} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@50f6fd
2012-06-26 14:55:50,754 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 14:55:50,754 [NioProcessor-2  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 14:55:50,754 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 14:55:50,754 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 14:55:50,754 [NioProcessor-2  ] [DEBUG] c.c.q.m.p.f.LoginFilter     - isLogin=true
2012-06-26 14:55:50,754 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 14:55:50,754 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 14:55:50,754 [NioProcessor-2  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:3435, Mina session ID 13, identified POS ID pos-0002, message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd804} messageSize:{0x21} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@50f6fd
2012-06-26 14:55:50,754 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 14:55:50,754 [pool-4-thread-19] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 14:55:50,754 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 14:55:50,754 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 14:55:50,754 [NioProcessor-2  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 14:55:50,754 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 14:55:50,754 [pool-4-thread-19] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 14:55:50,754 [pool-4-thread-19] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@5d45e4 obtained for command ID 201
2012-06-26 14:55:50,754 [pool-4-thread-19] [DEBUG] $$EnhancerByGuice$$22e9f5a5 - Handler for command ID 201 is com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@5d45e4
2012-06-26 14:55:50,770 [pool-4-thread-19] [DEBUG] h.ReceiveGiftCommandHandler - ReceiveGiftHandler======execute==bodyMessage=: com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@50f6fd
2012-06-26 14:55:50,770 [pool-4-thread-19] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 14:55:50,770 [pool-4-thread-19] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 14:55:50,770 [pool-4-thread-19] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 14:55:50,770 [pool-4-thread-19] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 14:55:50,770 [pool-4-thread-19] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 13
2012-06-26 14:55:50,770 [pool-4-thread-19] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (202)
2012-06-26 14:55:50,770 [pool-4-thread-19] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftResponseMessageCodec@1509610
2012-06-26 14:55:50,770 [pool-4-thread-19] [DEBUG] iveGiftResponseMessageCodec - receive gift response message encode
2012-06-26 14:55:50,770 [pool-4-thread-19] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0x82ac
2012-06-26 14:55:50,770 [pool-4-thread-19] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 14:55:50,770 [Finalizer       ] [DEBUG] ThreadSafeClientConnManager - Shutting down
2012-06-26 14:55:50,770 [pool-4-thread-19] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 55 of 55 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 82 AC 00 00 00 37 ...............7
00000010 00 00 00 CA 00 00 00 00 07 DC 06 1A 0E 37 32 03 .............72.
00000020 02 01 E0 00 08 C1 EC C8 A1 C0 F1 C6 B7 00 08 BD ................
00000030 BB D2 D7 B3 C9 B9 A6                            .......

2012-06-26 14:55:50,770 [pool-4-thread-19] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 14:55:50,770 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 14:55:50,770 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 14:55:50,770 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 13: not mark to return session ID to client
2012-06-26 14:55:50,770 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 14:55:50,770 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 14:55:50,770 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 14:55:50,770 [NioProcessor-2  ] [INFO ] o.a.m.f.l.LoggingFilter     - CLOSED
2012-06-26 14:55:50,770 [NioProcessor-2  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 14:55:51,051 [NioProcessor-3  ] [INFO ] c.c.q.m.p.f.LoggingFilter   - incoming connection from remote address: 127.0.0.1:3437, Mina session ID: 14
2012-06-26 14:55:51,051 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - Currently managed session count: 1
2012-06-26 14:55:51,051 [NioProcessor-3  ] [INFO ] o.a.m.f.l.LoggingFilter     - CREATED
2012-06-26 14:55:51,051 [NioProcessor-3  ] [INFO ] o.a.m.f.l.LoggingFilter     - OPENED
2012-06-26 14:55:51,051 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:3437, Mina session ID 14, identified POS ID null
2012-06-26 14:55:51,051 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 14:55:51,051 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=32 cap=2048: 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20...]
2012-06-26 14:55:51,051 [NioProcessor-3  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 14
2012-06-26 14:55:51,051 [NioProcessor-3  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 14:55:51,051 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 14:55:51,051 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 14
2012-06-26 14:55:51,051 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =32
2012-06-26 14:55:51,051 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 14:55:51,051 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 32, current position: 0
2012-06-26 14:55:51,051 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 14:55:51,051 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}
2012-06-26 14:55:51,051 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 16
2012-06-26 14:55:51,051 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=16, in.remaining=16
2012-06-26 14:55:51,051 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 14:55:51,051 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 5
2012-06-26 14:55:51,051 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 5: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageCodec@188fe00
2012-06-26 14:55:51,051 [NioProcessor-3  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - init request message decode
2012-06-26 14:55:51,051 [NioProcessor-3  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - in.remaining()=16
2012-06-26 14:55:51,051 [NioProcessor-3  ] [TRACE] .m.p.s.m.c.InitMessageCodec - InitRequestMessage: [cmdId=5, posId=pos-0002]
2012-06-26 14:55:51,051 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 14:55:51,051 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 14:55:51,051 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 14:55:51,051 [NioProcessor-3  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 14:55:51,051 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 14:55:51,051 [NioProcessor-3  ] [DEBUG] p.f.SessionKeyMessageFilter - Mina session ID 14: created session key 22701682d04a45cdbfb957bb4c529846
2012-06-26 14:55:51,051 [NioProcessor-3  ] [DEBUG] p.f.SessionKeyMessageFilter - creating session for mina session ID 14 using session ID 22701682d04a45cdbfb957bb4c529846
2012-06-26 14:55:51,051 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 14:55:51,051 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 14:55:51,051 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 14:55:51,051 [NioProcessor-3  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:3437, Mina session ID 14, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 14:55:51,051 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 14:55:51,051 [pool-4-thread-20] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 14:55:51,051 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 14:55:51,051 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 14:55:51,051 [NioProcessor-3  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 14:55:51,051 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 14:55:51,051 [pool-4-thread-20] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 14:55:51,051 [pool-4-thread-20] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@5052ce obtained for command ID 5
2012-06-26 14:55:51,051 [pool-4-thread-20] [DEBUG] $$EnhancerByGuice$$22e9f5a5 - Handler for command ID 5 is com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@5052ce
2012-06-26 14:55:51,051 [pool-4-thread-20] [DEBUG] .q.m.p.h.InitCommandHandler - InitCommandHandler======execute==bodyMessage=:  [cmdId=5, posId=pos-0002]
2012-06-26 14:55:51,051 [pool-4-thread-20] [DEBUG] .q.m.l.l.i.LoginManagerImpl - InitResponse() invoke
2012-06-26 14:55:51,051 [pool-4-thread-20] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:ALLOWED
2012-06-26 14:55:51,051 [pool-4-thread-20] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId AND p.ostatus = :ostatus
2012-06-26 14:55:51,051 [pool-4-thread-20] [DEBUG] .q.m.l.l.i.LoginManagerImpl - POS ID:pos-0002, init challenge saved - [53, 83, 97, 84, 66, 50, 90, 86]
2012-06-26 14:55:51,051 [pool-4-thread-20] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 14:55:51,082 [pool-4-thread-20] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 14:55:51,082 [pool-4-thread-20] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 14:55:51,082 [pool-4-thread-20] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 14:55:51,082 [pool-4-thread-20] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 14
2012-06-26 14:55:51,082 [pool-4-thread-20] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (6)
2012-06-26 14:55:51,082 [pool-4-thread-20] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageResponseCodec@1029bef
2012-06-26 14:55:51,082 [pool-4-thread-20] [DEBUG] .c.InitMessageResponseCodec - init response message encode
2012-06-26 14:55:51,082 [pool-4-thread-20] [TRACE] .c.InitMessageResponseCodec - InitResponseMessage: [cmdId=6, result=0, challenge=[53, 83, 97, 84, 66, 50, 90, 86]]
2012-06-26 14:55:51,082 [pool-4-thread-20] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0xccaa
2012-06-26 14:55:51,082 [pool-4-thread-20] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 14:55:51,082 [pool-4-thread-20] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 CC AA 00 00 00 1E ................
00000010 00 00 00 06 00 00 35 53 61 54 42 32 5A 56       ......5SaTB2ZV

2012-06-26 14:55:51,082 [pool-4-thread-20] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 14:55:51,082 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 14:55:51,082 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 14:55:51,082 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 14: not mark to return session ID to client
2012-06-26 14:55:51,082 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 14:55:51,082 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 14:55:51,082 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 14:55:51,082 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:3437, Mina session ID 14, identified POS ID pos-0002
2012-06-26 14:55:51,082 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 AF DE 00 00 00 30 ...............0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 E6 74 BC A1 FB F8 46 34 42 22 77 97 91 8D DB 5E .t....F4B"w....^

2012-06-26 14:55:51,082 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=48 cap=2048: 00 00 00 01 00 00 00 00 00 00 AF DE 00 00 00 30...]
2012-06-26 14:55:51,082 [NioProcessor-3  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 14
2012-06-26 14:55:51,082 [NioProcessor-3  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 14:55:51,082 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 14:55:51,082 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 14
2012-06-26 14:55:51,082 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =48
2012-06-26 14:55:51,082 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 AF DE 00 00 00 30 ...............0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 E6 74 BC A1 FB F8 46 34 42 22 77 97 91 8D DB 5E .t....F4B"w....^

2012-06-26 14:55:51,082 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 48, current position: 0
2012-06-26 14:55:51,082 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 14:55:51,082 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xafde} messageSize:{0x30} sessionKey:{null}
2012-06-26 14:55:51,082 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 32
2012-06-26 14:55:51,082 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=32, in.remaining=32
2012-06-26 14:55:51,082 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 14:55:51,082 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 7
2012-06-26 14:55:51,082 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 7: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageCodec@7dcd92
2012-06-26 14:55:51,082 [NioProcessor-3  ] [DEBUG] m.p.s.m.c.LoginMessageCodec - login/bind message decode
2012-06-26 14:55:51,082 [NioProcessor-3  ] [TRACE] m.p.s.m.c.LoginMessageCodec - LoginRequestMessage: [cmdId=7, posId=pos-0002, challengeResponse=[-26, 116, -68, -95, -5, -8, 70, 52, 66, 34, 119, -105, -111, -115, -37, 94]]
2012-06-26 14:55:51,082 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 14:55:51,082 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xafde} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[-26, 116, -68, -95, -5, -8, 70, 52, 66, 34, 119, -105, -111, -115, -37, 94]]
2012-06-26 14:55:51,082 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 14:55:51,082 [NioProcessor-3  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 14:55:51,082 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 14:55:51,082 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 14:55:51,082 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 14:55:51,082 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 14:55:51,082 [NioProcessor-3  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:3437, Mina session ID 14, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xafde} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[-26, 116, -68, -95, -5, -8, 70, 52, 66, 34, 119, -105, -111, -115, -37, 94]]
2012-06-26 14:55:51,082 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 14:55:51,082 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 14:55:51,082 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 14:55:51,082 [pool-4-thread-1 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 14:55:51,082 [NioProcessor-3  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 14:55:51,082 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 14:55:51,082 [pool-4-thread-1 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 14:55:51,082 [pool-4-thread-1 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@e841c obtained for command ID 7
2012-06-26 14:55:51,082 [pool-4-thread-1 ] [DEBUG] $$EnhancerByGuice$$22e9f5a5 - Handler for command ID 7 is com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@e841c
2012-06-26 14:55:51,082 [pool-4-thread-1 ] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==bodyMessage=: [cmdId=7, posId=pos-0002, challengeResponse=[-26, 116, -68, -95, -5, -8, 70, 52, 66, 34, 119, -105, -111, -115, -37, 94]]
2012-06-26 14:55:51,082 [pool-4-thread-1 ] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:null
2012-06-26 14:55:51,082 [pool-4-thread-1 ] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId
2012-06-26 14:55:51,082 [pool-4-thread-1 ] [TRACE] .q.m.l.l.i.LoginManagerImpl - Loaded from db: pos.posId:pos-0002, pos.secret:000001, oldChallenge:[53, 83, 97, 84, 66, 50, 90, 86]
2012-06-26 14:55:51,082 [pool-4-thread-1 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - disableChallengeCheck =0
2012-06-26 14:55:51,082 [pool-4-thread-1 ] [TRACE] c.c.q.m.l.c.ChallengeUtil   - checking challenge:response:[-26, 116, -68, -95, -5, -8, 70, 52, 66, 34, 119, -105, -111, -115, -37, 94], posKey:000001, random:[53, 83, 97, 84, 66, 50, 90, 86]
2012-06-26 14:55:51,082 [pool-4-thread-1 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - new challenge for POS (POS ID): [115, 55, 73, 105, 112, 89, 112, 80]
2012-06-26 14:55:51,082 [pool-4-thread-1 ] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==serverKey=:JXTPOS
2012-06-26 14:55:51,098 [pool-4-thread-1 ] [DEBUG] ThreadSafeClientConnManager - Get connection: HttpRoute[{}->http://localhost:7070], timeout = 0
2012-06-26 14:55:51,098 [pool-4-thread-1 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - [HttpRoute[{}->http://localhost:7070]] total kept alive: 0, total issued: 0, total allocated: 0 out of 20
2012-06-26 14:55:51,098 [pool-4-thread-1 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - No free connections [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 14:55:51,098 [pool-4-thread-1 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Available capacity: 2 out of 2 [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 14:55:51,098 [pool-4-thread-1 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Creating new connection [HttpRoute[{}->http://localhost:7070]]
2012-06-26 14:55:51,098 [pool-4-thread-1 ] [DEBUG] ultClientConnectionOperator - Connecting to localhost:7070
2012-06-26 14:55:51,348 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:55:51,348 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:55:51,348 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=12
2012-06-26 14:55:51,348 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=12
2012-06-26 14:55:51,348 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:55:52,050 [pool-4-thread-1 ] [DEBUG] i.c.DefaultClientConnection - Connection closed
2012-06-26 14:55:52,050 [pool-4-thread-1 ] [DEBUG] i.c.DefaultClientConnection - Connection shut down
2012-06-26 14:55:52,050 [pool-4-thread-1 ] [DEBUG] ThreadSafeClientConnManager - Released connection is not reusable.
2012-06-26 14:55:52,050 [pool-4-thread-1 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Releasing connection [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 14:55:52,050 [pool-4-thread-1 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Notifying no-one, there are no waiting threads
2012-06-26 14:55:52,050 [pool-4-thread-1 ] [ERROR] q.m.p.h.LoginCommandHandler - initGrouponCache fail:com.chinarewards.qqgbvpn.qqapi.exception.ParseXMLException: com.chinarewards.qqgbvpn.qqapi.exception.SendPostTimeOutException: org.apache.http.conn.HttpHostConnectException: Connection to http://localhost:7070 refused
2012-06-26 14:55:52,050 [pool-4-thread-1 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 14:55:52,081 [pool-4-thread-1 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 14:55:52,081 [pool-4-thread-1 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 14:55:52,081 [pool-4-thread-1 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 14:55:52,081 [pool-4-thread-1 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 14
2012-06-26 14:55:52,081 [pool-4-thread-1 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (8)
2012-06-26 14:55:52,081 [pool-4-thread-1 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageResponseCodec@1b7718e
2012-06-26 14:55:52,081 [pool-4-thread-1 ] [DEBUG] c.LoginMessageResponseCodec - login/bind message encode
2012-06-26 14:55:52,081 [pool-4-thread-1 ] [TRACE] c.LoginMessageResponseCodec - LoginResponseMessage: [cmdId=8, result=0, challenge=[115, 55, 73, 105, 112, 89, 112, 80]]
2012-06-26 14:55:52,081 [pool-4-thread-1 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0x628e
2012-06-26 14:55:52,081 [pool-4-thread-1 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 14:55:52,081 [pool-4-thread-1 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 62 8E 00 00 00 1E ..........b.....
00000010 00 00 00 08 00 00 73 37 49 69 70 59 70 50       ......s7IipYpP

2012-06-26 14:55:52,081 [pool-4-thread-1 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 14:55:52,081 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 14:55:52,081 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 14:55:52,081 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 14: not mark to return session ID to client
2012-06-26 14:55:52,081 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 14:55:52,081 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 14:55:52,081 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 14:55:52,081 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:3437, Mina session ID 14, identified POS ID pos-0002
2012-06-26 14:55:52,081 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 33 of 33 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 D1 FF 00 00 00 21 ...............!
00000010 00 00 00 C9 00 0B 32 32 32 32 32 32 32 32 32 32 ......2222222222
00000020 32                                              2

2012-06-26 14:55:52,081 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=33 cap=1024: 00 00 00 10 00 00 00 00 00 00 D1 FF 00 00 00 21...]
2012-06-26 14:55:52,081 [NioProcessor-3  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 14
2012-06-26 14:55:52,081 [NioProcessor-3  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 14:55:52,081 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 14:55:52,081 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 14
2012-06-26 14:55:52,081 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =33
2012-06-26 14:55:52,081 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 33 of 33 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 D1 FF 00 00 00 21 ...............!
00000010 00 00 00 C9 00 0B 32 32 32 32 32 32 32 32 32 32 ......2222222222
00000020 32                                              2

2012-06-26 14:55:52,081 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 33, current position: 0
2012-06-26 14:55:52,081 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 14:55:52,081 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd1ff} messageSize:{0x21} sessionKey:{null}
2012-06-26 14:55:52,081 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 17
2012-06-26 14:55:52,081 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=17, in.remaining=17
2012-06-26 14:55:52,081 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 14:55:52,081 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 201
2012-06-26 14:55:52,081 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 201: com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftMessageCodec@805aee
2012-06-26 14:55:52,081 [NioProcessor-3  ] [DEBUG] m.c.ReceiveGiftMessageCodec - receive gift request message decode
2012-06-26 14:55:52,081 [NioProcessor-3  ] [DEBUG] m.c.ReceiveGiftMessageCodec - in.remaining()=17
2012-06-26 14:55:52,081 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 14:55:52,081 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd1ff} messageSize:{0x21} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@d1fb03
2012-06-26 14:55:52,081 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 14:55:52,081 [NioProcessor-3  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 14:55:52,081 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 14:55:52,081 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 14:55:52,081 [NioProcessor-3  ] [DEBUG] c.c.q.m.p.f.LoginFilter     - isLogin=true
2012-06-26 14:55:52,081 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 14:55:52,081 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 14:55:52,081 [NioProcessor-3  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:3437, Mina session ID 14, identified POS ID pos-0002, message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd1ff} messageSize:{0x21} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@d1fb03
2012-06-26 14:55:52,081 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 14:55:52,081 [pool-4-thread-2 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 14:55:52,081 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 14:55:52,081 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 14:55:52,081 [NioProcessor-3  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 14:55:52,081 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 14:55:52,081 [pool-4-thread-2 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 14:55:52,081 [pool-4-thread-2 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@cc06f9 obtained for command ID 201
2012-06-26 14:55:52,081 [pool-4-thread-2 ] [DEBUG] $$EnhancerByGuice$$22e9f5a5 - Handler for command ID 201 is com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@cc06f9
2012-06-26 14:55:52,081 [pool-4-thread-2 ] [DEBUG] h.ReceiveGiftCommandHandler - ReceiveGiftHandler======execute==bodyMessage=: com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@d1fb03
2012-06-26 14:55:52,081 [pool-4-thread-2 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 14:55:52,081 [pool-4-thread-2 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 14:55:52,081 [pool-4-thread-2 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 14:55:52,081 [pool-4-thread-2 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 14:55:52,081 [pool-4-thread-2 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 14
2012-06-26 14:55:52,081 [pool-4-thread-2 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (202)
2012-06-26 14:55:52,081 [pool-4-thread-2 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftResponseMessageCodec@96abc9
2012-06-26 14:55:52,081 [pool-4-thread-2 ] [DEBUG] iveGiftResponseMessageCodec - receive gift response message encode
2012-06-26 14:55:52,081 [pool-4-thread-2 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0xd794
2012-06-26 14:55:52,081 [pool-4-thread-2 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 14:55:52,081 [pool-4-thread-2 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 55 of 55 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 D7 94 00 00 00 37 ...............7
00000010 00 00 00 CA 00 00 00 01 07 DC 06 1A 0E 37 34 00 .............74.
00000020 51 01 E0 00 08 C1 EC C8 A1 C0 F1 C6 B7 00 08 D2 Q...............
00000030 D1 C1 EC C8 A1 B9 FD                            .......

2012-06-26 14:55:52,081 [pool-4-thread-2 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 14:55:52,081 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 14:55:52,081 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 14:55:52,081 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 14: not mark to return session ID to client
2012-06-26 14:55:52,081 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 14:55:52,081 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 14:55:52,081 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 14:55:52,081 [NioProcessor-3  ] [INFO ] o.a.m.f.l.LoggingFilter     - CLOSED
2012-06-26 14:55:52,081 [NioProcessor-3  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 14:56:01,373 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:56:01,373 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:56:01,373 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=12
2012-06-26 14:56:01,373 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=12
2012-06-26 14:56:01,373 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:56:01,373 [Finalizer       ] [DEBUG] ThreadSafeClientConnManager - Shutting down
2012-06-26 14:56:11,367 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:56:11,367 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:56:11,367 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=12
2012-06-26 14:56:11,367 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=12
2012-06-26 14:56:11,367 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:56:21,376 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:56:21,376 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:56:21,376 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=12
2012-06-26 14:56:21,376 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=12
2012-06-26 14:56:21,376 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:56:31,370 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:56:31,370 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:56:31,370 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=12
2012-06-26 14:56:31,370 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=12
2012-06-26 14:56:31,370 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:56:43,019 [main            ] [INFO ] c.c.q.m.BootStrap           - Home directory: D:\posnetv2
2012-06-26 14:56:43,019 [main            ] [DEBUG] c.c.q.c.ConfigReader        - Home directory is set to D:\posnetv2
2012-06-26 14:56:43,019 [main            ] [DEBUG] c.c.q.c.ConfigReader        - Configuration subdirectory is set to conf
2012-06-26 14:56:43,019 [main            ] [DEBUG] c.c.q.c.ConfigReader        - Configuration directory is set to D:\posnetv2\conf
2012-06-26 14:56:43,019 [main            ] [DEBUG] c.c.q.c.ConfigReader        - Config file: D:\posnetv2\conf\posnet.ini
2012-06-26 14:56:43,019 [main            ] [DEBUG] c.c.q.c.ConfigReader        - Reading configuration file D:\posnetv2\conf\posnet.ini
2012-06-26 14:56:43,019 [main            ] [DEBUG] c.c.q.c.ConfigReader        - - D:\posnetv2\conf\posnet.ini is an .ini file, load using PropertiesConfiguration.
2012-06-26 14:56:43,051 [main            ] [DEBUG] c.c.PropertiesConfiguration - FileName set to posnet.ini
2012-06-26 14:56:43,051 [main            ] [DEBUG] c.c.PropertiesConfiguration - Base path set to D:\posnetv2\conf
2012-06-26 14:56:43,066 [main            ] [DEBUG] o.a.c.c.ConfigurationUtils  - ConfigurationUtils.locate(): base is D:\posnetv2\conf, name is posnet.ini
2012-06-26 14:56:43,066 [main            ] [DEBUG] o.a.c.c.DefaultFileSystem   - Could not locate file posnet.ini at D:\posnetv2\conf: unknown protocol: d
2012-06-26 14:56:43,066 [main            ] [DEBUG] o.a.c.c.ConfigurationUtils  - Loading configuration from the path D:\posnetv2\conf\posnet.ini
2012-06-26 14:56:43,097 [main            ] [DEBUG] o.a.c.c.ConfigurationUtils  - ConfigurationUtils.locate(): base is D:\posnetv2\conf, name is dispatcher.ini
2012-06-26 14:56:43,097 [main            ] [DEBUG] o.a.c.c.DefaultFileSystem   - Could not locate file dispatcher.ini at D:\posnetv2\conf: unknown protocol: d
2012-06-26 14:56:43,097 [main            ] [DEBUG] o.a.c.c.ConfigurationUtils  - Loading configuration from the path D:\posnetv2\conf\dispatcher.ini
2012-06-26 14:56:43,097 [main            ] [DEBUG] c.c.q.m.BootStrap           - System configuration:
2012-06-26 14:56:43,097 [main            ] [DEBUG] c.c.q.m.BootStrap           - - server.port: 1234
2012-06-26 14:56:43,097 [main            ] [DEBUG] c.c.q.m.BootStrap           - - server.client_max_idle_time: 20
2012-06-26 14:56:43,113 [main            ] [DEBUG] c.c.q.m.BootStrap           - - server.session.timeout_check_interval: 10
2012-06-26 14:56:43,113 [main            ] [DEBUG] c.c.q.m.BootStrap           - - server.session.client_timeout: 210
2012-06-26 14:56:43,113 [main            ] [DEBUG] c.c.q.m.BootStrap           - - server.disable_checksum_check: 0
2012-06-26 14:56:43,113 [main            ] [DEBUG] c.c.q.m.BootStrap           - - server.service_handler.thread_pool_size: 20
2012-06-26 14:56:43,113 [main            ] [DEBUG] c.c.q.m.BootStrap           - - firmware.location: D:\posnetv2\posnet2-mgmtui\firmware
2012-06-26 14:56:43,113 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.hibernate.show_sql: [true, true]
2012-06-26 14:56:43,113 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.hibernate.hbm2ddl.auto: false
2012-06-26 14:56:43,113 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.ext.hibernate.dialect: org.hibernate.dialect.MySQL5Dialect
2012-06-26 14:56:43,113 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.user: root
2012-06-26 14:56:43,113 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.password: 167118
2012-06-26 14:56:43,113 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.driver: com.mysql.jdbc.Driver
2012-06-26 14:56:43,113 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.url: jdbc:mysql://localhost/posnet?autoReconnect=true&useUnicode=true&characterEncoding=UTF-8
2012-06-26 14:56:43,113 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.ext.hibernate.connection.provider_class: org.hibernate.connection.C3P0ConnectionProvider
2012-06-26 14:56:43,113 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.ext.hibernate.c3p0.minPoolSize: 5
2012-06-26 14:56:43,113 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.ext.hibernate.c3p0.maxPoolSize: 20
2012-06-26 14:56:43,113 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.ext.hibernate.c3p0.maxIdleTime: 1800
2012-06-26 14:56:43,113 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.ext.hibernate.c3p0.testConnectionOnCheckout: true
2012-06-26 14:56:43,113 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.ext.hibernate.c3p0.maxStatements: 50
2012-06-26 14:56:43,113 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.ext.hibernate.c3p0.maxStatementsPerConnection: 10
2012-06-26 14:56:43,113 [main            ] [DEBUG] c.c.q.m.BootStrap           - - qq.groupbuy.url.groupBuyingSearchGroupon: http://localhost:7070/testdata/TuanSearchListVO.xml
2012-06-26 14:56:43,113 [main            ] [DEBUG] c.c.q.m.BootStrap           - - qq.groupbuy.url.groupBuyingValidationUrl: http://localhost:7070/testdata/TuanValidateResultVO.xml
2012-06-26 14:56:43,113 [main            ] [DEBUG] c.c.q.m.BootStrap           - - qq.groupbuy.url.groupBuyingUnbindPosUrl: http://localhost:7070/testdata/TuanUnbindVO.xml
2012-06-26 14:56:43,113 [main            ] [DEBUG] c.c.q.m.BootStrap           - - txserver.key: JXTPOS
2012-06-26 14:56:43,113 [main            ] [DEBUG] c.c.q.m.BootStrap           - - qq.meishi.wsapi.host: localhost:7070
2012-06-26 14:56:43,113 [main            ] [DEBUG] c.c.q.m.BootStrap           - - qq.meishi.wsapi.url: http://localhost:7070/qq-meishi/data
2012-06-26 14:56:43,113 [main            ] [DEBUG] c.c.q.m.BootStrap           - - qq.meishi.wsapi.secretKey: NDA2ZTkwOTExZjlkZDY3ZTIxMTU1OTY0NmVlYzVmY2Q=
2012-06-26 14:56:43,113 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.1.handler: com.chinarewards.qqgbvpn.main.protocol.handler.SearchCommandHandler
2012-06-26 14:56:43,113 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.1.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.SearchBodyMessageCodec
2012-06-26 14:56:43,113 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.2.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.SearchBodyMessageResponseCodec
2012-06-26 14:56:43,113 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.3.handler: com.chinarewards.qqgbvpn.main.protocol.handler.ValidateCommandHandler
2012-06-26 14:56:43,113 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.3.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.ValidateBodyMessageCodec
2012-06-26 14:56:43,113 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.4.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.ValidateBodyMessageResponseCodec
2012-06-26 14:56:43,113 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.5.handler: com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler
2012-06-26 14:56:43,113 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.5.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageCodec
2012-06-26 14:56:43,113 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.6.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageResponseCodec
2012-06-26 14:56:43,113 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.7.handler: com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler
2012-06-26 14:56:43,113 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.7.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageCodec
2012-06-26 14:56:43,113 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.8.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageResponseCodec
2012-06-26 14:56:43,113 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.9.handler: com.chinarewards.qqgbvpn.main.protocol.handler.BindCommandHandler
2012-06-26 14:56:43,113 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.9.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageCodec
2012-06-26 14:56:43,113 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.10.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageResponseCodec
2012-06-26 14:56:43,113 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.11.handler: com.chinarewards.qqgbvpn.main.protocol.handler.ValidationCallbackHandler
2012-06-26 14:56:43,113 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.11.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.ValidationCallbackCodec
2012-06-26 14:56:43,113 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.12.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.ValidationCallbackResponseCodec
2012-06-26 14:56:43,113 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.13.handler: com.chinarewards.qqgbvpn.main.protocol.handler.FirmwareUpgradeRequestCommandHandler
2012-06-26 14:56:43,113 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.13.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.FirmwareRequestMessageCodec
2012-06-26 14:56:43,113 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.14.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.FirmwareResponseMessageCodec
2012-06-26 14:56:43,113 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.15.handler: com.chinarewards.qqgbvpn.main.protocol.handler.GetFirmwareFragmentHandler
2012-06-26 14:56:43,113 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.15.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.GetFirmwareFragmentRequestMessageCodec
2012-06-26 14:56:43,113 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.16.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.GetFirmwareFragmentResponseMessageCodec
2012-06-26 14:56:43,113 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.17.handler: com.chinarewards.qqgbvpn.main.protocol.handler.FirmwareUpDoneHandler
2012-06-26 14:56:43,113 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.17.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.FirmwareUpDoneRequestCodec
2012-06-26 14:56:43,113 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.18.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.FirmwareUpDoneResponseCodec
2012-06-26 14:56:43,113 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.19.handler: com.chinarewards.qqgbvpn.main.protocol.handler.HuaxiaSearchCommandHandler
2012-06-26 14:56:43,113 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.19.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.HuaxiaSearchBodyMessageCodec
2012-06-26 14:56:43,113 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.20.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.HuaxiaSearchBodyMessageResponseCodec
2012-06-26 14:56:43,113 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.21.handler: com.chinarewards.qqgbvpn.main.protocol.handler.HuaxiaConfirmCommandHandler
2012-06-26 14:56:43,113 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.21.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.HuaxiaConfirmBodyMessageCodec
2012-06-26 14:56:43,113 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.22.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.HuaxiaConfirmBodyMessageResponseCodec
2012-06-26 14:56:43,113 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.23.handler: com.chinarewards.qqgbvpn.main.protocol.handler.HuaxiaAckCommandHandler
2012-06-26 14:56:43,113 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.23.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.HuaxiaAckBodyMessageCodec
2012-06-26 14:56:43,113 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.24.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.HuaxiaAckBodyMessageResponseCodec
2012-06-26 14:56:43,113 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.25.handler: com.chinarewards.qqgbvpn.main.protocol.handler.PosEchoCommandHandler
2012-06-26 14:56:43,113 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.25.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.PosEchoCommandRequestMessageCodec
2012-06-26 14:56:43,113 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.26.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.PosEchoCommandResponseMessageCodec
2012-06-26 14:56:43,113 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.27.handler: com.chinarewards.qqgbvpn.main.protocol.handler.ValidateCommandHandler2
2012-06-26 14:56:43,113 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.27.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.ValidateBodyMessageCodec2
2012-06-26 14:56:43,113 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.28.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.ValidateBodyMessageResponseCodec2
2012-06-26 14:56:43,113 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.101.handler: com.chinarewards.qqgbvpn.main.protocol.handler.QQMeishiCommandHandler
2012-06-26 14:56:43,113 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.101.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.QQMeishiBodyMessageCodec
2012-06-26 14:56:43,113 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.102.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.QQMeishiBodyMessageResponseCodec
2012-06-26 14:56:43,113 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.201.handler: com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler
2012-06-26 14:56:43,113 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.201.codec: com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftMessageCodec
2012-06-26 14:56:43,113 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.202.codec: com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftResponseMessageCodec
2012-06-26 14:56:43,113 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.203.handler: com.chinarewards.qqadidas.main.protocol.handler.RightForCommandHandler
2012-06-26 14:56:43,113 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.203.codec: com.chinarewards.qqadidas.main.protocol.socket.mina.codec.RightForMessageCodec
2012-06-26 14:56:43,113 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.204.codec: com.chinarewards.qqadidas.main.protocol.socket.mina.codec.RightForResponseMessageCodec
2012-06-26 14:56:43,113 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.110.handler: com.chinarewards.timeserver.main.protocol.handler.TimeServerHandler
2012-06-26 14:56:43,113 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.110.codec: com.chinarewards.timeserver.main.protocol.socket.mina.codec.TimeServerMessageCodec
2012-06-26 14:56:43,129 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.111.codec: com.chinarewards.timeserver.main.protocol.socket.mina.codec.TimeServerMessageResponseCodec
2012-06-26 14:56:43,129 [main            ] [DEBUG] c.c.q.m.BootStrap           - - qq.vip.adidas.des.secretkey: qqadidas
2012-06-26 14:56:43,129 [main            ] [INFO ] c.c.q.m.BootStrap           - Bootstrapping...
2012-06-26 14:56:43,129 [main            ] [INFO ] c.c.q.m.BootStrap           - Initializing dependency injection environment...
2012-06-26 14:56:43,160 [main            ] [INFO ] c.c.q.m.BootStrap           - Creating Guice injector. If it is stucked, there is a chance the database is down.
2012-06-26 14:56:43,300 [main            ] [DEBUG] .q.m.p.ServiceHandlerModule - Finished configuration
2012-06-26 14:56:43,300 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.SearchCommandHandler to Guice
2012-06-26 14:56:43,300 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.QQMeishiCommandHandler to Guice
2012-06-26 14:56:43,300 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.ValidateCommandHandler to Guice
2012-06-26 14:56:43,300 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler to Guice
2012-06-26 14:56:43,300 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler to Guice
2012-06-26 14:56:43,300 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqadidas.main.protocol.handler.RightForCommandHandler to Guice
2012-06-26 14:56:43,300 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler to Guice
2012-06-26 14:56:43,300 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.timeserver.main.protocol.handler.TimeServerHandler to Guice
2012-06-26 14:56:43,300 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.BindCommandHandler to Guice
2012-06-26 14:56:43,300 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.ValidationCallbackHandler to Guice
2012-06-26 14:56:43,300 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.FirmwareUpgradeRequestCommandHandler to Guice
2012-06-26 14:56:43,300 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.GetFirmwareFragmentHandler to Guice
2012-06-26 14:56:43,300 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.FirmwareUpDoneHandler to Guice
2012-06-26 14:56:43,300 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.HuaxiaSearchCommandHandler to Guice
2012-06-26 14:56:43,300 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.HuaxiaConfirmCommandHandler to Guice
2012-06-26 14:56:43,300 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.HuaxiaAckCommandHandler to Guice
2012-06-26 14:56:43,300 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.PosEchoCommandHandler to Guice
2012-06-26 14:56:43,300 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.ValidateCommandHandler2 to Guice
2012-06-26 14:56:43,300 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Configuration completed
2012-06-26 14:56:43,644 [main            ] [INFO ] c.c.q.m.BootStrap           - Bootstrapping completed
2012-06-26 14:56:43,660 [main            ] [DEBUG] dule$ServiceMappingProvider - Returning ServiceMapping
2012-06-26 14:56:43,660 [main            ] [DEBUG] $$EnhancerByGuice$$22e9f5a5 - ServiceHandlerObjectFactory is com.chinarewards.qqgbvpn.main.protocol.guice.GuiceServiceHandlerObjectFactory@77ef83
2012-06-26 14:56:44,987 [main            ] [DEBUG] c.c.q.m.PosServer           - idleTime=20
2012-06-26 14:56:45,065 [main            ] [DEBUG] c.c.q.m.PosServer           -  monitor port =9999
2012-06-26 14:56:45,065 [main            ] [DEBUG] c.c.q.m.PosServer           -  JMXServiceURL =service:jmx:rmi:///jndi/rmi://localhost:9999/jmxrmi
2012-06-26 14:56:45,096 [main            ] [INFO ] c.c.q.m.PosServer           - Client idle timeout set to 20 seconds
2012-06-26 14:56:45,096 [main            ] [DEBUG] c.c.q.m.PosServer           - config server.session.timeout_check_interval=10
2012-06-26 14:56:45,096 [main            ] [INFO ] c.c.q.m.PosServer           - Server running, listening on 1234
2012-06-26 14:56:45,096 [main            ] [INFO ] c.c.q.m.r.RMIRegistry       - Start listener rmi server, port=9999
2012-06-26 14:56:46,189 [main            ] [INFO ] c.c.q.m.r.RMIRegistry       - no existing RMI registry found on port 9999, creating...
2012-06-26 14:56:46,189 [main            ] [INFO ] c.c.q.m.r.RMIRegistry       - RMI server create success.
2012-06-26 14:56:55,106 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:56:55,106 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:56:55,106 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:56:55,106 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:56:55,106 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:56:56,995 [NioProcessor-2  ] [INFO ] c.c.q.m.p.f.LoggingFilter   - incoming connection from remote address: 127.0.0.1:3459, Mina session ID: 1
2012-06-26 14:56:56,995 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - Currently managed session count: 1
2012-06-26 14:56:56,995 [NioProcessor-2  ] [INFO ] o.a.m.f.l.LoggingFilter     - CREATED
2012-06-26 14:56:56,995 [NioProcessor-2  ] [INFO ] o.a.m.f.l.LoggingFilter     - OPENED
2012-06-26 14:56:57,026 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:3459, Mina session ID 1, identified POS ID null
2012-06-26 14:56:57,026 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 14:56:57,026 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=32 cap=2048: 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20...]
2012-06-26 14:56:57,026 [NioProcessor-2  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 1
2012-06-26 14:56:57,026 [NioProcessor-2  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 14:56:57,026 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 14:56:57,026 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 1
2012-06-26 14:56:57,026 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =32
2012-06-26 14:56:57,026 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 14:56:57,026 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 32, current position: 0
2012-06-26 14:56:57,026 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 14:56:57,026 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}
2012-06-26 14:56:57,026 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 16
2012-06-26 14:56:57,026 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=16, in.remaining=16
2012-06-26 14:56:57,026 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 14:56:57,026 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 5
2012-06-26 14:56:57,026 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 5: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageCodec@8d5aad
2012-06-26 14:56:57,026 [NioProcessor-2  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - init request message decode
2012-06-26 14:56:57,026 [NioProcessor-2  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - in.remaining()=16
2012-06-26 14:56:57,026 [NioProcessor-2  ] [TRACE] .m.p.s.m.c.InitMessageCodec - InitRequestMessage: [cmdId=5, posId=pos-0002]
2012-06-26 14:56:57,026 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 14:56:57,026 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 14:56:57,026 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 14:56:57,026 [NioProcessor-2  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 14:56:57,026 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 14:56:57,026 [NioProcessor-2  ] [DEBUG] p.f.SessionKeyMessageFilter - Mina session ID 1: created session key 1a532f7bae4d4b0ba91c25567d35dce3
2012-06-26 14:56:57,026 [NioProcessor-2  ] [DEBUG] p.f.SessionKeyMessageFilter - creating session for mina session ID 1 using session ID 1a532f7bae4d4b0ba91c25567d35dce3
2012-06-26 14:56:57,026 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 14:56:57,026 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 14:56:57,026 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 14:56:57,026 [NioProcessor-2  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:3459, Mina session ID 1, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 14:56:57,026 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 14:56:57,026 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 14:56:57,026 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 14:56:57,026 [NioProcessor-2  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 14:56:57,026 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 14:56:57,026 [pool-4-thread-1 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 14:56:57,073 [pool-4-thread-1 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 14:56:57,073 [pool-4-thread-1 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@1d144a4 obtained for command ID 5
2012-06-26 14:56:57,073 [pool-4-thread-1 ] [DEBUG] $$EnhancerByGuice$$22e9f5a5 - Handler for command ID 5 is com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@1d144a4
2012-06-26 14:56:57,073 [pool-4-thread-1 ] [DEBUG] .q.m.p.h.InitCommandHandler - InitCommandHandler======execute==bodyMessage=:  [cmdId=5, posId=pos-0002]
2012-06-26 14:56:57,073 [pool-4-thread-1 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - InitResponse() invoke
2012-06-26 14:56:57,073 [pool-4-thread-1 ] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:ALLOWED
2012-06-26 14:56:57,073 [pool-4-thread-1 ] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId AND p.ostatus = :ostatus
2012-06-26 14:56:57,276 [pool-4-thread-1 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - POS ID:pos-0002, init challenge saved - [73, 113, 56, 90, 67, 114, 118, 121]
2012-06-26 14:56:57,479 [pool-4-thread-1 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 14:56:57,495 [pool-4-thread-1 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 14:56:57,511 [pool-4-thread-1 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 14:56:57,511 [pool-4-thread-1 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 14:56:57,511 [pool-4-thread-1 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 1
2012-06-26 14:56:57,511 [pool-4-thread-1 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (6)
2012-06-26 14:56:57,511 [pool-4-thread-1 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageResponseCodec@1064a6d
2012-06-26 14:56:57,511 [pool-4-thread-1 ] [DEBUG] .c.InitMessageResponseCodec - init response message encode
2012-06-26 14:56:57,511 [pool-4-thread-1 ] [TRACE] .c.InitMessageResponseCodec - InitResponseMessage: [cmdId=6, result=0, challenge=[73, 113, 56, 90, 67, 114, 118, 121]]
2012-06-26 14:56:57,511 [pool-4-thread-1 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0xc423
2012-06-26 14:56:57,511 [pool-4-thread-1 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 14:56:57,511 [pool-4-thread-1 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 C4 23 00 00 00 1E ...........#....
00000010 00 00 00 06 00 00 49 71 38 5A 43 72 76 79       ......Iq8ZCrvy

2012-06-26 14:56:57,511 [pool-4-thread-1 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 14:56:57,511 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 14:56:57,511 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 14:56:57,511 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 1: not mark to return session ID to client
2012-06-26 14:56:57,511 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 14:56:57,511 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 14:56:57,511 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 14:56:57,729 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:3459, Mina session ID 1, identified POS ID pos-0002
2012-06-26 14:56:57,729 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 41 B5 00 00 00 30 ..........A....0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 A4 75 EA 56 69 8F A9 9C 0B 54 CB A7 93 80 6D 9E .u.Vi....T....m.

2012-06-26 14:56:57,729 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=48 cap=2048: 00 00 00 01 00 00 00 00 00 00 41 B5 00 00 00 30...]
2012-06-26 14:56:57,729 [NioProcessor-2  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 1
2012-06-26 14:56:57,729 [NioProcessor-2  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 14:56:57,729 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 14:56:57,729 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 1
2012-06-26 14:56:57,729 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =48
2012-06-26 14:56:57,729 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 41 B5 00 00 00 30 ..........A....0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 A4 75 EA 56 69 8F A9 9C 0B 54 CB A7 93 80 6D 9E .u.Vi....T....m.

2012-06-26 14:56:57,729 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 48, current position: 0
2012-06-26 14:56:57,729 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 14:56:57,729 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x41b5} messageSize:{0x30} sessionKey:{null}
2012-06-26 14:56:57,729 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 32
2012-06-26 14:56:57,729 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=32, in.remaining=32
2012-06-26 14:56:57,729 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 14:56:57,729 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 7
2012-06-26 14:56:57,729 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 7: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageCodec@17f1d92
2012-06-26 14:56:57,729 [NioProcessor-2  ] [DEBUG] m.p.s.m.c.LoginMessageCodec - login/bind message decode
2012-06-26 14:56:57,729 [NioProcessor-2  ] [TRACE] m.p.s.m.c.LoginMessageCodec - LoginRequestMessage: [cmdId=7, posId=pos-0002, challengeResponse=[-92, 117, -22, 86, 105, -113, -87, -100, 11, 84, -53, -89, -109, -128, 109, -98]]
2012-06-26 14:56:57,729 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 14:56:57,729 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x41b5} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[-92, 117, -22, 86, 105, -113, -87, -100, 11, 84, -53, -89, -109, -128, 109, -98]]
2012-06-26 14:56:57,729 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 14:56:57,729 [NioProcessor-2  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 14:56:57,729 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 14:56:57,729 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 14:56:57,729 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 14:56:57,729 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 14:56:57,729 [NioProcessor-2  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:3459, Mina session ID 1, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x41b5} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[-92, 117, -22, 86, 105, -113, -87, -100, 11, 84, -53, -89, -109, -128, 109, -98]]
2012-06-26 14:56:57,729 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 14:56:57,729 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 14:56:57,729 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 14:56:57,729 [NioProcessor-2  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 14:56:57,729 [pool-4-thread-2 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 14:56:57,729 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 14:56:57,729 [pool-4-thread-2 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 14:56:57,729 [pool-4-thread-2 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@1bb205a obtained for command ID 7
2012-06-26 14:56:57,729 [pool-4-thread-2 ] [DEBUG] $$EnhancerByGuice$$22e9f5a5 - Handler for command ID 7 is com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@1bb205a
2012-06-26 14:56:57,729 [pool-4-thread-2 ] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==bodyMessage=: [cmdId=7, posId=pos-0002, challengeResponse=[-92, 117, -22, 86, 105, -113, -87, -100, 11, 84, -53, -89, -109, -128, 109, -98]]
2012-06-26 14:56:57,729 [pool-4-thread-2 ] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:null
2012-06-26 14:56:57,729 [pool-4-thread-2 ] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId
2012-06-26 14:56:57,745 [pool-4-thread-2 ] [TRACE] .q.m.l.l.i.LoginManagerImpl - Loaded from db: pos.posId:pos-0002, pos.secret:000001, oldChallenge:[73, 113, 56, 90, 67, 114, 118, 121]
2012-06-26 14:56:57,745 [pool-4-thread-2 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - disableChallengeCheck =0
2012-06-26 14:56:57,745 [pool-4-thread-2 ] [TRACE] c.c.q.m.l.c.ChallengeUtil   - checking challenge:response:[-92, 117, -22, 86, 105, -113, -87, -100, 11, 84, -53, -89, -109, -128, 109, -98], posKey:000001, random:[73, 113, 56, 90, 67, 114, 118, 121]
2012-06-26 14:56:57,979 [pool-4-thread-2 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - new challenge for POS (POS ID): [118, 48, 49, 53, 86, 55, 88, 77]
2012-06-26 14:56:57,979 [pool-4-thread-2 ] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==serverKey=:JXTPOS
2012-06-26 14:56:58,151 [pool-4-thread-2 ] [DEBUG] ThreadSafeClientConnManager - Get connection: HttpRoute[{}->http://localhost:7070], timeout = 0
2012-06-26 14:56:58,151 [pool-4-thread-2 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - [HttpRoute[{}->http://localhost:7070]] total kept alive: 0, total issued: 0, total allocated: 0 out of 20
2012-06-26 14:56:58,151 [pool-4-thread-2 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - No free connections [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 14:56:58,151 [pool-4-thread-2 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Available capacity: 2 out of 2 [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 14:56:58,151 [pool-4-thread-2 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Creating new connection [HttpRoute[{}->http://localhost:7070]]
2012-06-26 14:56:58,182 [pool-4-thread-2 ] [DEBUG] ultClientConnectionOperator - Connecting to localhost:7070
2012-06-26 14:56:59,103 [pool-4-thread-2 ] [DEBUG] i.c.DefaultClientConnection - Connection closed
2012-06-26 14:56:59,103 [pool-4-thread-2 ] [DEBUG] i.c.DefaultClientConnection - Connection shut down
2012-06-26 14:56:59,103 [pool-4-thread-2 ] [DEBUG] ThreadSafeClientConnManager - Released connection is not reusable.
2012-06-26 14:56:59,103 [pool-4-thread-2 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Releasing connection [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 14:56:59,103 [pool-4-thread-2 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Notifying no-one, there are no waiting threads
2012-06-26 14:56:59,103 [pool-4-thread-2 ] [ERROR] q.m.p.h.LoginCommandHandler - initGrouponCache fail:com.chinarewards.qqgbvpn.qqapi.exception.ParseXMLException: com.chinarewards.qqgbvpn.qqapi.exception.SendPostTimeOutException: org.apache.http.conn.HttpHostConnectException: Connection to http://localhost:7070 refused
2012-06-26 14:56:59,103 [pool-4-thread-2 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 14:56:59,150 [pool-4-thread-2 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 14:56:59,150 [pool-4-thread-2 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 14:56:59,150 [pool-4-thread-2 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 14:56:59,150 [pool-4-thread-2 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 1
2012-06-26 14:56:59,150 [pool-4-thread-2 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (8)
2012-06-26 14:56:59,150 [pool-4-thread-2 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageResponseCodec@81933a
2012-06-26 14:56:59,150 [pool-4-thread-2 ] [DEBUG] c.LoginMessageResponseCodec - login/bind message encode
2012-06-26 14:56:59,150 [pool-4-thread-2 ] [TRACE] c.LoginMessageResponseCodec - LoginResponseMessage: [cmdId=8, result=0, challenge=[118, 48, 49, 53, 86, 55, 88, 77]]
2012-06-26 14:56:59,150 [pool-4-thread-2 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0xa9ee
2012-06-26 14:56:59,150 [pool-4-thread-2 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 14:56:59,150 [pool-4-thread-2 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 A9 EE 00 00 00 1E ................
00000010 00 00 00 08 00 00 76 30 31 35 56 37 58 4D       ......v015V7XM

2012-06-26 14:56:59,150 [pool-4-thread-2 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 14:56:59,150 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 14:56:59,150 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 14:56:59,150 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 1: not mark to return session ID to client
2012-06-26 14:56:59,150 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 14:56:59,150 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 14:56:59,150 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 14:56:59,150 [Finalizer       ] [DEBUG] ThreadSafeClientConnManager - Shutting down
2012-06-26 14:56:59,150 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:3459, Mina session ID 1, identified POS ID pos-0002
2012-06-26 14:56:59,150 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 28 of 28 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 65 68 00 00 00 1C ..........eh....
00000010 00 00 00 C9 00 06 31 32 33 34 35 36             ......123456

2012-06-26 14:56:59,150 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=28 cap=1024: 00 00 00 10 00 00 00 00 00 00 65 68 00 00 00 1C...]
2012-06-26 14:56:59,150 [NioProcessor-2  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 1
2012-06-26 14:56:59,150 [NioProcessor-2  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 14:56:59,150 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 14:56:59,150 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 1
2012-06-26 14:56:59,150 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =28
2012-06-26 14:56:59,150 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 28 of 28 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 65 68 00 00 00 1C ..........eh....
00000010 00 00 00 C9 00 06 31 32 33 34 35 36             ......123456

2012-06-26 14:56:59,150 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 28, current position: 0
2012-06-26 14:56:59,150 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 14:56:59,150 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0x6568} messageSize:{0x1c} sessionKey:{null}
2012-06-26 14:56:59,150 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 12
2012-06-26 14:56:59,150 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=12, in.remaining=12
2012-06-26 14:56:59,150 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 14:56:59,150 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 201
2012-06-26 14:56:59,150 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 201: com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftMessageCodec@37504d
2012-06-26 14:56:59,150 [NioProcessor-2  ] [DEBUG] m.c.ReceiveGiftMessageCodec - receive gift request message decode
2012-06-26 14:56:59,150 [NioProcessor-2  ] [DEBUG] m.c.ReceiveGiftMessageCodec - in.remaining()=12
2012-06-26 14:56:59,150 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 14:56:59,150 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0x6568} messageSize:{0x1c} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@9b86ea
2012-06-26 14:56:59,150 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 14:56:59,150 [NioProcessor-2  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 14:56:59,150 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 14:56:59,150 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 14:56:59,150 [NioProcessor-2  ] [DEBUG] c.c.q.m.p.f.LoginFilter     - isLogin=true
2012-06-26 14:56:59,150 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 14:56:59,166 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 14:56:59,166 [NioProcessor-2  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:3459, Mina session ID 1, identified POS ID pos-0002, message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0x6568} messageSize:{0x1c} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@9b86ea
2012-06-26 14:56:59,197 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 14:56:59,197 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 14:56:59,197 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 14:56:59,197 [NioProcessor-2  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 14:56:59,197 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 14:56:59,197 [pool-4-thread-3 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 14:56:59,197 [pool-4-thread-3 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 14:56:59,197 [pool-4-thread-3 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@17574b9 obtained for command ID 201
2012-06-26 14:56:59,197 [pool-4-thread-3 ] [DEBUG] $$EnhancerByGuice$$22e9f5a5 - Handler for command ID 201 is com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@17574b9
2012-06-26 14:56:59,197 [pool-4-thread-3 ] [DEBUG] h.ReceiveGiftCommandHandler - ReceiveGiftHandler======execute==bodyMessage=: com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@9b86ea
2012-06-26 14:56:59,197 [pool-4-thread-3 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 14:56:59,197 [pool-4-thread-3 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 14:56:59,197 [pool-4-thread-3 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 14:56:59,197 [pool-4-thread-3 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 14:56:59,197 [pool-4-thread-3 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 1
2012-06-26 14:56:59,197 [pool-4-thread-3 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (202)
2012-06-26 14:56:59,197 [pool-4-thread-3 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftResponseMessageCodec@2c5444
2012-06-26 14:56:59,197 [pool-4-thread-3 ] [DEBUG] iveGiftResponseMessageCodec - receive gift response message encode
2012-06-26 14:56:59,197 [pool-4-thread-3 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0xdb40
2012-06-26 14:56:59,197 [pool-4-thread-3 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 14:56:59,197 [pool-4-thread-3 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 69 of 69 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 DB 40 00 00 00 45 ...........@...E
00000010 00 00 00 CA 00 00 00 02 07 DC 06 1A 0E 38 3B 00 .............8;.
00000020 C5 01 E0 00 08 C1 EC C8 A1 C0 F1 C6 B7 00 16 31 ...............1
00000030 32 33 34 35 36 0A CE DE D0 A7 0A B0 B4 4F 4B BC 23456........OK.
00000040 FC B7 B5 BB D8                                  .....

2012-06-26 14:56:59,197 [pool-4-thread-3 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 14:56:59,197 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 14:56:59,197 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 14:56:59,197 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 1: not mark to return session ID to client
2012-06-26 14:56:59,197 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 14:56:59,197 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 14:56:59,197 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 14:56:59,197 [NioProcessor-2  ] [INFO ] o.a.m.f.l.LoggingFilter     - CLOSED
2012-06-26 14:56:59,197 [NioProcessor-2  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 14:56:59,400 [NioProcessor-3  ] [INFO ] c.c.q.m.p.f.LoggingFilter   - incoming connection from remote address: 127.0.0.1:3461, Mina session ID: 2
2012-06-26 14:56:59,400 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - Currently managed session count: 1
2012-06-26 14:56:59,400 [NioProcessor-3  ] [INFO ] o.a.m.f.l.LoggingFilter     - CREATED
2012-06-26 14:56:59,400 [NioProcessor-3  ] [INFO ] o.a.m.f.l.LoggingFilter     - OPENED
2012-06-26 14:56:59,541 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:3461, Mina session ID 2, identified POS ID null
2012-06-26 14:56:59,541 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 14:56:59,541 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=32 cap=2048: 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20...]
2012-06-26 14:56:59,541 [NioProcessor-3  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 2
2012-06-26 14:56:59,541 [NioProcessor-3  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 14:56:59,541 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 14:56:59,541 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 2
2012-06-26 14:56:59,541 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =32
2012-06-26 14:56:59,541 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 14:56:59,541 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 32, current position: 0
2012-06-26 14:56:59,556 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 14:56:59,556 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}
2012-06-26 14:56:59,556 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 16
2012-06-26 14:56:59,556 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=16, in.remaining=16
2012-06-26 14:56:59,556 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 14:56:59,556 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 5
2012-06-26 14:56:59,556 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 5: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageCodec@90ebfe
2012-06-26 14:56:59,556 [NioProcessor-3  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - init request message decode
2012-06-26 14:56:59,556 [NioProcessor-3  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - in.remaining()=16
2012-06-26 14:56:59,556 [NioProcessor-3  ] [TRACE] .m.p.s.m.c.InitMessageCodec - InitRequestMessage: [cmdId=5, posId=pos-0002]
2012-06-26 14:56:59,556 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 14:56:59,556 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 14:56:59,556 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 14:56:59,556 [NioProcessor-3  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 14:56:59,556 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 14:56:59,556 [NioProcessor-3  ] [DEBUG] p.f.SessionKeyMessageFilter - Mina session ID 2: created session key 15a7b591e0364a789dc4ed667a670460
2012-06-26 14:56:59,556 [NioProcessor-3  ] [DEBUG] p.f.SessionKeyMessageFilter - creating session for mina session ID 2 using session ID 15a7b591e0364a789dc4ed667a670460
2012-06-26 14:56:59,556 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 14:56:59,556 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 14:56:59,556 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 14:56:59,556 [NioProcessor-3  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:3461, Mina session ID 2, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 14:56:59,556 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 14:56:59,556 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 14:56:59,556 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 14:56:59,556 [NioProcessor-3  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 14:56:59,556 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 14:56:59,556 [pool-4-thread-4 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 14:56:59,556 [pool-4-thread-4 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 14:56:59,556 [pool-4-thread-4 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@1c71508 obtained for command ID 5
2012-06-26 14:56:59,556 [pool-4-thread-4 ] [DEBUG] $$EnhancerByGuice$$22e9f5a5 - Handler for command ID 5 is com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@1c71508
2012-06-26 14:56:59,556 [pool-4-thread-4 ] [DEBUG] .q.m.p.h.InitCommandHandler - InitCommandHandler======execute==bodyMessage=:  [cmdId=5, posId=pos-0002]
2012-06-26 14:56:59,556 [pool-4-thread-4 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - InitResponse() invoke
2012-06-26 14:56:59,556 [pool-4-thread-4 ] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:ALLOWED
2012-06-26 14:56:59,556 [pool-4-thread-4 ] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId AND p.ostatus = :ostatus
2012-06-26 14:56:59,556 [pool-4-thread-4 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - POS ID:pos-0002, init challenge saved - [68, 81, 111, 54, 48, 101, 113, 120]
2012-06-26 14:56:59,556 [pool-4-thread-4 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 14:56:59,587 [pool-4-thread-4 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 14:56:59,587 [pool-4-thread-4 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 14:56:59,587 [pool-4-thread-4 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 14:56:59,587 [pool-4-thread-4 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 2
2012-06-26 14:56:59,587 [pool-4-thread-4 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (6)
2012-06-26 14:56:59,587 [pool-4-thread-4 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageResponseCodec@107e9a8
2012-06-26 14:56:59,587 [pool-4-thread-4 ] [DEBUG] .c.InitMessageResponseCodec - init response message encode
2012-06-26 14:56:59,587 [pool-4-thread-4 ] [TRACE] .c.InitMessageResponseCodec - InitResponseMessage: [cmdId=6, result=0, challenge=[68, 81, 111, 54, 48, 101, 113, 120]]
2012-06-26 14:56:59,587 [pool-4-thread-4 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0xaa75
2012-06-26 14:56:59,587 [pool-4-thread-4 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 14:56:59,587 [pool-4-thread-4 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 AA 75 00 00 00 1E ...........u....
00000010 00 00 00 06 00 00 44 51 6F 36 30 65 71 78       ......DQo60eqx

2012-06-26 14:56:59,587 [pool-4-thread-4 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 14:56:59,587 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 14:56:59,587 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 14:56:59,587 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 2: not mark to return session ID to client
2012-06-26 14:56:59,587 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 14:56:59,587 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 14:56:59,587 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 14:56:59,587 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:3461, Mina session ID 2, identified POS ID pos-0002
2012-06-26 14:56:59,587 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 6A 7A 00 00 00 30 ..........jz...0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 1A 91 60 5C FC D2 99 0F CB 72 CF 06 30 42 75 C2 ..`\.....r..0Bu.

2012-06-26 14:56:59,587 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=48 cap=2048: 00 00 00 01 00 00 00 00 00 00 6A 7A 00 00 00 30...]
2012-06-26 14:56:59,587 [NioProcessor-3  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 2
2012-06-26 14:56:59,587 [NioProcessor-3  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 14:56:59,587 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 14:56:59,587 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 2
2012-06-26 14:56:59,587 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =48
2012-06-26 14:56:59,587 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 6A 7A 00 00 00 30 ..........jz...0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 1A 91 60 5C FC D2 99 0F CB 72 CF 06 30 42 75 C2 ..`\.....r..0Bu.

2012-06-26 14:56:59,587 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 48, current position: 0
2012-06-26 14:56:59,587 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 14:56:59,587 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x6a7a} messageSize:{0x30} sessionKey:{null}
2012-06-26 14:56:59,587 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 32
2012-06-26 14:56:59,587 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=32, in.remaining=32
2012-06-26 14:56:59,587 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 14:56:59,587 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 7
2012-06-26 14:56:59,587 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 7: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageCodec@b1fea4
2012-06-26 14:56:59,587 [NioProcessor-3  ] [DEBUG] m.p.s.m.c.LoginMessageCodec - login/bind message decode
2012-06-26 14:56:59,587 [NioProcessor-3  ] [TRACE] m.p.s.m.c.LoginMessageCodec - LoginRequestMessage: [cmdId=7, posId=pos-0002, challengeResponse=[26, -111, 96, 92, -4, -46, -103, 15, -53, 114, -49, 6, 48, 66, 117, -62]]
2012-06-26 14:56:59,587 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 14:56:59,587 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x6a7a} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[26, -111, 96, 92, -4, -46, -103, 15, -53, 114, -49, 6, 48, 66, 117, -62]]
2012-06-26 14:56:59,587 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 14:56:59,587 [NioProcessor-3  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 14:56:59,587 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 14:56:59,587 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 14:56:59,587 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 14:56:59,587 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 14:56:59,587 [NioProcessor-3  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:3461, Mina session ID 2, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x6a7a} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[26, -111, 96, 92, -4, -46, -103, 15, -53, 114, -49, 6, 48, 66, 117, -62]]
2012-06-26 14:56:59,587 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 14:56:59,587 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 14:56:59,587 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 14:56:59,587 [NioProcessor-3  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 14:56:59,587 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 14:56:59,587 [pool-4-thread-5 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 14:56:59,587 [pool-4-thread-5 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 14:56:59,587 [pool-4-thread-5 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@120cb3 obtained for command ID 7
2012-06-26 14:56:59,587 [pool-4-thread-5 ] [DEBUG] $$EnhancerByGuice$$22e9f5a5 - Handler for command ID 7 is com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@120cb3
2012-06-26 14:56:59,587 [pool-4-thread-5 ] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==bodyMessage=: [cmdId=7, posId=pos-0002, challengeResponse=[26, -111, 96, 92, -4, -46, -103, 15, -53, 114, -49, 6, 48, 66, 117, -62]]
2012-06-26 14:56:59,587 [pool-4-thread-5 ] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:null
2012-06-26 14:56:59,587 [pool-4-thread-5 ] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId
2012-06-26 14:56:59,587 [pool-4-thread-5 ] [TRACE] .q.m.l.l.i.LoginManagerImpl - Loaded from db: pos.posId:pos-0002, pos.secret:000001, oldChallenge:[68, 81, 111, 54, 48, 101, 113, 120]
2012-06-26 14:56:59,587 [pool-4-thread-5 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - disableChallengeCheck =0
2012-06-26 14:56:59,587 [pool-4-thread-5 ] [TRACE] c.c.q.m.l.c.ChallengeUtil   - checking challenge:response:[26, -111, 96, 92, -4, -46, -103, 15, -53, 114, -49, 6, 48, 66, 117, -62], posKey:000001, random:[68, 81, 111, 54, 48, 101, 113, 120]
2012-06-26 14:56:59,587 [pool-4-thread-5 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - new challenge for POS (POS ID): [100, 65, 90, 75, 73, 76, 67, 120]
2012-06-26 14:56:59,603 [pool-4-thread-5 ] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==serverKey=:JXTPOS
2012-06-26 14:56:59,603 [pool-4-thread-5 ] [DEBUG] ThreadSafeClientConnManager - Get connection: HttpRoute[{}->http://localhost:7070], timeout = 0
2012-06-26 14:56:59,603 [pool-4-thread-5 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - [HttpRoute[{}->http://localhost:7070]] total kept alive: 0, total issued: 0, total allocated: 0 out of 20
2012-06-26 14:56:59,603 [pool-4-thread-5 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - No free connections [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 14:56:59,603 [pool-4-thread-5 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Available capacity: 2 out of 2 [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 14:56:59,603 [pool-4-thread-5 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Creating new connection [HttpRoute[{}->http://localhost:7070]]
2012-06-26 14:56:59,603 [pool-4-thread-5 ] [DEBUG] ultClientConnectionOperator - Connecting to localhost:7070
2012-06-26 14:57:00,634 [pool-4-thread-5 ] [DEBUG] i.c.DefaultClientConnection - Connection closed
2012-06-26 14:57:00,634 [pool-4-thread-5 ] [DEBUG] i.c.DefaultClientConnection - Connection shut down
2012-06-26 14:57:00,634 [pool-4-thread-5 ] [DEBUG] ThreadSafeClientConnManager - Released connection is not reusable.
2012-06-26 14:57:00,634 [pool-4-thread-5 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Releasing connection [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 14:57:00,634 [pool-4-thread-5 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Notifying no-one, there are no waiting threads
2012-06-26 14:57:00,634 [pool-4-thread-5 ] [ERROR] q.m.p.h.LoginCommandHandler - initGrouponCache fail:com.chinarewards.qqgbvpn.qqapi.exception.ParseXMLException: com.chinarewards.qqgbvpn.qqapi.exception.SendPostTimeOutException: org.apache.http.conn.HttpHostConnectException: Connection to http://localhost:7070 refused
2012-06-26 14:57:00,665 [pool-4-thread-5 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 14:57:00,680 [pool-4-thread-5 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 14:57:00,680 [pool-4-thread-5 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 14:57:00,680 [pool-4-thread-5 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 14:57:00,680 [pool-4-thread-5 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 2
2012-06-26 14:57:00,680 [pool-4-thread-5 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (8)
2012-06-26 14:57:00,680 [pool-4-thread-5 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageResponseCodec@dc64a2
2012-06-26 14:57:00,680 [pool-4-thread-5 ] [DEBUG] c.LoginMessageResponseCodec - login/bind message encode
2012-06-26 14:57:00,680 [pool-4-thread-5 ] [TRACE] c.LoginMessageResponseCodec - LoginResponseMessage: [cmdId=8, result=0, challenge=[100, 65, 90, 75, 73, 76, 67, 120]]
2012-06-26 14:57:00,680 [pool-4-thread-5 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0xb487
2012-06-26 14:57:00,680 [pool-4-thread-5 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 14:57:00,680 [pool-4-thread-5 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 B4 87 00 00 00 1E ................
00000010 00 00 00 08 00 00 64 41 5A 4B 49 4C 43 78       ......dAZKILCx

2012-06-26 14:57:00,680 [pool-4-thread-5 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 14:57:00,680 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 14:57:00,680 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 14:57:00,680 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 2: not mark to return session ID to client
2012-06-26 14:57:00,680 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 14:57:00,680 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 14:57:00,680 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 14:57:00,680 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:3461, Mina session ID 2, identified POS ID pos-0002
2012-06-26 14:57:00,680 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 33 of 33 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 D8 04 00 00 00 21 ...............!
00000010 00 00 00 C9 00 0B 31 31 31 31 31 31 31 31 31 31 ......1111111111
00000020 31                                              1

2012-06-26 14:57:00,680 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=33 cap=1024: 00 00 00 10 00 00 00 00 00 00 D8 04 00 00 00 21...]
2012-06-26 14:57:00,680 [NioProcessor-3  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 2
2012-06-26 14:57:00,680 [NioProcessor-3  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 14:57:00,680 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 14:57:00,680 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 2
2012-06-26 14:57:00,680 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =33
2012-06-26 14:57:00,680 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 33 of 33 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 D8 04 00 00 00 21 ...............!
00000010 00 00 00 C9 00 0B 31 31 31 31 31 31 31 31 31 31 ......1111111111
00000020 31                                              1

2012-06-26 14:57:00,680 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 33, current position: 0
2012-06-26 14:57:00,680 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 14:57:00,680 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd804} messageSize:{0x21} sessionKey:{null}
2012-06-26 14:57:00,680 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 17
2012-06-26 14:57:00,680 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=17, in.remaining=17
2012-06-26 14:57:00,680 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 14:57:00,680 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 201
2012-06-26 14:57:00,680 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 201: com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftMessageCodec@152f43b
2012-06-26 14:57:00,680 [NioProcessor-3  ] [DEBUG] m.c.ReceiveGiftMessageCodec - receive gift request message decode
2012-06-26 14:57:00,680 [NioProcessor-3  ] [DEBUG] m.c.ReceiveGiftMessageCodec - in.remaining()=17
2012-06-26 14:57:00,680 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 14:57:00,680 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd804} messageSize:{0x21} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@1205d8d
2012-06-26 14:57:00,680 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 14:57:00,680 [NioProcessor-3  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 14:57:00,680 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 14:57:00,680 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 14:57:00,680 [NioProcessor-3  ] [DEBUG] c.c.q.m.p.f.LoginFilter     - isLogin=true
2012-06-26 14:57:00,680 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 14:57:00,680 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 14:57:00,680 [NioProcessor-3  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:3461, Mina session ID 2, identified POS ID pos-0002, message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd804} messageSize:{0x21} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@1205d8d
2012-06-26 14:57:00,680 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 14:57:00,680 [pool-4-thread-6 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 14:57:00,680 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 14:57:00,680 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 14:57:00,680 [NioProcessor-3  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 14:57:00,680 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 14:57:00,680 [pool-4-thread-6 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 14:57:00,680 [pool-4-thread-6 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@d4ff95 obtained for command ID 201
2012-06-26 14:57:00,680 [pool-4-thread-6 ] [DEBUG] $$EnhancerByGuice$$22e9f5a5 - Handler for command ID 201 is com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@d4ff95
2012-06-26 14:57:00,680 [pool-4-thread-6 ] [DEBUG] h.ReceiveGiftCommandHandler - ReceiveGiftHandler======execute==bodyMessage=: com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@1205d8d
2012-06-26 14:57:00,696 [Finalizer       ] [DEBUG] ThreadSafeClientConnManager - Shutting down
2012-06-26 14:57:00,712 [pool-4-thread-6 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 14:57:00,727 [pool-4-thread-6 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 14:57:00,727 [pool-4-thread-6 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 14:57:00,727 [pool-4-thread-6 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 14:57:00,727 [pool-4-thread-6 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 2
2012-06-26 14:57:00,727 [pool-4-thread-6 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (202)
2012-06-26 14:57:00,727 [pool-4-thread-6 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftResponseMessageCodec@56d149
2012-06-26 14:57:00,727 [pool-4-thread-6 ] [DEBUG] iveGiftResponseMessageCodec - receive gift response message encode
2012-06-26 14:57:00,727 [pool-4-thread-6 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0xeab
2012-06-26 14:57:00,727 [pool-4-thread-6 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 14:57:00,727 [pool-4-thread-6 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 55 of 55 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 0E AB 00 00 00 37 ...............7
00000010 00 00 00 CA 00 00 00 00 07 DC 06 1A 0E 39 00 02 .............9..
00000020 A8 01 E0 00 08 C1 EC C8 A1 C0 F1 C6 B7 00 08 BD ................
00000030 BB D2 D7 B3 C9 B9 A6                            .......

2012-06-26 14:57:00,727 [pool-4-thread-6 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 14:57:00,727 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 14:57:00,727 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 14:57:00,727 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 2: not mark to return session ID to client
2012-06-26 14:57:00,727 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 14:57:00,727 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 14:57:00,727 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 14:57:00,727 [NioProcessor-3  ] [INFO ] o.a.m.f.l.LoggingFilter     - CLOSED
2012-06-26 14:57:00,727 [NioProcessor-3  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 14:57:00,977 [NioProcessor-1  ] [INFO ] c.c.q.m.p.f.LoggingFilter   - incoming connection from remote address: 127.0.0.1:3463, Mina session ID: 3
2012-06-26 14:57:00,977 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - Currently managed session count: 1
2012-06-26 14:57:00,977 [NioProcessor-1  ] [INFO ] o.a.m.f.l.LoggingFilter     - CREATED
2012-06-26 14:57:00,977 [NioProcessor-1  ] [INFO ] o.a.m.f.l.LoggingFilter     - OPENED
2012-06-26 14:57:00,977 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:3463, Mina session ID 3, identified POS ID null
2012-06-26 14:57:00,977 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 14:57:00,977 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=32 cap=2048: 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20...]
2012-06-26 14:57:00,977 [NioProcessor-1  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 3
2012-06-26 14:57:00,977 [NioProcessor-1  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 14:57:00,977 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 14:57:00,977 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 3
2012-06-26 14:57:00,977 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =32
2012-06-26 14:57:00,977 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 14:57:00,977 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 32, current position: 0
2012-06-26 14:57:00,977 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 14:57:00,977 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}
2012-06-26 14:57:00,977 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 16
2012-06-26 14:57:00,977 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=16, in.remaining=16
2012-06-26 14:57:00,977 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 14:57:00,977 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 5
2012-06-26 14:57:00,977 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 5: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageCodec@c5da6
2012-06-26 14:57:00,977 [NioProcessor-1  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - init request message decode
2012-06-26 14:57:00,977 [NioProcessor-1  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - in.remaining()=16
2012-06-26 14:57:00,977 [NioProcessor-1  ] [TRACE] .m.p.s.m.c.InitMessageCodec - InitRequestMessage: [cmdId=5, posId=pos-0002]
2012-06-26 14:57:00,977 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 14:57:00,977 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 14:57:00,977 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 14:57:00,977 [NioProcessor-1  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 14:57:00,977 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 14:57:00,977 [NioProcessor-1  ] [DEBUG] p.f.SessionKeyMessageFilter - Mina session ID 3: created session key 88a77a92435a4fffad734e11912a1486
2012-06-26 14:57:00,977 [NioProcessor-1  ] [DEBUG] p.f.SessionKeyMessageFilter - creating session for mina session ID 3 using session ID 88a77a92435a4fffad734e11912a1486
2012-06-26 14:57:00,977 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 14:57:00,977 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 14:57:00,977 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 14:57:00,977 [NioProcessor-1  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:3463, Mina session ID 3, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 14:57:00,977 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 14:57:00,977 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 14:57:00,977 [pool-4-thread-7 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 14:57:00,977 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 14:57:00,977 [NioProcessor-1  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 14:57:00,977 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 14:57:00,977 [pool-4-thread-7 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 14:57:00,977 [pool-4-thread-7 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@cf935a obtained for command ID 5
2012-06-26 14:57:00,977 [pool-4-thread-7 ] [DEBUG] $$EnhancerByGuice$$22e9f5a5 - Handler for command ID 5 is com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@cf935a
2012-06-26 14:57:00,977 [pool-4-thread-7 ] [DEBUG] .q.m.p.h.InitCommandHandler - InitCommandHandler======execute==bodyMessage=:  [cmdId=5, posId=pos-0002]
2012-06-26 14:57:00,977 [pool-4-thread-7 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - InitResponse() invoke
2012-06-26 14:57:00,977 [pool-4-thread-7 ] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:ALLOWED
2012-06-26 14:57:00,977 [pool-4-thread-7 ] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId AND p.ostatus = :ostatus
2012-06-26 14:57:00,977 [pool-4-thread-7 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - POS ID:pos-0002, init challenge saved - [54, 72, 107, 70, 53, 90, 66, 51]
2012-06-26 14:57:00,993 [pool-4-thread-7 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 14:57:01,008 [pool-4-thread-7 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 14:57:01,008 [pool-4-thread-7 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 14:57:01,008 [pool-4-thread-7 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 14:57:01,008 [pool-4-thread-7 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 3
2012-06-26 14:57:01,008 [pool-4-thread-7 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (6)
2012-06-26 14:57:01,008 [pool-4-thread-7 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageResponseCodec@1458657
2012-06-26 14:57:01,008 [pool-4-thread-7 ] [DEBUG] .c.InitMessageResponseCodec - init response message encode
2012-06-26 14:57:01,008 [pool-4-thread-7 ] [TRACE] .c.InitMessageResponseCodec - InitResponseMessage: [cmdId=6, result=0, challenge=[54, 72, 107, 70, 53, 90, 66, 51]]
2012-06-26 14:57:01,008 [pool-4-thread-7 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0xe6be
2012-06-26 14:57:01,008 [pool-4-thread-7 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 14:57:01,008 [pool-4-thread-7 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 E6 BE 00 00 00 1E ................
00000010 00 00 00 06 00 00 36 48 6B 46 35 5A 42 33       ......6HkF5ZB3

2012-06-26 14:57:01,008 [pool-4-thread-7 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 14:57:01,008 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 14:57:01,008 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 14:57:01,008 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 3: not mark to return session ID to client
2012-06-26 14:57:01,008 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 14:57:01,008 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 14:57:01,008 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 14:57:01,008 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:3463, Mina session ID 3, identified POS ID pos-0002
2012-06-26 14:57:01,008 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 70 6A 00 00 00 30 ..........pj...0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 84 32 D2 75 F9 AB 63 2B 5B F3 A2 AC F3 EB A5 52 .2.u..c+[......R

2012-06-26 14:57:01,008 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=48 cap=2048: 00 00 00 01 00 00 00 00 00 00 70 6A 00 00 00 30...]
2012-06-26 14:57:01,008 [NioProcessor-1  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 3
2012-06-26 14:57:01,008 [NioProcessor-1  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 14:57:01,008 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 14:57:01,008 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 3
2012-06-26 14:57:01,008 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =48
2012-06-26 14:57:01,024 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 70 6A 00 00 00 30 ..........pj...0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 84 32 D2 75 F9 AB 63 2B 5B F3 A2 AC F3 EB A5 52 .2.u..c+[......R

2012-06-26 14:57:01,024 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 48, current position: 0
2012-06-26 14:57:01,024 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 14:57:01,024 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x706a} messageSize:{0x30} sessionKey:{null}
2012-06-26 14:57:01,024 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 32
2012-06-26 14:57:01,024 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=32, in.remaining=32
2012-06-26 14:57:01,024 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 14:57:01,024 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 7
2012-06-26 14:57:01,024 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 7: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageCodec@132b67c
2012-06-26 14:57:01,024 [NioProcessor-1  ] [DEBUG] m.p.s.m.c.LoginMessageCodec - login/bind message decode
2012-06-26 14:57:01,024 [NioProcessor-1  ] [TRACE] m.p.s.m.c.LoginMessageCodec - LoginRequestMessage: [cmdId=7, posId=pos-0002, challengeResponse=[-124, 50, -46, 117, -7, -85, 99, 43, 91, -13, -94, -84, -13, -21, -91, 82]]
2012-06-26 14:57:01,024 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 14:57:01,024 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x706a} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[-124, 50, -46, 117, -7, -85, 99, 43, 91, -13, -94, -84, -13, -21, -91, 82]]
2012-06-26 14:57:01,024 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 14:57:01,024 [NioProcessor-1  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 14:57:01,024 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 14:57:01,024 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 14:57:01,024 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 14:57:01,024 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 14:57:01,024 [NioProcessor-1  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:3463, Mina session ID 3, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x706a} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[-124, 50, -46, 117, -7, -85, 99, 43, 91, -13, -94, -84, -13, -21, -91, 82]]
2012-06-26 14:57:01,024 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 14:57:01,024 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 14:57:01,024 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 14:57:01,024 [NioProcessor-1  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 14:57:01,024 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 14:57:01,024 [pool-4-thread-8 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 14:57:01,024 [pool-4-thread-8 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 14:57:01,024 [pool-4-thread-8 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@1980c26 obtained for command ID 7
2012-06-26 14:57:01,024 [pool-4-thread-8 ] [DEBUG] $$EnhancerByGuice$$22e9f5a5 - Handler for command ID 7 is com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@1980c26
2012-06-26 14:57:01,024 [pool-4-thread-8 ] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==bodyMessage=: [cmdId=7, posId=pos-0002, challengeResponse=[-124, 50, -46, 117, -7, -85, 99, 43, 91, -13, -94, -84, -13, -21, -91, 82]]
2012-06-26 14:57:01,024 [pool-4-thread-8 ] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:null
2012-06-26 14:57:01,024 [pool-4-thread-8 ] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId
2012-06-26 14:57:01,024 [pool-4-thread-8 ] [TRACE] .q.m.l.l.i.LoginManagerImpl - Loaded from db: pos.posId:pos-0002, pos.secret:000001, oldChallenge:[54, 72, 107, 70, 53, 90, 66, 51]
2012-06-26 14:57:01,024 [pool-4-thread-8 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - disableChallengeCheck =0
2012-06-26 14:57:01,024 [pool-4-thread-8 ] [TRACE] c.c.q.m.l.c.ChallengeUtil   - checking challenge:response:[-124, 50, -46, 117, -7, -85, 99, 43, 91, -13, -94, -84, -13, -21, -91, 82], posKey:000001, random:[54, 72, 107, 70, 53, 90, 66, 51]
2012-06-26 14:57:01,024 [pool-4-thread-8 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - new challenge for POS (POS ID): [103, 118, 112, 103, 100, 77, 72, 103]
2012-06-26 14:57:01,024 [pool-4-thread-8 ] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==serverKey=:JXTPOS
2012-06-26 14:57:01,040 [pool-4-thread-8 ] [DEBUG] ThreadSafeClientConnManager - Get connection: HttpRoute[{}->http://localhost:7070], timeout = 0
2012-06-26 14:57:01,040 [pool-4-thread-8 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - [HttpRoute[{}->http://localhost:7070]] total kept alive: 0, total issued: 0, total allocated: 0 out of 20
2012-06-26 14:57:01,040 [pool-4-thread-8 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - No free connections [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 14:57:01,040 [pool-4-thread-8 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Available capacity: 2 out of 2 [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 14:57:01,040 [pool-4-thread-8 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Creating new connection [HttpRoute[{}->http://localhost:7070]]
2012-06-26 14:57:01,040 [pool-4-thread-8 ] [DEBUG] ultClientConnectionOperator - Connecting to localhost:7070
2012-06-26 14:57:02,164 [pool-4-thread-8 ] [DEBUG] i.c.DefaultClientConnection - Connection closed
2012-06-26 14:57:02,164 [pool-4-thread-8 ] [DEBUG] i.c.DefaultClientConnection - Connection shut down
2012-06-26 14:57:02,164 [pool-4-thread-8 ] [DEBUG] ThreadSafeClientConnManager - Released connection is not reusable.
2012-06-26 14:57:02,164 [pool-4-thread-8 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Releasing connection [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 14:57:02,164 [pool-4-thread-8 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Notifying no-one, there are no waiting threads
2012-06-26 14:57:02,164 [pool-4-thread-8 ] [ERROR] q.m.p.h.LoginCommandHandler - initGrouponCache fail:com.chinarewards.qqgbvpn.qqapi.exception.ParseXMLException: com.chinarewards.qqgbvpn.qqapi.exception.SendPostTimeOutException: org.apache.http.conn.HttpHostConnectException: Connection to http://localhost:7070 refused
2012-06-26 14:57:02,180 [pool-4-thread-8 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 14:57:02,211 [pool-4-thread-8 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 14:57:02,211 [pool-4-thread-8 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 14:57:02,211 [pool-4-thread-8 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 14:57:02,211 [pool-4-thread-8 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 3
2012-06-26 14:57:02,211 [pool-4-thread-8 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (8)
2012-06-26 14:57:02,211 [pool-4-thread-8 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageResponseCodec@335053
2012-06-26 14:57:02,211 [pool-4-thread-8 ] [DEBUG] c.LoginMessageResponseCodec - login/bind message encode
2012-06-26 14:57:02,211 [pool-4-thread-8 ] [TRACE] c.LoginMessageResponseCodec - LoginResponseMessage: [cmdId=8, result=0, challenge=[103, 118, 112, 103, 100, 77, 72, 103]]
2012-06-26 14:57:02,211 [pool-4-thread-8 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0x7b46
2012-06-26 14:57:02,211 [pool-4-thread-8 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 14:57:02,211 [pool-4-thread-8 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 7B 46 00 00 00 1E ..........{F....
00000010 00 00 00 08 00 00 67 76 70 67 64 4D 48 67       ......gvpgdMHg

2012-06-26 14:57:02,211 [pool-4-thread-8 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 14:57:02,211 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 14:57:02,211 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 14:57:02,211 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 3: not mark to return session ID to client
2012-06-26 14:57:02,211 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 14:57:02,211 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 14:57:02,211 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 14:57:02,211 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:3463, Mina session ID 3, identified POS ID pos-0002
2012-06-26 14:57:02,211 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 33 of 33 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 D1 FF 00 00 00 21 ...............!
00000010 00 00 00 C9 00 0B 32 32 32 32 32 32 32 32 32 32 ......2222222222
00000020 32                                              2

2012-06-26 14:57:02,211 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=33 cap=1024: 00 00 00 10 00 00 00 00 00 00 D1 FF 00 00 00 21...]
2012-06-26 14:57:02,211 [NioProcessor-1  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 3
2012-06-26 14:57:02,211 [NioProcessor-1  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 14:57:02,211 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 14:57:02,211 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 3
2012-06-26 14:57:02,211 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =33
2012-06-26 14:57:02,211 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 33 of 33 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 D1 FF 00 00 00 21 ...............!
00000010 00 00 00 C9 00 0B 32 32 32 32 32 32 32 32 32 32 ......2222222222
00000020 32                                              2

2012-06-26 14:57:02,211 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 33, current position: 0
2012-06-26 14:57:02,211 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 14:57:02,211 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd1ff} messageSize:{0x21} sessionKey:{null}
2012-06-26 14:57:02,211 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 17
2012-06-26 14:57:02,211 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=17, in.remaining=17
2012-06-26 14:57:02,211 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 14:57:02,211 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 201
2012-06-26 14:57:02,211 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 201: com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftMessageCodec@dea768
2012-06-26 14:57:02,211 [NioProcessor-1  ] [DEBUG] m.c.ReceiveGiftMessageCodec - receive gift request message decode
2012-06-26 14:57:02,211 [NioProcessor-1  ] [DEBUG] m.c.ReceiveGiftMessageCodec - in.remaining()=17
2012-06-26 14:57:02,211 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 14:57:02,211 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd1ff} messageSize:{0x21} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@1c0cd80
2012-06-26 14:57:02,211 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 14:57:02,211 [NioProcessor-1  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 14:57:02,211 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 14:57:02,211 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 14:57:02,211 [NioProcessor-1  ] [DEBUG] c.c.q.m.p.f.LoginFilter     - isLogin=true
2012-06-26 14:57:02,211 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 14:57:02,211 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 14:57:02,211 [NioProcessor-1  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:3463, Mina session ID 3, identified POS ID pos-0002, message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd1ff} messageSize:{0x21} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@1c0cd80
2012-06-26 14:57:02,211 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 14:57:02,211 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 14:57:02,211 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 14:57:02,211 [NioProcessor-1  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 14:57:02,211 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 14:57:02,211 [pool-4-thread-9 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 14:57:02,211 [pool-4-thread-9 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 14:57:02,211 [pool-4-thread-9 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@12bbe6b obtained for command ID 201
2012-06-26 14:57:02,211 [pool-4-thread-9 ] [DEBUG] $$EnhancerByGuice$$22e9f5a5 - Handler for command ID 201 is com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@12bbe6b
2012-06-26 14:57:02,211 [pool-4-thread-9 ] [DEBUG] h.ReceiveGiftCommandHandler - ReceiveGiftHandler======execute==bodyMessage=: com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@1c0cd80
2012-06-26 14:57:02,226 [pool-4-thread-9 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 14:57:02,226 [pool-4-thread-9 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 14:57:02,226 [pool-4-thread-9 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 14:57:02,226 [pool-4-thread-9 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 14:57:02,226 [pool-4-thread-9 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 3
2012-06-26 14:57:02,226 [pool-4-thread-9 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (202)
2012-06-26 14:57:02,226 [pool-4-thread-9 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftResponseMessageCodec@8c39d7
2012-06-26 14:57:02,226 [pool-4-thread-9 ] [DEBUG] iveGiftResponseMessageCodec - receive gift response message encode
2012-06-26 14:57:02,226 [pool-4-thread-9 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0x8792
2012-06-26 14:57:02,226 [pool-4-thread-9 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 14:57:02,226 [pool-4-thread-9 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 55 of 55 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 87 92 00 00 00 37 ...............7
00000010 00 00 00 CA 00 00 00 01 07 DC 06 1A 0E 39 02 00 .............9..
00000020 D3 01 E0 00 08 C1 EC C8 A1 C0 F1 C6 B7 00 08 D2 ................
00000030 D1 C1 EC C8 A1 B9 FD                            .......

2012-06-26 14:57:02,226 [pool-4-thread-9 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 14:57:02,226 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 14:57:02,226 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 14:57:02,226 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 3: not mark to return session ID to client
2012-06-26 14:57:02,226 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 14:57:02,226 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 14:57:02,226 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 14:57:02,226 [NioProcessor-1  ] [INFO ] o.a.m.f.l.LoggingFilter     - CLOSED
2012-06-26 14:57:02,226 [NioProcessor-1  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 14:57:05,178 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:57:05,178 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:57:05,178 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 14:57:05,178 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=3
2012-06-26 14:57:05,178 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:57:11,939 [NioProcessor-2  ] [INFO ] c.c.q.m.p.f.LoggingFilter   - incoming connection from remote address: 127.0.0.1:3467, Mina session ID: 4
2012-06-26 14:57:11,939 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - Currently managed session count: 1
2012-06-26 14:57:11,939 [NioProcessor-2  ] [INFO ] o.a.m.f.l.LoggingFilter     - CREATED
2012-06-26 14:57:11,939 [NioProcessor-2  ] [INFO ] o.a.m.f.l.LoggingFilter     - OPENED
2012-06-26 14:57:11,939 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:3467, Mina session ID 4, identified POS ID null
2012-06-26 14:57:11,939 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 14:57:11,939 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=32 cap=2048: 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20...]
2012-06-26 14:57:11,971 [NioProcessor-2  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 4
2012-06-26 14:57:11,971 [NioProcessor-2  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 14:57:11,971 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 14:57:11,971 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 4
2012-06-26 14:57:11,971 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =32
2012-06-26 14:57:11,971 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 14:57:11,971 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 32, current position: 0
2012-06-26 14:57:11,971 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 14:57:11,971 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}
2012-06-26 14:57:11,971 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 16
2012-06-26 14:57:11,971 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=16, in.remaining=16
2012-06-26 14:57:11,971 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 14:57:11,971 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 5
2012-06-26 14:57:11,971 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 5: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageCodec@1565e9d
2012-06-26 14:57:11,971 [NioProcessor-2  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - init request message decode
2012-06-26 14:57:11,971 [Finalizer       ] [DEBUG] ThreadSafeClientConnManager - Shutting down
2012-06-26 14:57:11,971 [NioProcessor-2  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - in.remaining()=16
2012-06-26 14:57:11,971 [NioProcessor-2  ] [TRACE] .m.p.s.m.c.InitMessageCodec - InitRequestMessage: [cmdId=5, posId=pos-0002]
2012-06-26 14:57:11,971 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 14:57:11,971 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 14:57:11,971 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 14:57:11,971 [NioProcessor-2  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 14:57:11,971 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 14:57:11,971 [NioProcessor-2  ] [DEBUG] p.f.SessionKeyMessageFilter - Mina session ID 4: created session key 4b31930267994af78ce9bb24ff185b6c
2012-06-26 14:57:11,971 [NioProcessor-2  ] [DEBUG] p.f.SessionKeyMessageFilter - creating session for mina session ID 4 using session ID 4b31930267994af78ce9bb24ff185b6c
2012-06-26 14:57:11,971 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 14:57:11,971 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 14:57:11,971 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 14:57:11,971 [NioProcessor-2  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:3467, Mina session ID 4, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 14:57:11,971 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 14:57:11,971 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 14:57:11,971 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 14:57:11,971 [NioProcessor-2  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 14:57:11,971 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 14:57:11,971 [pool-4-thread-10] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 14:57:11,971 [pool-4-thread-10] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 14:57:11,971 [pool-4-thread-10] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@15ede11 obtained for command ID 5
2012-06-26 14:57:11,971 [pool-4-thread-10] [DEBUG] $$EnhancerByGuice$$22e9f5a5 - Handler for command ID 5 is com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@15ede11
2012-06-26 14:57:11,971 [pool-4-thread-10] [DEBUG] .q.m.p.h.InitCommandHandler - InitCommandHandler======execute==bodyMessage=:  [cmdId=5, posId=pos-0002]
2012-06-26 14:57:11,971 [pool-4-thread-10] [DEBUG] .q.m.l.l.i.LoginManagerImpl - InitResponse() invoke
2012-06-26 14:57:11,971 [pool-4-thread-10] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:ALLOWED
2012-06-26 14:57:11,971 [pool-4-thread-10] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId AND p.ostatus = :ostatus
2012-06-26 14:57:11,971 [pool-4-thread-10] [DEBUG] .q.m.l.l.i.LoginManagerImpl - POS ID:pos-0002, init challenge saved - [86, 107, 84, 85, 77, 77, 104, 85]
2012-06-26 14:57:11,971 [pool-4-thread-10] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 14:57:11,986 [pool-4-thread-10] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 14:57:12,002 [pool-4-thread-10] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 14:57:12,002 [pool-4-thread-10] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 14:57:12,002 [pool-4-thread-10] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 4
2012-06-26 14:57:12,002 [pool-4-thread-10] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (6)
2012-06-26 14:57:12,002 [pool-4-thread-10] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageResponseCodec@64dd79
2012-06-26 14:57:12,002 [pool-4-thread-10] [DEBUG] .c.InitMessageResponseCodec - init response message encode
2012-06-26 14:57:12,002 [pool-4-thread-10] [TRACE] .c.InitMessageResponseCodec - InitResponseMessage: [cmdId=6, result=0, challenge=[86, 107, 84, 85, 77, 77, 104, 85]]
2012-06-26 14:57:12,002 [pool-4-thread-10] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0x9f77
2012-06-26 14:57:12,002 [pool-4-thread-10] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 14:57:12,002 [pool-4-thread-10] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 9F 77 00 00 00 1E ...........w....
00000010 00 00 00 06 00 00 56 6B 54 55 4D 4D 68 55       ......VkTUMMhU

2012-06-26 14:57:12,002 [pool-4-thread-10] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 14:57:12,002 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 14:57:12,002 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 14:57:12,002 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 4: not mark to return session ID to client
2012-06-26 14:57:12,002 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 14:57:12,002 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 14:57:12,002 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 14:57:12,220 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:3467, Mina session ID 4, identified POS ID pos-0002
2012-06-26 14:57:12,220 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 92 D3 00 00 00 30 ...............0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 E1 94 F7 0F 87 90 51 2C 1D C9 E5 A9 BC 5C B7 C3 ......Q,.....\..

2012-06-26 14:57:12,220 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=48 cap=2048: 00 00 00 01 00 00 00 00 00 00 92 D3 00 00 00 30...]
2012-06-26 14:57:12,220 [NioProcessor-2  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 4
2012-06-26 14:57:12,220 [NioProcessor-2  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 14:57:12,220 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 14:57:12,220 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 4
2012-06-26 14:57:12,220 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =48
2012-06-26 14:57:12,220 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 92 D3 00 00 00 30 ...............0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 E1 94 F7 0F 87 90 51 2C 1D C9 E5 A9 BC 5C B7 C3 ......Q,.....\..

2012-06-26 14:57:12,220 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 48, current position: 0
2012-06-26 14:57:12,220 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 14:57:12,220 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x92d3} messageSize:{0x30} sessionKey:{null}
2012-06-26 14:57:12,220 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 32
2012-06-26 14:57:12,220 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=32, in.remaining=32
2012-06-26 14:57:12,220 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 14:57:12,220 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 7
2012-06-26 14:57:12,220 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 7: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageCodec@e72f0c
2012-06-26 14:57:12,220 [NioProcessor-2  ] [DEBUG] m.p.s.m.c.LoginMessageCodec - login/bind message decode
2012-06-26 14:57:12,220 [NioProcessor-2  ] [TRACE] m.p.s.m.c.LoginMessageCodec - LoginRequestMessage: [cmdId=7, posId=pos-0002, challengeResponse=[-31, -108, -9, 15, -121, -112, 81, 44, 29, -55, -27, -87, -68, 92, -73, -61]]
2012-06-26 14:57:12,220 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 14:57:12,220 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x92d3} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[-31, -108, -9, 15, -121, -112, 81, 44, 29, -55, -27, -87, -68, 92, -73, -61]]
2012-06-26 14:57:12,220 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 14:57:12,220 [NioProcessor-2  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 14:57:12,220 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 14:57:12,220 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 14:57:12,220 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 14:57:12,220 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 14:57:12,220 [NioProcessor-2  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:3467, Mina session ID 4, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x92d3} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[-31, -108, -9, 15, -121, -112, 81, 44, 29, -55, -27, -87, -68, 92, -73, -61]]
2012-06-26 14:57:12,220 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 14:57:12,220 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 14:57:12,220 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 14:57:12,220 [NioProcessor-2  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 14:57:12,220 [pool-4-thread-11] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 14:57:12,220 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 14:57:12,220 [pool-4-thread-11] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 14:57:12,220 [pool-4-thread-11] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@d175ff obtained for command ID 7
2012-06-26 14:57:12,220 [pool-4-thread-11] [DEBUG] $$EnhancerByGuice$$22e9f5a5 - Handler for command ID 7 is com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@d175ff
2012-06-26 14:57:12,220 [pool-4-thread-11] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==bodyMessage=: [cmdId=7, posId=pos-0002, challengeResponse=[-31, -108, -9, 15, -121, -112, 81, 44, 29, -55, -27, -87, -68, 92, -73, -61]]
2012-06-26 14:57:12,220 [pool-4-thread-11] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:null
2012-06-26 14:57:12,220 [pool-4-thread-11] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId
2012-06-26 14:57:12,220 [pool-4-thread-11] [TRACE] .q.m.l.l.i.LoginManagerImpl - Loaded from db: pos.posId:pos-0002, pos.secret:000001, oldChallenge:[86, 107, 84, 85, 77, 77, 104, 85]
2012-06-26 14:57:12,220 [pool-4-thread-11] [DEBUG] .q.m.l.l.i.LoginManagerImpl - disableChallengeCheck =0
2012-06-26 14:57:12,220 [pool-4-thread-11] [TRACE] c.c.q.m.l.c.ChallengeUtil   - checking challenge:response:[-31, -108, -9, 15, -121, -112, 81, 44, 29, -55, -27, -87, -68, 92, -73, -61], posKey:000001, random:[86, 107, 84, 85, 77, 77, 104, 85]
2012-06-26 14:57:12,220 [pool-4-thread-11] [DEBUG] .q.m.l.l.i.LoginManagerImpl - new challenge for POS (POS ID): [57, 56, 56, 69, 116, 56, 69, 83]
2012-06-26 14:57:12,220 [pool-4-thread-11] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==serverKey=:JXTPOS
2012-06-26 14:57:12,236 [pool-4-thread-11] [DEBUG] ThreadSafeClientConnManager - Get connection: HttpRoute[{}->http://localhost:7070], timeout = 0
2012-06-26 14:57:12,236 [pool-4-thread-11] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - [HttpRoute[{}->http://localhost:7070]] total kept alive: 0, total issued: 0, total allocated: 0 out of 20
2012-06-26 14:57:12,236 [pool-4-thread-11] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - No free connections [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 14:57:12,236 [pool-4-thread-11] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Available capacity: 2 out of 2 [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 14:57:12,236 [pool-4-thread-11] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Creating new connection [HttpRoute[{}->http://localhost:7070]]
2012-06-26 14:57:12,236 [pool-4-thread-11] [DEBUG] ultClientConnectionOperator - Connecting to localhost:7070
2012-06-26 14:57:13,438 [pool-4-thread-11] [DEBUG] i.c.DefaultClientConnection - Connection closed
2012-06-26 14:57:13,438 [pool-4-thread-11] [DEBUG] i.c.DefaultClientConnection - Connection shut down
2012-06-26 14:57:13,438 [pool-4-thread-11] [DEBUG] ThreadSafeClientConnManager - Released connection is not reusable.
2012-06-26 14:57:13,438 [pool-4-thread-11] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Releasing connection [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 14:57:13,438 [pool-4-thread-11] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Notifying no-one, there are no waiting threads
2012-06-26 14:57:13,438 [pool-4-thread-11] [ERROR] q.m.p.h.LoginCommandHandler - initGrouponCache fail:com.chinarewards.qqgbvpn.qqapi.exception.ParseXMLException: com.chinarewards.qqgbvpn.qqapi.exception.SendPostTimeOutException: org.apache.http.conn.HttpHostConnectException: Connection to http://localhost:7070 refused
2012-06-26 14:57:13,438 [pool-4-thread-11] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 14:57:13,470 [pool-4-thread-11] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 14:57:13,470 [pool-4-thread-11] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 14:57:13,470 [pool-4-thread-11] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 14:57:13,470 [pool-4-thread-11] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 4
2012-06-26 14:57:13,470 [pool-4-thread-11] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (8)
2012-06-26 14:57:13,470 [pool-4-thread-11] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageResponseCodec@15fc606
2012-06-26 14:57:13,470 [pool-4-thread-11] [DEBUG] c.LoginMessageResponseCodec - login/bind message encode
2012-06-26 14:57:13,470 [pool-4-thread-11] [TRACE] c.LoginMessageResponseCodec - LoginResponseMessage: [cmdId=8, result=0, challenge=[57, 56, 56, 69, 116, 56, 69, 83]]
2012-06-26 14:57:13,470 [pool-4-thread-11] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0xd4cf
2012-06-26 14:57:13,470 [pool-4-thread-11] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 14:57:13,470 [pool-4-thread-11] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 D4 CF 00 00 00 1E ................
00000010 00 00 00 08 00 00 39 38 38 45 74 38 45 53       ......988Et8ES

2012-06-26 14:57:13,470 [pool-4-thread-11] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 14:57:13,470 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 14:57:13,470 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 14:57:13,470 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 4: not mark to return session ID to client
2012-06-26 14:57:13,470 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 14:57:13,470 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 14:57:13,470 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 14:57:13,470 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:3467, Mina session ID 4, identified POS ID pos-0002
2012-06-26 14:57:13,470 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 28 of 28 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 65 68 00 00 00 1C ..........eh....
00000010 00 00 00 C9 00 06 31 32 33 34 35 36             ......123456

2012-06-26 14:57:13,470 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=28 cap=1024: 00 00 00 10 00 00 00 00 00 00 65 68 00 00 00 1C...]
2012-06-26 14:57:13,470 [NioProcessor-2  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 4
2012-06-26 14:57:13,470 [NioProcessor-2  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 14:57:13,470 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 14:57:13,470 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 4
2012-06-26 14:57:13,470 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =28
2012-06-26 14:57:13,470 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 28 of 28 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 65 68 00 00 00 1C ..........eh....
00000010 00 00 00 C9 00 06 31 32 33 34 35 36             ......123456

2012-06-26 14:57:13,470 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 28, current position: 0
2012-06-26 14:57:13,470 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 14:57:13,470 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0x6568} messageSize:{0x1c} sessionKey:{null}
2012-06-26 14:57:13,470 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 12
2012-06-26 14:57:13,470 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=12, in.remaining=12
2012-06-26 14:57:13,470 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 14:57:13,470 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 201
2012-06-26 14:57:13,470 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 201: com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftMessageCodec@c1e4d5
2012-06-26 14:57:13,470 [NioProcessor-2  ] [DEBUG] m.c.ReceiveGiftMessageCodec - receive gift request message decode
2012-06-26 14:57:13,470 [NioProcessor-2  ] [DEBUG] m.c.ReceiveGiftMessageCodec - in.remaining()=12
2012-06-26 14:57:13,470 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 14:57:13,470 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0x6568} messageSize:{0x1c} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@1966070
2012-06-26 14:57:13,470 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 14:57:13,470 [NioProcessor-2  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 14:57:13,470 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 14:57:13,470 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 14:57:13,470 [NioProcessor-2  ] [DEBUG] c.c.q.m.p.f.LoginFilter     - isLogin=true
2012-06-26 14:57:13,470 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 14:57:13,470 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 14:57:13,470 [NioProcessor-2  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:3467, Mina session ID 4, identified POS ID pos-0002, message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0x6568} messageSize:{0x1c} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@1966070
2012-06-26 14:57:13,470 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 14:57:13,470 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 14:57:13,470 [pool-4-thread-12] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 14:57:13,470 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 14:57:13,470 [NioProcessor-2  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 14:57:13,470 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 14:57:13,470 [pool-4-thread-12] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 14:57:13,470 [pool-4-thread-12] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@1e779a7 obtained for command ID 201
2012-06-26 14:57:13,470 [pool-4-thread-12] [DEBUG] $$EnhancerByGuice$$22e9f5a5 - Handler for command ID 201 is com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@1e779a7
2012-06-26 14:57:13,470 [pool-4-thread-12] [DEBUG] h.ReceiveGiftCommandHandler - ReceiveGiftHandler======execute==bodyMessage=: com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@1966070
2012-06-26 14:57:13,470 [pool-4-thread-12] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 14:57:13,470 [pool-4-thread-12] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 14:57:13,470 [pool-4-thread-12] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 14:57:13,470 [pool-4-thread-12] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 14:57:13,470 [pool-4-thread-12] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 4
2012-06-26 14:57:13,470 [pool-4-thread-12] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (202)
2012-06-26 14:57:13,470 [pool-4-thread-12] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftResponseMessageCodec@9bad4f
2012-06-26 14:57:13,470 [pool-4-thread-12] [DEBUG] iveGiftResponseMessageCodec - receive gift response message encode
2012-06-26 14:57:13,470 [pool-4-thread-12] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0xf83e
2012-06-26 14:57:13,470 [pool-4-thread-12] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 14:57:13,470 [pool-4-thread-12] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 69 of 69 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 F8 3E 00 00 00 45 ...........>...E
00000010 00 00 00 CA 00 00 00 02 07 DC 06 1A 0E 39 0D 01 .............9..
00000020 D6 01 E0 00 08 C1 EC C8 A1 C0 F1 C6 B7 00 16 31 ...............1
00000030 32 33 34 35 36 0A CE DE D0 A7 0A B0 B4 4F 4B BC 23456........OK.
00000040 FC B7 B5 BB D8                                  .....

2012-06-26 14:57:13,470 [pool-4-thread-12] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 14:57:13,470 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 14:57:13,470 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 14:57:13,470 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 4: not mark to return session ID to client
2012-06-26 14:57:13,470 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 14:57:13,470 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 14:57:13,470 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 14:57:13,485 [NioProcessor-2  ] [INFO ] o.a.m.f.l.LoggingFilter     - CLOSED
2012-06-26 14:57:13,485 [NioProcessor-2  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 14:57:13,719 [NioProcessor-3  ] [INFO ] c.c.q.m.p.f.LoggingFilter   - incoming connection from remote address: 127.0.0.1:3469, Mina session ID: 5
2012-06-26 14:57:13,719 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - Currently managed session count: 1
2012-06-26 14:57:13,719 [NioProcessor-3  ] [INFO ] o.a.m.f.l.LoggingFilter     - CREATED
2012-06-26 14:57:13,719 [NioProcessor-3  ] [INFO ] o.a.m.f.l.LoggingFilter     - OPENED
2012-06-26 14:57:13,860 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:3469, Mina session ID 5, identified POS ID null
2012-06-26 14:57:13,860 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 14:57:13,860 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=32 cap=2048: 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20...]
2012-06-26 14:57:13,860 [NioProcessor-3  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 5
2012-06-26 14:57:13,860 [NioProcessor-3  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 14:57:13,860 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 14:57:13,860 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 5
2012-06-26 14:57:13,860 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =32
2012-06-26 14:57:13,860 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 14:57:13,860 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 32, current position: 0
2012-06-26 14:57:13,860 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 14:57:13,860 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}
2012-06-26 14:57:13,860 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 16
2012-06-26 14:57:13,860 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=16, in.remaining=16
2012-06-26 14:57:13,860 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 14:57:13,860 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 5
2012-06-26 14:57:13,860 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 5: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageCodec@5ba50e
2012-06-26 14:57:13,860 [NioProcessor-3  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - init request message decode
2012-06-26 14:57:13,860 [NioProcessor-3  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - in.remaining()=16
2012-06-26 14:57:13,860 [NioProcessor-3  ] [TRACE] .m.p.s.m.c.InitMessageCodec - InitRequestMessage: [cmdId=5, posId=pos-0002]
2012-06-26 14:57:13,860 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 14:57:13,860 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 14:57:13,860 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 14:57:13,860 [NioProcessor-3  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 14:57:13,860 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 14:57:13,860 [NioProcessor-3  ] [DEBUG] p.f.SessionKeyMessageFilter - Mina session ID 5: created session key 1939f3f7c1d243b481dd418f29e31fda
2012-06-26 14:57:13,860 [NioProcessor-3  ] [DEBUG] p.f.SessionKeyMessageFilter - creating session for mina session ID 5 using session ID 1939f3f7c1d243b481dd418f29e31fda
2012-06-26 14:57:13,860 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 14:57:13,860 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 14:57:13,860 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 14:57:13,860 [NioProcessor-3  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:3469, Mina session ID 5, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 14:57:13,860 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 14:57:13,860 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 14:57:13,876 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 14:57:13,876 [Finalizer       ] [DEBUG] ThreadSafeClientConnManager - Shutting down
2012-06-26 14:57:13,876 [NioProcessor-3  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 14:57:13,860 [pool-4-thread-13] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 14:57:13,876 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 14:57:13,876 [pool-4-thread-13] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 14:57:13,876 [pool-4-thread-13] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@41647f obtained for command ID 5
2012-06-26 14:57:13,876 [pool-4-thread-13] [DEBUG] $$EnhancerByGuice$$22e9f5a5 - Handler for command ID 5 is com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@41647f
2012-06-26 14:57:13,876 [pool-4-thread-13] [DEBUG] .q.m.p.h.InitCommandHandler - InitCommandHandler======execute==bodyMessage=:  [cmdId=5, posId=pos-0002]
2012-06-26 14:57:13,876 [pool-4-thread-13] [DEBUG] .q.m.l.l.i.LoginManagerImpl - InitResponse() invoke
2012-06-26 14:57:13,876 [pool-4-thread-13] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:ALLOWED
2012-06-26 14:57:13,876 [pool-4-thread-13] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId AND p.ostatus = :ostatus
2012-06-26 14:57:13,876 [pool-4-thread-13] [DEBUG] .q.m.l.l.i.LoginManagerImpl - POS ID:pos-0002, init challenge saved - [88, 77, 114, 99, 72, 118, 113, 72]
2012-06-26 14:57:13,876 [pool-4-thread-13] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 14:57:13,891 [pool-4-thread-13] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 14:57:13,891 [pool-4-thread-13] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 14:57:13,891 [pool-4-thread-13] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 14:57:13,891 [pool-4-thread-13] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 5
2012-06-26 14:57:13,891 [pool-4-thread-13] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (6)
2012-06-26 14:57:13,891 [pool-4-thread-13] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageResponseCodec@e8eeca
2012-06-26 14:57:13,891 [pool-4-thread-13] [DEBUG] .c.InitMessageResponseCodec - init response message encode
2012-06-26 14:57:13,891 [pool-4-thread-13] [TRACE] .c.InitMessageResponseCodec - InitResponseMessage: [cmdId=6, result=0, challenge=[88, 77, 114, 99, 72, 118, 113, 72]]
2012-06-26 14:57:13,891 [pool-4-thread-13] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0x7b6b
2012-06-26 14:57:13,891 [pool-4-thread-13] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 14:57:13,891 [pool-4-thread-13] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 7B 6B 00 00 00 1E ..........{k....
00000010 00 00 00 06 00 00 58 4D 72 63 48 76 71 48       ......XMrcHvqH

2012-06-26 14:57:13,907 [pool-4-thread-13] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 14:57:13,907 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 14:57:13,907 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 14:57:13,907 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 5: not mark to return session ID to client
2012-06-26 14:57:13,907 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 14:57:13,907 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 14:57:13,907 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 14:57:13,907 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:3469, Mina session ID 5, identified POS ID pos-0002
2012-06-26 14:57:13,907 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 C1 CA 00 00 00 30 ...............0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 60 5E 14 2D 4D 6D 34 DD 5F 2D 35 FE 41 E1 2C 1B `^.-Mm4._-5.A.,.

2012-06-26 14:57:13,907 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=48 cap=2048: 00 00 00 01 00 00 00 00 00 00 C1 CA 00 00 00 30...]
2012-06-26 14:57:13,907 [NioProcessor-3  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 5
2012-06-26 14:57:13,907 [NioProcessor-3  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 14:57:13,907 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 14:57:13,907 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 5
2012-06-26 14:57:13,907 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =48
2012-06-26 14:57:13,907 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 C1 CA 00 00 00 30 ...............0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 60 5E 14 2D 4D 6D 34 DD 5F 2D 35 FE 41 E1 2C 1B `^.-Mm4._-5.A.,.

2012-06-26 14:57:13,907 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 48, current position: 0
2012-06-26 14:57:13,907 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 14:57:13,907 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xc1ca} messageSize:{0x30} sessionKey:{null}
2012-06-26 14:57:13,907 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 32
2012-06-26 14:57:13,907 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=32, in.remaining=32
2012-06-26 14:57:13,907 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 14:57:13,907 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 7
2012-06-26 14:57:13,907 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 7: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageCodec@3e574
2012-06-26 14:57:13,907 [NioProcessor-3  ] [DEBUG] m.p.s.m.c.LoginMessageCodec - login/bind message decode
2012-06-26 14:57:13,907 [NioProcessor-3  ] [TRACE] m.p.s.m.c.LoginMessageCodec - LoginRequestMessage: [cmdId=7, posId=pos-0002, challengeResponse=[96, 94, 20, 45, 77, 109, 52, -35, 95, 45, 53, -2, 65, -31, 44, 27]]
2012-06-26 14:57:13,907 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 14:57:13,907 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xc1ca} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[96, 94, 20, 45, 77, 109, 52, -35, 95, 45, 53, -2, 65, -31, 44, 27]]
2012-06-26 14:57:13,907 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 14:57:13,907 [NioProcessor-3  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 14:57:13,907 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 14:57:13,907 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 14:57:13,907 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 14:57:13,907 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 14:57:13,907 [NioProcessor-3  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:3469, Mina session ID 5, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xc1ca} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[96, 94, 20, 45, 77, 109, 52, -35, 95, 45, 53, -2, 65, -31, 44, 27]]
2012-06-26 14:57:13,907 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 14:57:13,907 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 14:57:13,907 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 14:57:13,907 [NioProcessor-3  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 14:57:13,907 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 14:57:13,907 [pool-4-thread-14] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 14:57:13,907 [pool-4-thread-14] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 14:57:13,907 [pool-4-thread-14] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@bed1fd obtained for command ID 7
2012-06-26 14:57:13,907 [pool-4-thread-14] [DEBUG] $$EnhancerByGuice$$22e9f5a5 - Handler for command ID 7 is com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@bed1fd
2012-06-26 14:57:13,907 [pool-4-thread-14] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==bodyMessage=: [cmdId=7, posId=pos-0002, challengeResponse=[96, 94, 20, 45, 77, 109, 52, -35, 95, 45, 53, -2, 65, -31, 44, 27]]
2012-06-26 14:57:13,907 [pool-4-thread-14] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:null
2012-06-26 14:57:13,907 [pool-4-thread-14] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId
2012-06-26 14:57:13,907 [pool-4-thread-14] [TRACE] .q.m.l.l.i.LoginManagerImpl - Loaded from db: pos.posId:pos-0002, pos.secret:000001, oldChallenge:[88, 77, 114, 99, 72, 118, 113, 72]
2012-06-26 14:57:13,907 [pool-4-thread-14] [DEBUG] .q.m.l.l.i.LoginManagerImpl - disableChallengeCheck =0
2012-06-26 14:57:13,907 [pool-4-thread-14] [TRACE] c.c.q.m.l.c.ChallengeUtil   - checking challenge:response:[96, 94, 20, 45, 77, 109, 52, -35, 95, 45, 53, -2, 65, -31, 44, 27], posKey:000001, random:[88, 77, 114, 99, 72, 118, 113, 72]
2012-06-26 14:57:13,907 [pool-4-thread-14] [DEBUG] .q.m.l.l.i.LoginManagerImpl - new challenge for POS (POS ID): [114, 74, 50, 76, 103, 115, 106, 69]
2012-06-26 14:57:13,907 [pool-4-thread-14] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==serverKey=:JXTPOS
2012-06-26 14:57:13,922 [pool-4-thread-14] [DEBUG] ThreadSafeClientConnManager - Get connection: HttpRoute[{}->http://localhost:7070], timeout = 0
2012-06-26 14:57:13,922 [pool-4-thread-14] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - [HttpRoute[{}->http://localhost:7070]] total kept alive: 0, total issued: 0, total allocated: 0 out of 20
2012-06-26 14:57:13,922 [pool-4-thread-14] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - No free connections [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 14:57:13,922 [pool-4-thread-14] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Available capacity: 2 out of 2 [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 14:57:13,922 [pool-4-thread-14] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Creating new connection [HttpRoute[{}->http://localhost:7070]]
2012-06-26 14:57:13,922 [pool-4-thread-14] [DEBUG] ultClientConnectionOperator - Connecting to localhost:7070
2012-06-26 14:57:14,969 [pool-4-thread-14] [DEBUG] i.c.DefaultClientConnection - Connection closed
2012-06-26 14:57:14,969 [pool-4-thread-14] [DEBUG] i.c.DefaultClientConnection - Connection shut down
2012-06-26 14:57:14,969 [pool-4-thread-14] [DEBUG] ThreadSafeClientConnManager - Released connection is not reusable.
2012-06-26 14:57:14,969 [pool-4-thread-14] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Releasing connection [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 14:57:14,969 [pool-4-thread-14] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Notifying no-one, there are no waiting threads
2012-06-26 14:57:14,969 [pool-4-thread-14] [ERROR] q.m.p.h.LoginCommandHandler - initGrouponCache fail:com.chinarewards.qqgbvpn.qqapi.exception.ParseXMLException: com.chinarewards.qqgbvpn.qqapi.exception.SendPostTimeOutException: org.apache.http.conn.HttpHostConnectException: Connection to http://localhost:7070 refused
2012-06-26 14:57:14,984 [pool-4-thread-14] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 14:57:15,031 [pool-4-thread-14] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 14:57:15,031 [pool-4-thread-14] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 14:57:15,031 [pool-4-thread-14] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 14:57:15,031 [pool-4-thread-14] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 5
2012-06-26 14:57:15,031 [pool-4-thread-14] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (8)
2012-06-26 14:57:15,031 [pool-4-thread-14] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageResponseCodec@16d3046
2012-06-26 14:57:15,031 [pool-4-thread-14] [DEBUG] c.LoginMessageResponseCodec - login/bind message encode
2012-06-26 14:57:15,031 [pool-4-thread-14] [TRACE] c.LoginMessageResponseCodec - LoginResponseMessage: [cmdId=8, result=0, challenge=[114, 74, 50, 76, 103, 115, 106, 69]]
2012-06-26 14:57:15,031 [pool-4-thread-14] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0x8989
2012-06-26 14:57:15,031 [pool-4-thread-14] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 14:57:15,031 [pool-4-thread-14] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 89 89 00 00 00 1E ................
00000010 00 00 00 08 00 00 72 4A 32 4C 67 73 6A 45       ......rJ2LgsjE

2012-06-26 14:57:15,031 [pool-4-thread-14] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 14:57:15,031 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 14:57:15,031 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 14:57:15,031 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 5: not mark to return session ID to client
2012-06-26 14:57:15,031 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 14:57:15,031 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 14:57:15,031 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 14:57:15,031 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:3469, Mina session ID 5, identified POS ID pos-0002
2012-06-26 14:57:15,031 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 33 of 33 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 D8 04 00 00 00 21 ...............!
00000010 00 00 00 C9 00 0B 31 31 31 31 31 31 31 31 31 31 ......1111111111
00000020 31                                              1

2012-06-26 14:57:15,031 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=33 cap=1024: 00 00 00 10 00 00 00 00 00 00 D8 04 00 00 00 21...]
2012-06-26 14:57:15,031 [NioProcessor-3  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 5
2012-06-26 14:57:15,047 [NioProcessor-3  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 14:57:15,047 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 14:57:15,047 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 5
2012-06-26 14:57:15,047 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =33
2012-06-26 14:57:15,047 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 33 of 33 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 D8 04 00 00 00 21 ...............!
00000010 00 00 00 C9 00 0B 31 31 31 31 31 31 31 31 31 31 ......1111111111
00000020 31                                              1

2012-06-26 14:57:15,047 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 33, current position: 0
2012-06-26 14:57:15,047 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 14:57:15,047 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd804} messageSize:{0x21} sessionKey:{null}
2012-06-26 14:57:15,047 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 17
2012-06-26 14:57:15,047 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=17, in.remaining=17
2012-06-26 14:57:15,047 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 14:57:15,047 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 201
2012-06-26 14:57:15,047 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 201: com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftMessageCodec@17c4779
2012-06-26 14:57:15,047 [NioProcessor-3  ] [DEBUG] m.c.ReceiveGiftMessageCodec - receive gift request message decode
2012-06-26 14:57:15,047 [NioProcessor-3  ] [DEBUG] m.c.ReceiveGiftMessageCodec - in.remaining()=17
2012-06-26 14:57:15,047 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 14:57:15,047 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd804} messageSize:{0x21} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@3861e6
2012-06-26 14:57:15,047 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 14:57:15,047 [NioProcessor-3  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 14:57:15,047 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 14:57:15,047 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 14:57:15,047 [NioProcessor-3  ] [DEBUG] c.c.q.m.p.f.LoginFilter     - isLogin=true
2012-06-26 14:57:15,047 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 14:57:15,047 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 14:57:15,047 [NioProcessor-3  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:3469, Mina session ID 5, identified POS ID pos-0002, message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd804} messageSize:{0x21} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@3861e6
2012-06-26 14:57:15,047 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 14:57:15,047 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 14:57:15,047 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 14:57:15,047 [NioProcessor-3  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 14:57:15,047 [pool-4-thread-15] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 14:57:15,047 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 14:57:15,047 [pool-4-thread-15] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 14:57:15,047 [pool-4-thread-15] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@edf4c8 obtained for command ID 201
2012-06-26 14:57:15,047 [pool-4-thread-15] [DEBUG] $$EnhancerByGuice$$22e9f5a5 - Handler for command ID 201 is com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@edf4c8
2012-06-26 14:57:15,047 [pool-4-thread-15] [DEBUG] h.ReceiveGiftCommandHandler - ReceiveGiftHandler======execute==bodyMessage=: com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@3861e6
2012-06-26 14:57:15,047 [pool-4-thread-15] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 14:57:15,047 [pool-4-thread-15] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 14:57:15,047 [pool-4-thread-15] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 14:57:15,047 [pool-4-thread-15] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 14:57:15,047 [pool-4-thread-15] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 5
2012-06-26 14:57:15,047 [pool-4-thread-15] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (202)
2012-06-26 14:57:15,047 [pool-4-thread-15] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftResponseMessageCodec@1d0e17a
2012-06-26 14:57:15,047 [pool-4-thread-15] [DEBUG] iveGiftResponseMessageCodec - receive gift response message encode
2012-06-26 14:57:15,047 [pool-4-thread-15] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0x1e93
2012-06-26 14:57:15,047 [pool-4-thread-15] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 14:57:15,047 [pool-4-thread-15] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 55 of 55 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 1E 93 00 00 00 37 ...............7
00000010 00 00 00 CA 00 00 00 01 07 DC 06 1A 0E 39 0F 00 .............9..
00000020 2F 01 E0 00 08 C1 EC C8 A1 C0 F1 C6 B7 00 08 D2 /...............
00000030 D1 C1 EC C8 A1 B9 FD                            .......

2012-06-26 14:57:15,047 [pool-4-thread-15] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 14:57:15,047 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 14:57:15,047 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 14:57:15,047 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 5: not mark to return session ID to client
2012-06-26 14:57:15,047 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 14:57:15,047 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 14:57:15,047 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 14:57:15,047 [NioProcessor-3  ] [INFO ] o.a.m.f.l.LoggingFilter     - CLOSED
2012-06-26 14:57:15,047 [NioProcessor-3  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 14:57:15,265 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:57:15,265 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:57:15,265 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=5
2012-06-26 14:57:15,265 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=5
2012-06-26 14:57:15,265 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:57:15,281 [NioProcessor-1  ] [INFO ] c.c.q.m.p.f.LoggingFilter   - incoming connection from remote address: 127.0.0.1:3471, Mina session ID: 6
2012-06-26 14:57:15,297 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - Currently managed session count: 1
2012-06-26 14:57:15,297 [NioProcessor-1  ] [INFO ] o.a.m.f.l.LoggingFilter     - CREATED
2012-06-26 14:57:15,297 [NioProcessor-1  ] [INFO ] o.a.m.f.l.LoggingFilter     - OPENED
2012-06-26 14:57:15,297 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:3471, Mina session ID 6, identified POS ID null
2012-06-26 14:57:15,297 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 14:57:15,297 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=32 cap=2048: 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20...]
2012-06-26 14:57:15,297 [NioProcessor-1  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 6
2012-06-26 14:57:15,297 [NioProcessor-1  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 14:57:15,297 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 14:57:15,297 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 6
2012-06-26 14:57:15,297 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =32
2012-06-26 14:57:15,297 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 14:57:15,297 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 32, current position: 0
2012-06-26 14:57:15,297 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 14:57:15,297 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}
2012-06-26 14:57:15,297 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 16
2012-06-26 14:57:15,297 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=16, in.remaining=16
2012-06-26 14:57:15,297 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 14:57:15,297 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 5
2012-06-26 14:57:15,297 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 5: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageCodec@1ae81ab
2012-06-26 14:57:15,297 [NioProcessor-1  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - init request message decode
2012-06-26 14:57:15,297 [NioProcessor-1  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - in.remaining()=16
2012-06-26 14:57:15,297 [NioProcessor-1  ] [TRACE] .m.p.s.m.c.InitMessageCodec - InitRequestMessage: [cmdId=5, posId=pos-0002]
2012-06-26 14:57:15,297 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 14:57:15,297 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 14:57:15,297 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 14:57:15,297 [NioProcessor-1  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 14:57:15,297 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 14:57:15,297 [NioProcessor-1  ] [DEBUG] p.f.SessionKeyMessageFilter - Mina session ID 6: created session key 1c907e148fa844d79a2f2078a4c6cf62
2012-06-26 14:57:15,297 [NioProcessor-1  ] [DEBUG] p.f.SessionKeyMessageFilter - creating session for mina session ID 6 using session ID 1c907e148fa844d79a2f2078a4c6cf62
2012-06-26 14:57:15,297 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 14:57:15,297 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 14:57:15,297 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 14:57:15,297 [NioProcessor-1  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:3471, Mina session ID 6, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 14:57:15,297 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 14:57:15,297 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 14:57:15,297 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 14:57:15,297 [pool-4-thread-16] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 14:57:15,297 [NioProcessor-1  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 14:57:15,297 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 14:57:15,297 [pool-4-thread-16] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 14:57:15,297 [pool-4-thread-16] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@12efcfe obtained for command ID 5
2012-06-26 14:57:15,297 [pool-4-thread-16] [DEBUG] $$EnhancerByGuice$$22e9f5a5 - Handler for command ID 5 is com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@12efcfe
2012-06-26 14:57:15,297 [pool-4-thread-16] [DEBUG] .q.m.p.h.InitCommandHandler - InitCommandHandler======execute==bodyMessage=:  [cmdId=5, posId=pos-0002]
2012-06-26 14:57:15,297 [pool-4-thread-16] [DEBUG] .q.m.l.l.i.LoginManagerImpl - InitResponse() invoke
2012-06-26 14:57:15,297 [pool-4-thread-16] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:ALLOWED
2012-06-26 14:57:15,297 [pool-4-thread-16] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId AND p.ostatus = :ostatus
2012-06-26 14:57:15,297 [pool-4-thread-16] [DEBUG] .q.m.l.l.i.LoginManagerImpl - POS ID:pos-0002, init challenge saved - [49, 120, 71, 121, 70, 108, 50, 100]
2012-06-26 14:57:15,297 [pool-4-thread-16] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 14:57:15,343 [pool-4-thread-16] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 14:57:15,343 [pool-4-thread-16] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 14:57:15,343 [pool-4-thread-16] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 14:57:15,343 [pool-4-thread-16] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 6
2012-06-26 14:57:15,343 [pool-4-thread-16] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (6)
2012-06-26 14:57:15,343 [pool-4-thread-16] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageResponseCodec@d7a9c9
2012-06-26 14:57:15,343 [pool-4-thread-16] [DEBUG] .c.InitMessageResponseCodec - init response message encode
2012-06-26 14:57:15,343 [pool-4-thread-16] [TRACE] .c.InitMessageResponseCodec - InitResponseMessage: [cmdId=6, result=0, challenge=[49, 120, 71, 121, 70, 108, 50, 100]]
2012-06-26 14:57:15,343 [pool-4-thread-16] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0xe19
2012-06-26 14:57:15,343 [pool-4-thread-16] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 14:57:15,343 [pool-4-thread-16] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 0E 19 00 00 00 1E ................
00000010 00 00 00 06 00 00 31 78 47 79 46 6C 32 64       ......1xGyFl2d

2012-06-26 14:57:15,343 [pool-4-thread-16] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 14:57:15,343 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 14:57:15,343 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 14:57:15,343 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 6: not mark to return session ID to client
2012-06-26 14:57:15,343 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 14:57:15,343 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 14:57:15,343 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 14:57:15,343 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:3471, Mina session ID 6, identified POS ID pos-0002
2012-06-26 14:57:15,343 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 8E D0 00 00 00 30 ...............0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 AC C0 B1 18 3E 6E A5 B7 CC 2B 4A D6 11 A8 C2 4E ....>n...+J....N

2012-06-26 14:57:15,343 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=48 cap=2048: 00 00 00 01 00 00 00 00 00 00 8E D0 00 00 00 30...]
2012-06-26 14:57:15,343 [NioProcessor-1  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 6
2012-06-26 14:57:15,343 [NioProcessor-1  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 14:57:15,343 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 14:57:15,343 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 6
2012-06-26 14:57:15,343 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =48
2012-06-26 14:57:15,343 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 8E D0 00 00 00 30 ...............0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 AC C0 B1 18 3E 6E A5 B7 CC 2B 4A D6 11 A8 C2 4E ....>n...+J....N

2012-06-26 14:57:15,343 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 48, current position: 0
2012-06-26 14:57:15,343 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 14:57:15,343 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x8ed0} messageSize:{0x30} sessionKey:{null}
2012-06-26 14:57:15,343 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 32
2012-06-26 14:57:15,343 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=32, in.remaining=32
2012-06-26 14:57:15,343 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 14:57:15,343 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 7
2012-06-26 14:57:15,343 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 7: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageCodec@10b755d
2012-06-26 14:57:15,343 [NioProcessor-1  ] [DEBUG] m.p.s.m.c.LoginMessageCodec - login/bind message decode
2012-06-26 14:57:15,343 [NioProcessor-1  ] [TRACE] m.p.s.m.c.LoginMessageCodec - LoginRequestMessage: [cmdId=7, posId=pos-0002, challengeResponse=[-84, -64, -79, 24, 62, 110, -91, -73, -52, 43, 74, -42, 17, -88, -62, 78]]
2012-06-26 14:57:15,343 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 14:57:15,343 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x8ed0} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[-84, -64, -79, 24, 62, 110, -91, -73, -52, 43, 74, -42, 17, -88, -62, 78]]
2012-06-26 14:57:15,343 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 14:57:15,343 [NioProcessor-1  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 14:57:15,343 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 14:57:15,343 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 14:57:15,343 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 14:57:15,343 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 14:57:15,343 [NioProcessor-1  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:3471, Mina session ID 6, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x8ed0} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[-84, -64, -79, 24, 62, 110, -91, -73, -52, 43, 74, -42, 17, -88, -62, 78]]
2012-06-26 14:57:15,343 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 14:57:15,343 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 14:57:15,343 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 14:57:15,343 [NioProcessor-1  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 14:57:15,343 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 14:57:15,343 [pool-4-thread-17] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 14:57:15,359 [pool-4-thread-17] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 14:57:15,359 [pool-4-thread-17] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@44a013 obtained for command ID 7
2012-06-26 14:57:15,359 [pool-4-thread-17] [DEBUG] $$EnhancerByGuice$$22e9f5a5 - Handler for command ID 7 is com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@44a013
2012-06-26 14:57:15,359 [pool-4-thread-17] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==bodyMessage=: [cmdId=7, posId=pos-0002, challengeResponse=[-84, -64, -79, 24, 62, 110, -91, -73, -52, 43, 74, -42, 17, -88, -62, 78]]
2012-06-26 14:57:15,359 [pool-4-thread-17] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:null
2012-06-26 14:57:15,359 [pool-4-thread-17] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId
2012-06-26 14:57:15,359 [pool-4-thread-17] [TRACE] .q.m.l.l.i.LoginManagerImpl - Loaded from db: pos.posId:pos-0002, pos.secret:000001, oldChallenge:[49, 120, 71, 121, 70, 108, 50, 100]
2012-06-26 14:57:15,359 [pool-4-thread-17] [DEBUG] .q.m.l.l.i.LoginManagerImpl - disableChallengeCheck =0
2012-06-26 14:57:15,359 [pool-4-thread-17] [TRACE] c.c.q.m.l.c.ChallengeUtil   - checking challenge:response:[-84, -64, -79, 24, 62, 110, -91, -73, -52, 43, 74, -42, 17, -88, -62, 78], posKey:000001, random:[49, 120, 71, 121, 70, 108, 50, 100]
2012-06-26 14:57:15,359 [pool-4-thread-17] [DEBUG] .q.m.l.l.i.LoginManagerImpl - new challenge for POS (POS ID): [82, 50, 118, 117, 57, 48, 68, 54]
2012-06-26 14:57:15,359 [pool-4-thread-17] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==serverKey=:JXTPOS
2012-06-26 14:57:15,359 [pool-4-thread-17] [DEBUG] ThreadSafeClientConnManager - Get connection: HttpRoute[{}->http://localhost:7070], timeout = 0
2012-06-26 14:57:15,359 [pool-4-thread-17] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - [HttpRoute[{}->http://localhost:7070]] total kept alive: 0, total issued: 0, total allocated: 0 out of 20
2012-06-26 14:57:15,359 [pool-4-thread-17] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - No free connections [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 14:57:15,359 [pool-4-thread-17] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Available capacity: 2 out of 2 [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 14:57:15,359 [pool-4-thread-17] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Creating new connection [HttpRoute[{}->http://localhost:7070]]
2012-06-26 14:57:15,359 [pool-4-thread-17] [DEBUG] ultClientConnectionOperator - Connecting to localhost:7070
2012-06-26 14:57:16,280 [pool-4-thread-17] [DEBUG] i.c.DefaultClientConnection - Connection closed
2012-06-26 14:57:16,280 [pool-4-thread-17] [DEBUG] i.c.DefaultClientConnection - Connection shut down
2012-06-26 14:57:16,280 [pool-4-thread-17] [DEBUG] ThreadSafeClientConnManager - Released connection is not reusable.
2012-06-26 14:57:16,280 [pool-4-thread-17] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Releasing connection [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 14:57:16,280 [pool-4-thread-17] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Notifying no-one, there are no waiting threads
2012-06-26 14:57:16,280 [pool-4-thread-17] [ERROR] q.m.p.h.LoginCommandHandler - initGrouponCache fail:com.chinarewards.qqgbvpn.qqapi.exception.ParseXMLException: com.chinarewards.qqgbvpn.qqapi.exception.SendPostTimeOutException: org.apache.http.conn.HttpHostConnectException: Connection to http://localhost:7070 refused
2012-06-26 14:57:16,280 [pool-4-thread-17] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 14:57:16,312 [pool-4-thread-17] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 14:57:16,312 [pool-4-thread-17] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 14:57:16,312 [pool-4-thread-17] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 14:57:16,312 [pool-4-thread-17] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 6
2012-06-26 14:57:16,312 [pool-4-thread-17] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (8)
2012-06-26 14:57:16,312 [Finalizer       ] [DEBUG] ThreadSafeClientConnManager - Shutting down
2012-06-26 14:57:16,312 [pool-4-thread-17] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageResponseCodec@be6108
2012-06-26 14:57:16,312 [pool-4-thread-17] [DEBUG] c.LoginMessageResponseCodec - login/bind message encode
2012-06-26 14:57:16,312 [pool-4-thread-17] [TRACE] c.LoginMessageResponseCodec - LoginResponseMessage: [cmdId=8, result=0, challenge=[82, 50, 118, 117, 57, 48, 68, 54]]
2012-06-26 14:57:16,312 [pool-4-thread-17] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0xb9ca
2012-06-26 14:57:16,312 [pool-4-thread-17] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 14:57:16,312 [pool-4-thread-17] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 B9 CA 00 00 00 1E ................
00000010 00 00 00 08 00 00 52 32 76 75 39 30 44 36       ......R2vu90D6

2012-06-26 14:57:16,312 [pool-4-thread-17] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 14:57:16,312 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 14:57:16,312 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 14:57:16,312 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 6: not mark to return session ID to client
2012-06-26 14:57:16,312 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 14:57:16,312 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 14:57:16,312 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 14:57:16,312 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:3471, Mina session ID 6, identified POS ID pos-0002
2012-06-26 14:57:16,312 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 33 of 33 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 D1 FF 00 00 00 21 ...............!
00000010 00 00 00 C9 00 0B 32 32 32 32 32 32 32 32 32 32 ......2222222222
00000020 32                                              2

2012-06-26 14:57:16,312 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=33 cap=1024: 00 00 00 10 00 00 00 00 00 00 D1 FF 00 00 00 21...]
2012-06-26 14:57:16,312 [NioProcessor-1  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 6
2012-06-26 14:57:16,312 [NioProcessor-1  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 14:57:16,312 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 14:57:16,312 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 6
2012-06-26 14:57:16,312 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =33
2012-06-26 14:57:16,312 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 33 of 33 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 D1 FF 00 00 00 21 ...............!
00000010 00 00 00 C9 00 0B 32 32 32 32 32 32 32 32 32 32 ......2222222222
00000020 32                                              2

2012-06-26 14:57:16,312 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 33, current position: 0
2012-06-26 14:57:16,312 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 14:57:16,312 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd1ff} messageSize:{0x21} sessionKey:{null}
2012-06-26 14:57:16,312 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 17
2012-06-26 14:57:16,312 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=17, in.remaining=17
2012-06-26 14:57:16,312 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 14:57:16,312 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 201
2012-06-26 14:57:16,312 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 201: com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftMessageCodec@1335b86
2012-06-26 14:57:16,312 [NioProcessor-1  ] [DEBUG] m.c.ReceiveGiftMessageCodec - receive gift request message decode
2012-06-26 14:57:16,312 [NioProcessor-1  ] [DEBUG] m.c.ReceiveGiftMessageCodec - in.remaining()=17
2012-06-26 14:57:16,312 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 14:57:16,312 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd1ff} messageSize:{0x21} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@bdec44
2012-06-26 14:57:16,312 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 14:57:16,312 [NioProcessor-1  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 14:57:16,312 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 14:57:16,312 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 14:57:16,312 [NioProcessor-1  ] [DEBUG] c.c.q.m.p.f.LoginFilter     - isLogin=true
2012-06-26 14:57:16,312 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 14:57:16,312 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 14:57:16,312 [NioProcessor-1  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:3471, Mina session ID 6, identified POS ID pos-0002, message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd1ff} messageSize:{0x21} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@bdec44
2012-06-26 14:57:16,312 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 14:57:16,312 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 14:57:16,312 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 14:57:16,312 [NioProcessor-1  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 14:57:16,312 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 14:57:16,312 [pool-4-thread-18] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 14:57:16,312 [pool-4-thread-18] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 14:57:16,312 [pool-4-thread-18] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@6f3ea obtained for command ID 201
2012-06-26 14:57:16,312 [pool-4-thread-18] [DEBUG] $$EnhancerByGuice$$22e9f5a5 - Handler for command ID 201 is com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@6f3ea
2012-06-26 14:57:16,312 [pool-4-thread-18] [DEBUG] h.ReceiveGiftCommandHandler - ReceiveGiftHandler======execute==bodyMessage=: com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@bdec44
2012-06-26 14:57:16,327 [pool-4-thread-18] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 14:57:16,327 [pool-4-thread-18] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 14:57:16,327 [pool-4-thread-18] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 14:57:16,327 [pool-4-thread-18] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 14:57:16,327 [pool-4-thread-18] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 6
2012-06-26 14:57:16,327 [pool-4-thread-18] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (202)
2012-06-26 14:57:16,327 [pool-4-thread-18] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftResponseMessageCodec@211b37
2012-06-26 14:57:16,327 [pool-4-thread-18] [DEBUG] iveGiftResponseMessageCodec - receive gift response message encode
2012-06-26 14:57:16,327 [pool-4-thread-18] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0x1492
2012-06-26 14:57:16,327 [pool-4-thread-18] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 14:57:16,327 [pool-4-thread-18] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 55 of 55 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 14 92 00 00 00 37 ...............7
00000010 00 00 00 CA 00 00 00 01 07 DC 06 1A 0E 39 10 01 .............9..
00000020 38 01 E0 00 08 C1 EC C8 A1 C0 F1 C6 B7 00 08 D2 8...............
00000030 D1 C1 EC C8 A1 B9 FD                            .......

2012-06-26 14:57:16,327 [pool-4-thread-18] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 14:57:16,327 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 14:57:16,327 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 14:57:16,327 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 6: not mark to return session ID to client
2012-06-26 14:57:16,327 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 14:57:16,327 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 14:57:16,327 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 14:57:16,327 [NioProcessor-1  ] [INFO ] o.a.m.f.l.LoggingFilter     - CLOSED
2012-06-26 14:57:16,327 [NioProcessor-1  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 14:57:25,275 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:57:25,275 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:57:25,275 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=6
2012-06-26 14:57:25,275 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=6
2012-06-26 14:57:25,275 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:57:35,300 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:57:35,300 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:57:35,300 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=6
2012-06-26 14:57:35,300 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=6
2012-06-26 14:57:35,300 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:57:52,227 [main            ] [INFO ] c.c.q.m.BootStrap           - Home directory: D:\posnetv2
2012-06-26 14:57:52,227 [main            ] [DEBUG] c.c.q.c.ConfigReader        - Home directory is set to D:\posnetv2
2012-06-26 14:57:52,227 [main            ] [DEBUG] c.c.q.c.ConfigReader        - Configuration subdirectory is set to conf
2012-06-26 14:57:52,227 [main            ] [DEBUG] c.c.q.c.ConfigReader        - Configuration directory is set to D:\posnetv2\conf
2012-06-26 14:57:52,227 [main            ] [DEBUG] c.c.q.c.ConfigReader        - Config file: D:\posnetv2\conf\posnet.ini
2012-06-26 14:57:52,227 [main            ] [DEBUG] c.c.q.c.ConfigReader        - Reading configuration file D:\posnetv2\conf\posnet.ini
2012-06-26 14:57:52,227 [main            ] [DEBUG] c.c.q.c.ConfigReader        - - D:\posnetv2\conf\posnet.ini is an .ini file, load using PropertiesConfiguration.
2012-06-26 14:57:52,258 [main            ] [DEBUG] c.c.PropertiesConfiguration - FileName set to posnet.ini
2012-06-26 14:57:52,274 [main            ] [DEBUG] c.c.PropertiesConfiguration - Base path set to D:\posnetv2\conf
2012-06-26 14:57:52,274 [main            ] [DEBUG] o.a.c.c.ConfigurationUtils  - ConfigurationUtils.locate(): base is D:\posnetv2\conf, name is posnet.ini
2012-06-26 14:57:52,274 [main            ] [DEBUG] o.a.c.c.DefaultFileSystem   - Could not locate file posnet.ini at D:\posnetv2\conf: unknown protocol: d
2012-06-26 14:57:52,274 [main            ] [DEBUG] o.a.c.c.ConfigurationUtils  - Loading configuration from the path D:\posnetv2\conf\posnet.ini
2012-06-26 14:57:52,305 [main            ] [DEBUG] o.a.c.c.ConfigurationUtils  - ConfigurationUtils.locate(): base is D:\posnetv2\conf, name is dispatcher.ini
2012-06-26 14:57:52,305 [main            ] [DEBUG] o.a.c.c.DefaultFileSystem   - Could not locate file dispatcher.ini at D:\posnetv2\conf: unknown protocol: d
2012-06-26 14:57:52,305 [main            ] [DEBUG] o.a.c.c.ConfigurationUtils  - Loading configuration from the path D:\posnetv2\conf\dispatcher.ini
2012-06-26 14:57:52,321 [main            ] [DEBUG] c.c.q.m.BootStrap           - System configuration:
2012-06-26 14:57:52,321 [main            ] [DEBUG] c.c.q.m.BootStrap           - - server.port: 1234
2012-06-26 14:57:52,321 [main            ] [DEBUG] c.c.q.m.BootStrap           - - server.client_max_idle_time: 20
2012-06-26 14:57:52,321 [main            ] [DEBUG] c.c.q.m.BootStrap           - - server.session.timeout_check_interval: 10
2012-06-26 14:57:52,321 [main            ] [DEBUG] c.c.q.m.BootStrap           - - server.session.client_timeout: 210
2012-06-26 14:57:52,321 [main            ] [DEBUG] c.c.q.m.BootStrap           - - server.disable_checksum_check: 0
2012-06-26 14:57:52,321 [main            ] [DEBUG] c.c.q.m.BootStrap           - - server.service_handler.thread_pool_size: 20
2012-06-26 14:57:52,321 [main            ] [DEBUG] c.c.q.m.BootStrap           - - firmware.location: D:\posnetv2\posnet2-mgmtui\firmware
2012-06-26 14:57:52,321 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.hibernate.show_sql: [true, true]
2012-06-26 14:57:52,321 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.hibernate.hbm2ddl.auto: false
2012-06-26 14:57:52,321 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.ext.hibernate.dialect: org.hibernate.dialect.MySQL5Dialect
2012-06-26 14:57:52,321 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.user: root
2012-06-26 14:57:52,321 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.password: 167118
2012-06-26 14:57:52,321 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.driver: com.mysql.jdbc.Driver
2012-06-26 14:57:52,321 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.url: jdbc:mysql://localhost/posnet?autoReconnect=true&useUnicode=true&characterEncoding=UTF-8
2012-06-26 14:57:52,321 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.ext.hibernate.connection.provider_class: org.hibernate.connection.C3P0ConnectionProvider
2012-06-26 14:57:52,321 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.ext.hibernate.c3p0.minPoolSize: 5
2012-06-26 14:57:52,321 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.ext.hibernate.c3p0.maxPoolSize: 20
2012-06-26 14:57:52,321 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.ext.hibernate.c3p0.maxIdleTime: 1800
2012-06-26 14:57:52,321 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.ext.hibernate.c3p0.testConnectionOnCheckout: true
2012-06-26 14:57:52,321 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.ext.hibernate.c3p0.maxStatements: 50
2012-06-26 14:57:52,321 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.ext.hibernate.c3p0.maxStatementsPerConnection: 10
2012-06-26 14:57:52,321 [main            ] [DEBUG] c.c.q.m.BootStrap           - - qq.groupbuy.url.groupBuyingSearchGroupon: http://localhost:7070/testdata/TuanSearchListVO.xml
2012-06-26 14:57:52,321 [main            ] [DEBUG] c.c.q.m.BootStrap           - - qq.groupbuy.url.groupBuyingValidationUrl: http://localhost:7070/testdata/TuanValidateResultVO.xml
2012-06-26 14:57:52,321 [main            ] [DEBUG] c.c.q.m.BootStrap           - - qq.groupbuy.url.groupBuyingUnbindPosUrl: http://localhost:7070/testdata/TuanUnbindVO.xml
2012-06-26 14:57:52,321 [main            ] [DEBUG] c.c.q.m.BootStrap           - - txserver.key: JXTPOS
2012-06-26 14:57:52,321 [main            ] [DEBUG] c.c.q.m.BootStrap           - - qq.meishi.wsapi.host: localhost:7070
2012-06-26 14:57:52,321 [main            ] [DEBUG] c.c.q.m.BootStrap           - - qq.meishi.wsapi.url: http://localhost:7070/qq-meishi/data
2012-06-26 14:57:52,321 [main            ] [DEBUG] c.c.q.m.BootStrap           - - qq.meishi.wsapi.secretKey: NDA2ZTkwOTExZjlkZDY3ZTIxMTU1OTY0NmVlYzVmY2Q=
2012-06-26 14:57:52,321 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.1.handler: com.chinarewards.qqgbvpn.main.protocol.handler.SearchCommandHandler
2012-06-26 14:57:52,321 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.1.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.SearchBodyMessageCodec
2012-06-26 14:57:52,321 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.2.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.SearchBodyMessageResponseCodec
2012-06-26 14:57:52,321 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.3.handler: com.chinarewards.qqgbvpn.main.protocol.handler.ValidateCommandHandler
2012-06-26 14:57:52,321 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.3.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.ValidateBodyMessageCodec
2012-06-26 14:57:52,321 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.4.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.ValidateBodyMessageResponseCodec
2012-06-26 14:57:52,321 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.5.handler: com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler
2012-06-26 14:57:52,321 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.5.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageCodec
2012-06-26 14:57:52,321 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.6.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageResponseCodec
2012-06-26 14:57:52,321 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.7.handler: com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler
2012-06-26 14:57:52,321 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.7.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageCodec
2012-06-26 14:57:52,321 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.8.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageResponseCodec
2012-06-26 14:57:52,321 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.9.handler: com.chinarewards.qqgbvpn.main.protocol.handler.BindCommandHandler
2012-06-26 14:57:52,321 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.9.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageCodec
2012-06-26 14:57:52,321 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.10.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageResponseCodec
2012-06-26 14:57:52,321 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.11.handler: com.chinarewards.qqgbvpn.main.protocol.handler.ValidationCallbackHandler
2012-06-26 14:57:52,321 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.11.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.ValidationCallbackCodec
2012-06-26 14:57:52,321 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.12.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.ValidationCallbackResponseCodec
2012-06-26 14:57:52,321 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.13.handler: com.chinarewards.qqgbvpn.main.protocol.handler.FirmwareUpgradeRequestCommandHandler
2012-06-26 14:57:52,321 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.13.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.FirmwareRequestMessageCodec
2012-06-26 14:57:52,321 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.14.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.FirmwareResponseMessageCodec
2012-06-26 14:57:52,321 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.15.handler: com.chinarewards.qqgbvpn.main.protocol.handler.GetFirmwareFragmentHandler
2012-06-26 14:57:52,321 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.15.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.GetFirmwareFragmentRequestMessageCodec
2012-06-26 14:57:52,321 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.16.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.GetFirmwareFragmentResponseMessageCodec
2012-06-26 14:57:52,321 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.17.handler: com.chinarewards.qqgbvpn.main.protocol.handler.FirmwareUpDoneHandler
2012-06-26 14:57:52,321 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.17.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.FirmwareUpDoneRequestCodec
2012-06-26 14:57:52,321 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.18.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.FirmwareUpDoneResponseCodec
2012-06-26 14:57:52,321 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.19.handler: com.chinarewards.qqgbvpn.main.protocol.handler.HuaxiaSearchCommandHandler
2012-06-26 14:57:52,321 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.19.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.HuaxiaSearchBodyMessageCodec
2012-06-26 14:57:52,321 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.20.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.HuaxiaSearchBodyMessageResponseCodec
2012-06-26 14:57:52,321 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.21.handler: com.chinarewards.qqgbvpn.main.protocol.handler.HuaxiaConfirmCommandHandler
2012-06-26 14:57:52,321 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.21.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.HuaxiaConfirmBodyMessageCodec
2012-06-26 14:57:52,321 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.22.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.HuaxiaConfirmBodyMessageResponseCodec
2012-06-26 14:57:52,321 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.23.handler: com.chinarewards.qqgbvpn.main.protocol.handler.HuaxiaAckCommandHandler
2012-06-26 14:57:52,321 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.23.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.HuaxiaAckBodyMessageCodec
2012-06-26 14:57:52,321 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.24.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.HuaxiaAckBodyMessageResponseCodec
2012-06-26 14:57:52,321 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.25.handler: com.chinarewards.qqgbvpn.main.protocol.handler.PosEchoCommandHandler
2012-06-26 14:57:52,321 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.25.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.PosEchoCommandRequestMessageCodec
2012-06-26 14:57:52,321 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.26.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.PosEchoCommandResponseMessageCodec
2012-06-26 14:57:52,321 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.27.handler: com.chinarewards.qqgbvpn.main.protocol.handler.ValidateCommandHandler2
2012-06-26 14:57:52,321 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.27.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.ValidateBodyMessageCodec2
2012-06-26 14:57:52,321 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.28.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.ValidateBodyMessageResponseCodec2
2012-06-26 14:57:52,321 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.101.handler: com.chinarewards.qqgbvpn.main.protocol.handler.QQMeishiCommandHandler
2012-06-26 14:57:52,321 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.101.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.QQMeishiBodyMessageCodec
2012-06-26 14:57:52,321 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.102.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.QQMeishiBodyMessageResponseCodec
2012-06-26 14:57:52,321 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.201.handler: com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler
2012-06-26 14:57:52,321 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.201.codec: com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftMessageCodec
2012-06-26 14:57:52,321 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.202.codec: com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftResponseMessageCodec
2012-06-26 14:57:52,321 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.203.handler: com.chinarewards.qqadidas.main.protocol.handler.RightForCommandHandler
2012-06-26 14:57:52,321 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.203.codec: com.chinarewards.qqadidas.main.protocol.socket.mina.codec.RightForMessageCodec
2012-06-26 14:57:52,321 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.204.codec: com.chinarewards.qqadidas.main.protocol.socket.mina.codec.RightForResponseMessageCodec
2012-06-26 14:57:52,321 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.110.handler: com.chinarewards.timeserver.main.protocol.handler.TimeServerHandler
2012-06-26 14:57:52,321 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.110.codec: com.chinarewards.timeserver.main.protocol.socket.mina.codec.TimeServerMessageCodec
2012-06-26 14:57:52,337 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.111.codec: com.chinarewards.timeserver.main.protocol.socket.mina.codec.TimeServerMessageResponseCodec
2012-06-26 14:57:52,337 [main            ] [DEBUG] c.c.q.m.BootStrap           - - qq.vip.adidas.des.secretkey: qqadidas
2012-06-26 14:57:52,337 [main            ] [INFO ] c.c.q.m.BootStrap           - Bootstrapping...
2012-06-26 14:57:52,337 [main            ] [INFO ] c.c.q.m.BootStrap           - Initializing dependency injection environment...
2012-06-26 14:57:52,368 [main            ] [INFO ] c.c.q.m.BootStrap           - Creating Guice injector. If it is stucked, there is a chance the database is down.
2012-06-26 14:57:52,508 [main            ] [DEBUG] .q.m.p.ServiceHandlerModule - Finished configuration
2012-06-26 14:57:52,508 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.SearchCommandHandler to Guice
2012-06-26 14:57:52,508 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.QQMeishiCommandHandler to Guice
2012-06-26 14:57:52,508 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.ValidateCommandHandler to Guice
2012-06-26 14:57:52,508 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler to Guice
2012-06-26 14:57:52,508 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler to Guice
2012-06-26 14:57:52,508 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqadidas.main.protocol.handler.RightForCommandHandler to Guice
2012-06-26 14:57:52,508 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler to Guice
2012-06-26 14:57:52,508 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.timeserver.main.protocol.handler.TimeServerHandler to Guice
2012-06-26 14:57:52,508 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.BindCommandHandler to Guice
2012-06-26 14:57:52,508 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.ValidationCallbackHandler to Guice
2012-06-26 14:57:52,508 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.FirmwareUpgradeRequestCommandHandler to Guice
2012-06-26 14:57:52,508 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.GetFirmwareFragmentHandler to Guice
2012-06-26 14:57:52,508 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.FirmwareUpDoneHandler to Guice
2012-06-26 14:57:52,508 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.HuaxiaSearchCommandHandler to Guice
2012-06-26 14:57:52,508 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.HuaxiaConfirmCommandHandler to Guice
2012-06-26 14:57:52,508 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.HuaxiaAckCommandHandler to Guice
2012-06-26 14:57:52,524 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.PosEchoCommandHandler to Guice
2012-06-26 14:57:52,524 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.ValidateCommandHandler2 to Guice
2012-06-26 14:57:52,524 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Configuration completed
2012-06-26 14:57:52,868 [main            ] [INFO ] c.c.q.m.BootStrap           - Bootstrapping completed
2012-06-26 14:57:52,868 [main            ] [DEBUG] dule$ServiceMappingProvider - Returning ServiceMapping
2012-06-26 14:57:52,868 [main            ] [DEBUG] $$EnhancerByGuice$$22e9f5a5 - ServiceHandlerObjectFactory is com.chinarewards.qqgbvpn.main.protocol.guice.GuiceServiceHandlerObjectFactory@77ef83
2012-06-26 14:57:54,195 [main            ] [DEBUG] c.c.q.m.PosServer           - idleTime=20
2012-06-26 14:57:54,242 [main            ] [DEBUG] c.c.q.m.PosServer           -  monitor port =9999
2012-06-26 14:57:54,257 [main            ] [DEBUG] c.c.q.m.PosServer           -  JMXServiceURL =service:jmx:rmi:///jndi/rmi://localhost:9999/jmxrmi
2012-06-26 14:57:54,273 [main            ] [INFO ] c.c.q.m.PosServer           - Client idle timeout set to 20 seconds
2012-06-26 14:57:54,289 [main            ] [DEBUG] c.c.q.m.PosServer           - config server.session.timeout_check_interval=10
2012-06-26 14:57:54,289 [main            ] [INFO ] c.c.q.m.PosServer           - Server running, listening on 1234
2012-06-26 14:57:54,289 [main            ] [INFO ] c.c.q.m.r.RMIRegistry       - Start listener rmi server, port=9999
2012-06-26 14:57:55,225 [main            ] [INFO ] c.c.q.m.r.RMIRegistry       - no existing RMI registry found on port 9999, creating...
2012-06-26 14:57:55,225 [main            ] [INFO ] c.c.q.m.r.RMIRegistry       - RMI server create success.
2012-06-26 14:58:04,314 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:58:04,314 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:58:04,314 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 14:58:04,314 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 14:58:04,314 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:58:04,876 [NioProcessor-2  ] [INFO ] c.c.q.m.p.f.LoggingFilter   - incoming connection from remote address: 127.0.0.1:3494, Mina session ID: 1
2012-06-26 14:58:04,876 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - Currently managed session count: 1
2012-06-26 14:58:04,876 [NioProcessor-2  ] [INFO ] o.a.m.f.l.LoggingFilter     - CREATED
2012-06-26 14:58:04,876 [NioProcessor-2  ] [INFO ] o.a.m.f.l.LoggingFilter     - OPENED
2012-06-26 14:58:04,876 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:3494, Mina session ID 1, identified POS ID null
2012-06-26 14:58:04,891 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 14:58:04,891 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=32 cap=2048: 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20...]
2012-06-26 14:58:04,891 [NioProcessor-2  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 1
2012-06-26 14:58:04,891 [NioProcessor-2  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 14:58:04,891 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 14:58:04,891 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 1
2012-06-26 14:58:04,891 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =32
2012-06-26 14:58:04,891 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 14:58:04,891 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 32, current position: 0
2012-06-26 14:58:04,891 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 14:58:04,891 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}
2012-06-26 14:58:04,891 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 16
2012-06-26 14:58:04,891 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=16, in.remaining=16
2012-06-26 14:58:04,891 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 14:58:04,891 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 5
2012-06-26 14:58:04,891 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 5: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageCodec@3c35fd
2012-06-26 14:58:04,891 [NioProcessor-2  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - init request message decode
2012-06-26 14:58:04,891 [NioProcessor-2  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - in.remaining()=16
2012-06-26 14:58:04,891 [NioProcessor-2  ] [TRACE] .m.p.s.m.c.InitMessageCodec - InitRequestMessage: [cmdId=5, posId=pos-0002]
2012-06-26 14:58:04,891 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 14:58:04,891 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 14:58:04,891 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 14:58:04,891 [NioProcessor-2  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 14:58:04,891 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 14:58:04,891 [NioProcessor-2  ] [DEBUG] p.f.SessionKeyMessageFilter - Mina session ID 1: created session key 11fbe47228bd449aadf798281f792706
2012-06-26 14:58:04,891 [NioProcessor-2  ] [DEBUG] p.f.SessionKeyMessageFilter - creating session for mina session ID 1 using session ID 11fbe47228bd449aadf798281f792706
2012-06-26 14:58:04,891 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 14:58:04,891 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 14:58:04,891 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 14:58:04,891 [NioProcessor-2  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:3494, Mina session ID 1, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 14:58:04,891 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 14:58:04,891 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 14:58:04,891 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 14:58:04,891 [NioProcessor-2  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 14:58:04,891 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 14:58:04,907 [pool-4-thread-1 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 14:58:04,954 [pool-4-thread-1 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 14:58:04,954 [pool-4-thread-1 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@14f1726 obtained for command ID 5
2012-06-26 14:58:04,954 [pool-4-thread-1 ] [DEBUG] $$EnhancerByGuice$$22e9f5a5 - Handler for command ID 5 is com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@14f1726
2012-06-26 14:58:04,954 [pool-4-thread-1 ] [DEBUG] .q.m.p.h.InitCommandHandler - InitCommandHandler======execute==bodyMessage=:  [cmdId=5, posId=pos-0002]
2012-06-26 14:58:04,954 [pool-4-thread-1 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - InitResponse() invoke
2012-06-26 14:58:04,954 [pool-4-thread-1 ] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:ALLOWED
2012-06-26 14:58:04,954 [pool-4-thread-1 ] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId AND p.ostatus = :ostatus
2012-06-26 14:58:05,141 [pool-4-thread-1 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - POS ID:pos-0002, init challenge saved - [50, 108, 77, 89, 98, 101, 119, 113]
2012-06-26 14:58:05,344 [pool-4-thread-1 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 14:58:05,422 [pool-4-thread-1 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 14:58:05,422 [pool-4-thread-1 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 14:58:05,422 [pool-4-thread-1 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 14:58:05,422 [pool-4-thread-1 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 1
2012-06-26 14:58:05,422 [pool-4-thread-1 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (6)
2012-06-26 14:58:05,422 [pool-4-thread-1 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageResponseCodec@aa559d
2012-06-26 14:58:05,422 [pool-4-thread-1 ] [DEBUG] .c.InitMessageResponseCodec - init response message encode
2012-06-26 14:58:05,422 [pool-4-thread-1 ] [TRACE] .c.InitMessageResponseCodec - InitResponseMessage: [cmdId=6, result=0, challenge=[50, 108, 77, 89, 98, 101, 119, 113]]
2012-06-26 14:58:05,422 [pool-4-thread-1 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0xa63e
2012-06-26 14:58:05,422 [pool-4-thread-1 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 14:58:05,422 [pool-4-thread-1 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 A6 3E 00 00 00 1E ...........>....
00000010 00 00 00 06 00 00 32 6C 4D 59 62 65 77 71       ......2lMYbewq

2012-06-26 14:58:05,422 [pool-4-thread-1 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 14:58:05,422 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 14:58:05,422 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 14:58:05,422 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 1: not mark to return session ID to client
2012-06-26 14:58:05,422 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 14:58:05,422 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 14:58:05,422 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 14:58:05,641 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:3494, Mina session ID 1, identified POS ID pos-0002
2012-06-26 14:58:05,641 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 41 16 00 00 00 30 ..........A....0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 4D 05 50 CB C0 C0 6A E3 78 26 4E B2 BF 54 2B 10 M.P...j.x&N..T+.

2012-06-26 14:58:05,641 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=48 cap=2048: 00 00 00 01 00 00 00 00 00 00 41 16 00 00 00 30...]
2012-06-26 14:58:05,641 [NioProcessor-2  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 1
2012-06-26 14:58:05,641 [NioProcessor-2  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 14:58:05,641 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 14:58:05,641 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 1
2012-06-26 14:58:05,641 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =48
2012-06-26 14:58:05,641 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 41 16 00 00 00 30 ..........A....0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 4D 05 50 CB C0 C0 6A E3 78 26 4E B2 BF 54 2B 10 M.P...j.x&N..T+.

2012-06-26 14:58:05,641 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 48, current position: 0
2012-06-26 14:58:05,641 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 14:58:05,641 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x4116} messageSize:{0x30} sessionKey:{null}
2012-06-26 14:58:05,641 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 32
2012-06-26 14:58:05,641 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=32, in.remaining=32
2012-06-26 14:58:05,641 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 14:58:05,641 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 7
2012-06-26 14:58:05,641 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 7: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageCodec@1dedb45
2012-06-26 14:58:05,641 [NioProcessor-2  ] [DEBUG] m.p.s.m.c.LoginMessageCodec - login/bind message decode
2012-06-26 14:58:05,641 [NioProcessor-2  ] [TRACE] m.p.s.m.c.LoginMessageCodec - LoginRequestMessage: [cmdId=7, posId=pos-0002, challengeResponse=[77, 5, 80, -53, -64, -64, 106, -29, 120, 38, 78, -78, -65, 84, 43, 16]]
2012-06-26 14:58:05,641 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 14:58:05,641 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x4116} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[77, 5, 80, -53, -64, -64, 106, -29, 120, 38, 78, -78, -65, 84, 43, 16]]
2012-06-26 14:58:05,641 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 14:58:05,641 [NioProcessor-2  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 14:58:05,657 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 14:58:05,657 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 14:58:05,657 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 14:58:05,657 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 14:58:05,657 [NioProcessor-2  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:3494, Mina session ID 1, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x4116} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[77, 5, 80, -53, -64, -64, 106, -29, 120, 38, 78, -78, -65, 84, 43, 16]]
2012-06-26 14:58:05,657 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 14:58:05,657 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 14:58:05,657 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 14:58:05,657 [NioProcessor-2  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 14:58:05,657 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 14:58:05,657 [pool-4-thread-2 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 14:58:05,657 [pool-4-thread-2 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 14:58:05,657 [pool-4-thread-2 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@18837f1 obtained for command ID 7
2012-06-26 14:58:05,657 [pool-4-thread-2 ] [DEBUG] $$EnhancerByGuice$$22e9f5a5 - Handler for command ID 7 is com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@18837f1
2012-06-26 14:58:05,657 [pool-4-thread-2 ] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==bodyMessage=: [cmdId=7, posId=pos-0002, challengeResponse=[77, 5, 80, -53, -64, -64, 106, -29, 120, 38, 78, -78, -65, 84, 43, 16]]
2012-06-26 14:58:05,657 [pool-4-thread-2 ] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:null
2012-06-26 14:58:05,657 [pool-4-thread-2 ] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId
2012-06-26 14:58:05,657 [pool-4-thread-2 ] [TRACE] .q.m.l.l.i.LoginManagerImpl - Loaded from db: pos.posId:pos-0002, pos.secret:000001, oldChallenge:[50, 108, 77, 89, 98, 101, 119, 113]
2012-06-26 14:58:05,657 [pool-4-thread-2 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - disableChallengeCheck =0
2012-06-26 14:58:05,657 [pool-4-thread-2 ] [TRACE] c.c.q.m.l.c.ChallengeUtil   - checking challenge:response:[77, 5, 80, -53, -64, -64, 106, -29, 120, 38, 78, -78, -65, 84, 43, 16], posKey:000001, random:[50, 108, 77, 89, 98, 101, 119, 113]
2012-06-26 14:58:05,891 [pool-4-thread-2 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - new challenge for POS (POS ID): [104, 99, 53, 51, 88, 86, 98, 84]
2012-06-26 14:58:05,906 [pool-4-thread-2 ] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==serverKey=:JXTPOS
2012-06-26 14:58:06,063 [pool-4-thread-2 ] [DEBUG] ThreadSafeClientConnManager - Get connection: HttpRoute[{}->http://localhost:7070], timeout = 0
2012-06-26 14:58:06,063 [pool-4-thread-2 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - [HttpRoute[{}->http://localhost:7070]] total kept alive: 0, total issued: 0, total allocated: 0 out of 20
2012-06-26 14:58:06,063 [pool-4-thread-2 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - No free connections [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 14:58:06,063 [pool-4-thread-2 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Available capacity: 2 out of 2 [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 14:58:06,063 [pool-4-thread-2 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Creating new connection [HttpRoute[{}->http://localhost:7070]]
2012-06-26 14:58:06,063 [pool-4-thread-2 ] [DEBUG] ultClientConnectionOperator - Connecting to localhost:7070
2012-06-26 14:58:07,140 [pool-4-thread-2 ] [DEBUG] i.c.DefaultClientConnection - Connection closed
2012-06-26 14:58:07,140 [pool-4-thread-2 ] [DEBUG] i.c.DefaultClientConnection - Connection shut down
2012-06-26 14:58:07,140 [pool-4-thread-2 ] [DEBUG] ThreadSafeClientConnManager - Released connection is not reusable.
2012-06-26 14:58:07,140 [pool-4-thread-2 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Releasing connection [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 14:58:07,140 [pool-4-thread-2 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Notifying no-one, there are no waiting threads
2012-06-26 14:58:07,140 [pool-4-thread-2 ] [ERROR] q.m.p.h.LoginCommandHandler - initGrouponCache fail:com.chinarewards.qqgbvpn.qqapi.exception.ParseXMLException: com.chinarewards.qqgbvpn.qqapi.exception.SendPostTimeOutException: org.apache.http.conn.HttpHostConnectException: Connection to http://localhost:7070 refused
2012-06-26 14:58:07,171 [pool-4-thread-2 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 14:58:07,203 [pool-4-thread-2 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 14:58:07,203 [pool-4-thread-2 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 14:58:07,203 [pool-4-thread-2 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 14:58:07,203 [pool-4-thread-2 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 1
2012-06-26 14:58:07,203 [pool-4-thread-2 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (8)
2012-06-26 14:58:07,203 [pool-4-thread-2 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageResponseCodec@125ee49
2012-06-26 14:58:07,203 [pool-4-thread-2 ] [DEBUG] c.LoginMessageResponseCodec - login/bind message encode
2012-06-26 14:58:07,203 [pool-4-thread-2 ] [TRACE] c.LoginMessageResponseCodec - LoginResponseMessage: [cmdId=8, result=0, challenge=[104, 99, 53, 51, 88, 86, 98, 84]]
2012-06-26 14:58:07,203 [pool-4-thread-2 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0xa797
2012-06-26 14:58:07,203 [pool-4-thread-2 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 14:58:07,203 [pool-4-thread-2 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 A7 97 00 00 00 1E ................
00000010 00 00 00 08 00 00 68 63 35 33 58 56 62 54       ......hc53XVbT

2012-06-26 14:58:07,203 [pool-4-thread-2 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 14:58:07,203 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 14:58:07,203 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 14:58:07,203 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 1: not mark to return session ID to client
2012-06-26 14:58:07,203 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 14:58:07,203 [Finalizer       ] [DEBUG] ThreadSafeClientConnManager - Shutting down
2012-06-26 14:58:07,203 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 14:58:07,203 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 14:58:07,203 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:3494, Mina session ID 1, identified POS ID pos-0002
2012-06-26 14:58:07,203 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 28 of 28 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 65 68 00 00 00 1C ..........eh....
00000010 00 00 00 C9 00 06 31 32 33 34 35 36             ......123456

2012-06-26 14:58:07,203 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=28 cap=1024: 00 00 00 10 00 00 00 00 00 00 65 68 00 00 00 1C...]
2012-06-26 14:58:07,203 [NioProcessor-2  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 1
2012-06-26 14:58:07,203 [NioProcessor-2  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 14:58:07,203 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 14:58:07,203 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 1
2012-06-26 14:58:07,203 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =28
2012-06-26 14:58:07,203 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 28 of 28 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 65 68 00 00 00 1C ..........eh....
00000010 00 00 00 C9 00 06 31 32 33 34 35 36             ......123456

2012-06-26 14:58:07,203 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 28, current position: 0
2012-06-26 14:58:07,203 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 14:58:07,203 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0x6568} messageSize:{0x1c} sessionKey:{null}
2012-06-26 14:58:07,203 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 12
2012-06-26 14:58:07,203 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=12, in.remaining=12
2012-06-26 14:58:07,203 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 14:58:07,203 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 201
2012-06-26 14:58:07,203 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 201: com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftMessageCodec@9b86ea
2012-06-26 14:58:07,203 [NioProcessor-2  ] [DEBUG] m.c.ReceiveGiftMessageCodec - receive gift request message decode
2012-06-26 14:58:07,203 [NioProcessor-2  ] [DEBUG] m.c.ReceiveGiftMessageCodec - in.remaining()=12
2012-06-26 14:58:07,203 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 14:58:07,203 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0x6568} messageSize:{0x1c} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@123961b
2012-06-26 14:58:07,203 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 14:58:07,203 [NioProcessor-2  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 14:58:07,203 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 14:58:07,203 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 14:58:07,203 [NioProcessor-2  ] [DEBUG] c.c.q.m.p.f.LoginFilter     - isLogin=true
2012-06-26 14:58:07,203 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 14:58:07,203 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 14:58:07,203 [NioProcessor-2  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:3494, Mina session ID 1, identified POS ID pos-0002, message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0x6568} messageSize:{0x1c} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@123961b
2012-06-26 14:58:07,203 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 14:58:07,203 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 14:58:07,203 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 14:58:07,203 [NioProcessor-2  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 14:58:07,203 [pool-4-thread-3 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 14:58:07,203 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 14:58:07,218 [pool-4-thread-3 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 14:58:07,218 [pool-4-thread-3 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@e8e8f9 obtained for command ID 201
2012-06-26 14:58:07,218 [pool-4-thread-3 ] [DEBUG] $$EnhancerByGuice$$22e9f5a5 - Handler for command ID 201 is com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@e8e8f9
2012-06-26 14:58:07,218 [pool-4-thread-3 ] [DEBUG] h.ReceiveGiftCommandHandler - ReceiveGiftHandler======execute==bodyMessage=: com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@123961b
2012-06-26 14:58:07,218 [pool-4-thread-3 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 14:58:07,218 [pool-4-thread-3 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 14:58:07,218 [pool-4-thread-3 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 14:58:07,218 [pool-4-thread-3 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 14:58:07,218 [pool-4-thread-3 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 1
2012-06-26 14:58:07,218 [pool-4-thread-3 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (202)
2012-06-26 14:58:07,218 [pool-4-thread-3 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftResponseMessageCodec@28ab65
2012-06-26 14:58:07,218 [pool-4-thread-3 ] [DEBUG] iveGiftResponseMessageCodec - receive gift response message encode
2012-06-26 14:58:07,218 [pool-4-thread-3 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0xfa3e
2012-06-26 14:58:07,218 [pool-4-thread-3 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 14:58:07,218 [pool-4-thread-3 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 69 of 69 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 FA 3E 00 00 00 45 ...........>...E
00000010 00 00 00 CA 00 00 00 02 07 DC 06 1A 0E 3A 07 00 .............:..
00000020 DA 01 E0 00 08 C1 EC C8 A1 C0 F1 C6 B7 00 16 31 ...............1
00000030 32 33 34 35 36 0A CE DE D0 A7 0A B0 B4 4F 4B BC 23456........OK.
00000040 FC B7 B5 BB D8                                  .....

2012-06-26 14:58:07,234 [pool-4-thread-3 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 14:58:07,234 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 14:58:07,234 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 14:58:07,234 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 1: not mark to return session ID to client
2012-06-26 14:58:07,234 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 14:58:07,234 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 14:58:07,234 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 14:58:07,234 [NioProcessor-2  ] [INFO ] o.a.m.f.l.LoggingFilter     - CLOSED
2012-06-26 14:58:07,234 [NioProcessor-2  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 14:58:07,452 [NioProcessor-3  ] [INFO ] c.c.q.m.p.f.LoggingFilter   - incoming connection from remote address: 127.0.0.1:3496, Mina session ID: 2
2012-06-26 14:58:07,452 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - Currently managed session count: 1
2012-06-26 14:58:07,452 [NioProcessor-3  ] [INFO ] o.a.m.f.l.LoggingFilter     - CREATED
2012-06-26 14:58:07,452 [NioProcessor-3  ] [INFO ] o.a.m.f.l.LoggingFilter     - OPENED
2012-06-26 14:58:07,593 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:3496, Mina session ID 2, identified POS ID null
2012-06-26 14:58:07,593 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 14:58:07,593 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=32 cap=2048: 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20...]
2012-06-26 14:58:07,593 [NioProcessor-3  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 2
2012-06-26 14:58:07,593 [NioProcessor-3  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 14:58:07,593 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 14:58:07,593 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 2
2012-06-26 14:58:07,593 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =32
2012-06-26 14:58:07,593 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 14:58:07,609 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 32, current position: 0
2012-06-26 14:58:07,609 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 14:58:07,609 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}
2012-06-26 14:58:07,609 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 16
2012-06-26 14:58:07,609 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=16, in.remaining=16
2012-06-26 14:58:07,609 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 14:58:07,609 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 5
2012-06-26 14:58:07,609 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 5: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageCodec@130cb4b
2012-06-26 14:58:07,609 [NioProcessor-3  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - init request message decode
2012-06-26 14:58:07,609 [NioProcessor-3  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - in.remaining()=16
2012-06-26 14:58:07,609 [NioProcessor-3  ] [TRACE] .m.p.s.m.c.InitMessageCodec - InitRequestMessage: [cmdId=5, posId=pos-0002]
2012-06-26 14:58:07,609 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 14:58:07,609 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 14:58:07,609 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 14:58:07,609 [NioProcessor-3  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 14:58:07,609 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 14:58:07,609 [NioProcessor-3  ] [DEBUG] p.f.SessionKeyMessageFilter - Mina session ID 2: created session key 5a40271ee5b241a4948dcd8a2c917f8e
2012-06-26 14:58:07,609 [NioProcessor-3  ] [DEBUG] p.f.SessionKeyMessageFilter - creating session for mina session ID 2 using session ID 5a40271ee5b241a4948dcd8a2c917f8e
2012-06-26 14:58:07,609 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 14:58:07,609 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 14:58:07,609 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 14:58:07,609 [NioProcessor-3  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:3496, Mina session ID 2, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 14:58:07,609 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 14:58:07,609 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 14:58:07,609 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 14:58:07,609 [NioProcessor-3  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 14:58:07,609 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 14:58:07,609 [pool-4-thread-4 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 14:58:07,609 [pool-4-thread-4 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 14:58:07,609 [pool-4-thread-4 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@50078e obtained for command ID 5
2012-06-26 14:58:07,609 [pool-4-thread-4 ] [DEBUG] $$EnhancerByGuice$$22e9f5a5 - Handler for command ID 5 is com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@50078e
2012-06-26 14:58:07,609 [pool-4-thread-4 ] [DEBUG] .q.m.p.h.InitCommandHandler - InitCommandHandler======execute==bodyMessage=:  [cmdId=5, posId=pos-0002]
2012-06-26 14:58:07,609 [pool-4-thread-4 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - InitResponse() invoke
2012-06-26 14:58:07,609 [pool-4-thread-4 ] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:ALLOWED
2012-06-26 14:58:07,609 [pool-4-thread-4 ] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId AND p.ostatus = :ostatus
2012-06-26 14:58:07,609 [pool-4-thread-4 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - POS ID:pos-0002, init challenge saved - [102, 84, 67, 97, 80, 103, 100, 105]
2012-06-26 14:58:07,609 [pool-4-thread-4 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 14:58:07,624 [pool-4-thread-4 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 14:58:07,624 [pool-4-thread-4 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 14:58:07,624 [pool-4-thread-4 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 14:58:07,624 [pool-4-thread-4 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 2
2012-06-26 14:58:07,624 [pool-4-thread-4 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (6)
2012-06-26 14:58:07,624 [pool-4-thread-4 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageResponseCodec@1042c25
2012-06-26 14:58:07,624 [pool-4-thread-4 ] [DEBUG] .c.InitMessageResponseCodec - init response message encode
2012-06-26 14:58:07,624 [pool-4-thread-4 ] [TRACE] .c.InitMessageResponseCodec - InitResponseMessage: [cmdId=6, result=0, challenge=[102, 84, 67, 97, 80, 103, 100, 105]]
2012-06-26 14:58:07,624 [pool-4-thread-4 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0xa154
2012-06-26 14:58:07,624 [pool-4-thread-4 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 14:58:07,624 [pool-4-thread-4 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 A1 54 00 00 00 1E ...........T....
00000010 00 00 00 06 00 00 66 54 43 61 50 67 64 69       ......fTCaPgdi

2012-06-26 14:58:07,624 [pool-4-thread-4 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 14:58:07,640 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 14:58:07,640 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 14:58:07,640 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 2: not mark to return session ID to client
2012-06-26 14:58:07,640 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 14:58:07,640 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 14:58:07,640 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 14:58:07,640 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:3496, Mina session ID 2, identified POS ID pos-0002
2012-06-26 14:58:07,640 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 0A 01 00 00 00 30 ...............0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 79 A1 C7 4D F0 3B AB 43 5C CC D3 0B F5 B0 AF CF y..M.;.C\.......

2012-06-26 14:58:07,640 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=48 cap=2048: 00 00 00 01 00 00 00 00 00 00 0A 01 00 00 00 30...]
2012-06-26 14:58:07,640 [NioProcessor-3  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 2
2012-06-26 14:58:07,640 [NioProcessor-3  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 14:58:07,640 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 14:58:07,640 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 2
2012-06-26 14:58:07,640 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =48
2012-06-26 14:58:07,640 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 0A 01 00 00 00 30 ...............0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 79 A1 C7 4D F0 3B AB 43 5C CC D3 0B F5 B0 AF CF y..M.;.C\.......

2012-06-26 14:58:07,640 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 48, current position: 0
2012-06-26 14:58:07,640 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 14:58:07,640 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xa01} messageSize:{0x30} sessionKey:{null}
2012-06-26 14:58:07,640 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 32
2012-06-26 14:58:07,640 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=32, in.remaining=32
2012-06-26 14:58:07,640 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 14:58:07,640 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 7
2012-06-26 14:58:07,640 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 7: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageCodec@1335207
2012-06-26 14:58:07,640 [NioProcessor-3  ] [DEBUG] m.p.s.m.c.LoginMessageCodec - login/bind message decode
2012-06-26 14:58:07,640 [NioProcessor-3  ] [TRACE] m.p.s.m.c.LoginMessageCodec - LoginRequestMessage: [cmdId=7, posId=pos-0002, challengeResponse=[121, -95, -57, 77, -16, 59, -85, 67, 92, -52, -45, 11, -11, -80, -81, -49]]
2012-06-26 14:58:07,640 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 14:58:07,640 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xa01} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[121, -95, -57, 77, -16, 59, -85, 67, 92, -52, -45, 11, -11, -80, -81, -49]]
2012-06-26 14:58:07,640 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 14:58:07,640 [NioProcessor-3  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 14:58:07,640 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 14:58:07,640 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 14:58:07,640 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 14:58:07,640 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 14:58:07,640 [NioProcessor-3  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:3496, Mina session ID 2, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xa01} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[121, -95, -57, 77, -16, 59, -85, 67, 92, -52, -45, 11, -11, -80, -81, -49]]
2012-06-26 14:58:07,640 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 14:58:07,640 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 14:58:07,640 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 14:58:07,640 [NioProcessor-3  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 14:58:07,640 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 14:58:07,640 [pool-4-thread-5 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 14:58:07,640 [pool-4-thread-5 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 14:58:07,640 [pool-4-thread-5 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@18f127c obtained for command ID 7
2012-06-26 14:58:07,640 [pool-4-thread-5 ] [DEBUG] $$EnhancerByGuice$$22e9f5a5 - Handler for command ID 7 is com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@18f127c
2012-06-26 14:58:07,640 [pool-4-thread-5 ] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==bodyMessage=: [cmdId=7, posId=pos-0002, challengeResponse=[121, -95, -57, 77, -16, 59, -85, 67, 92, -52, -45, 11, -11, -80, -81, -49]]
2012-06-26 14:58:07,640 [pool-4-thread-5 ] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:null
2012-06-26 14:58:07,640 [pool-4-thread-5 ] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId
2012-06-26 14:58:07,640 [pool-4-thread-5 ] [TRACE] .q.m.l.l.i.LoginManagerImpl - Loaded from db: pos.posId:pos-0002, pos.secret:000001, oldChallenge:[102, 84, 67, 97, 80, 103, 100, 105]
2012-06-26 14:58:07,640 [pool-4-thread-5 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - disableChallengeCheck =0
2012-06-26 14:58:07,640 [pool-4-thread-5 ] [TRACE] c.c.q.m.l.c.ChallengeUtil   - checking challenge:response:[121, -95, -57, 77, -16, 59, -85, 67, 92, -52, -45, 11, -11, -80, -81, -49], posKey:000001, random:[102, 84, 67, 97, 80, 103, 100, 105]
2012-06-26 14:58:07,640 [pool-4-thread-5 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - new challenge for POS (POS ID): [107, 97, 50, 48, 97, 118, 57, 81]
2012-06-26 14:58:07,640 [pool-4-thread-5 ] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==serverKey=:JXTPOS
2012-06-26 14:58:07,655 [pool-4-thread-5 ] [DEBUG] ThreadSafeClientConnManager - Get connection: HttpRoute[{}->http://localhost:7070], timeout = 0
2012-06-26 14:58:07,655 [pool-4-thread-5 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - [HttpRoute[{}->http://localhost:7070]] total kept alive: 0, total issued: 0, total allocated: 0 out of 20
2012-06-26 14:58:07,655 [pool-4-thread-5 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - No free connections [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 14:58:07,655 [pool-4-thread-5 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Available capacity: 2 out of 2 [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 14:58:07,655 [pool-4-thread-5 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Creating new connection [HttpRoute[{}->http://localhost:7070]]
2012-06-26 14:58:07,655 [pool-4-thread-5 ] [DEBUG] ultClientConnectionOperator - Connecting to localhost:7070
2012-06-26 14:58:08,905 [pool-4-thread-5 ] [DEBUG] i.c.DefaultClientConnection - Connection closed
2012-06-26 14:58:08,905 [pool-4-thread-5 ] [DEBUG] i.c.DefaultClientConnection - Connection shut down
2012-06-26 14:58:08,905 [pool-4-thread-5 ] [DEBUG] ThreadSafeClientConnManager - Released connection is not reusable.
2012-06-26 14:58:08,905 [pool-4-thread-5 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Releasing connection [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 14:58:08,905 [pool-4-thread-5 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Notifying no-one, there are no waiting threads
2012-06-26 14:58:08,905 [pool-4-thread-5 ] [ERROR] q.m.p.h.LoginCommandHandler - initGrouponCache fail:com.chinarewards.qqgbvpn.qqapi.exception.ParseXMLException: com.chinarewards.qqgbvpn.qqapi.exception.SendPostTimeOutException: org.apache.http.conn.HttpHostConnectException: Connection to http://localhost:7070 refused
2012-06-26 14:58:08,936 [pool-4-thread-5 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 14:58:08,936 [pool-4-thread-5 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 14:58:08,936 [pool-4-thread-5 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 14:58:08,936 [pool-4-thread-5 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 14:58:08,936 [pool-4-thread-5 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 2
2012-06-26 14:58:08,936 [pool-4-thread-5 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (8)
2012-06-26 14:58:08,936 [pool-4-thread-5 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageResponseCodec@1205d8d
2012-06-26 14:58:08,936 [pool-4-thread-5 ] [DEBUG] c.LoginMessageResponseCodec - login/bind message encode
2012-06-26 14:58:08,936 [pool-4-thread-5 ] [TRACE] c.LoginMessageResponseCodec - LoginResponseMessage: [cmdId=8, result=0, challenge=[107, 97, 50, 48, 97, 118, 57, 81]]
2012-06-26 14:58:08,936 [pool-4-thread-5 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0xc77f
2012-06-26 14:58:08,936 [pool-4-thread-5 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 14:58:08,936 [pool-4-thread-5 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 C7 7F 00 00 00 1E ................
00000010 00 00 00 08 00 00 6B 61 32 30 61 76 39 51       ......ka20av9Q

2012-06-26 14:58:08,936 [pool-4-thread-5 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 14:58:08,936 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 14:58:08,936 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 14:58:08,936 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 2: not mark to return session ID to client
2012-06-26 14:58:08,936 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 14:58:08,936 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 14:58:08,936 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 14:58:08,936 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:3496, Mina session ID 2, identified POS ID pos-0002
2012-06-26 14:58:08,936 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 33 of 33 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 D8 04 00 00 00 21 ...............!
00000010 00 00 00 C9 00 0B 31 31 31 31 31 31 31 31 31 31 ......1111111111
00000020 31                                              1

2012-06-26 14:58:08,936 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=33 cap=1024: 00 00 00 10 00 00 00 00 00 00 D8 04 00 00 00 21...]
2012-06-26 14:58:08,936 [NioProcessor-3  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 2
2012-06-26 14:58:08,936 [NioProcessor-3  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 14:58:08,936 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 14:58:08,936 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 2
2012-06-26 14:58:08,936 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =33
2012-06-26 14:58:08,936 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 33 of 33 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 D8 04 00 00 00 21 ...............!
00000010 00 00 00 C9 00 0B 31 31 31 31 31 31 31 31 31 31 ......1111111111
00000020 31                                              1

2012-06-26 14:58:08,936 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 33, current position: 0
2012-06-26 14:58:08,936 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 14:58:08,936 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd804} messageSize:{0x21} sessionKey:{null}
2012-06-26 14:58:08,936 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 17
2012-06-26 14:58:08,936 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=17, in.remaining=17
2012-06-26 14:58:08,936 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 14:58:08,936 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 201
2012-06-26 14:58:08,936 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 201: com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftMessageCodec@1de152f
2012-06-26 14:58:08,936 [NioProcessor-3  ] [DEBUG] m.c.ReceiveGiftMessageCodec - receive gift request message decode
2012-06-26 14:58:08,936 [NioProcessor-3  ] [DEBUG] m.c.ReceiveGiftMessageCodec - in.remaining()=17
2012-06-26 14:58:08,936 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 14:58:08,936 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd804} messageSize:{0x21} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@140d415
2012-06-26 14:58:08,936 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 14:58:08,936 [NioProcessor-3  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 14:58:08,936 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 14:58:08,936 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 14:58:08,936 [NioProcessor-3  ] [DEBUG] c.c.q.m.p.f.LoginFilter     - isLogin=true
2012-06-26 14:58:08,936 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 14:58:08,936 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 14:58:08,936 [NioProcessor-3  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:3496, Mina session ID 2, identified POS ID pos-0002, message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd804} messageSize:{0x21} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@140d415
2012-06-26 14:58:08,936 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 14:58:08,951 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 14:58:08,951 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 14:58:08,951 [NioProcessor-3  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 14:58:08,951 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 14:58:08,951 [pool-4-thread-6 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 14:58:08,951 [pool-4-thread-6 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 14:58:08,951 [pool-4-thread-6 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@2f54 obtained for command ID 201
2012-06-26 14:58:08,951 [pool-4-thread-6 ] [DEBUG] $$EnhancerByGuice$$22e9f5a5 - Handler for command ID 201 is com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@2f54
2012-06-26 14:58:08,951 [pool-4-thread-6 ] [DEBUG] h.ReceiveGiftCommandHandler - ReceiveGiftHandler======execute==bodyMessage=: com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@140d415
2012-06-26 14:58:08,951 [Finalizer       ] [DEBUG] ThreadSafeClientConnManager - Shutting down
2012-06-26 14:58:08,951 [pool-4-thread-6 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 14:58:08,967 [pool-4-thread-6 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 14:58:08,967 [pool-4-thread-6 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 14:58:08,967 [pool-4-thread-6 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 14:58:08,967 [pool-4-thread-6 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 2
2012-06-26 14:58:08,967 [pool-4-thread-6 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (202)
2012-06-26 14:58:08,967 [pool-4-thread-6 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftResponseMessageCodec@111089b
2012-06-26 14:58:08,967 [pool-4-thread-6 ] [DEBUG] iveGiftResponseMessageCodec - receive gift response message encode
2012-06-26 14:58:08,967 [pool-4-thread-6 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0xf7a8
2012-06-26 14:58:08,967 [pool-4-thread-6 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 14:58:08,967 [pool-4-thread-6 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 55 of 55 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 F7 A8 00 00 00 37 ...............7
00000010 00 00 00 CA 00 00 00 00 07 DC 06 1A 0E 3A 08 03 .............:..
00000020 B7 01 E0 00 08 C1 EC C8 A1 C0 F1 C6 B7 00 08 BD ................
00000030 BB D2 D7 B3 C9 B9 A6                            .......

2012-06-26 14:58:08,967 [pool-4-thread-6 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 14:58:08,967 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 14:58:08,967 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 14:58:08,967 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 2: not mark to return session ID to client
2012-06-26 14:58:08,967 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 14:58:08,967 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 14:58:08,967 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 14:58:08,967 [NioProcessor-3  ] [INFO ] o.a.m.f.l.LoggingFilter     - CLOSED
2012-06-26 14:58:08,967 [NioProcessor-3  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 14:58:09,217 [NioProcessor-1  ] [INFO ] c.c.q.m.p.f.LoggingFilter   - incoming connection from remote address: 127.0.0.1:3498, Mina session ID: 3
2012-06-26 14:58:09,217 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - Currently managed session count: 1
2012-06-26 14:58:09,217 [NioProcessor-1  ] [INFO ] o.a.m.f.l.LoggingFilter     - CREATED
2012-06-26 14:58:09,217 [NioProcessor-1  ] [INFO ] o.a.m.f.l.LoggingFilter     - OPENED
2012-06-26 14:58:09,217 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:3498, Mina session ID 3, identified POS ID null
2012-06-26 14:58:09,217 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 14:58:09,217 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=32 cap=2048: 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20...]
2012-06-26 14:58:09,217 [NioProcessor-1  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 3
2012-06-26 14:58:09,217 [NioProcessor-1  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 14:58:09,217 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 14:58:09,217 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 3
2012-06-26 14:58:09,217 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =32
2012-06-26 14:58:09,217 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 14:58:09,217 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 32, current position: 0
2012-06-26 14:58:09,217 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 14:58:09,217 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}
2012-06-26 14:58:09,217 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 16
2012-06-26 14:58:09,217 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=16, in.remaining=16
2012-06-26 14:58:09,217 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 14:58:09,217 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 5
2012-06-26 14:58:09,217 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 5: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageCodec@1fd10fa
2012-06-26 14:58:09,217 [NioProcessor-1  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - init request message decode
2012-06-26 14:58:09,217 [NioProcessor-1  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - in.remaining()=16
2012-06-26 14:58:09,217 [NioProcessor-1  ] [TRACE] .m.p.s.m.c.InitMessageCodec - InitRequestMessage: [cmdId=5, posId=pos-0002]
2012-06-26 14:58:09,217 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 14:58:09,217 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 14:58:09,217 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 14:58:09,217 [NioProcessor-1  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 14:58:09,217 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 14:58:09,217 [NioProcessor-1  ] [DEBUG] p.f.SessionKeyMessageFilter - Mina session ID 3: created session key 72feeb78cf084b428861f71af9f9c9f8
2012-06-26 14:58:09,217 [NioProcessor-1  ] [DEBUG] p.f.SessionKeyMessageFilter - creating session for mina session ID 3 using session ID 72feeb78cf084b428861f71af9f9c9f8
2012-06-26 14:58:09,217 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 14:58:09,217 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 14:58:09,217 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 14:58:09,217 [NioProcessor-1  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:3498, Mina session ID 3, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 14:58:09,217 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 14:58:09,217 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 14:58:09,217 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 14:58:09,217 [NioProcessor-1  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 14:58:09,217 [pool-4-thread-7 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 14:58:09,217 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 14:58:09,217 [pool-4-thread-7 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 14:58:09,217 [pool-4-thread-7 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@1988886 obtained for command ID 5
2012-06-26 14:58:09,217 [pool-4-thread-7 ] [DEBUG] $$EnhancerByGuice$$22e9f5a5 - Handler for command ID 5 is com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@1988886
2012-06-26 14:58:09,217 [pool-4-thread-7 ] [DEBUG] .q.m.p.h.InitCommandHandler - InitCommandHandler======execute==bodyMessage=:  [cmdId=5, posId=pos-0002]
2012-06-26 14:58:09,217 [pool-4-thread-7 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - InitResponse() invoke
2012-06-26 14:58:09,217 [pool-4-thread-7 ] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:ALLOWED
2012-06-26 14:58:09,217 [pool-4-thread-7 ] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId AND p.ostatus = :ostatus
2012-06-26 14:58:09,217 [pool-4-thread-7 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - POS ID:pos-0002, init challenge saved - [79, 111, 79, 87, 103, 73, 107, 85]
2012-06-26 14:58:09,217 [pool-4-thread-7 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 14:58:09,233 [pool-4-thread-7 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 14:58:09,233 [pool-4-thread-7 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 14:58:09,233 [pool-4-thread-7 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 14:58:09,233 [pool-4-thread-7 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 3
2012-06-26 14:58:09,233 [pool-4-thread-7 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (6)
2012-06-26 14:58:09,233 [pool-4-thread-7 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageResponseCodec@aee320
2012-06-26 14:58:09,233 [pool-4-thread-7 ] [DEBUG] .c.InitMessageResponseCodec - init response message encode
2012-06-26 14:58:09,233 [pool-4-thread-7 ] [TRACE] .c.InitMessageResponseCodec - InitResponseMessage: [cmdId=6, result=0, challenge=[79, 111, 79, 87, 103, 73, 107, 85]]
2012-06-26 14:58:09,233 [pool-4-thread-7 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0x8e75
2012-06-26 14:58:09,233 [pool-4-thread-7 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 14:58:09,233 [pool-4-thread-7 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 8E 75 00 00 00 1E ...........u....
00000010 00 00 00 06 00 00 4F 6F 4F 57 67 49 6B 55       ......OoOWgIkU

2012-06-26 14:58:09,233 [pool-4-thread-7 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 14:58:09,233 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 14:58:09,233 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 14:58:09,233 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 3: not mark to return session ID to client
2012-06-26 14:58:09,233 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 14:58:09,233 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 14:58:09,233 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 14:58:09,233 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:3498, Mina session ID 3, identified POS ID pos-0002
2012-06-26 14:58:09,248 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 8D AC 00 00 00 30 ...............0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 C3 C2 09 0A CC F1 2C 1A 85 B8 29 4A 0E C1 AA 7F ......,...)J....

2012-06-26 14:58:09,248 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=48 cap=2048: 00 00 00 01 00 00 00 00 00 00 8D AC 00 00 00 30...]
2012-06-26 14:58:09,248 [NioProcessor-1  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 3
2012-06-26 14:58:09,248 [NioProcessor-1  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 14:58:09,248 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 14:58:09,248 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 3
2012-06-26 14:58:09,248 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =48
2012-06-26 14:58:09,248 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 8D AC 00 00 00 30 ...............0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 C3 C2 09 0A CC F1 2C 1A 85 B8 29 4A 0E C1 AA 7F ......,...)J....

2012-06-26 14:58:09,248 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 48, current position: 0
2012-06-26 14:58:09,248 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 14:58:09,248 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x8dac} messageSize:{0x30} sessionKey:{null}
2012-06-26 14:58:09,248 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 32
2012-06-26 14:58:09,248 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=32, in.remaining=32
2012-06-26 14:58:09,248 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 14:58:09,248 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 7
2012-06-26 14:58:09,248 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 7: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageCodec@17535b6
2012-06-26 14:58:09,248 [NioProcessor-1  ] [DEBUG] m.p.s.m.c.LoginMessageCodec - login/bind message decode
2012-06-26 14:58:09,248 [NioProcessor-1  ] [TRACE] m.p.s.m.c.LoginMessageCodec - LoginRequestMessage: [cmdId=7, posId=pos-0002, challengeResponse=[-61, -62, 9, 10, -52, -15, 44, 26, -123, -72, 41, 74, 14, -63, -86, 127]]
2012-06-26 14:58:09,248 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 14:58:09,248 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x8dac} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[-61, -62, 9, 10, -52, -15, 44, 26, -123, -72, 41, 74, 14, -63, -86, 127]]
2012-06-26 14:58:09,248 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 14:58:09,248 [NioProcessor-1  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 14:58:09,248 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 14:58:09,248 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 14:58:09,248 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 14:58:09,248 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 14:58:09,248 [NioProcessor-1  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:3498, Mina session ID 3, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x8dac} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[-61, -62, 9, 10, -52, -15, 44, 26, -123, -72, 41, 74, 14, -63, -86, 127]]
2012-06-26 14:58:09,248 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 14:58:09,248 [pool-4-thread-8 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 14:58:09,248 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 14:58:09,248 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 14:58:09,248 [NioProcessor-1  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 14:58:09,248 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 14:58:09,248 [pool-4-thread-8 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 14:58:09,248 [pool-4-thread-8 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@94b146 obtained for command ID 7
2012-06-26 14:58:09,248 [pool-4-thread-8 ] [DEBUG] $$EnhancerByGuice$$22e9f5a5 - Handler for command ID 7 is com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@94b146
2012-06-26 14:58:09,248 [pool-4-thread-8 ] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==bodyMessage=: [cmdId=7, posId=pos-0002, challengeResponse=[-61, -62, 9, 10, -52, -15, 44, 26, -123, -72, 41, 74, 14, -63, -86, 127]]
2012-06-26 14:58:09,248 [pool-4-thread-8 ] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:null
2012-06-26 14:58:09,248 [pool-4-thread-8 ] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId
2012-06-26 14:58:09,248 [pool-4-thread-8 ] [TRACE] .q.m.l.l.i.LoginManagerImpl - Loaded from db: pos.posId:pos-0002, pos.secret:000001, oldChallenge:[79, 111, 79, 87, 103, 73, 107, 85]
2012-06-26 14:58:09,248 [pool-4-thread-8 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - disableChallengeCheck =0
2012-06-26 14:58:09,248 [pool-4-thread-8 ] [TRACE] c.c.q.m.l.c.ChallengeUtil   - checking challenge:response:[-61, -62, 9, 10, -52, -15, 44, 26, -123, -72, 41, 74, 14, -63, -86, 127], posKey:000001, random:[79, 111, 79, 87, 103, 73, 107, 85]
2012-06-26 14:58:09,248 [pool-4-thread-8 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - new challenge for POS (POS ID): [50, 115, 116, 83, 76, 116, 77, 74]
2012-06-26 14:58:09,248 [pool-4-thread-8 ] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==serverKey=:JXTPOS
2012-06-26 14:58:09,264 [pool-4-thread-8 ] [DEBUG] ThreadSafeClientConnManager - Get connection: HttpRoute[{}->http://localhost:7070], timeout = 0
2012-06-26 14:58:09,264 [pool-4-thread-8 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - [HttpRoute[{}->http://localhost:7070]] total kept alive: 0, total issued: 0, total allocated: 0 out of 20
2012-06-26 14:58:09,264 [pool-4-thread-8 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - No free connections [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 14:58:09,264 [pool-4-thread-8 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Available capacity: 2 out of 2 [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 14:58:09,264 [pool-4-thread-8 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Creating new connection [HttpRoute[{}->http://localhost:7070]]
2012-06-26 14:58:09,264 [pool-4-thread-8 ] [DEBUG] ultClientConnectionOperator - Connecting to localhost:7070
2012-06-26 14:58:10,435 [pool-4-thread-8 ] [DEBUG] i.c.DefaultClientConnection - Connection closed
2012-06-26 14:58:10,435 [pool-4-thread-8 ] [DEBUG] i.c.DefaultClientConnection - Connection shut down
2012-06-26 14:58:10,435 [pool-4-thread-8 ] [DEBUG] ThreadSafeClientConnManager - Released connection is not reusable.
2012-06-26 14:58:10,435 [pool-4-thread-8 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Releasing connection [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 14:58:10,435 [pool-4-thread-8 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Notifying no-one, there are no waiting threads
2012-06-26 14:58:10,435 [pool-4-thread-8 ] [ERROR] q.m.p.h.LoginCommandHandler - initGrouponCache fail:com.chinarewards.qqgbvpn.qqapi.exception.ParseXMLException: com.chinarewards.qqgbvpn.qqapi.exception.SendPostTimeOutException: org.apache.http.conn.HttpHostConnectException: Connection to http://localhost:7070 refused
2012-06-26 14:58:10,466 [pool-4-thread-8 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 14:58:10,482 [pool-4-thread-8 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 14:58:10,482 [pool-4-thread-8 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 14:58:10,482 [pool-4-thread-8 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 14:58:10,482 [pool-4-thread-8 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 3
2012-06-26 14:58:10,482 [pool-4-thread-8 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (8)
2012-06-26 14:58:10,482 [pool-4-thread-8 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageResponseCodec@1f31ad9
2012-06-26 14:58:10,482 [pool-4-thread-8 ] [DEBUG] c.LoginMessageResponseCodec - login/bind message encode
2012-06-26 14:58:10,482 [pool-4-thread-8 ] [TRACE] c.LoginMessageResponseCodec - LoginResponseMessage: [cmdId=8, result=0, challenge=[50, 115, 116, 83, 76, 116, 77, 74]]
2012-06-26 14:58:10,482 [pool-4-thread-8 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0xbf53
2012-06-26 14:58:10,482 [pool-4-thread-8 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 14:58:10,482 [pool-4-thread-8 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BF 53 00 00 00 1E ...........S....
00000010 00 00 00 08 00 00 32 73 74 53 4C 74 4D 4A       ......2stSLtMJ

2012-06-26 14:58:10,482 [pool-4-thread-8 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 14:58:10,482 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 14:58:10,482 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 14:58:10,482 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 3: not mark to return session ID to client
2012-06-26 14:58:10,482 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 14:58:10,482 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 14:58:10,482 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 14:58:10,482 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:3498, Mina session ID 3, identified POS ID pos-0002
2012-06-26 14:58:10,482 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 33 of 33 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 D1 FF 00 00 00 21 ...............!
00000010 00 00 00 C9 00 0B 32 32 32 32 32 32 32 32 32 32 ......2222222222
00000020 32                                              2

2012-06-26 14:58:10,482 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=33 cap=1024: 00 00 00 10 00 00 00 00 00 00 D1 FF 00 00 00 21...]
2012-06-26 14:58:10,482 [NioProcessor-1  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 3
2012-06-26 14:58:10,482 [NioProcessor-1  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 14:58:10,482 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 14:58:10,482 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 3
2012-06-26 14:58:10,482 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =33
2012-06-26 14:58:10,482 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 33 of 33 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 D1 FF 00 00 00 21 ...............!
00000010 00 00 00 C9 00 0B 32 32 32 32 32 32 32 32 32 32 ......2222222222
00000020 32                                              2

2012-06-26 14:58:10,482 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 33, current position: 0
2012-06-26 14:58:10,482 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 14:58:10,482 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd1ff} messageSize:{0x21} sessionKey:{null}
2012-06-26 14:58:10,482 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 17
2012-06-26 14:58:10,482 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=17, in.remaining=17
2012-06-26 14:58:10,482 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 14:58:10,497 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 201
2012-06-26 14:58:10,497 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 201: com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftMessageCodec@18b4ccb
2012-06-26 14:58:10,497 [NioProcessor-1  ] [DEBUG] m.c.ReceiveGiftMessageCodec - receive gift request message decode
2012-06-26 14:58:10,497 [NioProcessor-1  ] [DEBUG] m.c.ReceiveGiftMessageCodec - in.remaining()=17
2012-06-26 14:58:10,497 [Finalizer       ] [DEBUG] ThreadSafeClientConnManager - Shutting down
2012-06-26 14:58:10,497 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 14:58:10,497 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd1ff} messageSize:{0x21} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@f3c5c4
2012-06-26 14:58:10,497 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 14:58:10,497 [NioProcessor-1  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 14:58:10,497 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 14:58:10,497 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 14:58:10,497 [NioProcessor-1  ] [DEBUG] c.c.q.m.p.f.LoginFilter     - isLogin=true
2012-06-26 14:58:10,497 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 14:58:10,497 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 14:58:10,497 [NioProcessor-1  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:3498, Mina session ID 3, identified POS ID pos-0002, message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd1ff} messageSize:{0x21} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@f3c5c4
2012-06-26 14:58:10,497 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 14:58:10,497 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 14:58:10,497 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 14:58:10,497 [NioProcessor-1  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 14:58:10,497 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 14:58:10,497 [pool-4-thread-9 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 14:58:10,497 [pool-4-thread-9 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 14:58:10,497 [pool-4-thread-9 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@e28a61 obtained for command ID 201
2012-06-26 14:58:10,497 [pool-4-thread-9 ] [DEBUG] $$EnhancerByGuice$$22e9f5a5 - Handler for command ID 201 is com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@e28a61
2012-06-26 14:58:10,497 [pool-4-thread-9 ] [DEBUG] h.ReceiveGiftCommandHandler - ReceiveGiftHandler======execute==bodyMessage=: com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@f3c5c4
2012-06-26 14:58:10,497 [pool-4-thread-9 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 14:58:10,497 [pool-4-thread-9 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 14:58:10,497 [pool-4-thread-9 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 14:58:10,497 [pool-4-thread-9 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 14:58:10,497 [pool-4-thread-9 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 3
2012-06-26 14:58:10,497 [pool-4-thread-9 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (202)
2012-06-26 14:58:10,497 [pool-4-thread-9 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftResponseMessageCodec@2982bf
2012-06-26 14:58:10,497 [pool-4-thread-9 ] [DEBUG] iveGiftResponseMessageCodec - receive gift response message encode
2012-06-26 14:58:10,497 [pool-4-thread-9 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0x6190
2012-06-26 14:58:10,497 [pool-4-thread-9 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 14:58:10,497 [pool-4-thread-9 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 55 of 55 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 61 90 00 00 00 37 ..........a....7
00000010 00 00 00 CA 00 00 00 01 07 DC 06 1A 0E 3A 0A 01 .............:..
00000020 F1 01 E0 00 08 C1 EC C8 A1 C0 F1 C6 B7 00 08 D2 ................
00000030 D1 C1 EC C8 A1 B9 FD                            .......

2012-06-26 14:58:10,497 [pool-4-thread-9 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 14:58:10,497 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 14:58:10,497 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 14:58:10,497 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 3: not mark to return session ID to client
2012-06-26 14:58:10,497 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 14:58:10,497 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 14:58:10,497 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 14:58:10,497 [NioProcessor-1  ] [INFO ] o.a.m.f.l.LoggingFilter     - CLOSED
2012-06-26 14:58:10,529 [NioProcessor-1  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 14:58:14,386 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:58:14,386 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:58:14,386 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=3
2012-06-26 14:58:14,386 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=3
2012-06-26 14:58:14,386 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:58:15,213 [NioProcessor-2  ] [INFO ] c.c.q.m.p.f.LoggingFilter   - incoming connection from remote address: 127.0.0.1:3502, Mina session ID: 4
2012-06-26 14:58:15,213 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - Currently managed session count: 1
2012-06-26 14:58:15,213 [NioProcessor-2  ] [INFO ] o.a.m.f.l.LoggingFilter     - CREATED
2012-06-26 14:58:15,213 [NioProcessor-2  ] [INFO ] o.a.m.f.l.LoggingFilter     - OPENED
2012-06-26 14:58:15,213 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:3502, Mina session ID 4, identified POS ID null
2012-06-26 14:58:15,213 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 14:58:15,213 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=32 cap=2048: 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20...]
2012-06-26 14:58:15,213 [NioProcessor-2  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 4
2012-06-26 14:58:15,213 [NioProcessor-2  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 14:58:15,213 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 14:58:15,213 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 4
2012-06-26 14:58:15,213 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =32
2012-06-26 14:58:15,213 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 14:58:15,213 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 32, current position: 0
2012-06-26 14:58:15,213 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 14:58:15,213 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}
2012-06-26 14:58:15,213 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 16
2012-06-26 14:58:15,213 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=16, in.remaining=16
2012-06-26 14:58:15,213 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 14:58:15,213 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 5
2012-06-26 14:58:15,213 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 5: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageCodec@6c9f0f
2012-06-26 14:58:15,213 [NioProcessor-2  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - init request message decode
2012-06-26 14:58:15,213 [NioProcessor-2  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - in.remaining()=16
2012-06-26 14:58:15,213 [NioProcessor-2  ] [TRACE] .m.p.s.m.c.InitMessageCodec - InitRequestMessage: [cmdId=5, posId=pos-0002]
2012-06-26 14:58:15,213 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 14:58:15,213 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 14:58:15,213 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 14:58:15,213 [NioProcessor-2  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 14:58:15,213 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 14:58:15,213 [NioProcessor-2  ] [DEBUG] p.f.SessionKeyMessageFilter - Mina session ID 4: created session key 96d9eed4b2f04453bf3cbb0ccd5a27b7
2012-06-26 14:58:15,213 [NioProcessor-2  ] [DEBUG] p.f.SessionKeyMessageFilter - creating session for mina session ID 4 using session ID 96d9eed4b2f04453bf3cbb0ccd5a27b7
2012-06-26 14:58:15,213 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 14:58:15,213 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 14:58:15,213 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 14:58:15,213 [NioProcessor-2  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:3502, Mina session ID 4, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 14:58:15,213 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 14:58:15,213 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 14:58:15,213 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 14:58:15,213 [NioProcessor-2  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 14:58:15,213 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 14:58:15,213 [pool-4-thread-10] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 14:58:15,213 [pool-4-thread-10] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 14:58:15,213 [pool-4-thread-10] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@1526e3 obtained for command ID 5
2012-06-26 14:58:15,213 [pool-4-thread-10] [DEBUG] $$EnhancerByGuice$$22e9f5a5 - Handler for command ID 5 is com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@1526e3
2012-06-26 14:58:15,213 [pool-4-thread-10] [DEBUG] .q.m.p.h.InitCommandHandler - InitCommandHandler======execute==bodyMessage=:  [cmdId=5, posId=pos-0002]
2012-06-26 14:58:15,213 [pool-4-thread-10] [DEBUG] .q.m.l.l.i.LoginManagerImpl - InitResponse() invoke
2012-06-26 14:58:15,213 [pool-4-thread-10] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:ALLOWED
2012-06-26 14:58:15,213 [pool-4-thread-10] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId AND p.ostatus = :ostatus
2012-06-26 14:58:15,229 [pool-4-thread-10] [DEBUG] .q.m.l.l.i.LoginManagerImpl - POS ID:pos-0002, init challenge saved - [81, 73, 66, 80, 74, 106, 56, 70]
2012-06-26 14:58:15,229 [pool-4-thread-10] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 14:58:15,260 [pool-4-thread-10] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 14:58:15,260 [pool-4-thread-10] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 14:58:15,260 [pool-4-thread-10] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 14:58:15,260 [pool-4-thread-10] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 4
2012-06-26 14:58:15,260 [pool-4-thread-10] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (6)
2012-06-26 14:58:15,260 [pool-4-thread-10] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageResponseCodec@3d511e
2012-06-26 14:58:15,260 [pool-4-thread-10] [DEBUG] .c.InitMessageResponseCodec - init response message encode
2012-06-26 14:58:15,260 [pool-4-thread-10] [TRACE] .c.InitMessageResponseCodec - InitResponseMessage: [cmdId=6, result=0, challenge=[81, 73, 66, 80, 74, 106, 56, 70]]
2012-06-26 14:58:15,260 [pool-4-thread-10] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0xe990
2012-06-26 14:58:15,260 [pool-4-thread-10] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 14:58:15,260 [pool-4-thread-10] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 E9 90 00 00 00 1E ................
00000010 00 00 00 06 00 00 51 49 42 50 4A 6A 38 46       ......QIBPJj8F

2012-06-26 14:58:15,260 [pool-4-thread-10] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 14:58:15,260 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 14:58:15,260 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 14:58:15,260 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 4: not mark to return session ID to client
2012-06-26 14:58:15,260 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 14:58:15,260 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 14:58:15,260 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 14:58:15,479 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:3502, Mina session ID 4, identified POS ID pos-0002
2012-06-26 14:58:15,479 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 4C 3A 00 00 00 30 ..........L:...0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 3B 5A C7 95 7F 1B C2 40 8E 96 58 60 68 88 DB C2 ;Z.....@..X`h...

2012-06-26 14:58:15,479 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=48 cap=2048: 00 00 00 01 00 00 00 00 00 00 4C 3A 00 00 00 30...]
2012-06-26 14:58:15,494 [NioProcessor-2  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 4
2012-06-26 14:58:15,510 [NioProcessor-2  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 14:58:15,510 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 14:58:15,510 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 4
2012-06-26 14:58:15,510 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =48
2012-06-26 14:58:15,510 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 4C 3A 00 00 00 30 ..........L:...0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 3B 5A C7 95 7F 1B C2 40 8E 96 58 60 68 88 DB C2 ;Z.....@..X`h...

2012-06-26 14:58:15,510 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 48, current position: 0
2012-06-26 14:58:15,510 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 14:58:15,510 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x4c3a} messageSize:{0x30} sessionKey:{null}
2012-06-26 14:58:15,510 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 32
2012-06-26 14:58:15,510 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=32, in.remaining=32
2012-06-26 14:58:15,510 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 14:58:15,510 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 7
2012-06-26 14:58:15,510 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 7: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageCodec@1fd360b
2012-06-26 14:58:15,510 [NioProcessor-2  ] [DEBUG] m.p.s.m.c.LoginMessageCodec - login/bind message decode
2012-06-26 14:58:15,510 [NioProcessor-2  ] [TRACE] m.p.s.m.c.LoginMessageCodec - LoginRequestMessage: [cmdId=7, posId=pos-0002, challengeResponse=[59, 90, -57, -107, 127, 27, -62, 64, -114, -106, 88, 96, 104, -120, -37, -62]]
2012-06-26 14:58:15,510 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 14:58:15,510 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x4c3a} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[59, 90, -57, -107, 127, 27, -62, 64, -114, -106, 88, 96, 104, -120, -37, -62]]
2012-06-26 14:58:15,510 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 14:58:15,510 [NioProcessor-2  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 14:58:15,510 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 14:58:15,510 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 14:58:15,510 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 14:58:15,510 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 14:58:15,510 [NioProcessor-2  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:3502, Mina session ID 4, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x4c3a} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[59, 90, -57, -107, 127, 27, -62, 64, -114, -106, 88, 96, 104, -120, -37, -62]]
2012-06-26 14:58:15,510 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 14:58:15,510 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 14:58:15,510 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 14:58:15,510 [NioProcessor-2  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 14:58:15,510 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 14:58:15,510 [pool-4-thread-11] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 14:58:15,510 [pool-4-thread-11] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 14:58:15,510 [pool-4-thread-11] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@1098594 obtained for command ID 7
2012-06-26 14:58:15,510 [pool-4-thread-11] [DEBUG] $$EnhancerByGuice$$22e9f5a5 - Handler for command ID 7 is com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@1098594
2012-06-26 14:58:15,510 [pool-4-thread-11] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==bodyMessage=: [cmdId=7, posId=pos-0002, challengeResponse=[59, 90, -57, -107, 127, 27, -62, 64, -114, -106, 88, 96, 104, -120, -37, -62]]
2012-06-26 14:58:15,510 [pool-4-thread-11] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:null
2012-06-26 14:58:15,510 [pool-4-thread-11] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId
2012-06-26 14:58:15,510 [pool-4-thread-11] [TRACE] .q.m.l.l.i.LoginManagerImpl - Loaded from db: pos.posId:pos-0002, pos.secret:000001, oldChallenge:[81, 73, 66, 80, 74, 106, 56, 70]
2012-06-26 14:58:15,510 [pool-4-thread-11] [DEBUG] .q.m.l.l.i.LoginManagerImpl - disableChallengeCheck =0
2012-06-26 14:58:15,510 [pool-4-thread-11] [TRACE] c.c.q.m.l.c.ChallengeUtil   - checking challenge:response:[59, 90, -57, -107, 127, 27, -62, 64, -114, -106, 88, 96, 104, -120, -37, -62], posKey:000001, random:[81, 73, 66, 80, 74, 106, 56, 70]
2012-06-26 14:58:15,510 [pool-4-thread-11] [DEBUG] .q.m.l.l.i.LoginManagerImpl - new challenge for POS (POS ID): [117, 86, 113, 67, 85, 119, 101, 89]
2012-06-26 14:58:15,510 [pool-4-thread-11] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==serverKey=:JXTPOS
2012-06-26 14:58:15,510 [pool-4-thread-11] [DEBUG] ThreadSafeClientConnManager - Get connection: HttpRoute[{}->http://localhost:7070], timeout = 0
2012-06-26 14:58:15,510 [pool-4-thread-11] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - [HttpRoute[{}->http://localhost:7070]] total kept alive: 0, total issued: 0, total allocated: 0 out of 20
2012-06-26 14:58:15,510 [pool-4-thread-11] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - No free connections [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 14:58:15,510 [pool-4-thread-11] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Available capacity: 2 out of 2 [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 14:58:15,510 [pool-4-thread-11] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Creating new connection [HttpRoute[{}->http://localhost:7070]]
2012-06-26 14:58:15,510 [pool-4-thread-11] [DEBUG] ultClientConnectionOperator - Connecting to localhost:7070
2012-06-26 14:58:16,447 [pool-4-thread-11] [DEBUG] i.c.DefaultClientConnection - Connection closed
2012-06-26 14:58:16,447 [pool-4-thread-11] [DEBUG] i.c.DefaultClientConnection - Connection shut down
2012-06-26 14:58:16,447 [pool-4-thread-11] [DEBUG] ThreadSafeClientConnManager - Released connection is not reusable.
2012-06-26 14:58:16,447 [pool-4-thread-11] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Releasing connection [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 14:58:16,447 [pool-4-thread-11] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Notifying no-one, there are no waiting threads
2012-06-26 14:58:16,447 [pool-4-thread-11] [ERROR] q.m.p.h.LoginCommandHandler - initGrouponCache fail:com.chinarewards.qqgbvpn.qqapi.exception.ParseXMLException: com.chinarewards.qqgbvpn.qqapi.exception.SendPostTimeOutException: org.apache.http.conn.HttpHostConnectException: Connection to http://localhost:7070 refused
2012-06-26 14:58:16,447 [pool-4-thread-11] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 14:58:16,463 [pool-4-thread-11] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 14:58:16,463 [pool-4-thread-11] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 14:58:16,463 [pool-4-thread-11] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 14:58:16,463 [pool-4-thread-11] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 4
2012-06-26 14:58:16,463 [pool-4-thread-11] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (8)
2012-06-26 14:58:16,463 [pool-4-thread-11] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageResponseCodec@c8ccb1
2012-06-26 14:58:16,463 [pool-4-thread-11] [DEBUG] c.LoginMessageResponseCodec - login/bind message encode
2012-06-26 14:58:16,463 [pool-4-thread-11] [TRACE] c.LoginMessageResponseCodec - LoginResponseMessage: [cmdId=8, result=0, challenge=[117, 86, 113, 67, 85, 119, 101, 89]]
2012-06-26 14:58:16,463 [pool-4-thread-11] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0x5e6e
2012-06-26 14:58:16,463 [pool-4-thread-11] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 14:58:16,463 [pool-4-thread-11] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 5E 6E 00 00 00 1E ..........^n....
00000010 00 00 00 08 00 00 75 56 71 43 55 77 65 59       ......uVqCUweY

2012-06-26 14:58:16,463 [pool-4-thread-11] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 14:58:16,463 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 14:58:16,463 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 14:58:16,463 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 4: not mark to return session ID to client
2012-06-26 14:58:16,463 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 14:58:16,463 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 14:58:16,463 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 14:58:16,463 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:3502, Mina session ID 4, identified POS ID pos-0002
2012-06-26 14:58:16,463 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 28 of 28 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 65 68 00 00 00 1C ..........eh....
00000010 00 00 00 C9 00 06 31 32 33 34 35 36             ......123456

2012-06-26 14:58:16,463 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=28 cap=1024: 00 00 00 10 00 00 00 00 00 00 65 68 00 00 00 1C...]
2012-06-26 14:58:16,463 [NioProcessor-2  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 4
2012-06-26 14:58:16,463 [NioProcessor-2  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 14:58:16,463 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 14:58:16,463 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 4
2012-06-26 14:58:16,463 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =28
2012-06-26 14:58:16,463 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 28 of 28 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 65 68 00 00 00 1C ..........eh....
00000010 00 00 00 C9 00 06 31 32 33 34 35 36             ......123456

2012-06-26 14:58:16,463 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 28, current position: 0
2012-06-26 14:58:16,463 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 14:58:16,463 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0x6568} messageSize:{0x1c} sessionKey:{null}
2012-06-26 14:58:16,463 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 12
2012-06-26 14:58:16,463 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=12, in.remaining=12
2012-06-26 14:58:16,463 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 14:58:16,463 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 201
2012-06-26 14:58:16,463 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 201: com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftMessageCodec@f6852d
2012-06-26 14:58:16,463 [NioProcessor-2  ] [DEBUG] m.c.ReceiveGiftMessageCodec - receive gift request message decode
2012-06-26 14:58:16,463 [NioProcessor-2  ] [DEBUG] m.c.ReceiveGiftMessageCodec - in.remaining()=12
2012-06-26 14:58:16,463 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 14:58:16,463 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0x6568} messageSize:{0x1c} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@a16157
2012-06-26 14:58:16,463 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 14:58:16,463 [NioProcessor-2  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 14:58:16,463 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 14:58:16,463 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 14:58:16,463 [NioProcessor-2  ] [DEBUG] c.c.q.m.p.f.LoginFilter     - isLogin=true
2012-06-26 14:58:16,463 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 14:58:16,463 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 14:58:16,463 [NioProcessor-2  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:3502, Mina session ID 4, identified POS ID pos-0002, message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0x6568} messageSize:{0x1c} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@a16157
2012-06-26 14:58:16,463 [Finalizer       ] [DEBUG] ThreadSafeClientConnManager - Shutting down
2012-06-26 14:58:16,463 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 14:58:16,463 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 14:58:16,463 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 14:58:16,463 [NioProcessor-2  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 14:58:16,463 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 14:58:16,463 [pool-4-thread-12] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 14:58:16,463 [pool-4-thread-12] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 14:58:16,463 [pool-4-thread-12] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@1e3e7d2 obtained for command ID 201
2012-06-26 14:58:16,463 [pool-4-thread-12] [DEBUG] $$EnhancerByGuice$$22e9f5a5 - Handler for command ID 201 is com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@1e3e7d2
2012-06-26 14:58:16,463 [pool-4-thread-12] [DEBUG] h.ReceiveGiftCommandHandler - ReceiveGiftHandler======execute==bodyMessage=: com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@a16157
2012-06-26 14:58:16,463 [pool-4-thread-12] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 14:58:16,463 [pool-4-thread-12] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 14:58:16,463 [pool-4-thread-12] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 14:58:16,463 [pool-4-thread-12] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 14:58:16,463 [pool-4-thread-12] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 4
2012-06-26 14:58:16,463 [pool-4-thread-12] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (202)
2012-06-26 14:58:16,463 [pool-4-thread-12] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftResponseMessageCodec@8f3eac
2012-06-26 14:58:16,463 [pool-4-thread-12] [DEBUG] iveGiftResponseMessageCodec - receive gift response message encode
2012-06-26 14:58:16,463 [pool-4-thread-12] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0xfc3d
2012-06-26 14:58:16,463 [pool-4-thread-12] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 14:58:16,463 [pool-4-thread-12] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 69 of 69 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 FC 3D 00 00 00 45 ...........=...E
00000010 00 00 00 CA 00 00 00 02 07 DC 06 1A 0E 3A 10 01 .............:..
00000020 CF 01 E0 00 08 C1 EC C8 A1 C0 F1 C6 B7 00 16 31 ...............1
00000030 32 33 34 35 36 0A CE DE D0 A7 0A B0 B4 4F 4B BC 23456........OK.
00000040 FC B7 B5 BB D8                                  .....

2012-06-26 14:58:16,463 [pool-4-thread-12] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 14:58:16,463 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 14:58:16,478 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 14:58:16,478 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 4: not mark to return session ID to client
2012-06-26 14:58:16,478 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 14:58:16,478 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 14:58:16,478 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 14:58:16,478 [NioProcessor-2  ] [INFO ] o.a.m.f.l.LoggingFilter     - CLOSED
2012-06-26 14:58:16,478 [NioProcessor-2  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 14:58:16,712 [NioProcessor-3  ] [INFO ] c.c.q.m.p.f.LoggingFilter   - incoming connection from remote address: 127.0.0.1:3504, Mina session ID: 5
2012-06-26 14:58:16,712 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - Currently managed session count: 1
2012-06-26 14:58:16,712 [NioProcessor-3  ] [INFO ] o.a.m.f.l.LoggingFilter     - CREATED
2012-06-26 14:58:16,712 [NioProcessor-3  ] [INFO ] o.a.m.f.l.LoggingFilter     - OPENED
2012-06-26 14:58:16,853 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:3504, Mina session ID 5, identified POS ID null
2012-06-26 14:58:16,853 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 14:58:16,853 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=32 cap=2048: 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20...]
2012-06-26 14:58:16,853 [NioProcessor-3  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 5
2012-06-26 14:58:16,853 [NioProcessor-3  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 14:58:16,853 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 14:58:16,853 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 5
2012-06-26 14:58:16,853 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =32
2012-06-26 14:58:16,853 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 14:58:16,853 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 32, current position: 0
2012-06-26 14:58:16,853 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 14:58:16,853 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}
2012-06-26 14:58:16,853 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 16
2012-06-26 14:58:16,853 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=16, in.remaining=16
2012-06-26 14:58:16,853 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 14:58:16,853 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 5
2012-06-26 14:58:16,853 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 5: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageCodec@b173c3
2012-06-26 14:58:16,853 [NioProcessor-3  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - init request message decode
2012-06-26 14:58:16,853 [NioProcessor-3  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - in.remaining()=16
2012-06-26 14:58:16,853 [NioProcessor-3  ] [TRACE] .m.p.s.m.c.InitMessageCodec - InitRequestMessage: [cmdId=5, posId=pos-0002]
2012-06-26 14:58:16,853 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 14:58:16,853 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 14:58:16,853 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 14:58:16,853 [NioProcessor-3  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 14:58:16,853 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 14:58:16,853 [NioProcessor-3  ] [DEBUG] p.f.SessionKeyMessageFilter - Mina session ID 5: created session key 62b209afe487438696d9ecfa9396712a
2012-06-26 14:58:16,853 [NioProcessor-3  ] [DEBUG] p.f.SessionKeyMessageFilter - creating session for mina session ID 5 using session ID 62b209afe487438696d9ecfa9396712a
2012-06-26 14:58:16,853 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 14:58:16,853 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 14:58:16,853 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 14:58:16,853 [NioProcessor-3  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:3504, Mina session ID 5, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 14:58:16,853 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 14:58:16,853 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 14:58:16,853 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 14:58:16,853 [NioProcessor-3  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 14:58:16,853 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 14:58:16,853 [pool-4-thread-13] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 14:58:16,853 [pool-4-thread-13] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 14:58:16,853 [pool-4-thread-13] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@187e184 obtained for command ID 5
2012-06-26 14:58:16,853 [pool-4-thread-13] [DEBUG] $$EnhancerByGuice$$22e9f5a5 - Handler for command ID 5 is com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@187e184
2012-06-26 14:58:16,853 [pool-4-thread-13] [DEBUG] .q.m.p.h.InitCommandHandler - InitCommandHandler======execute==bodyMessage=:  [cmdId=5, posId=pos-0002]
2012-06-26 14:58:16,853 [pool-4-thread-13] [DEBUG] .q.m.l.l.i.LoginManagerImpl - InitResponse() invoke
2012-06-26 14:58:16,853 [pool-4-thread-13] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:ALLOWED
2012-06-26 14:58:16,853 [pool-4-thread-13] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId AND p.ostatus = :ostatus
2012-06-26 14:58:16,853 [pool-4-thread-13] [DEBUG] .q.m.l.l.i.LoginManagerImpl - POS ID:pos-0002, init challenge saved - [99, 72, 100, 98, 81, 97, 105, 78]
2012-06-26 14:58:16,853 [pool-4-thread-13] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 14:58:16,884 [pool-4-thread-13] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 14:58:16,884 [pool-4-thread-13] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 14:58:16,884 [pool-4-thread-13] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 14:58:16,884 [pool-4-thread-13] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 5
2012-06-26 14:58:16,884 [pool-4-thread-13] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (6)
2012-06-26 14:58:16,884 [pool-4-thread-13] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageResponseCodec@a96606
2012-06-26 14:58:16,884 [pool-4-thread-13] [DEBUG] .c.InitMessageResponseCodec - init response message encode
2012-06-26 14:58:16,900 [pool-4-thread-13] [TRACE] .c.InitMessageResponseCodec - InitResponseMessage: [cmdId=6, result=0, challenge=[99, 72, 100, 98, 81, 97, 105, 78]]
2012-06-26 14:58:16,900 [pool-4-thread-13] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0x7d80
2012-06-26 14:58:16,900 [pool-4-thread-13] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 14:58:16,900 [pool-4-thread-13] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 7D 80 00 00 00 1E ..........}.....
00000010 00 00 00 06 00 00 63 48 64 62 51 61 69 4E       ......cHdbQaiN

2012-06-26 14:58:16,900 [pool-4-thread-13] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 14:58:16,900 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 14:58:16,900 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 14:58:16,900 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 5: not mark to return session ID to client
2012-06-26 14:58:16,900 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 14:58:16,900 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 14:58:16,900 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 14:58:16,900 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:3504, Mina session ID 5, identified POS ID pos-0002
2012-06-26 14:58:16,900 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 EA 19 00 00 00 30 ...............0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 CC EB 58 04 67 F8 63 2F 2D CC DC CF FB 9D DB 5C ..X.g.c/-......\

2012-06-26 14:58:16,900 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=48 cap=2048: 00 00 00 01 00 00 00 00 00 00 EA 19 00 00 00 30...]
2012-06-26 14:58:16,900 [NioProcessor-3  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 5
2012-06-26 14:58:16,900 [NioProcessor-3  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 14:58:16,900 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 14:58:16,900 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 5
2012-06-26 14:58:16,900 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =48
2012-06-26 14:58:16,900 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 EA 19 00 00 00 30 ...............0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 CC EB 58 04 67 F8 63 2F 2D CC DC CF FB 9D DB 5C ..X.g.c/-......\

2012-06-26 14:58:16,900 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 48, current position: 0
2012-06-26 14:58:16,900 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 14:58:16,900 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xea19} messageSize:{0x30} sessionKey:{null}
2012-06-26 14:58:16,900 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 32
2012-06-26 14:58:16,900 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=32, in.remaining=32
2012-06-26 14:58:16,900 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 14:58:16,900 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 7
2012-06-26 14:58:16,900 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 7: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageCodec@e8eeca
2012-06-26 14:58:16,900 [NioProcessor-3  ] [DEBUG] m.p.s.m.c.LoginMessageCodec - login/bind message decode
2012-06-26 14:58:16,900 [NioProcessor-3  ] [TRACE] m.p.s.m.c.LoginMessageCodec - LoginRequestMessage: [cmdId=7, posId=pos-0002, challengeResponse=[-52, -21, 88, 4, 103, -8, 99, 47, 45, -52, -36, -49, -5, -99, -37, 92]]
2012-06-26 14:58:16,900 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 14:58:16,900 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xea19} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[-52, -21, 88, 4, 103, -8, 99, 47, 45, -52, -36, -49, -5, -99, -37, 92]]
2012-06-26 14:58:16,900 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 14:58:16,900 [NioProcessor-3  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 14:58:16,900 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 14:58:16,900 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 14:58:16,900 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 14:58:16,900 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 14:58:16,900 [NioProcessor-3  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:3504, Mina session ID 5, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xea19} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[-52, -21, 88, 4, 103, -8, 99, 47, 45, -52, -36, -49, -5, -99, -37, 92]]
2012-06-26 14:58:16,900 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 14:58:16,900 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 14:58:16,900 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 14:58:16,900 [NioProcessor-3  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 14:58:16,900 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 14:58:16,900 [pool-4-thread-14] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 14:58:16,900 [pool-4-thread-14] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 14:58:16,900 [pool-4-thread-14] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@da9067 obtained for command ID 7
2012-06-26 14:58:16,900 [pool-4-thread-14] [DEBUG] $$EnhancerByGuice$$22e9f5a5 - Handler for command ID 7 is com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@da9067
2012-06-26 14:58:16,900 [pool-4-thread-14] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==bodyMessage=: [cmdId=7, posId=pos-0002, challengeResponse=[-52, -21, 88, 4, 103, -8, 99, 47, 45, -52, -36, -49, -5, -99, -37, 92]]
2012-06-26 14:58:16,900 [pool-4-thread-14] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:null
2012-06-26 14:58:16,900 [pool-4-thread-14] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId
2012-06-26 14:58:16,900 [pool-4-thread-14] [TRACE] .q.m.l.l.i.LoginManagerImpl - Loaded from db: pos.posId:pos-0002, pos.secret:000001, oldChallenge:[99, 72, 100, 98, 81, 97, 105, 78]
2012-06-26 14:58:16,900 [pool-4-thread-14] [DEBUG] .q.m.l.l.i.LoginManagerImpl - disableChallengeCheck =0
2012-06-26 14:58:16,900 [pool-4-thread-14] [TRACE] c.c.q.m.l.c.ChallengeUtil   - checking challenge:response:[-52, -21, 88, 4, 103, -8, 99, 47, 45, -52, -36, -49, -5, -99, -37, 92], posKey:000001, random:[99, 72, 100, 98, 81, 97, 105, 78]
2012-06-26 14:58:16,900 [pool-4-thread-14] [DEBUG] .q.m.l.l.i.LoginManagerImpl - new challenge for POS (POS ID): [70, 89, 52, 113, 68, 56, 81, 85]
2012-06-26 14:58:16,900 [pool-4-thread-14] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==serverKey=:JXTPOS
2012-06-26 14:58:16,915 [pool-4-thread-14] [DEBUG] ThreadSafeClientConnManager - Get connection: HttpRoute[{}->http://localhost:7070], timeout = 0
2012-06-26 14:58:16,915 [pool-4-thread-14] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - [HttpRoute[{}->http://localhost:7070]] total kept alive: 0, total issued: 0, total allocated: 0 out of 20
2012-06-26 14:58:16,915 [pool-4-thread-14] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - No free connections [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 14:58:16,915 [pool-4-thread-14] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Available capacity: 2 out of 2 [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 14:58:16,915 [pool-4-thread-14] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Creating new connection [HttpRoute[{}->http://localhost:7070]]
2012-06-26 14:58:16,915 [pool-4-thread-14] [DEBUG] ultClientConnectionOperator - Connecting to localhost:7070
2012-06-26 14:58:17,993 [pool-4-thread-14] [DEBUG] i.c.DefaultClientConnection - Connection closed
2012-06-26 14:58:17,993 [pool-4-thread-14] [DEBUG] i.c.DefaultClientConnection - Connection shut down
2012-06-26 14:58:17,993 [pool-4-thread-14] [DEBUG] ThreadSafeClientConnManager - Released connection is not reusable.
2012-06-26 14:58:17,993 [pool-4-thread-14] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Releasing connection [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 14:58:17,993 [pool-4-thread-14] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Notifying no-one, there are no waiting threads
2012-06-26 14:58:17,993 [pool-4-thread-14] [ERROR] q.m.p.h.LoginCommandHandler - initGrouponCache fail:com.chinarewards.qqgbvpn.qqapi.exception.ParseXMLException: com.chinarewards.qqgbvpn.qqapi.exception.SendPostTimeOutException: org.apache.http.conn.HttpHostConnectException: Connection to http://localhost:7070 refused
2012-06-26 14:58:18,024 [pool-4-thread-14] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 14:58:18,071 [pool-4-thread-14] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 14:58:18,071 [pool-4-thread-14] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 14:58:18,071 [pool-4-thread-14] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 14:58:18,071 [pool-4-thread-14] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 5
2012-06-26 14:58:18,071 [pool-4-thread-14] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (8)
2012-06-26 14:58:18,071 [pool-4-thread-14] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageResponseCodec@2ee7e5
2012-06-26 14:58:18,071 [pool-4-thread-14] [DEBUG] c.LoginMessageResponseCodec - login/bind message encode
2012-06-26 14:58:18,071 [pool-4-thread-14] [TRACE] c.LoginMessageResponseCodec - LoginResponseMessage: [cmdId=8, result=0, challenge=[70, 89, 52, 113, 68, 56, 81, 85]]
2012-06-26 14:58:18,071 [pool-4-thread-14] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0xef80
2012-06-26 14:58:18,071 [pool-4-thread-14] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 14:58:18,071 [pool-4-thread-14] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 EF 80 00 00 00 1E ................
00000010 00 00 00 08 00 00 46 59 34 71 44 38 51 55       ......FY4qD8QU

2012-06-26 14:58:18,071 [pool-4-thread-14] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 14:58:18,071 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 14:58:18,071 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 14:58:18,071 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 5: not mark to return session ID to client
2012-06-26 14:58:18,071 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 14:58:18,071 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 14:58:18,071 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 14:58:18,071 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:3504, Mina session ID 5, identified POS ID pos-0002
2012-06-26 14:58:18,071 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 33 of 33 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 D8 04 00 00 00 21 ...............!
00000010 00 00 00 C9 00 0B 31 31 31 31 31 31 31 31 31 31 ......1111111111
00000020 31                                              1

2012-06-26 14:58:18,071 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=33 cap=1024: 00 00 00 10 00 00 00 00 00 00 D8 04 00 00 00 21...]
2012-06-26 14:58:18,071 [NioProcessor-3  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 5
2012-06-26 14:58:18,071 [NioProcessor-3  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 14:58:18,071 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 14:58:18,071 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 5
2012-06-26 14:58:18,071 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =33
2012-06-26 14:58:18,071 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 33 of 33 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 D8 04 00 00 00 21 ...............!
00000010 00 00 00 C9 00 0B 31 31 31 31 31 31 31 31 31 31 ......1111111111
00000020 31                                              1

2012-06-26 14:58:18,071 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 33, current position: 0
2012-06-26 14:58:18,071 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 14:58:18,071 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd804} messageSize:{0x21} sessionKey:{null}
2012-06-26 14:58:18,071 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 17
2012-06-26 14:58:18,071 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=17, in.remaining=17
2012-06-26 14:58:18,071 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 14:58:18,071 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 201
2012-06-26 14:58:18,071 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 201: com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftMessageCodec@17aaa0e
2012-06-26 14:58:18,071 [NioProcessor-3  ] [DEBUG] m.c.ReceiveGiftMessageCodec - receive gift request message decode
2012-06-26 14:58:18,071 [NioProcessor-3  ] [DEBUG] m.c.ReceiveGiftMessageCodec - in.remaining()=17
2012-06-26 14:58:18,071 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 14:58:18,071 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd804} messageSize:{0x21} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@328c40
2012-06-26 14:58:18,071 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 14:58:18,071 [NioProcessor-3  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 14:58:18,071 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 14:58:18,071 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 14:58:18,071 [NioProcessor-3  ] [DEBUG] c.c.q.m.p.f.LoginFilter     - isLogin=true
2012-06-26 14:58:18,071 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 14:58:18,071 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 14:58:18,071 [NioProcessor-3  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:3504, Mina session ID 5, identified POS ID pos-0002, message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd804} messageSize:{0x21} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@328c40
2012-06-26 14:58:18,071 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 14:58:18,071 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 14:58:18,071 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 14:58:18,071 [NioProcessor-3  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 14:58:18,071 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 14:58:18,071 [pool-4-thread-15] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 14:58:18,071 [pool-4-thread-15] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 14:58:18,071 [pool-4-thread-15] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@3861e6 obtained for command ID 201
2012-06-26 14:58:18,071 [pool-4-thread-15] [DEBUG] $$EnhancerByGuice$$22e9f5a5 - Handler for command ID 201 is com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@3861e6
2012-06-26 14:58:18,071 [pool-4-thread-15] [DEBUG] h.ReceiveGiftCommandHandler - ReceiveGiftHandler======execute==bodyMessage=: com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@328c40
2012-06-26 14:58:18,071 [Finalizer       ] [DEBUG] ThreadSafeClientConnManager - Shutting down
2012-06-26 14:58:18,071 [pool-4-thread-15] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 14:58:18,071 [pool-4-thread-15] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 14:58:18,071 [pool-4-thread-15] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 14:58:18,071 [pool-4-thread-15] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 14:58:18,071 [pool-4-thread-15] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 5
2012-06-26 14:58:18,071 [pool-4-thread-15] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (202)
2012-06-26 14:58:18,071 [pool-4-thread-15] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftResponseMessageCodec@1e5a5dc
2012-06-26 14:58:18,071 [pool-4-thread-15] [DEBUG] iveGiftResponseMessageCodec - receive gift response message encode
2012-06-26 14:58:18,071 [pool-4-thread-15] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0x5dac
2012-06-26 14:58:18,071 [pool-4-thread-15] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 14:58:18,071 [pool-4-thread-15] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 55 of 55 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 5D AC 00 00 00 37 ..........]....7
00000010 00 00 00 CA 00 00 00 00 07 DC 06 1A 0E 3A 12 00 .............:..
00000020 47 01 E0 00 08 C1 EC C8 A1 C0 F1 C6 B7 00 08 BD G...............
00000030 BB D2 D7 B3 C9 B9 A6                            .......

2012-06-26 14:58:18,071 [pool-4-thread-15] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 14:58:18,071 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 14:58:18,071 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 14:58:18,071 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 5: not mark to return session ID to client
2012-06-26 14:58:18,071 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 14:58:18,071 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 14:58:18,071 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 14:58:18,087 [NioProcessor-3  ] [INFO ] o.a.m.f.l.LoggingFilter     - CLOSED
2012-06-26 14:58:18,102 [NioProcessor-3  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 14:58:18,321 [NioProcessor-1  ] [INFO ] c.c.q.m.p.f.LoggingFilter   - incoming connection from remote address: 127.0.0.1:3506, Mina session ID: 6
2012-06-26 14:58:18,321 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - Currently managed session count: 1
2012-06-26 14:58:18,321 [NioProcessor-1  ] [INFO ] o.a.m.f.l.LoggingFilter     - CREATED
2012-06-26 14:58:18,321 [NioProcessor-1  ] [INFO ] o.a.m.f.l.LoggingFilter     - OPENED
2012-06-26 14:58:18,321 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:3506, Mina session ID 6, identified POS ID null
2012-06-26 14:58:18,321 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 14:58:18,321 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=32 cap=2048: 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20...]
2012-06-26 14:58:18,321 [NioProcessor-1  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 6
2012-06-26 14:58:18,321 [NioProcessor-1  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 14:58:18,321 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 14:58:18,321 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 6
2012-06-26 14:58:18,321 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =32
2012-06-26 14:58:18,321 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 14:58:18,321 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 32, current position: 0
2012-06-26 14:58:18,321 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 14:58:18,321 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}
2012-06-26 14:58:18,321 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 16
2012-06-26 14:58:18,321 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=16, in.remaining=16
2012-06-26 14:58:18,321 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 14:58:18,321 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 5
2012-06-26 14:58:18,321 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 5: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageCodec@1d0e2c9
2012-06-26 14:58:18,321 [NioProcessor-1  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - init request message decode
2012-06-26 14:58:18,321 [NioProcessor-1  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - in.remaining()=16
2012-06-26 14:58:18,321 [NioProcessor-1  ] [TRACE] .m.p.s.m.c.InitMessageCodec - InitRequestMessage: [cmdId=5, posId=pos-0002]
2012-06-26 14:58:18,321 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 14:58:18,321 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 14:58:18,321 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 14:58:18,321 [NioProcessor-1  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 14:58:18,321 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 14:58:18,321 [NioProcessor-1  ] [DEBUG] p.f.SessionKeyMessageFilter - Mina session ID 6: created session key 0cb03ae096d84d5e94365c2d56010116
2012-06-26 14:58:18,321 [NioProcessor-1  ] [DEBUG] p.f.SessionKeyMessageFilter - creating session for mina session ID 6 using session ID 0cb03ae096d84d5e94365c2d56010116
2012-06-26 14:58:18,321 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 14:58:18,321 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 14:58:18,321 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 14:58:18,321 [NioProcessor-1  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:3506, Mina session ID 6, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 14:58:18,321 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 14:58:18,321 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 14:58:18,321 [pool-4-thread-16] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 14:58:18,321 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 14:58:18,321 [NioProcessor-1  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 14:58:18,321 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 14:58:18,321 [pool-4-thread-16] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 14:58:18,321 [pool-4-thread-16] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@3de2df obtained for command ID 5
2012-06-26 14:58:18,321 [pool-4-thread-16] [DEBUG] $$EnhancerByGuice$$22e9f5a5 - Handler for command ID 5 is com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@3de2df
2012-06-26 14:58:18,321 [pool-4-thread-16] [DEBUG] .q.m.p.h.InitCommandHandler - InitCommandHandler======execute==bodyMessage=:  [cmdId=5, posId=pos-0002]
2012-06-26 14:58:18,321 [pool-4-thread-16] [DEBUG] .q.m.l.l.i.LoginManagerImpl - InitResponse() invoke
2012-06-26 14:58:18,321 [pool-4-thread-16] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:ALLOWED
2012-06-26 14:58:18,321 [pool-4-thread-16] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId AND p.ostatus = :ostatus
2012-06-26 14:58:18,321 [pool-4-thread-16] [DEBUG] .q.m.l.l.i.LoginManagerImpl - POS ID:pos-0002, init challenge saved - [78, 106, 119, 53, 109, 66, 74, 57]
2012-06-26 14:58:18,321 [pool-4-thread-16] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 14:58:18,352 [pool-4-thread-16] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 14:58:18,352 [pool-4-thread-16] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 14:58:18,352 [pool-4-thread-16] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 14:58:18,352 [pool-4-thread-16] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 6
2012-06-26 14:58:18,352 [pool-4-thread-16] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (6)
2012-06-26 14:58:18,352 [pool-4-thread-16] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageResponseCodec@17757ad
2012-06-26 14:58:18,352 [pool-4-thread-16] [DEBUG] .c.InitMessageResponseCodec - init response message encode
2012-06-26 14:58:18,352 [pool-4-thread-16] [TRACE] .c.InitMessageResponseCodec - InitResponseMessage: [cmdId=6, result=0, challenge=[78, 106, 119, 53, 109, 66, 74, 57]]
2012-06-26 14:58:18,352 [pool-4-thread-16] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0x82bf
2012-06-26 14:58:18,352 [pool-4-thread-16] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 14:58:18,352 [pool-4-thread-16] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 82 BF 00 00 00 1E ................
00000010 00 00 00 06 00 00 4E 6A 77 35 6D 42 4A 39       ......Njw5mBJ9

2012-06-26 14:58:18,352 [pool-4-thread-16] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 14:58:18,352 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 14:58:18,352 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 14:58:18,352 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 6: not mark to return session ID to client
2012-06-26 14:58:18,352 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 14:58:18,352 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 14:58:18,352 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 14:58:18,352 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:3506, Mina session ID 6, identified POS ID pos-0002
2012-06-26 14:58:18,352 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 7E 3C 00 00 00 30 ..........~<...0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 18 34 BA 82 9F D4 04 8F 0D 8E 9B FB 85 CE 97 19 .4..............

2012-06-26 14:58:18,352 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=48 cap=2048: 00 00 00 01 00 00 00 00 00 00 7E 3C 00 00 00 30...]
2012-06-26 14:58:18,352 [NioProcessor-1  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 6
2012-06-26 14:58:18,352 [NioProcessor-1  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 14:58:18,352 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 14:58:18,352 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 6
2012-06-26 14:58:18,352 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =48
2012-06-26 14:58:18,352 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 7E 3C 00 00 00 30 ..........~<...0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 18 34 BA 82 9F D4 04 8F 0D 8E 9B FB 85 CE 97 19 .4..............

2012-06-26 14:58:18,352 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 48, current position: 0
2012-06-26 14:58:18,352 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 14:58:18,352 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x7e3c} messageSize:{0x30} sessionKey:{null}
2012-06-26 14:58:18,352 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 32
2012-06-26 14:58:18,352 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=32, in.remaining=32
2012-06-26 14:58:18,352 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 14:58:18,352 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 7
2012-06-26 14:58:18,352 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 7: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageCodec@c18e99
2012-06-26 14:58:18,352 [NioProcessor-1  ] [DEBUG] m.p.s.m.c.LoginMessageCodec - login/bind message decode
2012-06-26 14:58:18,352 [NioProcessor-1  ] [TRACE] m.p.s.m.c.LoginMessageCodec - LoginRequestMessage: [cmdId=7, posId=pos-0002, challengeResponse=[24, 52, -70, -126, -97, -44, 4, -113, 13, -114, -101, -5, -123, -50, -105, 25]]
2012-06-26 14:58:18,352 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 14:58:18,352 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x7e3c} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[24, 52, -70, -126, -97, -44, 4, -113, 13, -114, -101, -5, -123, -50, -105, 25]]
2012-06-26 14:58:18,352 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 14:58:18,352 [NioProcessor-1  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 14:58:18,352 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 14:58:18,352 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 14:58:18,352 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 14:58:18,352 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 14:58:18,352 [NioProcessor-1  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:3506, Mina session ID 6, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x7e3c} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[24, 52, -70, -126, -97, -44, 4, -113, 13, -114, -101, -5, -123, -50, -105, 25]]
2012-06-26 14:58:18,352 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 14:58:18,352 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 14:58:18,352 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 14:58:18,352 [NioProcessor-1  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 14:58:18,352 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 14:58:18,352 [pool-4-thread-17] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 14:58:18,352 [pool-4-thread-17] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 14:58:18,352 [pool-4-thread-17] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@266b44 obtained for command ID 7
2012-06-26 14:58:18,352 [pool-4-thread-17] [DEBUG] $$EnhancerByGuice$$22e9f5a5 - Handler for command ID 7 is com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@266b44
2012-06-26 14:58:18,352 [pool-4-thread-17] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==bodyMessage=: [cmdId=7, posId=pos-0002, challengeResponse=[24, 52, -70, -126, -97, -44, 4, -113, 13, -114, -101, -5, -123, -50, -105, 25]]
2012-06-26 14:58:18,352 [pool-4-thread-17] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:null
2012-06-26 14:58:18,352 [pool-4-thread-17] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId
2012-06-26 14:58:18,352 [pool-4-thread-17] [TRACE] .q.m.l.l.i.LoginManagerImpl - Loaded from db: pos.posId:pos-0002, pos.secret:000001, oldChallenge:[78, 106, 119, 53, 109, 66, 74, 57]
2012-06-26 14:58:18,352 [pool-4-thread-17] [DEBUG] .q.m.l.l.i.LoginManagerImpl - disableChallengeCheck =0
2012-06-26 14:58:18,352 [pool-4-thread-17] [TRACE] c.c.q.m.l.c.ChallengeUtil   - checking challenge:response:[24, 52, -70, -126, -97, -44, 4, -113, 13, -114, -101, -5, -123, -50, -105, 25], posKey:000001, random:[78, 106, 119, 53, 109, 66, 74, 57]
2012-06-26 14:58:18,352 [pool-4-thread-17] [DEBUG] .q.m.l.l.i.LoginManagerImpl - new challenge for POS (POS ID): [54, 82, 80, 115, 67, 49, 115, 49]
2012-06-26 14:58:18,352 [pool-4-thread-17] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==serverKey=:JXTPOS
2012-06-26 14:58:18,368 [pool-4-thread-17] [DEBUG] ThreadSafeClientConnManager - Get connection: HttpRoute[{}->http://localhost:7070], timeout = 0
2012-06-26 14:58:18,368 [pool-4-thread-17] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - [HttpRoute[{}->http://localhost:7070]] total kept alive: 0, total issued: 0, total allocated: 0 out of 20
2012-06-26 14:58:18,368 [pool-4-thread-17] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - No free connections [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 14:58:18,368 [pool-4-thread-17] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Available capacity: 2 out of 2 [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 14:58:18,368 [pool-4-thread-17] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Creating new connection [HttpRoute[{}->http://localhost:7070]]
2012-06-26 14:58:18,368 [pool-4-thread-17] [DEBUG] ultClientConnectionOperator - Connecting to localhost:7070
2012-06-26 14:58:19,305 [pool-4-thread-17] [DEBUG] i.c.DefaultClientConnection - Connection closed
2012-06-26 14:58:19,305 [pool-4-thread-17] [DEBUG] i.c.DefaultClientConnection - Connection shut down
2012-06-26 14:58:19,305 [pool-4-thread-17] [DEBUG] ThreadSafeClientConnManager - Released connection is not reusable.
2012-06-26 14:58:19,305 [pool-4-thread-17] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Releasing connection [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 14:58:19,305 [pool-4-thread-17] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Notifying no-one, there are no waiting threads
2012-06-26 14:58:19,305 [pool-4-thread-17] [ERROR] q.m.p.h.LoginCommandHandler - initGrouponCache fail:com.chinarewards.qqgbvpn.qqapi.exception.ParseXMLException: com.chinarewards.qqgbvpn.qqapi.exception.SendPostTimeOutException: org.apache.http.conn.HttpHostConnectException: Connection to http://localhost:7070 refused
2012-06-26 14:58:19,305 [pool-4-thread-17] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 14:58:19,351 [pool-4-thread-17] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 14:58:19,351 [pool-4-thread-17] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 14:58:19,351 [pool-4-thread-17] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 14:58:19,351 [pool-4-thread-17] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 6
2012-06-26 14:58:19,351 [pool-4-thread-17] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (8)
2012-06-26 14:58:19,351 [pool-4-thread-17] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageResponseCodec@1f9b804
2012-06-26 14:58:19,351 [pool-4-thread-17] [DEBUG] c.LoginMessageResponseCodec - login/bind message encode
2012-06-26 14:58:19,351 [pool-4-thread-17] [TRACE] c.LoginMessageResponseCodec - LoginResponseMessage: [cmdId=8, result=0, challenge=[54, 82, 80, 115, 67, 49, 115, 49]]
2012-06-26 14:58:19,351 [pool-4-thread-17] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0xc2b0
2012-06-26 14:58:19,351 [pool-4-thread-17] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 14:58:19,351 [pool-4-thread-17] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 C2 B0 00 00 00 1E ................
00000010 00 00 00 08 00 00 36 52 50 73 43 31 73 31       ......6RPsC1s1

2012-06-26 14:58:19,351 [pool-4-thread-17] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 14:58:19,351 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 14:58:19,351 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 14:58:19,351 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 6: not mark to return session ID to client
2012-06-26 14:58:19,351 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 14:58:19,351 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 14:58:19,351 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 14:58:19,351 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:3506, Mina session ID 6, identified POS ID pos-0002
2012-06-26 14:58:19,351 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 33 of 33 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 D1 FF 00 00 00 21 ...............!
00000010 00 00 00 C9 00 0B 32 32 32 32 32 32 32 32 32 32 ......2222222222
00000020 32                                              2

2012-06-26 14:58:19,351 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=33 cap=1024: 00 00 00 10 00 00 00 00 00 00 D1 FF 00 00 00 21...]
2012-06-26 14:58:19,351 [NioProcessor-1  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 6
2012-06-26 14:58:19,351 [NioProcessor-1  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 14:58:19,351 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 14:58:19,351 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 6
2012-06-26 14:58:19,351 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =33
2012-06-26 14:58:19,351 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 33 of 33 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 D1 FF 00 00 00 21 ...............!
00000010 00 00 00 C9 00 0B 32 32 32 32 32 32 32 32 32 32 ......2222222222
00000020 32                                              2

2012-06-26 14:58:19,351 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 33, current position: 0
2012-06-26 14:58:19,351 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 14:58:19,351 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd1ff} messageSize:{0x21} sessionKey:{null}
2012-06-26 14:58:19,351 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 17
2012-06-26 14:58:19,351 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=17, in.remaining=17
2012-06-26 14:58:19,351 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 14:58:19,351 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 201
2012-06-26 14:58:19,351 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 201: com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftMessageCodec@1a0283e
2012-06-26 14:58:19,351 [NioProcessor-1  ] [DEBUG] m.c.ReceiveGiftMessageCodec - receive gift request message decode
2012-06-26 14:58:19,351 [NioProcessor-1  ] [DEBUG] m.c.ReceiveGiftMessageCodec - in.remaining()=17
2012-06-26 14:58:19,351 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 14:58:19,351 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd1ff} messageSize:{0x21} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@1b1ff47
2012-06-26 14:58:19,351 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 14:58:19,351 [NioProcessor-1  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 14:58:19,351 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 14:58:19,351 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 14:58:19,351 [NioProcessor-1  ] [DEBUG] c.c.q.m.p.f.LoginFilter     - isLogin=true
2012-06-26 14:58:19,351 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 14:58:19,351 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 14:58:19,351 [NioProcessor-1  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:3506, Mina session ID 6, identified POS ID pos-0002, message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd1ff} messageSize:{0x21} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@1b1ff47
2012-06-26 14:58:19,351 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 14:58:19,351 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 14:58:19,351 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 14:58:19,351 [NioProcessor-1  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 14:58:19,351 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 14:58:19,351 [pool-4-thread-18] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 14:58:19,351 [pool-4-thread-18] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 14:58:19,351 [pool-4-thread-18] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@e29f36 obtained for command ID 201
2012-06-26 14:58:19,351 [pool-4-thread-18] [DEBUG] $$EnhancerByGuice$$22e9f5a5 - Handler for command ID 201 is com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler@e29f36
2012-06-26 14:58:19,351 [pool-4-thread-18] [DEBUG] h.ReceiveGiftCommandHandler - ReceiveGiftHandler======execute==bodyMessage=: com.chinarewards.qqadidas.main.protocol.cmd.ReceiveGiftRequestMessage@1b1ff47
2012-06-26 14:58:19,351 [pool-4-thread-18] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 14:58:19,351 [pool-4-thread-18] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 14:58:19,351 [pool-4-thread-18] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 14:58:19,351 [pool-4-thread-18] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 14:58:19,351 [pool-4-thread-18] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 6
2012-06-26 14:58:19,351 [pool-4-thread-18] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (202)
2012-06-26 14:58:19,351 [pool-4-thread-18] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftResponseMessageCodec@16c14c0
2012-06-26 14:58:19,351 [pool-4-thread-18] [DEBUG] iveGiftResponseMessageCodec - receive gift response message encode
2012-06-26 14:58:19,351 [pool-4-thread-18] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0xea90
2012-06-26 14:58:19,351 [pool-4-thread-18] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 14:58:19,351 [pool-4-thread-18] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 55 of 55 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 EA 90 00 00 00 37 ...............7
00000010 00 00 00 CA 00 00 00 01 07 DC 06 1A 0E 3A 13 01 .............:..
00000020 5F 01 E0 00 08 C1 EC C8 A1 C0 F1 C6 B7 00 08 D2 _...............
00000030 D1 C1 EC C8 A1 B9 FD                            .......

2012-06-26 14:58:19,351 [pool-4-thread-18] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 14:58:19,351 [Finalizer       ] [DEBUG] ThreadSafeClientConnManager - Shutting down
2012-06-26 14:58:19,351 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 14:58:19,351 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 14:58:19,351 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 6: not mark to return session ID to client
2012-06-26 14:58:19,351 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 14:58:19,351 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 14:58:19,351 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 14:58:19,383 [NioProcessor-1  ] [INFO ] o.a.m.f.l.LoggingFilter     - CLOSED
2012-06-26 14:58:19,383 [NioProcessor-1  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 14:58:24,458 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:58:24,458 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:58:24,458 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=6
2012-06-26 14:58:24,458 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=6
2012-06-26 14:58:24,458 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:58:34,249 [NioProcessor-2  ] [INFO ] c.c.q.m.p.f.LoggingFilter   - incoming connection from remote address: 127.0.0.1:3510, Mina session ID: 7
2012-06-26 14:58:34,249 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - Currently managed session count: 1
2012-06-26 14:58:34,249 [NioProcessor-2  ] [INFO ] o.a.m.f.l.LoggingFilter     - CREATED
2012-06-26 14:58:34,249 [NioProcessor-2  ] [INFO ] o.a.m.f.l.LoggingFilter     - OPENED
2012-06-26 14:58:34,249 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:3510, Mina session ID 7, identified POS ID null
2012-06-26 14:58:34,249 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 14:58:34,249 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=32 cap=2048: 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20...]
2012-06-26 14:58:34,295 [NioProcessor-2  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 7
2012-06-26 14:58:34,295 [NioProcessor-2  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 14:58:34,295 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 14:58:34,295 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 7
2012-06-26 14:58:34,295 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =32
2012-06-26 14:58:34,295 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 14:58:34,295 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 32, current position: 0
2012-06-26 14:58:34,295 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 14:58:34,295 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}
2012-06-26 14:58:34,295 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 16
2012-06-26 14:58:34,295 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=16, in.remaining=16
2012-06-26 14:58:34,295 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 14:58:34,295 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 5
2012-06-26 14:58:34,295 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 5: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageCodec@1b951f2
2012-06-26 14:58:34,295 [NioProcessor-2  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - init request message decode
2012-06-26 14:58:34,295 [NioProcessor-2  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - in.remaining()=16
2012-06-26 14:58:34,295 [NioProcessor-2  ] [TRACE] .m.p.s.m.c.InitMessageCodec - InitRequestMessage: [cmdId=5, posId=pos-0002]
2012-06-26 14:58:34,295 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 14:58:34,295 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 14:58:34,295 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 14:58:34,295 [NioProcessor-2  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 14:58:34,295 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 14:58:34,295 [NioProcessor-2  ] [DEBUG] p.f.SessionKeyMessageFilter - Mina session ID 7: created session key 93b93cef0ce142a5af5920eef48abe25
2012-06-26 14:58:34,295 [NioProcessor-2  ] [DEBUG] p.f.SessionKeyMessageFilter - creating session for mina session ID 7 using session ID 93b93cef0ce142a5af5920eef48abe25
2012-06-26 14:58:34,295 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 14:58:34,295 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 14:58:34,295 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 14:58:34,295 [NioProcessor-2  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:3510, Mina session ID 7, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 14:58:34,295 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 14:58:34,295 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 14:58:34,295 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 14:58:34,295 [NioProcessor-2  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 14:58:34,295 [pool-4-thread-19] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 14:58:34,295 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 14:58:34,295 [pool-4-thread-19] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 14:58:34,295 [pool-4-thread-19] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@30a895 obtained for command ID 5
2012-06-26 14:58:34,295 [pool-4-thread-19] [DEBUG] $$EnhancerByGuice$$22e9f5a5 - Handler for command ID 5 is com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@30a895
2012-06-26 14:58:34,295 [pool-4-thread-19] [DEBUG] .q.m.p.h.InitCommandHandler - InitCommandHandler======execute==bodyMessage=:  [cmdId=5, posId=pos-0002]
2012-06-26 14:58:34,295 [pool-4-thread-19] [DEBUG] .q.m.l.l.i.LoginManagerImpl - InitResponse() invoke
2012-06-26 14:58:34,295 [pool-4-thread-19] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:ALLOWED
2012-06-26 14:58:34,295 [pool-4-thread-19] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId AND p.ostatus = :ostatus
2012-06-26 14:58:34,295 [pool-4-thread-19] [DEBUG] .q.m.l.l.i.LoginManagerImpl - POS ID:pos-0002, init challenge saved - [76, 112, 120, 89, 56, 107, 115, 90]
2012-06-26 14:58:34,295 [pool-4-thread-19] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 14:58:34,342 [pool-4-thread-19] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 14:58:34,342 [pool-4-thread-19] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 14:58:34,342 [pool-4-thread-19] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 14:58:34,342 [pool-4-thread-19] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 7
2012-06-26 14:58:34,342 [pool-4-thread-19] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (6)
2012-06-26 14:58:34,342 [pool-4-thread-19] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageResponseCodec@15a4a77
2012-06-26 14:58:34,342 [pool-4-thread-19] [DEBUG] .c.InitMessageResponseCodec - init response message encode
2012-06-26 14:58:34,342 [pool-4-thread-19] [TRACE] .c.InitMessageResponseCodec - InitResponseMessage: [cmdId=6, result=0, challenge=[76, 112, 120, 89, 56, 107, 115, 90]]
2012-06-26 14:58:34,342 [pool-4-thread-19] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0x8f4b
2012-06-26 14:58:34,342 [pool-4-thread-19] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 14:58:34,342 [pool-4-thread-19] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 8F 4B 00 00 00 1E ...........K....
00000010 00 00 00 06 00 00 4C 70 78 59 38 6B 73 5A       ......LpxY8ksZ

2012-06-26 14:58:34,342 [pool-4-thread-19] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 14:58:34,342 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 14:58:34,342 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 14:58:34,342 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 7: not mark to return session ID to client
2012-06-26 14:58:34,342 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 14:58:34,342 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 14:58:34,342 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 14:58:34,514 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:58:34,514 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:58:34,514 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=7
2012-06-26 14:58:34,514 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=7
2012-06-26 14:58:34,514 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:58:34,577 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:3510, Mina session ID 7, identified POS ID pos-0002
2012-06-26 14:58:34,577 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BA 94 00 00 00 30 ...............0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 8C 60 B5 AB DB 6A C7 D9 38 7B 73 42 A8 E0 C7 44 .`...j..8{sB...D

2012-06-26 14:58:34,577 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=48 cap=2048: 00 00 00 01 00 00 00 00 00 00 BA 94 00 00 00 30...]
2012-06-26 14:58:34,577 [NioProcessor-2  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 7
2012-06-26 14:58:34,577 [NioProcessor-2  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 14:58:34,577 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 14:58:34,577 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 7
2012-06-26 14:58:34,577 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =48
2012-06-26 14:58:34,577 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BA 94 00 00 00 30 ...............0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 8C 60 B5 AB DB 6A C7 D9 38 7B 73 42 A8 E0 C7 44 .`...j..8{sB...D

2012-06-26 14:58:34,577 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 48, current position: 0
2012-06-26 14:58:34,577 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 14:58:34,577 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xba94} messageSize:{0x30} sessionKey:{null}
2012-06-26 14:58:34,577 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 32
2012-06-26 14:58:34,577 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=32, in.remaining=32
2012-06-26 14:58:34,577 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 14:58:34,577 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 7
2012-06-26 14:58:34,577 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 7: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageCodec@4276fd
2012-06-26 14:58:34,577 [NioProcessor-2  ] [DEBUG] m.p.s.m.c.LoginMessageCodec - login/bind message decode
2012-06-26 14:58:34,577 [NioProcessor-2  ] [TRACE] m.p.s.m.c.LoginMessageCodec - LoginRequestMessage: [cmdId=7, posId=pos-0002, challengeResponse=[-116, 96, -75, -85, -37, 106, -57, -39, 56, 123, 115, 66, -88, -32, -57, 68]]
2012-06-26 14:58:34,577 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 14:58:34,577 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xba94} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[-116, 96, -75, -85, -37, 106, -57, -39, 56, 123, 115, 66, -88, -32, -57, 68]]
2012-06-26 14:58:34,577 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 14:58:34,577 [NioProcessor-2  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 14:58:34,577 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 14:58:34,577 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 14:58:34,577 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 14:58:34,577 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 14:58:34,577 [NioProcessor-2  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:3510, Mina session ID 7, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xba94} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[-116, 96, -75, -85, -37, 106, -57, -39, 56, 123, 115, 66, -88, -32, -57, 68]]
2012-06-26 14:58:34,577 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 14:58:34,577 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 14:58:34,577 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 14:58:34,577 [NioProcessor-2  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 14:58:34,577 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 14:58:34,577 [pool-4-thread-20] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 14:58:34,577 [pool-4-thread-20] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 14:58:34,577 [pool-4-thread-20] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@722969 obtained for command ID 7
2012-06-26 14:58:34,577 [pool-4-thread-20] [DEBUG] $$EnhancerByGuice$$22e9f5a5 - Handler for command ID 7 is com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@722969
2012-06-26 14:58:34,577 [pool-4-thread-20] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==bodyMessage=: [cmdId=7, posId=pos-0002, challengeResponse=[-116, 96, -75, -85, -37, 106, -57, -39, 56, 123, 115, 66, -88, -32, -57, 68]]
2012-06-26 14:58:34,577 [pool-4-thread-20] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:null
2012-06-26 14:58:34,577 [pool-4-thread-20] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId
2012-06-26 14:58:34,577 [pool-4-thread-20] [TRACE] .q.m.l.l.i.LoginManagerImpl - Loaded from db: pos.posId:pos-0002, pos.secret:000001, oldChallenge:[76, 112, 120, 89, 56, 107, 115, 90]
2012-06-26 14:58:34,577 [pool-4-thread-20] [DEBUG] .q.m.l.l.i.LoginManagerImpl - disableChallengeCheck =0
2012-06-26 14:58:34,577 [pool-4-thread-20] [TRACE] c.c.q.m.l.c.ChallengeUtil   - checking challenge:response:[-116, 96, -75, -85, -37, 106, -57, -39, 56, 123, 115, 66, -88, -32, -57, 68], posKey:000001, random:[76, 112, 120, 89, 56, 107, 115, 90]
2012-06-26 14:58:34,577 [pool-4-thread-20] [DEBUG] .q.m.l.l.i.LoginManagerImpl - new challenge for POS (POS ID): [66, 72, 79, 77, 67, 117, 109, 105]
2012-06-26 14:58:34,577 [pool-4-thread-20] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==serverKey=:JXTPOS
2012-06-26 14:58:34,592 [pool-4-thread-20] [DEBUG] ThreadSafeClientConnManager - Get connection: HttpRoute[{}->http://localhost:7070], timeout = 0
2012-06-26 14:58:34,592 [pool-4-thread-20] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - [HttpRoute[{}->http://localhost:7070]] total kept alive: 0, total issued: 0, total allocated: 0 out of 20
2012-06-26 14:58:34,592 [pool-4-thread-20] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - No free connections [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 14:58:34,592 [pool-4-thread-20] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Available capacity: 2 out of 2 [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 14:58:34,592 [pool-4-thread-20] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Creating new connection [HttpRoute[{}->http://localhost:7070]]
2012-06-26 14:58:34,592 [pool-4-thread-20] [DEBUG] ultClientConnectionOperator - Connecting to localhost:7070
2012-06-26 14:58:35,607 [pool-4-thread-20] [DEBUG] i.c.DefaultClientConnection - Connection closed
2012-06-26 14:58:35,607 [pool-4-thread-20] [DEBUG] i.c.DefaultClientConnection - Connection shut down
2012-06-26 14:58:35,607 [pool-4-thread-20] [DEBUG] ThreadSafeClientConnManager - Released connection is not reusable.
2012-06-26 14:58:35,607 [pool-4-thread-20] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Releasing connection [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 14:58:35,607 [pool-4-thread-20] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Notifying no-one, there are no waiting threads
2012-06-26 14:58:35,607 [pool-4-thread-20] [ERROR] q.m.p.h.LoginCommandHandler - initGrouponCache fail:com.chinarewards.qqgbvpn.qqapi.exception.ParseXMLException: com.chinarewards.qqgbvpn.qqapi.exception.SendPostTimeOutException: org.apache.http.conn.HttpHostConnectException: Connection to http://localhost:7070 refused
2012-06-26 14:58:35,638 [pool-4-thread-20] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 14:58:35,638 [pool-4-thread-20] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 14:58:35,638 [pool-4-thread-20] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 14:58:35,638 [pool-4-thread-20] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 14:58:35,638 [pool-4-thread-20] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 7
2012-06-26 14:58:35,638 [pool-4-thread-20] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (8)
2012-06-26 14:58:35,638 [pool-4-thread-20] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageResponseCodec@d35f5f
2012-06-26 14:58:35,638 [pool-4-thread-20] [DEBUG] c.LoginMessageResponseCodec - login/bind message encode
2012-06-26 14:58:35,638 [pool-4-thread-20] [TRACE] c.LoginMessageResponseCodec - LoginResponseMessage: [cmdId=8, result=0, challenge=[66, 72, 79, 77, 67, 117, 109, 105]]
2012-06-26 14:58:35,638 [pool-4-thread-20] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0xbd64
2012-06-26 14:58:35,638 [pool-4-thread-20] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 14:58:35,638 [pool-4-thread-20] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BD 64 00 00 00 1E ...........d....
00000010 00 00 00 08 00 00 42 48 4F 4D 43 75 6D 69       ......BHOMCumi

2012-06-26 14:58:35,638 [pool-4-thread-20] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 14:58:35,638 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 14:58:35,638 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 14:58:35,638 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 7: not mark to return session ID to client
2012-06-26 14:58:35,638 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 14:58:35,638 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 14:58:35,638 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 14:58:35,638 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:3510, Mina session ID 7, identified POS ID pos-0002
2012-06-26 14:58:35,638 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 36 of 36 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 CC C0 00 00 00 24 ...............$
00000010 00 00 00 CB 00 06 31 32 33 34 35 36 00 06 33 36 ......123456..36
00000020 32 2E 33 33                                     2.33

2012-06-26 14:58:35,638 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=36 cap=1024: 00 00 00 10 00 00 00 00 00 00 CC C0 00 00 00 24...]
2012-06-26 14:58:35,638 [NioProcessor-2  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 7
2012-06-26 14:58:35,638 [NioProcessor-2  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 14:58:35,638 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 14:58:35,638 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 7
2012-06-26 14:58:35,638 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =36
2012-06-26 14:58:35,638 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 36 of 36 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 CC C0 00 00 00 24 ...............$
00000010 00 00 00 CB 00 06 31 32 33 34 35 36 00 06 33 36 ......123456..36
00000020 32 2E 33 33                                     2.33

2012-06-26 14:58:35,638 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 36, current position: 0
2012-06-26 14:58:35,638 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 14:58:35,638 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xccc0} messageSize:{0x24} sessionKey:{null}
2012-06-26 14:58:35,638 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 20
2012-06-26 14:58:35,638 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=20, in.remaining=20
2012-06-26 14:58:35,638 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 14:58:35,638 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 203
2012-06-26 14:58:35,638 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 203: com.chinarewards.qqadidas.main.protocol.socket.mina.codec.RightForMessageCodec@11a700a
2012-06-26 14:58:35,638 [NioProcessor-2  ] [DEBUG] .s.m.c.RightForMessageCodec - right for request message decode
2012-06-26 14:58:35,638 [NioProcessor-2  ] [DEBUG] .s.m.c.RightForMessageCodec - in.remaining()=20
2012-06-26 14:58:35,638 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 14:58:35,638 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xccc0} messageSize:{0x24} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.RightForRequestMessage@9021e3
2012-06-26 14:58:35,638 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 14:58:35,638 [NioProcessor-2  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 14:58:35,638 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 14:58:35,638 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 14:58:35,638 [NioProcessor-2  ] [DEBUG] c.c.q.m.p.f.LoginFilter     - isLogin=true
2012-06-26 14:58:35,638 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 14:58:35,638 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 14:58:35,638 [NioProcessor-2  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:3510, Mina session ID 7, identified POS ID pos-0002, message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xccc0} messageSize:{0x24} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.RightForRequestMessage@9021e3
2012-06-26 14:58:35,638 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 14:58:35,638 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 14:58:35,638 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 14:58:35,638 [NioProcessor-2  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 14:58:35,638 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 14:58:35,638 [pool-4-thread-1 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 14:58:35,638 [pool-4-thread-1 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 14:58:35,638 [pool-4-thread-1 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqadidas.main.protocol.handler.RightForCommandHandler@f34071 obtained for command ID 203
2012-06-26 14:58:35,638 [pool-4-thread-1 ] [DEBUG] $$EnhancerByGuice$$22e9f5a5 - Handler for command ID 203 is com.chinarewards.qqadidas.main.protocol.handler.RightForCommandHandler@f34071
2012-06-26 14:58:35,638 [pool-4-thread-1 ] [DEBUG] .p.h.RightForCommandHandler - RightForCommandHandler======execute==bodyMessage=: com.chinarewards.qqadidas.main.protocol.cmd.RightForRequestMessage@9021e3
2012-06-26 14:58:35,638 [pool-4-thread-1 ] [DEBUG] .p.h.RightForCommandHandler - right for cdkey is: 123456
2012-06-26 14:58:35,654 [pool-4-thread-1 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 14:58:35,654 [pool-4-thread-1 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 14:58:35,654 [pool-4-thread-1 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 14:58:35,654 [pool-4-thread-1 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 14:58:35,654 [pool-4-thread-1 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 7
2012-06-26 14:58:35,654 [pool-4-thread-1 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (204)
2012-06-26 14:58:35,654 [pool-4-thread-1 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqadidas.main.protocol.socket.mina.codec.RightForResponseMessageCodec@9c2192
2012-06-26 14:58:35,654 [pool-4-thread-1 ] [DEBUG] ightForResponseMessageCodec - right for response message encode
2012-06-26 14:58:35,654 [pool-4-thread-1 ] [DEBUG] ightForResponseMessageCodec - right for response message encode resultByte length: 53
2012-06-26 14:58:35,654 [pool-4-thread-1 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0x3b39
2012-06-26 14:58:35,654 [pool-4-thread-1 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 14:58:35,654 [pool-4-thread-1 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 69 of 69 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 3B 39 00 00 00 45 ..........;9...E
00000010 00 00 00 CC 00 00 00 02 07 DC 06 1A 0E 3A 23 02 .............:#.
00000020 7E 01 E0 00 08 BB F1 C8 A1 D3 C5 BB DD 00 16 31 ~..............1
00000030 32 33 34 35 36 0A CE DE D0 A7 0A B0 B4 4F 4B BC 23456........OK.
00000040 FC B7 B5 BB D8                                  .....

2012-06-26 14:58:35,654 [pool-4-thread-1 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 14:58:35,654 [Finalizer       ] [DEBUG] ThreadSafeClientConnManager - Shutting down
2012-06-26 14:58:35,654 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 14:58:35,654 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 14:58:35,654 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 7: not mark to return session ID to client
2012-06-26 14:58:35,654 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 14:58:35,654 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 14:58:35,654 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 14:58:35,654 [NioProcessor-2  ] [INFO ] o.a.m.f.l.LoggingFilter     - CLOSED
2012-06-26 14:58:35,654 [NioProcessor-2  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 14:58:44,539 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:58:44,539 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:58:44,539 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=7
2012-06-26 14:58:44,539 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=7
2012-06-26 14:58:44,539 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:58:54,549 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:58:54,549 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:58:54,549 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=7
2012-06-26 14:58:54,549 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=7
2012-06-26 14:58:54,549 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:58:59,671 [NioProcessor-3  ] [INFO ] c.c.q.m.p.f.LoggingFilter   - incoming connection from remote address: 127.0.0.1:3514, Mina session ID: 8
2012-06-26 14:58:59,671 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - Currently managed session count: 1
2012-06-26 14:58:59,671 [NioProcessor-3  ] [INFO ] o.a.m.f.l.LoggingFilter     - CREATED
2012-06-26 14:58:59,671 [NioProcessor-3  ] [INFO ] o.a.m.f.l.LoggingFilter     - OPENED
2012-06-26 14:58:59,671 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:3514, Mina session ID 8, identified POS ID null
2012-06-26 14:58:59,671 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 14:58:59,671 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=32 cap=2048: 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20...]
2012-06-26 14:58:59,702 [NioProcessor-3  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 8
2012-06-26 14:58:59,702 [NioProcessor-3  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 14:58:59,702 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 14:58:59,702 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 8
2012-06-26 14:58:59,702 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =32
2012-06-26 14:58:59,702 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 14:58:59,702 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 32, current position: 0
2012-06-26 14:58:59,702 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 14:58:59,702 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}
2012-06-26 14:58:59,702 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 16
2012-06-26 14:58:59,702 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=16, in.remaining=16
2012-06-26 14:58:59,702 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 14:58:59,702 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 5
2012-06-26 14:58:59,702 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 5: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageCodec@258c74
2012-06-26 14:58:59,702 [NioProcessor-3  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - init request message decode
2012-06-26 14:58:59,702 [NioProcessor-3  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - in.remaining()=16
2012-06-26 14:58:59,702 [NioProcessor-3  ] [TRACE] .m.p.s.m.c.InitMessageCodec - InitRequestMessage: [cmdId=5, posId=pos-0002]
2012-06-26 14:58:59,702 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 14:58:59,702 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 14:58:59,702 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 14:58:59,702 [NioProcessor-3  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 14:58:59,702 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 14:58:59,702 [NioProcessor-3  ] [DEBUG] p.f.SessionKeyMessageFilter - Mina session ID 8: created session key 8407195e60074b0b956a3ccf172af165
2012-06-26 14:58:59,702 [NioProcessor-3  ] [DEBUG] p.f.SessionKeyMessageFilter - creating session for mina session ID 8 using session ID 8407195e60074b0b956a3ccf172af165
2012-06-26 14:58:59,702 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 14:58:59,702 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 14:58:59,702 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 14:58:59,702 [NioProcessor-3  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:3514, Mina session ID 8, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 14:58:59,702 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 14:58:59,702 [pool-4-thread-2 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 14:58:59,702 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 14:58:59,702 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 14:58:59,702 [NioProcessor-3  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 14:58:59,702 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 14:58:59,702 [pool-4-thread-2 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 14:58:59,702 [pool-4-thread-2 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@1bfa303 obtained for command ID 5
2012-06-26 14:58:59,702 [pool-4-thread-2 ] [DEBUG] $$EnhancerByGuice$$22e9f5a5 - Handler for command ID 5 is com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@1bfa303
2012-06-26 14:58:59,702 [pool-4-thread-2 ] [DEBUG] .q.m.p.h.InitCommandHandler - InitCommandHandler======execute==bodyMessage=:  [cmdId=5, posId=pos-0002]
2012-06-26 14:58:59,702 [pool-4-thread-2 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - InitResponse() invoke
2012-06-26 14:58:59,702 [pool-4-thread-2 ] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:ALLOWED
2012-06-26 14:58:59,702 [pool-4-thread-2 ] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId AND p.ostatus = :ostatus
2012-06-26 14:58:59,702 [pool-4-thread-2 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - POS ID:pos-0002, init challenge saved - [52, 114, 52, 88, 82, 72, 68, 72]
2012-06-26 14:58:59,702 [pool-4-thread-2 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 14:58:59,717 [pool-4-thread-2 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 14:58:59,717 [pool-4-thread-2 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 14:58:59,717 [pool-4-thread-2 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 14:58:59,717 [pool-4-thread-2 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 8
2012-06-26 14:58:59,717 [pool-4-thread-2 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (6)
2012-06-26 14:58:59,717 [pool-4-thread-2 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageResponseCodec@1e03a61
2012-06-26 14:58:59,717 [pool-4-thread-2 ] [DEBUG] .c.InitMessageResponseCodec - init response message encode
2012-06-26 14:58:59,717 [pool-4-thread-2 ] [TRACE] .c.InitMessageResponseCodec - InitResponseMessage: [cmdId=6, result=0, challenge=[52, 114, 52, 88, 82, 72, 68, 72]]
2012-06-26 14:58:59,717 [pool-4-thread-2 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0x80
2012-06-26 14:58:59,717 [pool-4-thread-2 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 14:58:59,717 [pool-4-thread-2 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 00 80 00 00 00 1E ................
00000010 00 00 00 06 00 00 34 72 34 58 52 48 44 48       ......4r4XRHDH

2012-06-26 14:58:59,717 [pool-4-thread-2 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 14:58:59,717 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 14:58:59,717 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 14:58:59,717 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 8: not mark to return session ID to client
2012-06-26 14:58:59,717 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 14:58:59,717 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 14:58:59,717 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 14:58:59,936 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:3514, Mina session ID 8, identified POS ID pos-0002
2012-06-26 14:58:59,936 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 19 5D 00 00 00 30 ...........]...0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 60 80 00 7A 16 CD 20 10 23 DC 3B AF C5 5E E5 A9 `..z.. .#.;..^..

2012-06-26 14:58:59,936 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=48 cap=2048: 00 00 00 01 00 00 00 00 00 00 19 5D 00 00 00 30...]
2012-06-26 14:58:59,936 [NioProcessor-3  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 8
2012-06-26 14:58:59,936 [NioProcessor-3  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 14:58:59,936 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 14:58:59,936 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 8
2012-06-26 14:58:59,936 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =48
2012-06-26 14:58:59,936 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 19 5D 00 00 00 30 ...........]...0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 60 80 00 7A 16 CD 20 10 23 DC 3B AF C5 5E E5 A9 `..z.. .#.;..^..

2012-06-26 14:58:59,936 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 48, current position: 0
2012-06-26 14:58:59,936 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 14:58:59,936 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x195d} messageSize:{0x30} sessionKey:{null}
2012-06-26 14:58:59,936 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 32
2012-06-26 14:58:59,936 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=32, in.remaining=32
2012-06-26 14:58:59,936 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 14:58:59,936 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 7
2012-06-26 14:58:59,936 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 7: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageCodec@1b2b10a
2012-06-26 14:58:59,936 [NioProcessor-3  ] [DEBUG] m.p.s.m.c.LoginMessageCodec - login/bind message decode
2012-06-26 14:58:59,936 [NioProcessor-3  ] [TRACE] m.p.s.m.c.LoginMessageCodec - LoginRequestMessage: [cmdId=7, posId=pos-0002, challengeResponse=[96, -128, 0, 122, 22, -51, 32, 16, 35, -36, 59, -81, -59, 94, -27, -87]]
2012-06-26 14:58:59,936 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 14:58:59,936 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x195d} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[96, -128, 0, 122, 22, -51, 32, 16, 35, -36, 59, -81, -59, 94, -27, -87]]
2012-06-26 14:58:59,936 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 14:58:59,936 [NioProcessor-3  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 14:58:59,936 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 14:58:59,936 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 14:58:59,952 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 14:58:59,952 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 14:58:59,952 [NioProcessor-3  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:3514, Mina session ID 8, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x195d} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[96, -128, 0, 122, 22, -51, 32, 16, 35, -36, 59, -81, -59, 94, -27, -87]]
2012-06-26 14:58:59,952 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 14:58:59,952 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 14:58:59,952 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 14:58:59,952 [NioProcessor-3  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 14:58:59,952 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 14:58:59,952 [pool-4-thread-3 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 14:58:59,952 [pool-4-thread-3 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 14:58:59,952 [pool-4-thread-3 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@1824d2c obtained for command ID 7
2012-06-26 14:58:59,952 [pool-4-thread-3 ] [DEBUG] $$EnhancerByGuice$$22e9f5a5 - Handler for command ID 7 is com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@1824d2c
2012-06-26 14:58:59,952 [pool-4-thread-3 ] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==bodyMessage=: [cmdId=7, posId=pos-0002, challengeResponse=[96, -128, 0, 122, 22, -51, 32, 16, 35, -36, 59, -81, -59, 94, -27, -87]]
2012-06-26 14:58:59,952 [pool-4-thread-3 ] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:null
2012-06-26 14:58:59,952 [pool-4-thread-3 ] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId
2012-06-26 14:58:59,952 [pool-4-thread-3 ] [TRACE] .q.m.l.l.i.LoginManagerImpl - Loaded from db: pos.posId:pos-0002, pos.secret:000001, oldChallenge:[52, 114, 52, 88, 82, 72, 68, 72]
2012-06-26 14:58:59,952 [pool-4-thread-3 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - disableChallengeCheck =0
2012-06-26 14:58:59,952 [pool-4-thread-3 ] [TRACE] c.c.q.m.l.c.ChallengeUtil   - checking challenge:response:[96, -128, 0, 122, 22, -51, 32, 16, 35, -36, 59, -81, -59, 94, -27, -87], posKey:000001, random:[52, 114, 52, 88, 82, 72, 68, 72]
2012-06-26 14:58:59,952 [pool-4-thread-3 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - new challenge for POS (POS ID): [120, 52, 57, 114, 50, 97, 114, 114]
2012-06-26 14:58:59,952 [pool-4-thread-3 ] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==serverKey=:JXTPOS
2012-06-26 14:58:59,952 [pool-4-thread-3 ] [DEBUG] ThreadSafeClientConnManager - Get connection: HttpRoute[{}->http://localhost:7070], timeout = 0
2012-06-26 14:58:59,952 [pool-4-thread-3 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - [HttpRoute[{}->http://localhost:7070]] total kept alive: 0, total issued: 0, total allocated: 0 out of 20
2012-06-26 14:58:59,952 [pool-4-thread-3 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - No free connections [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 14:58:59,952 [pool-4-thread-3 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Available capacity: 2 out of 2 [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 14:58:59,952 [pool-4-thread-3 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Creating new connection [HttpRoute[{}->http://localhost:7070]]
2012-06-26 14:58:59,952 [pool-4-thread-3 ] [DEBUG] ultClientConnectionOperator - Connecting to localhost:7070
2012-06-26 14:59:00,998 [pool-4-thread-3 ] [DEBUG] i.c.DefaultClientConnection - Connection closed
2012-06-26 14:59:00,998 [pool-4-thread-3 ] [DEBUG] i.c.DefaultClientConnection - Connection shut down
2012-06-26 14:59:00,998 [pool-4-thread-3 ] [DEBUG] ThreadSafeClientConnManager - Released connection is not reusable.
2012-06-26 14:59:00,998 [pool-4-thread-3 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Releasing connection [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 14:59:00,998 [pool-4-thread-3 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Notifying no-one, there are no waiting threads
2012-06-26 14:59:00,998 [pool-4-thread-3 ] [ERROR] q.m.p.h.LoginCommandHandler - initGrouponCache fail:com.chinarewards.qqgbvpn.qqapi.exception.ParseXMLException: com.chinarewards.qqgbvpn.qqapi.exception.SendPostTimeOutException: org.apache.http.conn.HttpHostConnectException: Connection to http://localhost:7070 refused
2012-06-26 14:59:01,014 [pool-4-thread-3 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 14:59:01,045 [pool-4-thread-3 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 14:59:01,045 [pool-4-thread-3 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 14:59:01,045 [pool-4-thread-3 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 14:59:01,045 [pool-4-thread-3 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 8
2012-06-26 14:59:01,045 [pool-4-thread-3 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (8)
2012-06-26 14:59:01,045 [pool-4-thread-3 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageResponseCodec@194566d
2012-06-26 14:59:01,045 [pool-4-thread-3 ] [DEBUG] c.LoginMessageResponseCodec - login/bind message encode
2012-06-26 14:59:01,045 [pool-4-thread-3 ] [TRACE] c.LoginMessageResponseCodec - LoginResponseMessage: [cmdId=8, result=0, challenge=[120, 52, 57, 114, 50, 97, 114, 114]]
2012-06-26 14:59:01,045 [pool-4-thread-3 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0xa95e
2012-06-26 14:59:01,045 [pool-4-thread-3 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 14:59:01,045 [pool-4-thread-3 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 A9 5E 00 00 00 1E ...........^....
00000010 00 00 00 08 00 00 78 34 39 72 32 61 72 72       ......x49r2arr

2012-06-26 14:59:01,045 [pool-4-thread-3 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 14:59:01,045 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 14:59:01,045 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 14:59:01,045 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 8: not mark to return session ID to client
2012-06-26 14:59:01,045 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 14:59:01,045 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 14:59:01,045 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 14:59:01,045 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:3514, Mina session ID 8, identified POS ID pos-0002
2012-06-26 14:59:01,045 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 35 of 35 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 D0 F4 00 00 00 23 ...............#
00000010 00 00 00 CB 00 06 31 32 33 34 35 36 00 05 33 32 ......123456..32
00000020 2E 33 33                                        .33

2012-06-26 14:59:01,045 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=35 cap=1024: 00 00 00 10 00 00 00 00 00 00 D0 F4 00 00 00 23...]
2012-06-26 14:59:01,045 [NioProcessor-3  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 8
2012-06-26 14:59:01,045 [NioProcessor-3  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 14:59:01,045 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 14:59:01,045 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 8
2012-06-26 14:59:01,045 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =35
2012-06-26 14:59:01,045 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 35 of 35 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 D0 F4 00 00 00 23 ...............#
00000010 00 00 00 CB 00 06 31 32 33 34 35 36 00 05 33 32 ......123456..32
00000020 2E 33 33                                        .33

2012-06-26 14:59:01,045 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 35, current position: 0
2012-06-26 14:59:01,045 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 14:59:01,045 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd0f4} messageSize:{0x23} sessionKey:{null}
2012-06-26 14:59:01,045 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 19
2012-06-26 14:59:01,045 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=19, in.remaining=19
2012-06-26 14:59:01,045 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 14:59:01,045 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 203
2012-06-26 14:59:01,045 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 203: com.chinarewards.qqadidas.main.protocol.socket.mina.codec.RightForMessageCodec@1b64b70
2012-06-26 14:59:01,045 [NioProcessor-3  ] [DEBUG] .s.m.c.RightForMessageCodec - right for request message decode
2012-06-26 14:59:01,045 [NioProcessor-3  ] [DEBUG] .s.m.c.RightForMessageCodec - in.remaining()=19
2012-06-26 14:59:01,045 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 14:59:01,045 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd0f4} messageSize:{0x23} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.RightForRequestMessage@112bc7b
2012-06-26 14:59:01,045 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 14:59:01,045 [NioProcessor-3  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 14:59:01,045 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 14:59:01,045 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 14:59:01,045 [NioProcessor-3  ] [DEBUG] c.c.q.m.p.f.LoginFilter     - isLogin=true
2012-06-26 14:59:01,045 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 14:59:01,045 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 14:59:01,045 [NioProcessor-3  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:3514, Mina session ID 8, identified POS ID pos-0002, message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd0f4} messageSize:{0x23} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.RightForRequestMessage@112bc7b
2012-06-26 14:59:01,045 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 14:59:01,045 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 14:59:01,045 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 14:59:01,045 [NioProcessor-3  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 14:59:01,045 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 14:59:01,045 [pool-4-thread-4 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 14:59:01,045 [pool-4-thread-4 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 14:59:01,045 [pool-4-thread-4 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqadidas.main.protocol.handler.RightForCommandHandler@da8742 obtained for command ID 203
2012-06-26 14:59:01,045 [pool-4-thread-4 ] [DEBUG] $$EnhancerByGuice$$22e9f5a5 - Handler for command ID 203 is com.chinarewards.qqadidas.main.protocol.handler.RightForCommandHandler@da8742
2012-06-26 14:59:01,060 [pool-4-thread-4 ] [DEBUG] .p.h.RightForCommandHandler - RightForCommandHandler======execute==bodyMessage=: com.chinarewards.qqadidas.main.protocol.cmd.RightForRequestMessage@112bc7b
2012-06-26 14:59:01,060 [pool-4-thread-4 ] [DEBUG] .p.h.RightForCommandHandler - right for cdkey is: 123456
2012-06-26 14:59:01,060 [pool-4-thread-4 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 14:59:01,060 [pool-4-thread-4 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 14:59:01,060 [pool-4-thread-4 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 14:59:01,060 [pool-4-thread-4 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 14:59:01,060 [pool-4-thread-4 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 8
2012-06-26 14:59:01,060 [pool-4-thread-4 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (204)
2012-06-26 14:59:01,060 [pool-4-thread-4 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqadidas.main.protocol.socket.mina.codec.RightForResponseMessageCodec@d8978c
2012-06-26 14:59:01,060 [pool-4-thread-4 ] [DEBUG] ightForResponseMessageCodec - right for response message encode
2012-06-26 14:59:01,060 [pool-4-thread-4 ] [DEBUG] ightForResponseMessageCodec - right for response message encode resultByte length: 53
2012-06-26 14:59:01,060 [pool-4-thread-4 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0x9f3a
2012-06-26 14:59:01,060 [pool-4-thread-4 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 14:59:01,060 [pool-4-thread-4 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 69 of 69 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 9F 3A 00 00 00 45 ...........:...E
00000010 00 00 00 CC 00 00 00 02 07 DC 06 1A 0E 3B 01 00 .............;..
00000020 3C 01 E0 00 08 BB F1 C8 A1 D3 C5 BB DD 00 16 31 <..............1
00000030 32 33 34 35 36 0A CE DE D0 A7 0A B0 B4 4F 4B BC 23456........OK.
00000040 FC B7 B5 BB D8                                  .....

2012-06-26 14:59:01,060 [pool-4-thread-4 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 14:59:01,060 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 14:59:01,060 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 14:59:01,060 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 8: not mark to return session ID to client
2012-06-26 14:59:01,060 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 14:59:01,060 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 14:59:01,060 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 14:59:01,076 [NioProcessor-3  ] [INFO ] o.a.m.f.l.LoggingFilter     - CLOSED
2012-06-26 14:59:01,076 [NioProcessor-3  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 14:59:04,589 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:59:04,589 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:59:04,589 [Finalizer       ] [DEBUG] ThreadSafeClientConnManager - Shutting down
2012-06-26 14:59:04,589 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=8
2012-06-26 14:59:04,589 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=8
2012-06-26 14:59:04,589 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:59:14,599 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:59:14,599 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:59:14,599 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=8
2012-06-26 14:59:14,599 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=8
2012-06-26 14:59:14,599 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:59:24,624 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:59:24,624 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:59:24,624 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=8
2012-06-26 14:59:24,624 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=8
2012-06-26 14:59:24,624 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:59:34,634 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:59:34,634 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:59:34,634 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=8
2012-06-26 14:59:34,634 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=8
2012-06-26 14:59:34,634 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:59:44,659 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:59:44,659 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:59:44,659 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=8
2012-06-26 14:59:44,659 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=8
2012-06-26 14:59:44,659 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 14:59:54,668 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 14:59:54,668 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 14:59:54,668 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=8
2012-06-26 14:59:54,668 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=8
2012-06-26 14:59:54,668 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:00:04,678 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:00:04,678 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:00:04,678 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=8
2012-06-26 15:00:04,678 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=8
2012-06-26 15:00:04,678 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:00:14,703 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:00:14,703 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:00:14,703 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=8
2012-06-26 15:00:14,703 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=8
2012-06-26 15:00:14,703 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:00:24,713 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:00:24,713 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:00:24,713 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=8
2012-06-26 15:00:24,713 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=8
2012-06-26 15:00:24,713 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:00:34,722 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:00:34,722 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:00:34,722 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=8
2012-06-26 15:00:34,722 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=8
2012-06-26 15:00:34,722 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:00:44,732 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:00:44,732 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:00:44,732 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=8
2012-06-26 15:00:44,732 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=8
2012-06-26 15:00:44,732 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:00:54,757 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:00:54,757 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:00:54,757 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=8
2012-06-26 15:00:54,757 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=8
2012-06-26 15:00:54,757 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:01:04,766 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:01:04,766 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:01:04,766 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=8
2012-06-26 15:01:04,766 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=8
2012-06-26 15:01:04,766 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:01:14,776 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:01:14,776 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:01:14,776 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=8
2012-06-26 15:01:14,776 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=8
2012-06-26 15:01:14,776 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:01:24,785 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:01:24,785 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:01:24,785 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=8
2012-06-26 15:01:24,785 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=8
2012-06-26 15:01:24,785 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:01:34,795 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:01:34,795 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:01:34,795 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=8
2012-06-26 15:01:34,795 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=8
2012-06-26 15:01:34,795 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:01:44,805 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:01:44,805 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:01:44,805 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=8
2012-06-26 15:01:44,805 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=5
2012-06-26 15:01:44,805 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:01:54,814 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:01:54,814 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:01:54,814 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=5
2012-06-26 15:01:54,814 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 15:01:54,814 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:02:04,824 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:02:04,824 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:02:04,824 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 15:02:04,824 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 15:02:04,824 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:02:14,833 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:02:14,833 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:02:14,833 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 15:02:14,833 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 15:02:14,833 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:02:24,858 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:02:24,858 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:02:24,858 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 15:02:24,858 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 15:02:24,858 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:02:34,868 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:02:34,868 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:02:34,868 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 15:02:34,868 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:02:34,868 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:02:44,877 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:02:44,877 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:02:44,877 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:02:44,877 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:02:44,877 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:02:54,903 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:02:54,903 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:02:54,903 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:02:54,903 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:02:54,903 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:03:04,896 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:03:04,896 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:03:04,896 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:03:04,896 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:03:04,896 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:03:14,906 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:03:14,906 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:03:14,906 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:03:14,906 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:03:14,906 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:03:24,915 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:03:24,915 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:03:24,915 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:03:24,915 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:03:24,915 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:03:34,941 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:03:34,941 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:03:34,941 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:03:34,941 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:03:34,941 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:03:44,950 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:03:44,950 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:03:44,950 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:03:44,950 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:03:44,950 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:03:54,960 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:03:54,960 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:03:54,960 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:03:54,960 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:03:54,960 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:04:04,969 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:04:04,969 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:04:04,969 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:04:04,969 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:04:04,969 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:04:14,994 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:04:14,994 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:04:14,994 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:04:14,994 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:04:14,994 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:04:25,004 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:04:25,004 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:04:25,004 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:04:25,004 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:04:25,004 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:04:34,998 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:04:34,998 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:04:34,998 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:04:34,998 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:04:34,998 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:04:45,039 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:04:45,039 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:04:45,039 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:04:45,039 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:04:45,039 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:04:55,048 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:04:55,048 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:04:55,048 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:04:55,048 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:04:55,048 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:05:05,058 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:05:05,058 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:05:05,058 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:05:05,058 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:05:05,058 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:05:15,067 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:05:15,067 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:05:15,067 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:05:15,067 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:05:15,067 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:05:25,092 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:05:25,092 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:05:25,092 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:05:25,092 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:05:25,092 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:05:35,102 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:05:35,102 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:05:35,102 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:05:35,102 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:05:35,102 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:05:45,111 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:05:45,111 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:05:45,111 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:05:45,111 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:05:45,111 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:05:55,121 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:05:55,121 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:05:55,121 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:05:55,121 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:05:55,121 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:06:05,146 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:06:05,146 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:06:05,146 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:06:05,146 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:06:05,146 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:06:15,156 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:06:15,156 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:06:15,156 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:06:15,156 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:06:15,156 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:06:25,165 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:06:25,165 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:06:25,165 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:06:25,165 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:06:25,165 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:06:35,190 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:06:35,190 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:06:35,190 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:06:35,190 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:06:35,190 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:06:45,200 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:06:45,200 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:06:45,200 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:06:45,200 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:06:45,200 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:06:55,209 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:06:55,209 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:06:55,209 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:06:55,209 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:06:55,209 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:07:05,219 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:07:05,219 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:07:05,219 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:07:05,219 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:07:05,219 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:07:15,244 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:07:15,244 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:07:15,244 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:07:15,244 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:07:15,244 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:07:25,254 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:07:25,254 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:07:25,254 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:07:25,254 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:07:25,254 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:07:35,263 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:07:35,263 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:07:35,263 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:07:35,263 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:07:35,263 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:07:45,273 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:07:45,273 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:07:45,273 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:07:45,273 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:07:45,273 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:07:55,298 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:07:55,298 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:07:55,298 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:07:55,298 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:07:55,298 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:08:05,307 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:08:05,307 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:08:05,307 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:08:05,307 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:08:05,307 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:08:15,317 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:08:15,317 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:08:15,317 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:08:15,317 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:08:15,317 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:08:25,326 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:08:25,326 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:08:25,326 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:08:25,326 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:08:25,326 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:08:35,336 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:08:35,336 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:08:35,336 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:08:35,336 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:08:35,336 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:08:45,346 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:08:45,346 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:08:45,346 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:08:45,346 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:08:45,346 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:08:55,355 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:08:55,355 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:08:55,355 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:08:55,355 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:08:55,355 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:09:05,380 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:09:05,380 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:09:05,380 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:09:05,380 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:09:05,380 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:09:15,390 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:09:15,390 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:09:15,390 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:09:15,390 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:09:15,390 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:09:25,415 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:09:25,415 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:09:25,415 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:09:25,415 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:09:25,415 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:09:35,424 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:09:35,424 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:09:35,424 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:09:35,424 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:09:35,424 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:09:45,434 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:09:45,434 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:09:45,434 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:09:45,434 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:09:45,434 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:09:55,459 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:09:55,459 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:09:55,459 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:09:55,459 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:09:55,459 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:10:05,453 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:10:05,453 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:10:05,453 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:10:05,453 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:10:05,453 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:10:15,494 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:10:15,494 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:10:15,494 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:10:15,494 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:10:15,494 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:10:25,503 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:10:25,503 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:10:25,503 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:10:25,503 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:10:25,503 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:10:35,513 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:10:35,513 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:10:35,513 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:10:35,513 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:10:35,513 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:10:45,522 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:10:45,522 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:10:45,522 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:10:45,522 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:10:45,522 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:10:55,548 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:10:55,548 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:10:55,548 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:10:55,548 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:10:55,548 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:11:05,557 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:11:05,557 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:11:05,557 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:11:05,557 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:11:05,557 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:11:15,567 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:11:15,567 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:11:15,567 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:11:15,567 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:11:15,567 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:11:25,576 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:11:25,576 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:11:25,576 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:11:25,576 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:11:25,576 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:11:35,586 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:11:35,586 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:11:35,586 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:11:35,586 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:11:35,586 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:11:45,595 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:11:45,595 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:11:45,595 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:11:45,595 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:11:45,595 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:11:55,605 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:11:55,605 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:11:55,605 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:11:55,605 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:11:55,605 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:12:05,630 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:12:05,630 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:12:05,630 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:12:05,630 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:12:05,630 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:12:15,639 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:12:15,639 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:12:15,639 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:12:15,639 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:12:15,639 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:12:25,649 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:12:25,649 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:12:25,649 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:12:25,649 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:12:25,649 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:12:35,659 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:12:35,659 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:12:35,659 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:12:35,659 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:12:35,659 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:12:45,684 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:12:45,684 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:12:45,684 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:12:45,684 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:12:45,684 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:12:55,693 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:12:55,693 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:12:55,693 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:12:55,693 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:12:55,693 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:13:05,703 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:13:05,703 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:13:05,703 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:13:05,703 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:13:05,703 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:13:15,712 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:13:15,712 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:13:15,712 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:13:15,712 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:13:15,712 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:13:25,737 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:13:25,737 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:13:25,737 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:13:25,737 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:13:25,737 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:13:35,747 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:13:35,747 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:13:35,747 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:13:35,747 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:13:35,747 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:13:45,757 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:13:45,757 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:13:45,757 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:13:45,757 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:13:45,757 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:13:55,782 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:13:55,782 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:13:55,782 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:13:55,782 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:13:55,782 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:14:05,791 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:14:05,791 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:14:05,791 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:14:05,791 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:14:05,791 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:14:07,743 [NioProcessor-1  ] [INFO ] c.c.q.m.p.f.LoggingFilter   - incoming connection from remote address: 127.0.0.1:3548, Mina session ID: 9
2012-06-26 15:14:07,743 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - Currently managed session count: 1
2012-06-26 15:14:07,743 [NioProcessor-1  ] [INFO ] o.a.m.f.l.LoggingFilter     - CREATED
2012-06-26 15:14:07,743 [NioProcessor-1  ] [INFO ] o.a.m.f.l.LoggingFilter     - OPENED
2012-06-26 15:14:07,743 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:3548, Mina session ID 9, identified POS ID null
2012-06-26 15:14:07,743 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 15:14:07,743 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=32 cap=2048: 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20...]
2012-06-26 15:14:07,774 [NioProcessor-1  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 9
2012-06-26 15:14:07,774 [NioProcessor-1  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 15:14:07,774 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 15:14:07,774 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 9
2012-06-26 15:14:07,774 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =32
2012-06-26 15:14:07,774 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 15:14:07,774 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 32, current position: 0
2012-06-26 15:14:07,774 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 15:14:07,774 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}
2012-06-26 15:14:07,774 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 16
2012-06-26 15:14:07,774 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=16, in.remaining=16
2012-06-26 15:14:07,774 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 15:14:07,774 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 5
2012-06-26 15:14:07,774 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 5: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageCodec@13e3940
2012-06-26 15:14:07,774 [NioProcessor-1  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - init request message decode
2012-06-26 15:14:07,774 [NioProcessor-1  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - in.remaining()=16
2012-06-26 15:14:07,774 [NioProcessor-1  ] [TRACE] .m.p.s.m.c.InitMessageCodec - InitRequestMessage: [cmdId=5, posId=pos-0002]
2012-06-26 15:14:07,774 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 15:14:07,774 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 15:14:07,774 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 15:14:07,774 [NioProcessor-1  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 15:14:07,774 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 15:14:07,774 [NioProcessor-1  ] [DEBUG] p.f.SessionKeyMessageFilter - Mina session ID 9: created session key e4a27938cb3a401c9bf0a6beaa3c8b5f
2012-06-26 15:14:07,774 [NioProcessor-1  ] [DEBUG] p.f.SessionKeyMessageFilter - creating session for mina session ID 9 using session ID e4a27938cb3a401c9bf0a6beaa3c8b5f
2012-06-26 15:14:07,774 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 15:14:07,774 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 15:14:07,774 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 15:14:07,774 [NioProcessor-1  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:3548, Mina session ID 9, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 15:14:07,774 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 15:14:07,774 [pool-4-thread-5 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 15:14:07,774 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 15:14:07,774 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 15:14:07,774 [NioProcessor-1  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 15:14:07,774 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 15:14:07,774 [pool-4-thread-5 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 15:14:07,774 [pool-4-thread-5 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@155e3ab obtained for command ID 5
2012-06-26 15:14:07,774 [pool-4-thread-5 ] [DEBUG] $$EnhancerByGuice$$22e9f5a5 - Handler for command ID 5 is com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@155e3ab
2012-06-26 15:14:07,774 [pool-4-thread-5 ] [DEBUG] .q.m.p.h.InitCommandHandler - InitCommandHandler======execute==bodyMessage=:  [cmdId=5, posId=pos-0002]
2012-06-26 15:14:07,774 [pool-4-thread-5 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - InitResponse() invoke
2012-06-26 15:14:07,774 [pool-4-thread-5 ] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:ALLOWED
2012-06-26 15:14:07,774 [pool-4-thread-5 ] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId AND p.ostatus = :ostatus
2012-06-26 15:14:07,774 [pool-4-thread-5 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - POS ID:pos-0002, init challenge saved - [81, 50, 112, 56, 54, 76, 80, 107]
2012-06-26 15:14:07,806 [pool-4-thread-5 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 15:14:07,821 [pool-4-thread-5 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 15:14:07,821 [pool-4-thread-5 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 15:14:07,821 [pool-4-thread-5 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 15:14:07,821 [pool-4-thread-5 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 9
2012-06-26 15:14:07,821 [pool-4-thread-5 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (6)
2012-06-26 15:14:07,821 [pool-4-thread-5 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageResponseCodec@171b246
2012-06-26 15:14:07,821 [pool-4-thread-5 ] [DEBUG] .c.InitMessageResponseCodec - init response message encode
2012-06-26 15:14:07,821 [pool-4-thread-5 ] [TRACE] .c.InitMessageResponseCodec - InitResponseMessage: [cmdId=6, result=0, challenge=[81, 50, 112, 56, 54, 76, 80, 107]]
2012-06-26 15:14:07,821 [pool-4-thread-5 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0xb7b8
2012-06-26 15:14:07,821 [pool-4-thread-5 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 15:14:07,821 [pool-4-thread-5 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 B7 B8 00 00 00 1E ................
00000010 00 00 00 06 00 00 51 32 70 38 36 4C 50 6B       ......Q2p86LPk

2012-06-26 15:14:07,821 [pool-4-thread-5 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 15:14:07,821 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 15:14:07,821 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 15:14:07,821 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 9: not mark to return session ID to client
2012-06-26 15:14:07,821 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 15:14:07,821 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 15:14:07,821 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 15:14:08,040 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:3548, Mina session ID 9, identified POS ID pos-0002
2012-06-26 15:14:08,040 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 68 78 00 00 00 30 ..........hx...0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 61 AC B2 E6 87 FE 29 AD 7C C5 77 EF 68 8E 2F CE a.....).|.w.h./.

2012-06-26 15:14:08,040 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=48 cap=2048: 00 00 00 01 00 00 00 00 00 00 68 78 00 00 00 30...]
2012-06-26 15:14:08,040 [NioProcessor-1  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 9
2012-06-26 15:14:08,040 [NioProcessor-1  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 15:14:08,040 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 15:14:08,040 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 9
2012-06-26 15:14:08,040 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =48
2012-06-26 15:14:08,040 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 68 78 00 00 00 30 ..........hx...0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 61 AC B2 E6 87 FE 29 AD 7C C5 77 EF 68 8E 2F CE a.....).|.w.h./.

2012-06-26 15:14:08,040 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 48, current position: 0
2012-06-26 15:14:08,040 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 15:14:08,040 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x6878} messageSize:{0x30} sessionKey:{null}
2012-06-26 15:14:08,040 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 32
2012-06-26 15:14:08,040 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=32, in.remaining=32
2012-06-26 15:14:08,040 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 15:14:08,040 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 7
2012-06-26 15:14:08,040 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 7: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageCodec@201d6d
2012-06-26 15:14:08,040 [NioProcessor-1  ] [DEBUG] m.p.s.m.c.LoginMessageCodec - login/bind message decode
2012-06-26 15:14:08,040 [NioProcessor-1  ] [TRACE] m.p.s.m.c.LoginMessageCodec - LoginRequestMessage: [cmdId=7, posId=pos-0002, challengeResponse=[97, -84, -78, -26, -121, -2, 41, -83, 124, -59, 119, -17, 104, -114, 47, -50]]
2012-06-26 15:14:08,040 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 15:14:08,040 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x6878} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[97, -84, -78, -26, -121, -2, 41, -83, 124, -59, 119, -17, 104, -114, 47, -50]]
2012-06-26 15:14:08,055 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 15:14:08,055 [NioProcessor-1  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 15:14:08,055 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 15:14:08,055 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 15:14:08,055 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 15:14:08,055 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 15:14:08,055 [NioProcessor-1  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:3548, Mina session ID 9, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x6878} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[97, -84, -78, -26, -121, -2, 41, -83, 124, -59, 119, -17, 104, -114, 47, -50]]
2012-06-26 15:14:08,055 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 15:14:08,055 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 15:14:08,055 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 15:14:08,055 [NioProcessor-1  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 15:14:08,055 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 15:14:08,055 [pool-4-thread-6 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 15:14:08,055 [pool-4-thread-6 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 15:14:08,055 [pool-4-thread-6 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@19d96b1 obtained for command ID 7
2012-06-26 15:14:08,055 [pool-4-thread-6 ] [DEBUG] $$EnhancerByGuice$$22e9f5a5 - Handler for command ID 7 is com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@19d96b1
2012-06-26 15:14:08,055 [pool-4-thread-6 ] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==bodyMessage=: [cmdId=7, posId=pos-0002, challengeResponse=[97, -84, -78, -26, -121, -2, 41, -83, 124, -59, 119, -17, 104, -114, 47, -50]]
2012-06-26 15:14:08,055 [pool-4-thread-6 ] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:null
2012-06-26 15:14:08,055 [pool-4-thread-6 ] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId
2012-06-26 15:14:08,055 [pool-4-thread-6 ] [TRACE] .q.m.l.l.i.LoginManagerImpl - Loaded from db: pos.posId:pos-0002, pos.secret:000001, oldChallenge:[81, 50, 112, 56, 54, 76, 80, 107]
2012-06-26 15:14:08,055 [pool-4-thread-6 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - disableChallengeCheck =0
2012-06-26 15:14:08,055 [pool-4-thread-6 ] [TRACE] c.c.q.m.l.c.ChallengeUtil   - checking challenge:response:[97, -84, -78, -26, -121, -2, 41, -83, 124, -59, 119, -17, 104, -114, 47, -50], posKey:000001, random:[81, 50, 112, 56, 54, 76, 80, 107]
2012-06-26 15:14:08,055 [pool-4-thread-6 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - new challenge for POS (POS ID): [78, 69, 57, 118, 114, 103, 81, 100]
2012-06-26 15:14:08,055 [pool-4-thread-6 ] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==serverKey=:JXTPOS
2012-06-26 15:14:08,055 [pool-4-thread-6 ] [DEBUG] ThreadSafeClientConnManager - Get connection: HttpRoute[{}->http://localhost:7070], timeout = 0
2012-06-26 15:14:08,055 [pool-4-thread-6 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - [HttpRoute[{}->http://localhost:7070]] total kept alive: 0, total issued: 0, total allocated: 0 out of 20
2012-06-26 15:14:08,055 [pool-4-thread-6 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - No free connections [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 15:14:08,055 [pool-4-thread-6 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Available capacity: 2 out of 2 [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 15:14:08,055 [pool-4-thread-6 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Creating new connection [HttpRoute[{}->http://localhost:7070]]
2012-06-26 15:14:08,055 [pool-4-thread-6 ] [DEBUG] ultClientConnectionOperator - Connecting to localhost:7070
2012-06-26 15:14:09,055 [pool-4-thread-6 ] [DEBUG] i.c.DefaultClientConnection - Connection closed
2012-06-26 15:14:09,055 [pool-4-thread-6 ] [DEBUG] i.c.DefaultClientConnection - Connection shut down
2012-06-26 15:14:09,055 [pool-4-thread-6 ] [DEBUG] ThreadSafeClientConnManager - Released connection is not reusable.
2012-06-26 15:14:09,055 [pool-4-thread-6 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Releasing connection [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 15:14:09,055 [pool-4-thread-6 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Notifying no-one, there are no waiting threads
2012-06-26 15:14:09,055 [pool-4-thread-6 ] [ERROR] q.m.p.h.LoginCommandHandler - initGrouponCache fail:com.chinarewards.qqgbvpn.qqapi.exception.ParseXMLException: com.chinarewards.qqgbvpn.qqapi.exception.SendPostTimeOutException: org.apache.http.conn.HttpHostConnectException: Connection to http://localhost:7070 refused
2012-06-26 15:14:09,055 [pool-4-thread-6 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 15:14:09,102 [pool-4-thread-6 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 15:14:09,102 [pool-4-thread-6 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 15:14:09,102 [pool-4-thread-6 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 15:14:09,102 [pool-4-thread-6 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 9
2012-06-26 15:14:09,102 [pool-4-thread-6 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (8)
2012-06-26 15:14:09,102 [pool-4-thread-6 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageResponseCodec@3744bc
2012-06-26 15:14:09,102 [pool-4-thread-6 ] [DEBUG] c.LoginMessageResponseCodec - login/bind message encode
2012-06-26 15:14:09,102 [Finalizer       ] [DEBUG] ThreadSafeClientConnManager - Shutting down
2012-06-26 15:14:09,102 [pool-4-thread-6 ] [TRACE] c.LoginMessageResponseCodec - LoginResponseMessage: [cmdId=8, result=0, challenge=[78, 69, 57, 118, 114, 103, 81, 100]]
2012-06-26 15:14:09,102 [pool-4-thread-6 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0xb451
2012-06-26 15:14:09,102 [pool-4-thread-6 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 15:14:09,102 [pool-4-thread-6 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 B4 51 00 00 00 1E ...........Q....
00000010 00 00 00 08 00 00 4E 45 39 76 72 67 51 64       ......NE9vrgQd

2012-06-26 15:14:09,102 [pool-4-thread-6 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 15:14:09,102 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 15:14:09,102 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 15:14:09,102 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 9: not mark to return session ID to client
2012-06-26 15:14:09,102 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 15:14:09,102 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 15:14:09,102 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 15:14:09,102 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:3548, Mina session ID 9, identified POS ID pos-0002
2012-06-26 15:14:09,102 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 35 of 35 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 D0 F4 00 00 00 23 ...............#
00000010 00 00 00 CB 00 06 31 32 33 34 35 36 00 05 33 32 ......123456..32
00000020 2E 33 33                                        .33

2012-06-26 15:14:09,102 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=35 cap=1024: 00 00 00 10 00 00 00 00 00 00 D0 F4 00 00 00 23...]
2012-06-26 15:14:09,102 [NioProcessor-1  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 9
2012-06-26 15:14:09,102 [NioProcessor-1  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 15:14:09,102 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 15:14:09,102 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 9
2012-06-26 15:14:09,102 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =35
2012-06-26 15:14:09,102 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 35 of 35 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 D0 F4 00 00 00 23 ...............#
00000010 00 00 00 CB 00 06 31 32 33 34 35 36 00 05 33 32 ......123456..32
00000020 2E 33 33                                        .33

2012-06-26 15:14:09,102 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 35, current position: 0
2012-06-26 15:14:09,102 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 15:14:09,102 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd0f4} messageSize:{0x23} sessionKey:{null}
2012-06-26 15:14:09,102 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 19
2012-06-26 15:14:09,102 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=19, in.remaining=19
2012-06-26 15:14:09,102 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 15:14:09,102 [NioProcessor-1  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 203
2012-06-26 15:14:09,102 [NioProcessor-1  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 203: com.chinarewards.qqadidas.main.protocol.socket.mina.codec.RightForMessageCodec@130500f
2012-06-26 15:14:09,102 [NioProcessor-1  ] [DEBUG] .s.m.c.RightForMessageCodec - right for request message decode
2012-06-26 15:14:09,102 [NioProcessor-1  ] [DEBUG] .s.m.c.RightForMessageCodec - in.remaining()=19
2012-06-26 15:14:09,102 [NioProcessor-1  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 15:14:09,102 [NioProcessor-1  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd0f4} messageSize:{0x23} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.RightForRequestMessage@d8326d
2012-06-26 15:14:09,102 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 15:14:09,102 [NioProcessor-1  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 15:14:09,102 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 15:14:09,102 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 15:14:09,102 [NioProcessor-1  ] [DEBUG] c.c.q.m.p.f.LoginFilter     - isLogin=true
2012-06-26 15:14:09,102 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 15:14:09,102 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 15:14:09,102 [NioProcessor-1  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:3548, Mina session ID 9, identified POS ID pos-0002, message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd0f4} messageSize:{0x23} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.RightForRequestMessage@d8326d
2012-06-26 15:14:09,102 [NioProcessor-1  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 15:14:09,102 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 15:14:09,102 [pool-4-thread-7 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 15:14:09,102 [NioProcessor-1  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 15:14:09,102 [NioProcessor-1  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 15:14:09,102 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 15:14:09,102 [pool-4-thread-7 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 15:14:09,102 [pool-4-thread-7 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqadidas.main.protocol.handler.RightForCommandHandler@c3c44 obtained for command ID 203
2012-06-26 15:14:09,102 [pool-4-thread-7 ] [DEBUG] $$EnhancerByGuice$$22e9f5a5 - Handler for command ID 203 is com.chinarewards.qqadidas.main.protocol.handler.RightForCommandHandler@c3c44
2012-06-26 15:14:09,102 [pool-4-thread-7 ] [DEBUG] .p.h.RightForCommandHandler - RightForCommandHandler======execute==bodyMessage=: com.chinarewards.qqadidas.main.protocol.cmd.RightForRequestMessage@d8326d
2012-06-26 15:14:09,102 [pool-4-thread-7 ] [DEBUG] .p.h.RightForCommandHandler - right for cdkey is: 123456
2012-06-26 15:14:09,102 [pool-4-thread-7 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 15:14:09,102 [pool-4-thread-7 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 15:14:09,102 [pool-4-thread-7 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 15:14:09,102 [pool-4-thread-7 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 15:14:09,102 [pool-4-thread-7 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 9
2012-06-26 15:14:09,102 [pool-4-thread-7 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (204)
2012-06-26 15:14:09,102 [pool-4-thread-7 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqadidas.main.protocol.socket.mina.codec.RightForResponseMessageCodec@1ed2061
2012-06-26 15:14:09,102 [pool-4-thread-7 ] [DEBUG] ightForResponseMessageCodec - right for response message encode
2012-06-26 15:14:09,102 [pool-4-thread-7 ] [DEBUG] ightForResponseMessageCodec - right for response message encode resultByte length: 53
2012-06-26 15:14:09,102 [pool-4-thread-7 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0x6c67
2012-06-26 15:14:09,102 [pool-4-thread-7 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 15:14:09,102 [pool-4-thread-7 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 69 of 69 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 6C 67 00 00 00 45 ..........lg...E
00000010 00 00 00 CC 00 00 00 02 07 DC 06 1A 0F 0E 09 00 ................
00000020 66 01 E0 00 08 BB F1 C8 A1 D3 C5 BB DD 00 16 31 f..............1
00000030 32 33 34 35 36 0A CE DE D0 A7 0A B0 B4 4F 4B BC 23456........OK.
00000040 FC B7 B5 BB D8                                  .....

2012-06-26 15:14:09,102 [pool-4-thread-7 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 15:14:09,102 [NioProcessor-1  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 15:14:09,102 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 15:14:09,102 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 9: not mark to return session ID to client
2012-06-26 15:14:09,102 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 15:14:09,102 [NioProcessor-1  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 15:14:09,102 [NioProcessor-1  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 15:14:09,133 [NioProcessor-1  ] [INFO ] o.a.m.f.l.LoggingFilter     - CLOSED
2012-06-26 15:14:09,133 [NioProcessor-1  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 15:14:15,863 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:14:15,863 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:14:15,863 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 15:14:15,863 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 15:14:15,863 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:14:25,873 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:14:25,873 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:14:25,873 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 15:14:25,873 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 15:14:25,873 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:14:35,898 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:14:35,898 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:14:35,898 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 15:14:35,898 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 15:14:35,898 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:14:45,907 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:14:45,907 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:14:45,907 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 15:14:45,907 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 15:14:45,907 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:14:55,917 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:14:55,917 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:14:55,917 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 15:14:55,917 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 15:14:55,917 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:15:05,927 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:15:05,927 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:15:05,927 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 15:15:05,927 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 15:15:05,927 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:15:15,952 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:15:15,952 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:15:15,952 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 15:15:15,952 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 15:15:15,952 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:15:25,977 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:15:25,977 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:15:25,977 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 15:15:25,977 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 15:15:25,977 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:15:36,018 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:15:36,018 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:15:36,018 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 15:15:36,018 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 15:15:36,018 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:15:46,058 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:15:46,058 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:15:46,058 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 15:15:46,058 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 15:15:46,058 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:15:56,084 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:15:56,084 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:15:56,084 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 15:15:56,084 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 15:15:56,084 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:16:06,109 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:16:06,109 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:16:06,109 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 15:16:06,109 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 15:16:06,109 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:16:16,118 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:16:16,118 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:16:16,118 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 15:16:16,118 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 15:16:16,118 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:16:26,143 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:16:26,143 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:16:26,143 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 15:16:26,143 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 15:16:26,143 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:16:36,153 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:16:36,153 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:16:36,153 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 15:16:36,153 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 15:16:36,153 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:16:46,162 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:16:46,162 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:16:46,162 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 15:16:46,162 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 15:16:46,162 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:16:56,188 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:16:56,188 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:16:56,188 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 15:16:56,188 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 15:16:56,188 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:17:06,197 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:17:06,197 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:17:06,197 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 15:17:06,197 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 15:17:06,197 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:17:16,207 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:17:16,207 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:17:16,207 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 15:17:16,207 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 15:17:16,207 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:17:26,216 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:17:26,216 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:17:26,216 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 15:17:26,216 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 15:17:26,216 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:17:36,226 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:17:36,226 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:17:36,226 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 15:17:36,226 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 15:17:36,226 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:17:46,235 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:17:46,235 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:17:46,235 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 15:17:46,235 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:17:46,235 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:17:56,260 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:17:56,260 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:17:56,260 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:17:56,260 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:17:56,260 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:18:06,270 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:18:06,270 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:18:06,270 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:18:06,270 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:18:06,270 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:18:16,279 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:18:16,279 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:18:16,279 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:18:16,279 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:18:16,279 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:18:26,289 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:18:26,289 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:18:26,289 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:18:26,289 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:18:26,289 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:18:36,330 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:18:36,330 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:18:36,330 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:18:36,330 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:18:36,330 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:18:46,339 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:18:46,339 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:18:46,339 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:18:46,339 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:18:46,339 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:18:51,836 [NioProcessor-2  ] [INFO ] c.c.q.m.p.f.LoggingFilter   - incoming connection from remote address: 127.0.0.1:3567, Mina session ID: 10
2012-06-26 15:18:51,852 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - Currently managed session count: 1
2012-06-26 15:18:51,852 [NioProcessor-2  ] [INFO ] o.a.m.f.l.LoggingFilter     - CREATED
2012-06-26 15:18:51,852 [NioProcessor-2  ] [INFO ] o.a.m.f.l.LoggingFilter     - OPENED
2012-06-26 15:18:51,852 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:3567, Mina session ID 10, identified POS ID null
2012-06-26 15:18:51,852 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 15:18:51,852 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=32 cap=2048: 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20...]
2012-06-26 15:18:51,852 [NioProcessor-2  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 10
2012-06-26 15:18:51,852 [NioProcessor-2  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 15:18:51,867 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 15:18:51,883 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 10
2012-06-26 15:18:51,883 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =32
2012-06-26 15:18:51,883 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 15:18:51,883 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 32, current position: 0
2012-06-26 15:18:51,883 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 15:18:51,883 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}
2012-06-26 15:18:51,883 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 16
2012-06-26 15:18:51,883 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=16, in.remaining=16
2012-06-26 15:18:51,883 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 15:18:51,883 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 5
2012-06-26 15:18:51,883 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 5: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageCodec@ef1df6
2012-06-26 15:18:51,883 [NioProcessor-2  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - init request message decode
2012-06-26 15:18:51,883 [NioProcessor-2  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - in.remaining()=16
2012-06-26 15:18:51,883 [NioProcessor-2  ] [TRACE] .m.p.s.m.c.InitMessageCodec - InitRequestMessage: [cmdId=5, posId=pos-0002]
2012-06-26 15:18:51,883 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 15:18:51,883 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 15:18:51,883 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 15:18:51,883 [NioProcessor-2  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 15:18:51,883 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 15:18:51,883 [NioProcessor-2  ] [DEBUG] p.f.SessionKeyMessageFilter - Mina session ID 10: created session key b76dddc3614041ab8cf6466dc0d48229
2012-06-26 15:18:51,883 [NioProcessor-2  ] [DEBUG] p.f.SessionKeyMessageFilter - creating session for mina session ID 10 using session ID b76dddc3614041ab8cf6466dc0d48229
2012-06-26 15:18:51,883 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 15:18:51,883 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 15:18:51,883 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 15:18:51,883 [NioProcessor-2  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:3567, Mina session ID 10, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 15:18:51,883 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 15:18:51,883 [pool-4-thread-8 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 15:18:51,883 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 15:18:51,883 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 15:18:51,883 [NioProcessor-2  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 15:18:51,883 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 15:18:51,883 [pool-4-thread-8 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 15:18:51,883 [pool-4-thread-8 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@6d75b6 obtained for command ID 5
2012-06-26 15:18:51,883 [pool-4-thread-8 ] [DEBUG] $$EnhancerByGuice$$22e9f5a5 - Handler for command ID 5 is com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@6d75b6
2012-06-26 15:18:51,883 [pool-4-thread-8 ] [DEBUG] .q.m.p.h.InitCommandHandler - InitCommandHandler======execute==bodyMessage=:  [cmdId=5, posId=pos-0002]
2012-06-26 15:18:51,883 [pool-4-thread-8 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - InitResponse() invoke
2012-06-26 15:18:51,883 [pool-4-thread-8 ] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:ALLOWED
2012-06-26 15:18:51,883 [pool-4-thread-8 ] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId AND p.ostatus = :ostatus
2012-06-26 15:18:51,883 [pool-4-thread-8 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - POS ID:pos-0002, init challenge saved - [49, 85, 52, 115, 122, 122, 50, 82]
2012-06-26 15:18:51,883 [pool-4-thread-8 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 15:18:51,914 [pool-4-thread-8 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 15:18:51,914 [pool-4-thread-8 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 15:18:51,914 [pool-4-thread-8 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 15:18:51,914 [pool-4-thread-8 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 10
2012-06-26 15:18:51,914 [pool-4-thread-8 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (6)
2012-06-26 15:18:51,914 [pool-4-thread-8 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageResponseCodec@169da74
2012-06-26 15:18:51,914 [pool-4-thread-8 ] [DEBUG] .c.InitMessageResponseCodec - init response message encode
2012-06-26 15:18:51,914 [pool-4-thread-8 ] [TRACE] .c.InitMessageResponseCodec - InitResponseMessage: [cmdId=6, result=0, challenge=[49, 85, 52, 115, 122, 122, 50, 82]]
2012-06-26 15:18:51,914 [pool-4-thread-8 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0xed45
2012-06-26 15:18:51,914 [pool-4-thread-8 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 15:18:51,914 [pool-4-thread-8 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 ED 45 00 00 00 1E ...........E....
00000010 00 00 00 06 00 00 31 55 34 73 7A 7A 32 52       ......1U4szz2R

2012-06-26 15:18:51,914 [pool-4-thread-8 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 15:18:51,914 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 15:18:51,914 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 15:18:51,914 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 10: not mark to return session ID to client
2012-06-26 15:18:51,914 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 15:18:51,914 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 15:18:51,914 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 15:18:52,133 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:3567, Mina session ID 10, identified POS ID pos-0002
2012-06-26 15:18:52,133 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 43 D0 00 00 00 30 ..........C....0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 6A 59 00 14 33 6A 0E 8A 4A DD 26 0E B0 8A AA 20 jY..3j..J.&.... 

2012-06-26 15:18:52,133 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=48 cap=2048: 00 00 00 01 00 00 00 00 00 00 43 D0 00 00 00 30...]
2012-06-26 15:18:52,133 [NioProcessor-2  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 10
2012-06-26 15:18:52,133 [NioProcessor-2  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 15:18:52,133 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 15:18:52,133 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 10
2012-06-26 15:18:52,133 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =48
2012-06-26 15:18:52,133 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 43 D0 00 00 00 30 ..........C....0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 6A 59 00 14 33 6A 0E 8A 4A DD 26 0E B0 8A AA 20 jY..3j..J.&.... 

2012-06-26 15:18:52,133 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 48, current position: 0
2012-06-26 15:18:52,133 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 15:18:52,133 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x43d0} messageSize:{0x30} sessionKey:{null}
2012-06-26 15:18:52,133 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 32
2012-06-26 15:18:52,133 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=32, in.remaining=32
2012-06-26 15:18:52,133 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 15:18:52,133 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 7
2012-06-26 15:18:52,133 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 7: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageCodec@17d8769
2012-06-26 15:18:52,133 [NioProcessor-2  ] [DEBUG] m.p.s.m.c.LoginMessageCodec - login/bind message decode
2012-06-26 15:18:52,133 [NioProcessor-2  ] [TRACE] m.p.s.m.c.LoginMessageCodec - LoginRequestMessage: [cmdId=7, posId=pos-0002, challengeResponse=[106, 89, 0, 20, 51, 106, 14, -118, 74, -35, 38, 14, -80, -118, -86, 32]]
2012-06-26 15:18:52,133 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 15:18:52,133 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x43d0} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[106, 89, 0, 20, 51, 106, 14, -118, 74, -35, 38, 14, -80, -118, -86, 32]]
2012-06-26 15:18:52,133 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 15:18:52,133 [NioProcessor-2  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 15:18:52,133 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 15:18:52,133 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 15:18:52,133 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 15:18:52,133 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 15:18:52,133 [NioProcessor-2  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:3567, Mina session ID 10, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x43d0} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[106, 89, 0, 20, 51, 106, 14, -118, 74, -35, 38, 14, -80, -118, -86, 32]]
2012-06-26 15:18:52,133 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 15:18:52,133 [pool-4-thread-9 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 15:18:52,133 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 15:18:52,133 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 15:18:52,133 [pool-4-thread-9 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 15:18:52,133 [NioProcessor-2  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 15:18:52,133 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 15:18:52,133 [pool-4-thread-9 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@6e795b obtained for command ID 7
2012-06-26 15:18:52,133 [pool-4-thread-9 ] [DEBUG] $$EnhancerByGuice$$22e9f5a5 - Handler for command ID 7 is com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@6e795b
2012-06-26 15:18:52,133 [pool-4-thread-9 ] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==bodyMessage=: [cmdId=7, posId=pos-0002, challengeResponse=[106, 89, 0, 20, 51, 106, 14, -118, 74, -35, 38, 14, -80, -118, -86, 32]]
2012-06-26 15:18:52,133 [pool-4-thread-9 ] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:null
2012-06-26 15:18:52,133 [pool-4-thread-9 ] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId
2012-06-26 15:18:52,133 [pool-4-thread-9 ] [TRACE] .q.m.l.l.i.LoginManagerImpl - Loaded from db: pos.posId:pos-0002, pos.secret:000001, oldChallenge:[49, 85, 52, 115, 122, 122, 50, 82]
2012-06-26 15:18:52,133 [pool-4-thread-9 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - disableChallengeCheck =0
2012-06-26 15:18:52,133 [pool-4-thread-9 ] [TRACE] c.c.q.m.l.c.ChallengeUtil   - checking challenge:response:[106, 89, 0, 20, 51, 106, 14, -118, 74, -35, 38, 14, -80, -118, -86, 32], posKey:000001, random:[49, 85, 52, 115, 122, 122, 50, 82]
2012-06-26 15:18:52,133 [pool-4-thread-9 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - new challenge for POS (POS ID): [116, 85, 65, 52, 90, 118, 114, 74]
2012-06-26 15:18:52,133 [pool-4-thread-9 ] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==serverKey=:JXTPOS
2012-06-26 15:18:52,133 [pool-4-thread-9 ] [DEBUG] ThreadSafeClientConnManager - Get connection: HttpRoute[{}->http://localhost:7070], timeout = 0
2012-06-26 15:18:52,133 [pool-4-thread-9 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - [HttpRoute[{}->http://localhost:7070]] total kept alive: 0, total issued: 0, total allocated: 0 out of 20
2012-06-26 15:18:52,133 [pool-4-thread-9 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - No free connections [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 15:18:52,133 [pool-4-thread-9 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Available capacity: 2 out of 2 [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 15:18:52,148 [pool-4-thread-9 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Creating new connection [HttpRoute[{}->http://localhost:7070]]
2012-06-26 15:18:52,148 [pool-4-thread-9 ] [DEBUG] ultClientConnectionOperator - Connecting to localhost:7070
2012-06-26 15:18:53,054 [pool-4-thread-9 ] [DEBUG] i.c.DefaultClientConnection - Connection closed
2012-06-26 15:18:53,054 [pool-4-thread-9 ] [DEBUG] i.c.DefaultClientConnection - Connection shut down
2012-06-26 15:18:53,054 [pool-4-thread-9 ] [DEBUG] ThreadSafeClientConnManager - Released connection is not reusable.
2012-06-26 15:18:53,054 [pool-4-thread-9 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Releasing connection [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 15:18:53,054 [pool-4-thread-9 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Notifying no-one, there are no waiting threads
2012-06-26 15:18:53,054 [pool-4-thread-9 ] [ERROR] q.m.p.h.LoginCommandHandler - initGrouponCache fail:com.chinarewards.qqgbvpn.qqapi.exception.ParseXMLException: com.chinarewards.qqgbvpn.qqapi.exception.SendPostTimeOutException: org.apache.http.conn.HttpHostConnectException: Connection to http://localhost:7070 refused
2012-06-26 15:18:53,054 [pool-4-thread-9 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 15:18:53,101 [pool-4-thread-9 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 15:18:53,101 [pool-4-thread-9 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 15:18:53,101 [pool-4-thread-9 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 15:18:53,101 [pool-4-thread-9 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 10
2012-06-26 15:18:53,101 [pool-4-thread-9 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (8)
2012-06-26 15:18:53,101 [pool-4-thread-9 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageResponseCodec@deeebd
2012-06-26 15:18:53,101 [pool-4-thread-9 ] [DEBUG] c.LoginMessageResponseCodec - login/bind message encode
2012-06-26 15:18:53,101 [pool-4-thread-9 ] [TRACE] c.LoginMessageResponseCodec - LoginResponseMessage: [cmdId=8, result=0, challenge=[116, 85, 65, 52, 90, 118, 114, 74]]
2012-06-26 15:18:53,101 [pool-4-thread-9 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0x7d8e
2012-06-26 15:18:53,101 [pool-4-thread-9 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 15:18:53,101 [pool-4-thread-9 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 7D 8E 00 00 00 1E ..........}.....
00000010 00 00 00 08 00 00 74 55 41 34 5A 76 72 4A       ......tUA4ZvrJ

2012-06-26 15:18:53,101 [pool-4-thread-9 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 15:18:53,101 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 15:18:53,101 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 15:18:53,101 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 10: not mark to return session ID to client
2012-06-26 15:18:53,101 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 15:18:53,101 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 15:18:53,101 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 15:18:53,101 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:3567, Mina session ID 10, identified POS ID pos-0002
2012-06-26 15:18:53,101 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 41 of 41 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 3A 62 00 00 00 29 ..........:b...)
00000010 00 00 00 CB 00 0B 31 31 31 31 31 31 31 31 31 31 ......1111111111
00000020 31 00 06 33 36 32 2E 33 33                      1..362.33

2012-06-26 15:18:53,101 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=41 cap=1024: 00 00 00 10 00 00 00 00 00 00 3A 62 00 00 00 29...]
2012-06-26 15:18:53,101 [NioProcessor-2  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 10
2012-06-26 15:18:53,101 [NioProcessor-2  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 15:18:53,101 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 15:18:53,101 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 10
2012-06-26 15:18:53,101 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =41
2012-06-26 15:18:53,101 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 41 of 41 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 3A 62 00 00 00 29 ..........:b...)
00000010 00 00 00 CB 00 0B 31 31 31 31 31 31 31 31 31 31 ......1111111111
00000020 31 00 06 33 36 32 2E 33 33                      1..362.33

2012-06-26 15:18:53,101 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 41, current position: 0
2012-06-26 15:18:53,101 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 15:18:53,101 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0x3a62} messageSize:{0x29} sessionKey:{null}
2012-06-26 15:18:53,101 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 25
2012-06-26 15:18:53,101 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=25, in.remaining=25
2012-06-26 15:18:53,101 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 15:18:53,101 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 203
2012-06-26 15:18:53,101 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 203: com.chinarewards.qqadidas.main.protocol.socket.mina.codec.RightForMessageCodec@bf015
2012-06-26 15:18:53,101 [NioProcessor-2  ] [DEBUG] .s.m.c.RightForMessageCodec - right for request message decode
2012-06-26 15:18:53,101 [NioProcessor-2  ] [DEBUG] .s.m.c.RightForMessageCodec - in.remaining()=25
2012-06-26 15:18:53,101 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 15:18:53,101 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0x3a62} messageSize:{0x29} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.RightForRequestMessage@1bef4c6
2012-06-26 15:18:53,101 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 15:18:53,101 [NioProcessor-2  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 15:18:53,101 [Finalizer       ] [DEBUG] ThreadSafeClientConnManager - Shutting down
2012-06-26 15:18:53,101 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 15:18:53,101 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 15:18:53,101 [NioProcessor-2  ] [DEBUG] c.c.q.m.p.f.LoginFilter     - isLogin=true
2012-06-26 15:18:53,101 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 15:18:53,101 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 15:18:53,101 [NioProcessor-2  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:3567, Mina session ID 10, identified POS ID pos-0002, message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0x3a62} messageSize:{0x29} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.RightForRequestMessage@1bef4c6
2012-06-26 15:18:53,101 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 15:18:53,101 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 15:18:53,101 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 15:18:53,101 [NioProcessor-2  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 15:18:53,101 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 15:18:53,101 [pool-4-thread-10] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 15:18:53,101 [pool-4-thread-10] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 15:18:53,101 [pool-4-thread-10] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqadidas.main.protocol.handler.RightForCommandHandler@d134d0 obtained for command ID 203
2012-06-26 15:18:53,101 [pool-4-thread-10] [DEBUG] $$EnhancerByGuice$$22e9f5a5 - Handler for command ID 203 is com.chinarewards.qqadidas.main.protocol.handler.RightForCommandHandler@d134d0
2012-06-26 15:18:53,101 [pool-4-thread-10] [DEBUG] .p.h.RightForCommandHandler - RightForCommandHandler======execute==bodyMessage=: com.chinarewards.qqadidas.main.protocol.cmd.RightForRequestMessage@1bef4c6
2012-06-26 15:18:53,101 [pool-4-thread-10] [DEBUG] .p.h.RightForCommandHandler - right for cdkey is: 11111111111
2012-06-26 15:18:53,132 [pool-4-thread-10] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 15:18:53,148 [pool-4-thread-10] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 15:18:53,148 [pool-4-thread-10] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 15:18:53,148 [pool-4-thread-10] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 15:18:53,148 [pool-4-thread-10] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 10
2012-06-26 15:18:53,148 [pool-4-thread-10] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (204)
2012-06-26 15:18:53,148 [pool-4-thread-10] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqadidas.main.protocol.socket.mina.codec.RightForResponseMessageCodec@18feca1
2012-06-26 15:18:53,148 [pool-4-thread-10] [DEBUG] ightForResponseMessageCodec - right for response message encode
2012-06-26 15:18:53,148 [pool-4-thread-10] [DEBUG] ightForResponseMessageCodec - right for response message encode resultByte length: 48
2012-06-26 15:18:53,148 [pool-4-thread-10] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0x525e
2012-06-26 15:18:53,148 [pool-4-thread-10] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 15:18:53,148 [pool-4-thread-10] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 64 of 64 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 52 5E 00 00 00 40 ..........R^...@
00000010 00 00 00 CC 00 00 00 00 07 DC 06 1A 0F 12 35 00 ..............5.
00000020 65 01 E0 00 08 BB F1 C8 A1 D3 C5 BB DD 00 11 BD e...............
00000030 BB D2 D7 CD EA B3 C9 0A B7 B5 BB B9 35 30 D4 AA ............50..

2012-06-26 15:18:53,148 [pool-4-thread-10] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 15:18:53,148 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 15:18:53,148 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 15:18:53,148 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 10: not mark to return session ID to client
2012-06-26 15:18:53,148 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 15:18:53,148 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 15:18:53,148 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 15:18:53,148 [NioProcessor-2  ] [INFO ] o.a.m.f.l.LoggingFilter     - CLOSED
2012-06-26 15:18:53,148 [NioProcessor-2  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 15:18:56,427 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:18:56,427 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:18:56,427 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 15:18:56,427 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 15:18:56,427 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:19:06,436 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:19:06,436 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:19:06,436 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 15:19:06,436 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 15:19:06,436 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:19:16,446 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:19:16,446 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:19:16,446 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 15:19:16,446 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 15:19:16,446 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:19:17,508 [NioProcessor-3  ] [INFO ] c.c.q.m.p.f.LoggingFilter   - incoming connection from remote address: 127.0.0.1:3571, Mina session ID: 11
2012-06-26 15:19:17,508 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - Currently managed session count: 1
2012-06-26 15:19:17,508 [NioProcessor-3  ] [INFO ] o.a.m.f.l.LoggingFilter     - CREATED
2012-06-26 15:19:17,508 [NioProcessor-3  ] [INFO ] o.a.m.f.l.LoggingFilter     - OPENED
2012-06-26 15:19:17,508 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:3571, Mina session ID 11, identified POS ID null
2012-06-26 15:19:17,508 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 15:19:17,508 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=32 cap=2048: 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20...]
2012-06-26 15:19:17,523 [NioProcessor-3  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 11
2012-06-26 15:19:17,523 [NioProcessor-3  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 15:19:17,523 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 15:19:17,523 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 11
2012-06-26 15:19:17,539 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =32
2012-06-26 15:19:17,539 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 15:19:17,539 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 32, current position: 0
2012-06-26 15:19:17,539 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 15:19:17,539 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}
2012-06-26 15:19:17,539 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 16
2012-06-26 15:19:17,539 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=16, in.remaining=16
2012-06-26 15:19:17,539 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 15:19:17,539 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 5
2012-06-26 15:19:17,539 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 5: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageCodec@10e6cbd
2012-06-26 15:19:17,539 [NioProcessor-3  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - init request message decode
2012-06-26 15:19:17,539 [NioProcessor-3  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - in.remaining()=16
2012-06-26 15:19:17,539 [NioProcessor-3  ] [TRACE] .m.p.s.m.c.InitMessageCodec - InitRequestMessage: [cmdId=5, posId=pos-0002]
2012-06-26 15:19:17,539 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 15:19:17,539 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 15:19:17,539 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 15:19:17,539 [NioProcessor-3  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 15:19:17,539 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 15:19:17,539 [NioProcessor-3  ] [DEBUG] p.f.SessionKeyMessageFilter - Mina session ID 11: created session key 30fc8f2719564667b023e85ee42eccf9
2012-06-26 15:19:17,539 [NioProcessor-3  ] [DEBUG] p.f.SessionKeyMessageFilter - creating session for mina session ID 11 using session ID 30fc8f2719564667b023e85ee42eccf9
2012-06-26 15:19:17,539 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 15:19:17,539 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 15:19:17,539 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 15:19:17,539 [NioProcessor-3  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:3571, Mina session ID 11, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 15:19:17,539 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 15:19:17,539 [pool-4-thread-11] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 15:19:17,539 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 15:19:17,539 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 15:19:17,539 [NioProcessor-3  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 15:19:17,539 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 15:19:17,539 [pool-4-thread-11] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 15:19:17,539 [pool-4-thread-11] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@1db8f8e obtained for command ID 5
2012-06-26 15:19:17,539 [pool-4-thread-11] [DEBUG] $$EnhancerByGuice$$22e9f5a5 - Handler for command ID 5 is com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@1db8f8e
2012-06-26 15:19:17,539 [pool-4-thread-11] [DEBUG] .q.m.p.h.InitCommandHandler - InitCommandHandler======execute==bodyMessage=:  [cmdId=5, posId=pos-0002]
2012-06-26 15:19:17,539 [pool-4-thread-11] [DEBUG] .q.m.l.l.i.LoginManagerImpl - InitResponse() invoke
2012-06-26 15:19:17,539 [pool-4-thread-11] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:ALLOWED
2012-06-26 15:19:17,539 [pool-4-thread-11] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId AND p.ostatus = :ostatus
2012-06-26 15:19:17,539 [pool-4-thread-11] [DEBUG] .q.m.l.l.i.LoginManagerImpl - POS ID:pos-0002, init challenge saved - [56, 83, 109, 103, 65, 53, 120, 49]
2012-06-26 15:19:17,539 [pool-4-thread-11] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 15:19:17,570 [pool-4-thread-11] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 15:19:17,570 [pool-4-thread-11] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 15:19:17,570 [pool-4-thread-11] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 15:19:17,570 [pool-4-thread-11] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 11
2012-06-26 15:19:17,570 [pool-4-thread-11] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (6)
2012-06-26 15:19:17,570 [pool-4-thread-11] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageResponseCodec@ef7d74
2012-06-26 15:19:17,570 [pool-4-thread-11] [DEBUG] .c.InitMessageResponseCodec - init response message encode
2012-06-26 15:19:17,570 [pool-4-thread-11] [TRACE] .c.InitMessageResponseCodec - InitResponseMessage: [cmdId=6, result=0, challenge=[56, 83, 109, 103, 65, 53, 120, 49]]
2012-06-26 15:19:17,570 [pool-4-thread-11] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0xa0b9
2012-06-26 15:19:17,570 [pool-4-thread-11] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 15:19:17,570 [pool-4-thread-11] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 A0 B9 00 00 00 1E ................
00000010 00 00 00 06 00 00 38 53 6D 67 41 35 78 31       ......8SmgA5x1

2012-06-26 15:19:17,570 [pool-4-thread-11] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 15:19:17,570 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 15:19:17,570 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 15:19:17,570 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 11: not mark to return session ID to client
2012-06-26 15:19:17,570 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 15:19:17,570 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 15:19:17,570 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 15:19:17,789 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:3571, Mina session ID 11, identified POS ID pos-0002
2012-06-26 15:19:17,789 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 4C 49 00 00 00 30 ..........LI...0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 A6 2F F9 38 2A 79 BB F7 D1 82 13 0E 92 F4 72 20 ./.8*y........r 

2012-06-26 15:19:17,789 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=48 cap=2048: 00 00 00 01 00 00 00 00 00 00 4C 49 00 00 00 30...]
2012-06-26 15:19:17,789 [NioProcessor-3  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 11
2012-06-26 15:19:17,789 [NioProcessor-3  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 15:19:17,789 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 15:19:17,789 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 11
2012-06-26 15:19:17,789 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =48
2012-06-26 15:19:17,789 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 4C 49 00 00 00 30 ..........LI...0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 A6 2F F9 38 2A 79 BB F7 D1 82 13 0E 92 F4 72 20 ./.8*y........r 

2012-06-26 15:19:17,789 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 48, current position: 0
2012-06-26 15:19:17,789 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 15:19:17,789 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x4c49} messageSize:{0x30} sessionKey:{null}
2012-06-26 15:19:17,789 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 32
2012-06-26 15:19:17,789 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=32, in.remaining=32
2012-06-26 15:19:17,789 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 15:19:17,789 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 7
2012-06-26 15:19:17,789 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 7: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageCodec@fe9ad1
2012-06-26 15:19:17,789 [NioProcessor-3  ] [DEBUG] m.p.s.m.c.LoginMessageCodec - login/bind message decode
2012-06-26 15:19:17,789 [NioProcessor-3  ] [TRACE] m.p.s.m.c.LoginMessageCodec - LoginRequestMessage: [cmdId=7, posId=pos-0002, challengeResponse=[-90, 47, -7, 56, 42, 121, -69, -9, -47, -126, 19, 14, -110, -12, 114, 32]]
2012-06-26 15:19:17,789 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 15:19:17,789 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x4c49} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[-90, 47, -7, 56, 42, 121, -69, -9, -47, -126, 19, 14, -110, -12, 114, 32]]
2012-06-26 15:19:17,789 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 15:19:17,789 [NioProcessor-3  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 15:19:17,789 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 15:19:17,789 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 15:19:17,789 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 15:19:17,789 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 15:19:17,789 [NioProcessor-3  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:3571, Mina session ID 11, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0x4c49} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[-90, 47, -7, 56, 42, 121, -69, -9, -47, -126, 19, 14, -110, -12, 114, 32]]
2012-06-26 15:19:17,789 [pool-4-thread-12] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 15:19:17,789 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 15:19:17,789 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 15:19:17,789 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 15:19:17,789 [NioProcessor-3  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 15:19:17,789 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 15:19:17,789 [pool-4-thread-12] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 15:19:17,789 [pool-4-thread-12] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@1aca5e2 obtained for command ID 7
2012-06-26 15:19:17,789 [pool-4-thread-12] [DEBUG] $$EnhancerByGuice$$22e9f5a5 - Handler for command ID 7 is com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@1aca5e2
2012-06-26 15:19:17,789 [pool-4-thread-12] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==bodyMessage=: [cmdId=7, posId=pos-0002, challengeResponse=[-90, 47, -7, 56, 42, 121, -69, -9, -47, -126, 19, 14, -110, -12, 114, 32]]
2012-06-26 15:19:17,789 [pool-4-thread-12] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:null
2012-06-26 15:19:17,789 [pool-4-thread-12] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId
2012-06-26 15:19:17,805 [pool-4-thread-12] [TRACE] .q.m.l.l.i.LoginManagerImpl - Loaded from db: pos.posId:pos-0002, pos.secret:000001, oldChallenge:[56, 83, 109, 103, 65, 53, 120, 49]
2012-06-26 15:19:17,805 [pool-4-thread-12] [DEBUG] .q.m.l.l.i.LoginManagerImpl - disableChallengeCheck =0
2012-06-26 15:19:17,805 [pool-4-thread-12] [TRACE] c.c.q.m.l.c.ChallengeUtil   - checking challenge:response:[-90, 47, -7, 56, 42, 121, -69, -9, -47, -126, 19, 14, -110, -12, 114, 32], posKey:000001, random:[56, 83, 109, 103, 65, 53, 120, 49]
2012-06-26 15:19:17,805 [pool-4-thread-12] [DEBUG] .q.m.l.l.i.LoginManagerImpl - new challenge for POS (POS ID): [116, 70, 111, 89, 89, 78, 114, 117]
2012-06-26 15:19:17,805 [pool-4-thread-12] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==serverKey=:JXTPOS
2012-06-26 15:19:17,805 [pool-4-thread-12] [DEBUG] ThreadSafeClientConnManager - Get connection: HttpRoute[{}->http://localhost:7070], timeout = 0
2012-06-26 15:19:17,805 [pool-4-thread-12] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - [HttpRoute[{}->http://localhost:7070]] total kept alive: 0, total issued: 0, total allocated: 0 out of 20
2012-06-26 15:19:17,805 [pool-4-thread-12] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - No free connections [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 15:19:17,805 [pool-4-thread-12] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Available capacity: 2 out of 2 [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 15:19:17,805 [pool-4-thread-12] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Creating new connection [HttpRoute[{}->http://localhost:7070]]
2012-06-26 15:19:17,805 [pool-4-thread-12] [DEBUG] ultClientConnectionOperator - Connecting to localhost:7070
2012-06-26 15:19:18,866 [pool-4-thread-12] [DEBUG] i.c.DefaultClientConnection - Connection closed
2012-06-26 15:19:18,866 [pool-4-thread-12] [DEBUG] i.c.DefaultClientConnection - Connection shut down
2012-06-26 15:19:18,866 [pool-4-thread-12] [DEBUG] ThreadSafeClientConnManager - Released connection is not reusable.
2012-06-26 15:19:18,866 [pool-4-thread-12] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Releasing connection [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 15:19:18,866 [pool-4-thread-12] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Notifying no-one, there are no waiting threads
2012-06-26 15:19:18,866 [pool-4-thread-12] [ERROR] q.m.p.h.LoginCommandHandler - initGrouponCache fail:com.chinarewards.qqgbvpn.qqapi.exception.ParseXMLException: com.chinarewards.qqgbvpn.qqapi.exception.SendPostTimeOutException: org.apache.http.conn.HttpHostConnectException: Connection to http://localhost:7070 refused
2012-06-26 15:19:18,882 [pool-4-thread-12] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 15:19:18,898 [pool-4-thread-12] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 15:19:18,898 [pool-4-thread-12] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 15:19:18,898 [pool-4-thread-12] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 15:19:18,913 [pool-4-thread-12] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 11
2012-06-26 15:19:18,913 [pool-4-thread-12] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (8)
2012-06-26 15:19:18,913 [pool-4-thread-12] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageResponseCodec@1cb4cae
2012-06-26 15:19:18,913 [pool-4-thread-12] [DEBUG] c.LoginMessageResponseCodec - login/bind message encode
2012-06-26 15:19:18,913 [pool-4-thread-12] [TRACE] c.LoginMessageResponseCodec - LoginResponseMessage: [cmdId=8, result=0, challenge=[116, 70, 111, 89, 89, 78, 114, 117]]
2012-06-26 15:19:18,913 [pool-4-thread-12] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0x5075
2012-06-26 15:19:18,913 [pool-4-thread-12] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 15:19:18,913 [pool-4-thread-12] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 50 75 00 00 00 1E ..........Pu....
00000010 00 00 00 08 00 00 74 46 6F 59 59 4E 72 75       ......tFoYYNru

2012-06-26 15:19:18,913 [pool-4-thread-12] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 15:19:18,913 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 15:19:18,913 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 15:19:18,913 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 11: not mark to return session ID to client
2012-06-26 15:19:18,913 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 15:19:18,913 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 15:19:18,913 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 15:19:18,913 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:3571, Mina session ID 11, identified POS ID pos-0002
2012-06-26 15:19:18,913 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 41 of 41 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 3A 62 00 00 00 29 ..........:b...)
00000010 00 00 00 CB 00 0B 31 31 31 31 31 31 31 31 31 31 ......1111111111
00000020 31 00 06 33 36 32 2E 33 33                      1..362.33

2012-06-26 15:19:18,913 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=41 cap=1024: 00 00 00 10 00 00 00 00 00 00 3A 62 00 00 00 29...]
2012-06-26 15:19:18,913 [NioProcessor-3  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 11
2012-06-26 15:19:18,913 [NioProcessor-3  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 15:19:18,913 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 15:19:18,913 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 11
2012-06-26 15:19:18,913 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =41
2012-06-26 15:19:18,913 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 41 of 41 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 3A 62 00 00 00 29 ..........:b...)
00000010 00 00 00 CB 00 0B 31 31 31 31 31 31 31 31 31 31 ......1111111111
00000020 31 00 06 33 36 32 2E 33 33                      1..362.33

2012-06-26 15:19:18,913 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 41, current position: 0
2012-06-26 15:19:18,913 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 15:19:18,913 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0x3a62} messageSize:{0x29} sessionKey:{null}
2012-06-26 15:19:18,913 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 25
2012-06-26 15:19:18,913 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=25, in.remaining=25
2012-06-26 15:19:18,913 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 15:19:18,913 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 203
2012-06-26 15:19:18,913 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 203: com.chinarewards.qqadidas.main.protocol.socket.mina.codec.RightForMessageCodec@176ee6
2012-06-26 15:19:18,913 [NioProcessor-3  ] [DEBUG] .s.m.c.RightForMessageCodec - right for request message decode
2012-06-26 15:19:18,913 [NioProcessor-3  ] [DEBUG] .s.m.c.RightForMessageCodec - in.remaining()=25
2012-06-26 15:19:18,913 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 15:19:18,913 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0x3a62} messageSize:{0x29} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.RightForRequestMessage@71d29a
2012-06-26 15:19:18,913 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 15:19:18,913 [NioProcessor-3  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 15:19:18,913 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 15:19:18,913 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 15:19:18,913 [NioProcessor-3  ] [DEBUG] c.c.q.m.p.f.LoginFilter     - isLogin=true
2012-06-26 15:19:18,913 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 15:19:18,913 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 15:19:18,913 [NioProcessor-3  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:3571, Mina session ID 11, identified POS ID pos-0002, message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0x3a62} messageSize:{0x29} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.RightForRequestMessage@71d29a
2012-06-26 15:19:18,913 [pool-4-thread-13] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 15:19:18,913 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 15:19:18,913 [Finalizer       ] [DEBUG] ThreadSafeClientConnManager - Shutting down
2012-06-26 15:19:18,913 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 15:19:18,913 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 15:19:18,913 [NioProcessor-3  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 15:19:18,913 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 15:19:18,913 [pool-4-thread-13] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 15:19:18,913 [pool-4-thread-13] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqadidas.main.protocol.handler.RightForCommandHandler@11b99c4 obtained for command ID 203
2012-06-26 15:19:18,913 [pool-4-thread-13] [DEBUG] $$EnhancerByGuice$$22e9f5a5 - Handler for command ID 203 is com.chinarewards.qqadidas.main.protocol.handler.RightForCommandHandler@11b99c4
2012-06-26 15:19:18,913 [pool-4-thread-13] [DEBUG] .p.h.RightForCommandHandler - RightForCommandHandler======execute==bodyMessage=: com.chinarewards.qqadidas.main.protocol.cmd.RightForRequestMessage@71d29a
2012-06-26 15:19:18,913 [pool-4-thread-13] [DEBUG] .p.h.RightForCommandHandler - right for cdkey is: 11111111111
2012-06-26 15:19:18,913 [pool-4-thread-13] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 15:19:18,929 [pool-4-thread-13] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 15:19:18,944 [pool-4-thread-13] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 15:19:18,944 [pool-4-thread-13] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 15:19:18,944 [pool-4-thread-13] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 11
2012-06-26 15:19:18,944 [pool-4-thread-13] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (204)
2012-06-26 15:19:18,944 [pool-4-thread-13] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqadidas.main.protocol.socket.mina.codec.RightForResponseMessageCodec@ff0239
2012-06-26 15:19:18,944 [pool-4-thread-13] [DEBUG] ightForResponseMessageCodec - right for response message encode
2012-06-26 15:19:18,944 [pool-4-thread-13] [DEBUG] ightForResponseMessageCodec - right for response message encode resultByte length: 48
2012-06-26 15:19:18,944 [pool-4-thread-13] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0x495a
2012-06-26 15:19:18,944 [pool-4-thread-13] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 15:19:18,944 [pool-4-thread-13] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 64 of 64 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 49 5A 00 00 00 40 ..........IZ...@
00000010 00 00 00 CC 00 00 00 00 07 DC 06 1A 0F 13 12 03 ................
00000020 91 01 E0 00 08 BB F1 C8 A1 D3 C5 BB DD 00 11 BD ................
00000030 BB D2 D7 CD EA B3 C9 0A B7 B5 BB B9 35 30 D4 AA ............50..

2012-06-26 15:19:18,944 [pool-4-thread-13] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 15:19:18,944 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 15:19:18,944 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 15:19:18,944 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 11: not mark to return session ID to client
2012-06-26 15:19:18,944 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 15:19:18,944 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 15:19:18,944 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 15:19:18,944 [NioProcessor-3  ] [INFO ] o.a.m.f.l.LoggingFilter     - CLOSED
2012-06-26 15:19:18,944 [NioProcessor-3  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 15:19:26,534 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:19:26,534 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:19:26,534 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 15:19:26,534 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 15:19:26,534 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:19:36,543 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:19:36,543 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:19:36,543 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 15:19:36,543 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 15:19:36,543 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:19:46,553 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:19:46,553 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:19:46,553 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 15:19:46,553 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 15:19:46,553 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:19:56,562 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:19:56,562 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:19:56,562 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 15:19:56,562 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 15:19:56,562 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:20:06,587 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:20:06,587 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:20:06,587 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 15:20:06,587 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 15:20:06,587 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:20:16,597 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:20:16,597 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:20:16,597 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 15:20:16,597 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 15:20:16,597 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:20:26,606 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:20:26,606 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:20:26,606 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 15:20:26,606 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 15:20:26,606 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:20:36,632 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:20:36,632 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:20:36,632 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 15:20:36,632 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 15:20:36,632 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:21:06,473 [main            ] [INFO ] c.c.q.m.BootStrap           - Home directory: D:\posnetv2
2012-06-26 15:21:06,488 [main            ] [DEBUG] c.c.q.c.ConfigReader        - Home directory is set to D:\posnetv2
2012-06-26 15:21:06,488 [main            ] [DEBUG] c.c.q.c.ConfigReader        - Configuration subdirectory is set to conf
2012-06-26 15:21:06,488 [main            ] [DEBUG] c.c.q.c.ConfigReader        - Configuration directory is set to D:\posnetv2\conf
2012-06-26 15:21:06,488 [main            ] [DEBUG] c.c.q.c.ConfigReader        - Config file: D:\posnetv2\conf\posnet.ini
2012-06-26 15:21:06,488 [main            ] [DEBUG] c.c.q.c.ConfigReader        - Reading configuration file D:\posnetv2\conf\posnet.ini
2012-06-26 15:21:06,488 [main            ] [DEBUG] c.c.q.c.ConfigReader        - - D:\posnetv2\conf\posnet.ini is an .ini file, load using PropertiesConfiguration.
2012-06-26 15:21:06,520 [main            ] [DEBUG] c.c.PropertiesConfiguration - FileName set to posnet.ini
2012-06-26 15:21:06,520 [main            ] [DEBUG] c.c.PropertiesConfiguration - Base path set to D:\posnetv2\conf
2012-06-26 15:21:06,520 [main            ] [DEBUG] o.a.c.c.ConfigurationUtils  - ConfigurationUtils.locate(): base is D:\posnetv2\conf, name is posnet.ini
2012-06-26 15:21:06,520 [main            ] [DEBUG] o.a.c.c.DefaultFileSystem   - Could not locate file posnet.ini at D:\posnetv2\conf: unknown protocol: d
2012-06-26 15:21:06,520 [main            ] [DEBUG] o.a.c.c.ConfigurationUtils  - Loading configuration from the path D:\posnetv2\conf\posnet.ini
2012-06-26 15:21:06,551 [main            ] [DEBUG] o.a.c.c.ConfigurationUtils  - ConfigurationUtils.locate(): base is D:\posnetv2\conf, name is dispatcher.ini
2012-06-26 15:21:06,551 [main            ] [DEBUG] o.a.c.c.DefaultFileSystem   - Could not locate file dispatcher.ini at D:\posnetv2\conf: unknown protocol: d
2012-06-26 15:21:06,551 [main            ] [DEBUG] o.a.c.c.ConfigurationUtils  - Loading configuration from the path D:\posnetv2\conf\dispatcher.ini
2012-06-26 15:21:06,566 [main            ] [DEBUG] c.c.q.m.BootStrap           - System configuration:
2012-06-26 15:21:06,566 [main            ] [DEBUG] c.c.q.m.BootStrap           - - server.port: 1234
2012-06-26 15:21:06,566 [main            ] [DEBUG] c.c.q.m.BootStrap           - - server.client_max_idle_time: 20
2012-06-26 15:21:06,566 [main            ] [DEBUG] c.c.q.m.BootStrap           - - server.session.timeout_check_interval: 10
2012-06-26 15:21:06,566 [main            ] [DEBUG] c.c.q.m.BootStrap           - - server.session.client_timeout: 210
2012-06-26 15:21:06,566 [main            ] [DEBUG] c.c.q.m.BootStrap           - - server.disable_checksum_check: 0
2012-06-26 15:21:06,566 [main            ] [DEBUG] c.c.q.m.BootStrap           - - server.service_handler.thread_pool_size: 20
2012-06-26 15:21:06,566 [main            ] [DEBUG] c.c.q.m.BootStrap           - - firmware.location: D:\posnetv2\posnet2-mgmtui\firmware
2012-06-26 15:21:06,566 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.hibernate.show_sql: [true, true]
2012-06-26 15:21:06,566 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.hibernate.hbm2ddl.auto: false
2012-06-26 15:21:06,566 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.ext.hibernate.dialect: org.hibernate.dialect.MySQL5Dialect
2012-06-26 15:21:06,566 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.user: root
2012-06-26 15:21:06,566 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.password: 167118
2012-06-26 15:21:06,566 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.driver: com.mysql.jdbc.Driver
2012-06-26 15:21:06,566 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.url: jdbc:mysql://localhost/posnet?autoReconnect=true&useUnicode=true&characterEncoding=UTF-8
2012-06-26 15:21:06,566 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.ext.hibernate.connection.provider_class: org.hibernate.connection.C3P0ConnectionProvider
2012-06-26 15:21:06,566 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.ext.hibernate.c3p0.minPoolSize: 5
2012-06-26 15:21:06,566 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.ext.hibernate.c3p0.maxPoolSize: 20
2012-06-26 15:21:06,566 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.ext.hibernate.c3p0.maxIdleTime: 1800
2012-06-26 15:21:06,566 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.ext.hibernate.c3p0.testConnectionOnCheckout: true
2012-06-26 15:21:06,566 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.ext.hibernate.c3p0.maxStatements: 50
2012-06-26 15:21:06,566 [main            ] [DEBUG] c.c.q.m.BootStrap           - - db.ext.hibernate.c3p0.maxStatementsPerConnection: 10
2012-06-26 15:21:06,566 [main            ] [DEBUG] c.c.q.m.BootStrap           - - qq.groupbuy.url.groupBuyingSearchGroupon: http://localhost:7070/testdata/TuanSearchListVO.xml
2012-06-26 15:21:06,566 [main            ] [DEBUG] c.c.q.m.BootStrap           - - qq.groupbuy.url.groupBuyingValidationUrl: http://localhost:7070/testdata/TuanValidateResultVO.xml
2012-06-26 15:21:06,566 [main            ] [DEBUG] c.c.q.m.BootStrap           - - qq.groupbuy.url.groupBuyingUnbindPosUrl: http://localhost:7070/testdata/TuanUnbindVO.xml
2012-06-26 15:21:06,566 [main            ] [DEBUG] c.c.q.m.BootStrap           - - txserver.key: JXTPOS
2012-06-26 15:21:06,566 [main            ] [DEBUG] c.c.q.m.BootStrap           - - qq.meishi.wsapi.host: localhost:7070
2012-06-26 15:21:06,566 [main            ] [DEBUG] c.c.q.m.BootStrap           - - qq.meishi.wsapi.url: http://localhost:7070/qq-meishi/data
2012-06-26 15:21:06,566 [main            ] [DEBUG] c.c.q.m.BootStrap           - - qq.meishi.wsapi.secretKey: NDA2ZTkwOTExZjlkZDY3ZTIxMTU1OTY0NmVlYzVmY2Q=
2012-06-26 15:21:06,566 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.1.handler: com.chinarewards.qqgbvpn.main.protocol.handler.SearchCommandHandler
2012-06-26 15:21:06,566 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.1.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.SearchBodyMessageCodec
2012-06-26 15:21:06,566 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.2.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.SearchBodyMessageResponseCodec
2012-06-26 15:21:06,566 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.3.handler: com.chinarewards.qqgbvpn.main.protocol.handler.ValidateCommandHandler
2012-06-26 15:21:06,566 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.3.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.ValidateBodyMessageCodec
2012-06-26 15:21:06,566 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.4.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.ValidateBodyMessageResponseCodec
2012-06-26 15:21:06,566 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.5.handler: com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler
2012-06-26 15:21:06,566 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.5.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageCodec
2012-06-26 15:21:06,566 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.6.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageResponseCodec
2012-06-26 15:21:06,566 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.7.handler: com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler
2012-06-26 15:21:06,566 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.7.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageCodec
2012-06-26 15:21:06,566 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.8.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageResponseCodec
2012-06-26 15:21:06,566 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.9.handler: com.chinarewards.qqgbvpn.main.protocol.handler.BindCommandHandler
2012-06-26 15:21:06,566 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.9.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageCodec
2012-06-26 15:21:06,566 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.10.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageResponseCodec
2012-06-26 15:21:06,566 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.11.handler: com.chinarewards.qqgbvpn.main.protocol.handler.ValidationCallbackHandler
2012-06-26 15:21:06,566 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.11.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.ValidationCallbackCodec
2012-06-26 15:21:06,566 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.12.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.ValidationCallbackResponseCodec
2012-06-26 15:21:06,566 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.13.handler: com.chinarewards.qqgbvpn.main.protocol.handler.FirmwareUpgradeRequestCommandHandler
2012-06-26 15:21:06,566 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.13.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.FirmwareRequestMessageCodec
2012-06-26 15:21:06,566 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.14.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.FirmwareResponseMessageCodec
2012-06-26 15:21:06,566 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.15.handler: com.chinarewards.qqgbvpn.main.protocol.handler.GetFirmwareFragmentHandler
2012-06-26 15:21:06,566 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.15.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.GetFirmwareFragmentRequestMessageCodec
2012-06-26 15:21:06,566 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.16.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.GetFirmwareFragmentResponseMessageCodec
2012-06-26 15:21:06,582 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.17.handler: com.chinarewards.qqgbvpn.main.protocol.handler.FirmwareUpDoneHandler
2012-06-26 15:21:06,582 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.17.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.FirmwareUpDoneRequestCodec
2012-06-26 15:21:06,582 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.18.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.FirmwareUpDoneResponseCodec
2012-06-26 15:21:06,582 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.19.handler: com.chinarewards.qqgbvpn.main.protocol.handler.HuaxiaSearchCommandHandler
2012-06-26 15:21:06,582 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.19.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.HuaxiaSearchBodyMessageCodec
2012-06-26 15:21:06,582 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.20.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.HuaxiaSearchBodyMessageResponseCodec
2012-06-26 15:21:06,582 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.21.handler: com.chinarewards.qqgbvpn.main.protocol.handler.HuaxiaConfirmCommandHandler
2012-06-26 15:21:06,582 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.21.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.HuaxiaConfirmBodyMessageCodec
2012-06-26 15:21:06,582 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.22.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.HuaxiaConfirmBodyMessageResponseCodec
2012-06-26 15:21:06,582 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.23.handler: com.chinarewards.qqgbvpn.main.protocol.handler.HuaxiaAckCommandHandler
2012-06-26 15:21:06,582 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.23.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.HuaxiaAckBodyMessageCodec
2012-06-26 15:21:06,582 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.24.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.HuaxiaAckBodyMessageResponseCodec
2012-06-26 15:21:06,582 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.25.handler: com.chinarewards.qqgbvpn.main.protocol.handler.PosEchoCommandHandler
2012-06-26 15:21:06,582 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.25.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.PosEchoCommandRequestMessageCodec
2012-06-26 15:21:06,582 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.26.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.PosEchoCommandResponseMessageCodec
2012-06-26 15:21:06,582 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.27.handler: com.chinarewards.qqgbvpn.main.protocol.handler.ValidateCommandHandler2
2012-06-26 15:21:06,582 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.27.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.ValidateBodyMessageCodec2
2012-06-26 15:21:06,582 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.28.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.ValidateBodyMessageResponseCodec2
2012-06-26 15:21:06,582 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.101.handler: com.chinarewards.qqgbvpn.main.protocol.handler.QQMeishiCommandHandler
2012-06-26 15:21:06,582 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.101.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.QQMeishiBodyMessageCodec
2012-06-26 15:21:06,582 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.102.codec: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.QQMeishiBodyMessageResponseCodec
2012-06-26 15:21:06,582 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.201.handler: com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler
2012-06-26 15:21:06,582 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.201.codec: com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftMessageCodec
2012-06-26 15:21:06,582 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.202.codec: com.chinarewards.qqadidas.main.protocol.socket.mina.codec.ReceiveGiftResponseMessageCodec
2012-06-26 15:21:06,582 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.203.handler: com.chinarewards.qqadidas.main.protocol.handler.RightForCommandHandler
2012-06-26 15:21:06,582 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.203.codec: com.chinarewards.qqadidas.main.protocol.socket.mina.codec.RightForMessageCodec
2012-06-26 15:21:06,582 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.204.codec: com.chinarewards.qqadidas.main.protocol.socket.mina.codec.RightForResponseMessageCodec
2012-06-26 15:21:06,582 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.110.handler: com.chinarewards.timeserver.main.protocol.handler.TimeServerHandler
2012-06-26 15:21:06,582 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.110.codec: com.chinarewards.timeserver.main.protocol.socket.mina.codec.TimeServerMessageCodec
2012-06-26 15:21:06,582 [main            ] [DEBUG] c.c.q.m.BootStrap           - - msg.111.codec: com.chinarewards.timeserver.main.protocol.socket.mina.codec.TimeServerMessageResponseCodec
2012-06-26 15:21:06,582 [main            ] [DEBUG] c.c.q.m.BootStrap           - - qq.vip.adidas.des.secretkey: qqadidas
2012-06-26 15:21:06,582 [main            ] [INFO ] c.c.q.m.BootStrap           - Bootstrapping...
2012-06-26 15:21:06,582 [main            ] [INFO ] c.c.q.m.BootStrap           - Initializing dependency injection environment...
2012-06-26 15:21:06,613 [main            ] [INFO ] c.c.q.m.BootStrap           - Creating Guice injector. If it is stucked, there is a chance the database is down.
2012-06-26 15:21:06,754 [main            ] [DEBUG] .q.m.p.ServiceHandlerModule - Finished configuration
2012-06-26 15:21:06,754 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.SearchCommandHandler to Guice
2012-06-26 15:21:06,754 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.QQMeishiCommandHandler to Guice
2012-06-26 15:21:06,754 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.ValidateCommandHandler to Guice
2012-06-26 15:21:06,754 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqadidas.main.protocol.handler.ReceiveGiftCommandHandler to Guice
2012-06-26 15:21:06,754 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler to Guice
2012-06-26 15:21:06,754 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqadidas.main.protocol.handler.RightForCommandHandler to Guice
2012-06-26 15:21:06,754 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler to Guice
2012-06-26 15:21:06,754 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.timeserver.main.protocol.handler.TimeServerHandler to Guice
2012-06-26 15:21:06,754 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.BindCommandHandler to Guice
2012-06-26 15:21:06,754 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.ValidationCallbackHandler to Guice
2012-06-26 15:21:06,754 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.FirmwareUpgradeRequestCommandHandler to Guice
2012-06-26 15:21:06,754 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.GetFirmwareFragmentHandler to Guice
2012-06-26 15:21:06,754 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.FirmwareUpDoneHandler to Guice
2012-06-26 15:21:06,754 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.HuaxiaSearchCommandHandler to Guice
2012-06-26 15:21:06,754 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.HuaxiaConfirmCommandHandler to Guice
2012-06-26 15:21:06,754 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.HuaxiaAckCommandHandler to Guice
2012-06-26 15:21:06,754 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.PosEchoCommandHandler to Guice
2012-06-26 15:21:06,754 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Binding class class com.chinarewards.qqgbvpn.main.protocol.handler.ValidateCommandHandler2 to Guice
2012-06-26 15:21:06,754 [main            ] [DEBUG] g.ServiceHandlerGuiceModule - Configuration completed
2012-06-26 15:21:07,097 [main            ] [INFO ] c.c.q.m.BootStrap           - Bootstrapping completed
2012-06-26 15:21:07,097 [main            ] [DEBUG] dule$ServiceMappingProvider - Returning ServiceMapping
2012-06-26 15:21:07,097 [main            ] [DEBUG] $$EnhancerByGuice$$22e9f5a5 - ServiceHandlerObjectFactory is com.chinarewards.qqgbvpn.main.protocol.guice.GuiceServiceHandlerObjectFactory@77ef83
2012-06-26 15:21:08,440 [main            ] [DEBUG] c.c.q.m.PosServer           - idleTime=20
2012-06-26 15:21:08,503 [main            ] [DEBUG] c.c.q.m.PosServer           -  monitor port =9999
2012-06-26 15:21:08,518 [main            ] [DEBUG] c.c.q.m.PosServer           -  JMXServiceURL =service:jmx:rmi:///jndi/rmi://localhost:9999/jmxrmi
2012-06-26 15:21:08,534 [main            ] [INFO ] c.c.q.m.PosServer           - Client idle timeout set to 20 seconds
2012-06-26 15:21:08,534 [main            ] [DEBUG] c.c.q.m.PosServer           - config server.session.timeout_check_interval=10
2012-06-26 15:21:08,534 [main            ] [INFO ] c.c.q.m.PosServer           - Server running, listening on 1234
2012-06-26 15:21:08,550 [main            ] [INFO ] c.c.q.m.r.RMIRegistry       - Start listener rmi server, port=9999
2012-06-26 15:21:09,658 [main            ] [INFO ] c.c.q.m.r.RMIRegistry       - no existing RMI registry found on port 9999, creating...
2012-06-26 15:21:09,658 [main            ] [INFO ] c.c.q.m.r.RMIRegistry       - RMI server create success.
2012-06-26 15:21:15,249 [NioProcessor-2  ] [INFO ] c.c.q.m.p.f.LoggingFilter   - incoming connection from remote address: 127.0.0.1:3596, Mina session ID: 1
2012-06-26 15:21:15,249 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - Currently managed session count: 1
2012-06-26 15:21:15,249 [NioProcessor-2  ] [INFO ] o.a.m.f.l.LoggingFilter     - CREATED
2012-06-26 15:21:15,249 [NioProcessor-2  ] [INFO ] o.a.m.f.l.LoggingFilter     - OPENED
2012-06-26 15:21:15,249 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:3596, Mina session ID 1, identified POS ID null
2012-06-26 15:21:15,249 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 15:21:15,296 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=32 cap=2048: 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20...]
2012-06-26 15:21:15,296 [NioProcessor-2  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 1
2012-06-26 15:21:15,296 [NioProcessor-2  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 15:21:15,296 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 15:21:15,296 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 1
2012-06-26 15:21:15,296 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =32
2012-06-26 15:21:15,296 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 15:21:15,296 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 32, current position: 0
2012-06-26 15:21:15,296 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 15:21:15,296 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}
2012-06-26 15:21:15,296 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 16
2012-06-26 15:21:15,296 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=16, in.remaining=16
2012-06-26 15:21:15,296 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 15:21:15,296 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 5
2012-06-26 15:21:15,296 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 5: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageCodec@8d5aad
2012-06-26 15:21:15,296 [NioProcessor-2  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - init request message decode
2012-06-26 15:21:15,296 [NioProcessor-2  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - in.remaining()=16
2012-06-26 15:21:15,296 [NioProcessor-2  ] [TRACE] .m.p.s.m.c.InitMessageCodec - InitRequestMessage: [cmdId=5, posId=pos-0002]
2012-06-26 15:21:15,296 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 15:21:15,296 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 15:21:15,296 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 15:21:15,296 [NioProcessor-2  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 15:21:15,296 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 15:21:15,296 [NioProcessor-2  ] [DEBUG] p.f.SessionKeyMessageFilter - Mina session ID 1: created session key 341561ad8da14de39b642c0be6832df6
2012-06-26 15:21:15,296 [NioProcessor-2  ] [DEBUG] p.f.SessionKeyMessageFilter - creating session for mina session ID 1 using session ID 341561ad8da14de39b642c0be6832df6
2012-06-26 15:21:15,296 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 15:21:15,296 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 15:21:15,296 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 15:21:15,296 [NioProcessor-2  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:3596, Mina session ID 1, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 15:21:15,311 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 15:21:15,311 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 15:21:15,311 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 15:21:15,311 [NioProcessor-2  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 15:21:15,311 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 15:21:15,311 [pool-4-thread-1 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 15:21:15,358 [pool-4-thread-1 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 15:21:15,358 [pool-4-thread-1 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@1d144a4 obtained for command ID 5
2012-06-26 15:21:15,358 [pool-4-thread-1 ] [DEBUG] $$EnhancerByGuice$$22e9f5a5 - Handler for command ID 5 is com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@1d144a4
2012-06-26 15:21:15,358 [pool-4-thread-1 ] [DEBUG] .q.m.p.h.InitCommandHandler - InitCommandHandler======execute==bodyMessage=:  [cmdId=5, posId=pos-0002]
2012-06-26 15:21:15,358 [pool-4-thread-1 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - InitResponse() invoke
2012-06-26 15:21:15,358 [pool-4-thread-1 ] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:ALLOWED
2012-06-26 15:21:15,358 [pool-4-thread-1 ] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId AND p.ostatus = :ostatus
2012-06-26 15:21:15,545 [pool-4-thread-1 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - POS ID:pos-0002, init challenge saved - [75, 99, 48, 99, 53, 50, 56, 73]
2012-06-26 15:21:15,764 [pool-4-thread-1 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 15:21:15,811 [pool-4-thread-1 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 15:21:15,811 [pool-4-thread-1 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 15:21:15,811 [pool-4-thread-1 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 15:21:15,811 [pool-4-thread-1 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 1
2012-06-26 15:21:15,811 [pool-4-thread-1 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (6)
2012-06-26 15:21:15,811 [pool-4-thread-1 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageResponseCodec@1064a6d
2012-06-26 15:21:15,811 [pool-4-thread-1 ] [DEBUG] .c.InitMessageResponseCodec - init response message encode
2012-06-26 15:21:15,811 [pool-4-thread-1 ] [TRACE] .c.InitMessageResponseCodec - InitResponseMessage: [cmdId=6, result=0, challenge=[75, 99, 48, 99, 53, 50, 56, 73]]
2012-06-26 15:21:15,811 [pool-4-thread-1 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0x1699
2012-06-26 15:21:15,811 [pool-4-thread-1 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 15:21:15,811 [pool-4-thread-1 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 16 99 00 00 00 1E ................
00000010 00 00 00 06 00 00 4B 63 30 63 35 32 38 49       ......Kc0c528I

2012-06-26 15:21:15,811 [pool-4-thread-1 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 15:21:15,811 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 15:21:15,811 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 15:21:15,811 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 1: not mark to return session ID to client
2012-06-26 15:21:15,811 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 15:21:15,811 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 15:21:15,811 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 15:21:16,029 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:3596, Mina session ID 1, identified POS ID pos-0002
2012-06-26 15:21:16,029 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 A1 EA 00 00 00 30 ...............0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 CE 46 C4 31 7C 89 FB B1 E8 F4 18 D6 C7 CA 45 94 .F.1|.........E.

2012-06-26 15:21:16,029 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=48 cap=2048: 00 00 00 01 00 00 00 00 00 00 A1 EA 00 00 00 30...]
2012-06-26 15:21:16,029 [NioProcessor-2  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 1
2012-06-26 15:21:16,029 [NioProcessor-2  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 15:21:16,029 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 15:21:16,029 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 1
2012-06-26 15:21:16,029 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =48
2012-06-26 15:21:16,029 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 A1 EA 00 00 00 30 ...............0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 CE 46 C4 31 7C 89 FB B1 E8 F4 18 D6 C7 CA 45 94 .F.1|.........E.

2012-06-26 15:21:16,029 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 48, current position: 0
2012-06-26 15:21:16,029 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 15:21:16,029 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xa1ea} messageSize:{0x30} sessionKey:{null}
2012-06-26 15:21:16,029 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 32
2012-06-26 15:21:16,029 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=32, in.remaining=32
2012-06-26 15:21:16,029 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 15:21:16,029 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 7
2012-06-26 15:21:16,029 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 7: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageCodec@17f1d92
2012-06-26 15:21:16,029 [NioProcessor-2  ] [DEBUG] m.p.s.m.c.LoginMessageCodec - login/bind message decode
2012-06-26 15:21:16,029 [NioProcessor-2  ] [TRACE] m.p.s.m.c.LoginMessageCodec - LoginRequestMessage: [cmdId=7, posId=pos-0002, challengeResponse=[-50, 70, -60, 49, 124, -119, -5, -79, -24, -12, 24, -42, -57, -54, 69, -108]]
2012-06-26 15:21:16,029 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 15:21:16,029 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xa1ea} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[-50, 70, -60, 49, 124, -119, -5, -79, -24, -12, 24, -42, -57, -54, 69, -108]]
2012-06-26 15:21:16,029 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 15:21:16,029 [NioProcessor-2  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 15:21:16,029 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 15:21:16,029 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 15:21:16,029 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 15:21:16,029 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 15:21:16,029 [NioProcessor-2  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:3596, Mina session ID 1, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xa1ea} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[-50, 70, -60, 49, 124, -119, -5, -79, -24, -12, 24, -42, -57, -54, 69, -108]]
2012-06-26 15:21:16,029 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 15:21:16,029 [pool-4-thread-2 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 15:21:16,029 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 15:21:16,029 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 15:21:16,029 [NioProcessor-2  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 15:21:16,029 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 15:21:16,029 [pool-4-thread-2 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 15:21:16,029 [pool-4-thread-2 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@1bb205a obtained for command ID 7
2012-06-26 15:21:16,029 [pool-4-thread-2 ] [DEBUG] $$EnhancerByGuice$$22e9f5a5 - Handler for command ID 7 is com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@1bb205a
2012-06-26 15:21:16,029 [pool-4-thread-2 ] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==bodyMessage=: [cmdId=7, posId=pos-0002, challengeResponse=[-50, 70, -60, 49, 124, -119, -5, -79, -24, -12, 24, -42, -57, -54, 69, -108]]
2012-06-26 15:21:16,045 [pool-4-thread-2 ] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:null
2012-06-26 15:21:16,045 [pool-4-thread-2 ] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId
2012-06-26 15:21:16,045 [pool-4-thread-2 ] [TRACE] .q.m.l.l.i.LoginManagerImpl - Loaded from db: pos.posId:pos-0002, pos.secret:000001, oldChallenge:[75, 99, 48, 99, 53, 50, 56, 73]
2012-06-26 15:21:16,045 [pool-4-thread-2 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - disableChallengeCheck =0
2012-06-26 15:21:16,045 [pool-4-thread-2 ] [TRACE] c.c.q.m.l.c.ChallengeUtil   - checking challenge:response:[-50, 70, -60, 49, 124, -119, -5, -79, -24, -12, 24, -42, -57, -54, 69, -108], posKey:000001, random:[75, 99, 48, 99, 53, 50, 56, 73]
2012-06-26 15:21:16,279 [pool-4-thread-2 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - new challenge for POS (POS ID): [82, 74, 121, 78, 104, 120, 119, 75]
2012-06-26 15:21:16,279 [pool-4-thread-2 ] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==serverKey=:JXTPOS
2012-06-26 15:21:16,451 [pool-4-thread-2 ] [DEBUG] ThreadSafeClientConnManager - Get connection: HttpRoute[{}->http://localhost:7070], timeout = 0
2012-06-26 15:21:16,451 [pool-4-thread-2 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - [HttpRoute[{}->http://localhost:7070]] total kept alive: 0, total issued: 0, total allocated: 0 out of 20
2012-06-26 15:21:16,451 [pool-4-thread-2 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - No free connections [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 15:21:16,451 [pool-4-thread-2 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Available capacity: 2 out of 2 [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 15:21:16,451 [pool-4-thread-2 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Creating new connection [HttpRoute[{}->http://localhost:7070]]
2012-06-26 15:21:16,451 [pool-4-thread-2 ] [DEBUG] ultClientConnectionOperator - Connecting to localhost:7070
2012-06-26 15:21:17,435 [pool-4-thread-2 ] [DEBUG] i.c.DefaultClientConnection - Connection closed
2012-06-26 15:21:17,435 [pool-4-thread-2 ] [DEBUG] i.c.DefaultClientConnection - Connection shut down
2012-06-26 15:21:17,435 [pool-4-thread-2 ] [DEBUG] ThreadSafeClientConnManager - Released connection is not reusable.
2012-06-26 15:21:17,435 [pool-4-thread-2 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Releasing connection [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 15:21:17,435 [pool-4-thread-2 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Notifying no-one, there are no waiting threads
2012-06-26 15:21:17,435 [pool-4-thread-2 ] [ERROR] q.m.p.h.LoginCommandHandler - initGrouponCache fail:com.chinarewards.qqgbvpn.qqapi.exception.ParseXMLException: com.chinarewards.qqgbvpn.qqapi.exception.SendPostTimeOutException: org.apache.http.conn.HttpHostConnectException: Connection to http://localhost:7070 refused
2012-06-26 15:21:17,435 [pool-4-thread-2 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 15:21:17,497 [pool-4-thread-2 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 15:21:17,497 [pool-4-thread-2 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 15:21:17,497 [pool-4-thread-2 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 15:21:17,497 [pool-4-thread-2 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 1
2012-06-26 15:21:17,497 [pool-4-thread-2 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (8)
2012-06-26 15:21:17,497 [pool-4-thread-2 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageResponseCodec@81933a
2012-06-26 15:21:17,497 [pool-4-thread-2 ] [DEBUG] c.LoginMessageResponseCodec - login/bind message encode
2012-06-26 15:21:17,497 [pool-4-thread-2 ] [TRACE] c.LoginMessageResponseCodec - LoginResponseMessage: [cmdId=8, result=0, challenge=[82, 74, 121, 78, 104, 120, 119, 75]]
2012-06-26 15:21:17,497 [pool-4-thread-2 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0x547c
2012-06-26 15:21:17,497 [pool-4-thread-2 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 15:21:17,513 [pool-4-thread-2 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 54 7C 00 00 00 1E ..........T|....
00000010 00 00 00 08 00 00 52 4A 79 4E 68 78 77 4B       ......RJyNhxwK

2012-06-26 15:21:17,513 [pool-4-thread-2 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 15:21:17,513 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 15:21:17,513 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 15:21:17,513 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 1: not mark to return session ID to client
2012-06-26 15:21:17,513 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 15:21:17,513 [Finalizer       ] [DEBUG] ThreadSafeClientConnManager - Shutting down
2012-06-26 15:21:17,513 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 15:21:17,513 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 15:21:17,513 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:3596, Mina session ID 1, identified POS ID pos-0002
2012-06-26 15:21:17,513 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 41 of 41 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 3A 62 00 00 00 29 ..........:b...)
00000010 00 00 00 CB 00 0B 31 31 31 31 31 31 31 31 31 31 ......1111111111
00000020 31 00 06 33 36 32 2E 33 33                      1..362.33

2012-06-26 15:21:17,513 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=41 cap=1024: 00 00 00 10 00 00 00 00 00 00 3A 62 00 00 00 29...]
2012-06-26 15:21:17,513 [NioProcessor-2  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 1
2012-06-26 15:21:17,513 [NioProcessor-2  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 15:21:17,513 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 15:21:17,513 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 1
2012-06-26 15:21:17,513 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =41
2012-06-26 15:21:17,513 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 41 of 41 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 3A 62 00 00 00 29 ..........:b...)
00000010 00 00 00 CB 00 0B 31 31 31 31 31 31 31 31 31 31 ......1111111111
00000020 31 00 06 33 36 32 2E 33 33                      1..362.33

2012-06-26 15:21:17,513 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 41, current position: 0
2012-06-26 15:21:17,513 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 15:21:17,513 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0x3a62} messageSize:{0x29} sessionKey:{null}
2012-06-26 15:21:17,513 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 25
2012-06-26 15:21:17,513 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=25, in.remaining=25
2012-06-26 15:21:17,513 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 15:21:17,513 [NioProcessor-2  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 203
2012-06-26 15:21:17,513 [NioProcessor-2  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 203: com.chinarewards.qqadidas.main.protocol.socket.mina.codec.RightForMessageCodec@37504d
2012-06-26 15:21:17,513 [NioProcessor-2  ] [DEBUG] .s.m.c.RightForMessageCodec - right for request message decode
2012-06-26 15:21:17,513 [NioProcessor-2  ] [DEBUG] .s.m.c.RightForMessageCodec - in.remaining()=25
2012-06-26 15:21:17,513 [NioProcessor-2  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 15:21:17,513 [NioProcessor-2  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0x3a62} messageSize:{0x29} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.RightForRequestMessage@9b86ea
2012-06-26 15:21:17,513 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 15:21:17,513 [NioProcessor-2  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 15:21:17,513 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 15:21:17,513 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 15:21:17,513 [NioProcessor-2  ] [DEBUG] c.c.q.m.p.f.LoginFilter     - isLogin=true
2012-06-26 15:21:17,513 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 15:21:17,513 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 15:21:17,513 [NioProcessor-2  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:3596, Mina session ID 1, identified POS ID pos-0002, message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0x3a62} messageSize:{0x29} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.RightForRequestMessage@9b86ea
2012-06-26 15:21:17,513 [NioProcessor-2  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 15:21:17,513 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 15:21:17,513 [NioProcessor-2  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 15:21:17,513 [pool-4-thread-3 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 15:21:17,513 [NioProcessor-2  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 15:21:17,513 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 15:21:17,513 [pool-4-thread-3 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 15:21:17,513 [pool-4-thread-3 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqadidas.main.protocol.handler.RightForCommandHandler@17574b9 obtained for command ID 203
2012-06-26 15:21:17,513 [pool-4-thread-3 ] [DEBUG] $$EnhancerByGuice$$22e9f5a5 - Handler for command ID 203 is com.chinarewards.qqadidas.main.protocol.handler.RightForCommandHandler@17574b9
2012-06-26 15:21:17,513 [pool-4-thread-3 ] [DEBUG] .p.h.RightForCommandHandler - RightForCommandHandler======execute==bodyMessage=: com.chinarewards.qqadidas.main.protocol.cmd.RightForRequestMessage@9b86ea
2012-06-26 15:21:17,513 [pool-4-thread-3 ] [DEBUG] .p.h.RightForCommandHandler - right for cdkey is: 11111111111
2012-06-26 15:21:17,544 [pool-4-thread-3 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 15:21:17,544 [pool-4-thread-3 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 15:21:17,544 [pool-4-thread-3 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 15:21:17,544 [pool-4-thread-3 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 15:21:17,544 [pool-4-thread-3 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 1
2012-06-26 15:21:17,544 [pool-4-thread-3 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (204)
2012-06-26 15:21:17,544 [pool-4-thread-3 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqadidas.main.protocol.socket.mina.codec.RightForResponseMessageCodec@10699ea
2012-06-26 15:21:17,544 [pool-4-thread-3 ] [DEBUG] ightForResponseMessageCodec - right for response message encode
2012-06-26 15:21:17,544 [pool-4-thread-3 ] [DEBUG] ightForResponseMessageCodec - right for response message encode resultByte length: 45
2012-06-26 15:21:17,544 [pool-4-thread-3 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0x4446
2012-06-26 15:21:17,544 [pool-4-thread-3 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 15:21:17,544 [pool-4-thread-3 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 61 of 61 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 44 46 00 00 00 3D ..........DF...=
00000010 00 00 00 CC 00 00 00 01 07 DC 06 1A 0F 15 11 02 ................
00000020 01 01 E0 00 08 BB F1 C8 A1 D3 C5 BB DD 00 0E D3 ................
00000030 C5 BB DD D2 D1 C8 AB B2 BF CA B9 D3 C3          .............

2012-06-26 15:21:17,544 [pool-4-thread-3 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 15:21:17,544 [NioProcessor-2  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 15:21:17,544 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 15:21:17,544 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 1: not mark to return session ID to client
2012-06-26 15:21:17,544 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 15:21:17,544 [NioProcessor-2  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 15:21:17,544 [NioProcessor-2  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 15:21:17,544 [NioProcessor-2  ] [INFO ] o.a.m.f.l.LoggingFilter     - CLOSED
2012-06-26 15:21:17,544 [NioProcessor-2  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 15:21:18,669 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:21:18,669 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:21:18,669 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 15:21:18,669 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 15:21:18,669 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:21:28,662 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:21:28,662 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:21:28,662 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 15:21:28,662 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 15:21:28,662 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:21:38,656 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:21:38,656 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:21:38,656 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 15:21:38,656 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 15:21:38,656 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:21:48,650 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:21:48,650 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:21:48,650 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 15:21:48,650 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 15:21:48,650 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:21:58,644 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:21:58,644 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:21:58,644 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 15:21:58,644 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 15:21:58,644 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:22:08,638 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:22:08,638 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:22:08,638 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 15:22:08,638 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 15:22:08,638 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:22:18,632 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:22:18,632 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:22:18,632 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 15:22:18,632 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 15:22:18,632 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:22:28,626 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:22:28,626 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:22:28,626 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 15:22:28,626 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 15:22:28,626 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:22:38,635 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:22:38,635 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:22:38,635 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 15:22:38,635 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 15:22:38,635 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:22:48,629 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:22:48,629 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:22:48,629 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 15:22:48,629 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 15:22:48,629 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:22:58,623 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:22:58,623 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:22:58,623 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 15:22:58,623 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 15:22:58,623 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:23:08,633 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:23:08,633 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:23:08,633 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 15:23:08,633 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 15:23:08,633 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:23:18,627 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:23:18,627 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:23:18,627 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 15:23:18,627 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 15:23:18,627 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:23:28,621 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:23:28,621 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:23:28,621 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 15:23:28,621 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 15:23:28,621 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:23:38,615 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:23:38,615 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:23:38,615 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 15:23:38,615 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 15:23:38,615 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:23:48,624 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:23:48,624 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:23:48,624 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 15:23:48,624 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 15:23:48,624 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:23:52,575 [NioProcessor-3  ] [INFO ] c.c.q.m.p.f.LoggingFilter   - incoming connection from remote address: 127.0.0.1:3602, Mina session ID: 2
2012-06-26 15:23:52,575 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - Currently managed session count: 1
2012-06-26 15:23:52,575 [NioProcessor-3  ] [INFO ] o.a.m.f.l.LoggingFilter     - CREATED
2012-06-26 15:23:52,575 [NioProcessor-3  ] [INFO ] o.a.m.f.l.LoggingFilter     - OPENED
2012-06-26 15:23:52,575 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:3602, Mina session ID 2, identified POS ID null
2012-06-26 15:23:52,575 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 15:23:52,590 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=32 cap=2048: 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20...]
2012-06-26 15:23:52,606 [NioProcessor-3  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 2
2012-06-26 15:23:52,606 [NioProcessor-3  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 15:23:52,606 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 15:23:52,606 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 2
2012-06-26 15:23:52,606 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =32
2012-06-26 15:23:52,606 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 32 of 32 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 BB DA 00 00 00 20 ............... 
00000010 00 00 00 05 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....

2012-06-26 15:23:52,606 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 32, current position: 0
2012-06-26 15:23:52,606 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 15:23:52,606 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}
2012-06-26 15:23:52,606 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 16
2012-06-26 15:23:52,606 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=16, in.remaining=16
2012-06-26 15:23:52,606 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 15:23:52,606 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 5
2012-06-26 15:23:52,606 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 5: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageCodec@7d2796
2012-06-26 15:23:52,606 [NioProcessor-3  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - init request message decode
2012-06-26 15:23:52,606 [NioProcessor-3  ] [DEBUG] .m.p.s.m.c.InitMessageCodec - in.remaining()=16
2012-06-26 15:23:52,606 [NioProcessor-3  ] [TRACE] .m.p.s.m.c.InitMessageCodec - InitRequestMessage: [cmdId=5, posId=pos-0002]
2012-06-26 15:23:52,606 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 15:23:52,606 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 15:23:52,606 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 15:23:52,606 [NioProcessor-3  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 15:23:52,606 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 15:23:52,606 [NioProcessor-3  ] [DEBUG] p.f.SessionKeyMessageFilter - Mina session ID 2: created session key 9e1a10c6d74548e68a32365bc0830213
2012-06-26 15:23:52,606 [NioProcessor-3  ] [DEBUG] p.f.SessionKeyMessageFilter - creating session for mina session ID 2 using session ID 9e1a10c6d74548e68a32365bc0830213
2012-06-26 15:23:52,606 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 15:23:52,606 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 15:23:52,606 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 15:23:52,606 [NioProcessor-3  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:3602, Mina session ID 2, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xbbda} messageSize:{0x20} sessionKey:{null}, body= [cmdId=5, posId=pos-0002]
2012-06-26 15:23:52,606 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 15:23:52,606 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 15:23:52,606 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 15:23:52,606 [NioProcessor-3  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 15:23:52,606 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 15:23:52,606 [pool-4-thread-4 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 15:23:52,606 [pool-4-thread-4 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 15:23:52,606 [pool-4-thread-4 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@144b624 obtained for command ID 5
2012-06-26 15:23:52,606 [pool-4-thread-4 ] [DEBUG] $$EnhancerByGuice$$22e9f5a5 - Handler for command ID 5 is com.chinarewards.qqgbvpn.main.protocol.handler.InitCommandHandler@144b624
2012-06-26 15:23:52,606 [pool-4-thread-4 ] [DEBUG] .q.m.p.h.InitCommandHandler - InitCommandHandler======execute==bodyMessage=:  [cmdId=5, posId=pos-0002]
2012-06-26 15:23:52,606 [pool-4-thread-4 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - InitResponse() invoke
2012-06-26 15:23:52,606 [pool-4-thread-4 ] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:ALLOWED
2012-06-26 15:23:52,606 [pool-4-thread-4 ] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId AND p.ostatus = :ostatus
2012-06-26 15:23:52,606 [pool-4-thread-4 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - POS ID:pos-0002, init challenge saved - [49, 70, 120, 56, 51, 76, 48, 121]
2012-06-26 15:23:52,606 [pool-4-thread-4 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 15:23:52,653 [pool-4-thread-4 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 15:23:52,653 [pool-4-thread-4 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 15:23:52,653 [pool-4-thread-4 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 15:23:52,653 [pool-4-thread-4 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 2
2012-06-26 15:23:52,653 [pool-4-thread-4 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (6)
2012-06-26 15:23:52,653 [pool-4-thread-4 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.InitMessageResponseCodec@1fecaeb
2012-06-26 15:23:52,653 [pool-4-thread-4 ] [DEBUG] .c.InitMessageResponseCodec - init response message encode
2012-06-26 15:23:52,653 [pool-4-thread-4 ] [TRACE] .c.InitMessageResponseCodec - InitResponseMessage: [cmdId=6, result=0, challenge=[49, 70, 120, 56, 51, 76, 48, 121]]
2012-06-26 15:23:52,653 [pool-4-thread-4 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0xf296
2012-06-26 15:23:52,653 [pool-4-thread-4 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 15:23:52,653 [pool-4-thread-4 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 F2 96 00 00 00 1E ................
00000010 00 00 00 06 00 00 31 46 78 38 33 4C 30 79       ......1Fx83L0y

2012-06-26 15:23:52,653 [pool-4-thread-4 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 15:23:52,653 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 15:23:52,653 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 15:23:52,653 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 2: not mark to return session ID to client
2012-06-26 15:23:52,653 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 15:23:52,653 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 15:23:52,653 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 15:23:52,872 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:3602, Mina session ID 2, identified POS ID pos-0002
2012-06-26 15:23:52,872 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 DB 5B 00 00 00 30 ...........[...0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 5C 30 5E 35 68 9F F0 8F B8 8C FD 88 68 3E AE 83 \0^5h.......h>..

2012-06-26 15:23:52,872 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=48 cap=2048: 00 00 00 01 00 00 00 00 00 00 DB 5B 00 00 00 30...]
2012-06-26 15:23:52,872 [NioProcessor-3  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 2
2012-06-26 15:23:52,872 [NioProcessor-3  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 15:23:52,872 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 15:23:52,872 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 2
2012-06-26 15:23:52,872 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =48
2012-06-26 15:23:52,872 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 48 of 48 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 DB 5B 00 00 00 30 ...........[...0
00000010 00 00 00 07 70 6F 73 2D 30 30 30 32 00 00 00 00 ....pos-0002....
00000020 5C 30 5E 35 68 9F F0 8F B8 8C FD 88 68 3E AE 83 \0^5h.......h>..

2012-06-26 15:23:52,872 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 48, current position: 0
2012-06-26 15:23:52,872 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 15:23:52,872 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xdb5b} messageSize:{0x30} sessionKey:{null}
2012-06-26 15:23:52,872 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 32
2012-06-26 15:23:52,872 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=32, in.remaining=32
2012-06-26 15:23:52,872 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 15:23:52,872 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 7
2012-06-26 15:23:52,872 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 7: com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageCodec@19872ad
2012-06-26 15:23:52,872 [NioProcessor-3  ] [DEBUG] m.p.s.m.c.LoginMessageCodec - login/bind message decode
2012-06-26 15:23:52,872 [NioProcessor-3  ] [TRACE] m.p.s.m.c.LoginMessageCodec - LoginRequestMessage: [cmdId=7, posId=pos-0002, challengeResponse=[92, 48, 94, 53, 104, -97, -16, -113, -72, -116, -3, -120, 104, 62, -82, -125]]
2012-06-26 15:23:52,872 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 15:23:52,872 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xdb5b} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[92, 48, 94, 53, 104, -97, -16, -113, -72, -116, -3, -120, 104, 62, -82, -125]]
2012-06-26 15:23:52,872 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 15:23:52,872 [NioProcessor-3  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 15:23:52,872 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 15:23:52,872 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 15:23:52,872 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 15:23:52,872 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 15:23:52,872 [NioProcessor-3  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:3602, Mina session ID 2, identified POS ID pos-0002, message: header=seq:{0x1} ack:{0x0} flags:{0x0} checksum:{0xdb5b} messageSize:{0x30} sessionKey:{null}, body= [cmdId=7, posId=pos-0002, challengeResponse=[92, 48, 94, 53, 104, -97, -16, -113, -72, -116, -3, -120, 104, 62, -82, -125]]
2012-06-26 15:23:52,872 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 15:23:52,872 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 15:23:52,872 [pool-4-thread-5 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 15:23:52,872 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 15:23:52,872 [NioProcessor-3  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 15:23:52,872 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 15:23:52,872 [pool-4-thread-5 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 15:23:52,872 [pool-4-thread-5 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@9ba045 obtained for command ID 7
2012-06-26 15:23:52,872 [pool-4-thread-5 ] [DEBUG] $$EnhancerByGuice$$22e9f5a5 - Handler for command ID 7 is com.chinarewards.qqgbvpn.main.protocol.handler.LoginCommandHandler@9ba045
2012-06-26 15:23:52,872 [pool-4-thread-5 ] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==bodyMessage=: [cmdId=7, posId=pos-0002, challengeResponse=[92, 48, 94, 53, 104, -97, -16, -113, -72, -116, -3, -120, 104, 62, -82, -125]]
2012-06-26 15:23:52,872 [pool-4-thread-5 ] [TRACE] c.c.q.m.d.q.i.PosDaoImpl    - search param: posId:pos-0002, dstatus:null, istatus:null, ostatus:null
2012-06-26 15:23:52,872 [pool-4-thread-5 ] [DEBUG] c.c.q.m.d.q.i.PosDaoImpl    - hql:FROM Pos p  WHERE p.posId = :posId
2012-06-26 15:23:52,872 [pool-4-thread-5 ] [TRACE] .q.m.l.l.i.LoginManagerImpl - Loaded from db: pos.posId:pos-0002, pos.secret:000001, oldChallenge:[49, 70, 120, 56, 51, 76, 48, 121]
2012-06-26 15:23:52,872 [pool-4-thread-5 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - disableChallengeCheck =0
2012-06-26 15:23:52,872 [pool-4-thread-5 ] [TRACE] c.c.q.m.l.c.ChallengeUtil   - checking challenge:response:[92, 48, 94, 53, 104, -97, -16, -113, -72, -116, -3, -120, 104, 62, -82, -125], posKey:000001, random:[49, 70, 120, 56, 51, 76, 48, 121]
2012-06-26 15:23:52,872 [pool-4-thread-5 ] [DEBUG] .q.m.l.l.i.LoginManagerImpl - new challenge for POS (POS ID): [81, 97, 51, 82, 97, 101, 87, 116]
2012-06-26 15:23:52,872 [pool-4-thread-5 ] [DEBUG] q.m.p.h.LoginCommandHandler - LoginCommandHandler======execute==serverKey=:JXTPOS
2012-06-26 15:23:52,887 [pool-4-thread-5 ] [DEBUG] ThreadSafeClientConnManager - Get connection: HttpRoute[{}->http://localhost:7070], timeout = 0
2012-06-26 15:23:52,887 [pool-4-thread-5 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - [HttpRoute[{}->http://localhost:7070]] total kept alive: 0, total issued: 0, total allocated: 0 out of 20
2012-06-26 15:23:52,887 [pool-4-thread-5 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - No free connections [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 15:23:52,887 [pool-4-thread-5 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Available capacity: 2 out of 2 [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 15:23:52,887 [pool-4-thread-5 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Creating new connection [HttpRoute[{}->http://localhost:7070]]
2012-06-26 15:23:52,887 [pool-4-thread-5 ] [DEBUG] ultClientConnectionOperator - Connecting to localhost:7070
2012-06-26 15:23:53,949 [pool-4-thread-5 ] [DEBUG] i.c.DefaultClientConnection - Connection closed
2012-06-26 15:23:53,949 [pool-4-thread-5 ] [DEBUG] i.c.DefaultClientConnection - Connection shut down
2012-06-26 15:23:53,949 [pool-4-thread-5 ] [DEBUG] ThreadSafeClientConnManager - Released connection is not reusable.
2012-06-26 15:23:53,949 [pool-4-thread-5 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Releasing connection [HttpRoute[{}->http://localhost:7070]][null]
2012-06-26 15:23:53,949 [pool-4-thread-5 ] [DEBUG] o.a.h.i.c.t.ConnPoolByRoute - Notifying no-one, there are no waiting threads
2012-06-26 15:23:53,949 [pool-4-thread-5 ] [ERROR] q.m.p.h.LoginCommandHandler - initGrouponCache fail:com.chinarewards.qqgbvpn.qqapi.exception.ParseXMLException: com.chinarewards.qqgbvpn.qqapi.exception.SendPostTimeOutException: org.apache.http.conn.HttpHostConnectException: Connection to http://localhost:7070 refused
2012-06-26 15:23:53,949 [pool-4-thread-5 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 15:23:53,980 [pool-4-thread-5 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 15:23:53,980 [pool-4-thread-5 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 15:23:53,980 [pool-4-thread-5 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 15:23:53,980 [pool-4-thread-5 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 2
2012-06-26 15:23:53,980 [pool-4-thread-5 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (8)
2012-06-26 15:23:53,980 [pool-4-thread-5 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqgbvpn.main.protocol.socket.mina.codec.LoginMessageResponseCodec@e7eec9
2012-06-26 15:23:53,980 [pool-4-thread-5 ] [DEBUG] c.LoginMessageResponseCodec - login/bind message encode
2012-06-26 15:23:53,980 [pool-4-thread-5 ] [TRACE] c.LoginMessageResponseCodec - LoginResponseMessage: [cmdId=8, result=0, challenge=[81, 97, 51, 82, 97, 101, 87, 116]]
2012-06-26 15:23:53,980 [pool-4-thread-5 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0xc24b
2012-06-26 15:23:53,980 [pool-4-thread-5 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 15:23:53,980 [pool-4-thread-5 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 30 of 30 bytes, 0 omitted)
00000000 00 00 00 01 00 00 00 00 00 00 C2 4B 00 00 00 1E ...........K....
00000010 00 00 00 08 00 00 51 61 33 52 61 65 57 74       ......Qa3RaeWt

2012-06-26 15:23:53,980 [pool-4-thread-5 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 15:23:53,980 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 15:23:53,980 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 15:23:53,980 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 2: not mark to return session ID to client
2012-06-26 15:23:53,980 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 15:23:53,980 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 15:23:53,980 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 15:23:53,980 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - raw message received from address 127.0.0.1:3602, Mina session ID 2, identified POS ID pos-0002
2012-06-26 15:23:53,980 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - received raw bytes: (showing 35 of 35 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 D0 F4 00 00 00 23 ...............#
00000010 00 00 00 CB 00 06 31 32 33 34 35 36 00 05 33 32 ......123456..32
00000020 2E 33 33                                        .33

2012-06-26 15:23:53,980 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - RECEIVED: HeapBuffer[pos=0 lim=35 cap=1024: 00 00 00 10 00 00 00 00 00 00 D0 F4 00 00 00 23...]
2012-06-26 15:23:53,980 [NioProcessor-3  ] [DEBUG] a.m.f.c.ProtocolCodecFilter - Processing a MESSAGE_RECEIVED for session 2
2012-06-26 15:23:53,980 [NioProcessor-3  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 15:23:53,980 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - MessageDecoder.doDecode() invoked
2012-06-26 15:23:53,980 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Mina session ID: 2
2012-06-26 15:23:53,980 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - buffer.remaining() =35
2012-06-26 15:23:53,980 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Raw bytes: (Printing 35 of 35 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 D0 F4 00 00 00 23 ...............#
00000010 00 00 00 CB 00 06 31 32 33 34 35 36 00 05 33 32 ......123456..32
00000020 2E 33 33                                        .33

2012-06-26 15:23:53,980 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - IoBuffer remaining bytes: 35, current position: 0
2012-06-26 15:23:53,980 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Parsing message header (16 bytes)..
2012-06-26 15:23:53,980 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - message header: seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd0f4} messageSize:{0x23} sessionKey:{null}
2012-06-26 15:23:53,980 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - - IoBuffer remaining (for body): 19
2012-06-26 15:23:53,980 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - before parsing body: cmdBodySize=19, in.remaining=19
2012-06-26 15:23:53,980 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - isDisableChecksumCheck=0
2012-06-26 15:23:53,980 [NioProcessor-3  ] [DEBUG] .m.c.ProtocolMessageDecoder - cmdId: 203
2012-06-26 15:23:53,980 [NioProcessor-3  ] [TRACE] .m.c.ProtocolMessageDecoder - Command codec for command ID 203: com.chinarewards.qqadidas.main.protocol.socket.mina.codec.RightForMessageCodec@edd9de
2012-06-26 15:23:53,980 [NioProcessor-3  ] [DEBUG] .s.m.c.RightForMessageCodec - right for request message decode
2012-06-26 15:23:53,980 [NioProcessor-3  ] [DEBUG] .s.m.c.RightForMessageCodec - in.remaining()=19
2012-06-26 15:23:53,980 [NioProcessor-3  ] [TRACE] .q.m.p.s.m.c.MessageDecoder - Number of bytes remained in buffer after parsing one message: 0
2012-06-26 15:23:53,980 [NioProcessor-3  ] [DEBUG] .q.m.p.s.m.c.MessageDecoder - Message processed completed. Message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd0f4} messageSize:{0x23} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.RightForRequestMessage@17aa961
2012-06-26 15:23:53,980 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() started
2012-06-26 15:23:53,980 [NioProcessor-3  ] [DEBUG] c.q.m.p.f.BodyMessageFilter - IBodyMessage is not ErrorBodyMessage
2012-06-26 15:23:53,980 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() started -SessionKeyMessageFilter
2012-06-26 15:23:53,980 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() started
2012-06-26 15:23:53,980 [NioProcessor-3  ] [DEBUG] c.c.q.m.p.f.LoginFilter     - isLogin=true
2012-06-26 15:23:53,980 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageReceived() done, pass on next filter
2012-06-26 15:23:53,980 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() started
2012-06-26 15:23:53,980 [NioProcessor-3  ] [DEBUG] .m.p.h.ServerSessionHandler - A message is sent from client at address 127.0.0.1:3602, Mina session ID 2, identified POS ID pos-0002, message: header=seq:{0x10} ack:{0x0} flags:{0x0} checksum:{0xd0f4} messageSize:{0x23} sessionKey:{null}, body=com.chinarewards.qqadidas.main.protocol.cmd.RightForRequestMessage@17aa961
2012-06-26 15:23:53,980 [NioProcessor-3  ] [TRACE] .m.p.h.ServerSessionHandler - messageReceived() done
2012-06-26 15:23:53,980 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageReceived() done
2012-06-26 15:23:53,980 [NioProcessor-3  ] [TRACE] c.q.m.p.f.BodyMessageFilter - messageReceived() done
2012-06-26 15:23:53,980 [NioProcessor-3  ] [TRACE] ErrorConnectionKillerFilter - messageReceived() done
2012-06-26 15:23:53,980 [pool-4-thread-6 ] [TRACE] .GuiceUnitOfWorkInterceptor - begin UnitOfWork and transaction
2012-06-26 15:23:53,980 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoggingFilter   - messageReceived() done
2012-06-26 15:23:53,980 [pool-4-thread-6 ] [TRACE] .GuiceUnitOfWorkInterceptor - UnitOfWork and transaction begun
2012-06-26 15:23:53,980 [pool-4-thread-6 ] [TRACE] ServiceHandlerObjectFactory - Handler class com.chinarewards.qqadidas.main.protocol.handler.RightForCommandHandler@1e4bece obtained for command ID 203
2012-06-26 15:23:53,980 [pool-4-thread-6 ] [DEBUG] $$EnhancerByGuice$$22e9f5a5 - Handler for command ID 203 is com.chinarewards.qqadidas.main.protocol.handler.RightForCommandHandler@1e4bece
2012-06-26 15:23:53,980 [pool-4-thread-6 ] [DEBUG] .p.h.RightForCommandHandler - RightForCommandHandler======execute==bodyMessage=: com.chinarewards.qqadidas.main.protocol.cmd.RightForRequestMessage@17aa961
2012-06-26 15:23:53,980 [pool-4-thread-6 ] [DEBUG] .p.h.RightForCommandHandler - right for cdkey is: 123456
2012-06-26 15:23:53,996 [pool-4-thread-6 ] [TRACE] .GuiceUnitOfWorkInterceptor - Going to end transaction and UnitOfWork
2012-06-26 15:23:53,996 [pool-4-thread-6 ] [TRACE] .GuiceUnitOfWorkInterceptor - Transaction and UnitOfWork ended
2012-06-26 15:23:53,996 [pool-4-thread-6 ] [DEBUG] p.s.m.c.MessageCoderFactory - getEncoder invoked
2012-06-26 15:23:53,996 [pool-4-thread-6 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message start
2012-06-26 15:23:53,996 [pool-4-thread-6 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Mina session ID: 2
2012-06-26 15:23:53,996 [pool-4-thread-6 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - cmdId to send: (204)
2012-06-26 15:23:53,996 [pool-4-thread-6 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - bodyMessageCoder = com.chinarewards.qqadidas.main.protocol.socket.mina.codec.RightForResponseMessageCodec@1d12614
2012-06-26 15:23:53,996 [pool-4-thread-6 ] [DEBUG] ightForResponseMessageCodec - right for response message encode
2012-06-26 15:23:53,996 [pool-4-thread-6 ] [DEBUG] ightForResponseMessageCodec - right for response message encode resultByte length: 53
2012-06-26 15:23:53,996 [pool-4-thread-6 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded message checkum: 0xd25a
2012-06-26 15:23:53,996 [pool-4-thread-6 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - Encoded byte content
2012-06-26 15:23:53,996 [pool-4-thread-6 ] [TRACE] .q.m.p.s.m.c.MessageEncoder - Raw bytes: (Printing 69 of 69 bytes, 0 omitted)
00000000 00 00 00 10 00 00 00 00 00 00 D2 5A 00 00 00 45 ...........Z...E
00000010 00 00 00 CC 00 00 00 02 07 DC 06 1A 0F 17 35 03 ..............5.
00000020 D4 01 E0 00 08 BB F1 C8 A1 D3 C5 BB DD 00 16 31 ...............1
00000030 32 33 34 35 36 0A CE DE D0 A7 0A B0 B4 4F 4B BC 23456........OK.
00000040 FC B7 B5 BB D8                                  .....

2012-06-26 15:23:53,996 [pool-4-thread-6 ] [DEBUG] .q.m.p.s.m.c.MessageEncoder - encode message end
2012-06-26 15:23:53,996 [NioProcessor-3  ] [DEBUG] o.a.m.f.l.LoggingFilter     - SENT: HeapBuffer[pos=0 lim=0 cap=0: empty]
2012-06-26 15:23:53,996 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() invoked
2012-06-26 15:23:53,996 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - Mina session ID 2: not mark to return session ID to client
2012-06-26 15:23:53,996 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() started
2012-06-26 15:23:53,996 [NioProcessor-3  ] [TRACE] c.c.q.m.p.f.LoginFilter     - messageSent() done
2012-06-26 15:23:53,996 [NioProcessor-3  ] [TRACE] p.f.SessionKeyMessageFilter - messageSent() done
2012-06-26 15:23:53,996 [NioProcessor-3  ] [INFO ] o.a.m.f.l.LoggingFilter     - CLOSED
2012-06-26 15:23:53,996 [NioProcessor-3  ] [DEBUG] p.s.m.c.MessageCoderFactory - getDecoder invoked
2012-06-26 15:23:58,696 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:23:58,696 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:23:58,696 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 15:23:58,696 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 15:23:58,696 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:24:08,690 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:24:08,690 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:24:08,690 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 15:24:08,690 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 15:24:08,690 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:24:18,684 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:24:18,684 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:24:18,684 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 15:24:18,684 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 15:24:18,684 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:24:28,694 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:24:28,694 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:24:28,694 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 15:24:28,694 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 15:24:28,694 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:24:38,687 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:24:38,687 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:24:38,687 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 15:24:38,687 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=2
2012-06-26 15:24:38,687 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:24:48,681 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:24:48,681 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:24:48,681 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=2
2012-06-26 15:24:48,681 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 15:24:48,681 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:24:58,691 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:24:58,691 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:24:58,691 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 15:24:58,691 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 15:24:58,691 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:25:08,685 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:25:08,685 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:25:08,685 [Finalizer       ] [DEBUG] ThreadSafeClientConnManager - Shutting down
2012-06-26 15:25:08,685 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 15:25:08,685 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 15:25:08,685 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:25:18,679 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:25:18,679 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:25:18,679 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 15:25:18,679 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 15:25:18,679 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:25:28,657 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:25:28,657 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:25:28,657 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 15:25:28,657 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 15:25:28,657 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:25:38,667 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:25:38,667 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:25:38,667 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 15:25:38,667 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 15:25:38,667 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:25:48,660 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:25:48,660 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:25:48,660 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 15:25:48,660 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 15:25:48,660 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:25:58,654 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:25:58,654 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:25:58,654 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 15:25:58,654 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 15:25:58,654 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:26:08,648 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:26:08,648 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:26:08,648 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 15:26:08,648 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 15:26:08,648 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:26:18,658 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:26:18,658 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:26:18,658 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 15:26:18,658 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 15:26:18,658 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:26:28,652 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:26:28,652 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:26:28,652 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 15:26:28,652 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 15:26:28,652 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:26:38,661 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:26:38,661 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:26:38,661 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 15:26:38,661 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 15:26:38,661 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:26:48,655 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:26:48,655 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:26:48,655 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 15:26:48,655 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 15:26:48,655 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:26:58,649 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:26:58,649 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:26:58,649 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 15:26:58,649 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 15:26:58,649 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:27:08,643 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:27:08,643 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:27:08,643 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 15:27:08,643 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 15:27:08,643 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:27:18,637 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:27:18,637 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:27:18,637 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 15:27:18,637 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=1
2012-06-26 15:27:18,637 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:27:28,662 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:27:28,662 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:27:28,662 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=1
2012-06-26 15:27:28,662 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:27:28,662 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:27:38,656 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:27:38,656 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:27:38,656 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:27:38,656 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:27:38,656 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:27:48,650 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:27:48,650 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:27:48,650 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:27:48,650 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:27:48,650 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:27:58,644 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:27:58,644 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:27:58,644 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:27:58,644 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:27:58,644 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:28:08,653 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:28:08,653 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:28:08,653 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:28:08,653 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:28:08,653 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:28:18,647 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:28:18,647 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:28:18,647 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:28:18,647 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:28:18,647 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:28:28,641 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:28:28,641 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:28:28,641 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:28:28,641 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:28:28,641 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:28:38,635 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:28:38,635 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:28:38,635 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:28:38,635 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:28:38,635 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:28:48,645 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:28:48,645 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:28:48,645 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:28:48,645 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:28:48,645 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:28:58,639 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:28:58,639 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:28:58,639 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:28:58,639 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:28:58,639 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:29:08,633 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:29:08,633 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:29:08,633 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:29:08,633 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:29:08,633 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:29:18,627 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:29:18,627 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:29:18,627 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:29:18,627 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:29:18,627 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:29:28,636 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:29:28,636 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:29:28,636 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:29:28,636 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:29:28,636 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:29:38,630 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:29:38,630 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:29:38,630 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:29:38,630 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:29:38,630 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:29:48,624 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:29:48,624 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:29:48,624 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:29:48,624 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:29:48,624 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:29:58,633 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:29:58,633 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:29:58,633 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:29:58,633 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:29:58,633 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:30:08,627 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:30:08,627 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:30:08,627 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:30:08,627 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:30:08,627 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:30:18,621 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:30:18,621 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:30:18,621 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:30:18,621 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:30:18,621 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:30:28,557 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:30:28,557 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:30:28,557 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:30:28,557 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:30:28,557 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:30:38,502 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:30:38,502 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:30:38,502 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:30:38,502 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:30:38,502 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:30:48,431 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:30:48,431 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:30:48,431 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:30:48,431 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:30:48,431 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:30:58,360 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:30:58,360 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:30:58,360 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:30:58,360 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:30:58,360 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:31:08,290 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:31:08,290 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:31:08,290 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:31:08,290 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:31:08,290 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:31:18,234 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:31:18,234 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:31:18,234 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:31:18,234 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:31:18,234 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:31:28,164 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:31:28,164 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:31:28,164 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:31:28,164 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:31:28,164 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:31:38,093 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:31:38,093 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:31:38,093 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:31:38,093 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:31:38,093 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:31:48,038 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:31:48,038 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:31:48,038 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:31:48,038 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:31:48,038 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:31:57,967 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:31:57,967 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:31:57,967 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:31:57,967 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:31:57,967 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:32:07,896 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:32:07,896 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:32:07,896 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:32:07,896 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:32:07,896 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:32:17,841 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:32:17,841 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:32:17,841 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:32:17,841 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:32:17,841 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:32:27,770 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:32:27,770 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:32:27,770 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:32:27,770 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:32:27,770 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:32:37,700 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:32:37,700 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:32:37,700 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:32:37,700 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:32:37,700 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:32:47,629 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:32:47,629 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:32:47,629 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:32:47,629 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:32:47,629 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:32:57,558 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:32:57,558 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:32:57,558 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:32:57,558 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:32:57,558 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:33:07,503 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:33:07,503 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:33:07,503 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:33:07,503 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:33:07,503 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:33:17,432 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:33:17,432 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:33:17,432 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:33:17,432 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:33:17,432 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:33:27,362 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:33:27,362 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:33:27,362 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:33:27,362 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:33:27,362 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:33:37,291 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:33:37,291 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:33:37,291 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:33:37,291 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:33:37,291 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:33:47,267 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:33:47,267 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:33:47,267 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:33:47,267 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:33:47,267 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:33:57,289 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:33:57,289 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:33:57,289 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:33:57,289 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:33:57,289 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:34:07,218 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:34:07,218 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:34:07,218 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:34:07,218 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:34:07,218 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:34:17,148 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:34:17,148 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:34:17,148 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:34:17,148 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:34:17,148 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:34:27,092 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:34:27,092 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:34:27,092 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:34:27,092 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:34:27,092 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:34:37,022 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:34:37,022 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:34:37,022 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:34:37,022 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:34:37,022 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:34:46,951 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:34:46,951 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:34:46,951 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:34:46,951 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:34:46,951 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:34:56,880 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:34:56,880 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:34:56,880 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:34:56,880 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:34:56,880 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:35:06,825 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:35:06,825 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:35:06,825 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:35:06,825 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:35:06,825 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:35:16,754 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:35:16,754 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:35:16,754 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:35:16,754 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:35:16,754 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:35:26,722 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:35:26,722 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:35:26,722 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:35:26,722 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:35:26,722 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:35:36,708 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:35:36,708 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:35:36,708 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:35:36,708 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:35:36,708 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:35:46,679 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:35:46,679 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:35:46,679 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:35:46,679 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:35:46,679 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:35:56,665 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:35:56,665 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:35:56,665 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:35:56,665 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:35:56,665 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:36:06,635 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:36:06,635 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:36:06,635 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:36:06,635 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:36:06,635 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:36:16,622 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:36:16,622 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:36:16,622 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:36:16,622 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:36:16,622 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:36:26,592 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:36:26,592 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:36:26,592 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:36:26,592 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:36:26,592 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:36:36,563 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:36:36,563 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:36:36,563 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:36:36,563 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:36:36,563 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:36:46,534 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:36:46,534 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:36:46,534 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:36:46,534 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:36:46,534 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:36:56,520 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:36:56,520 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:36:56,520 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:36:56,520 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:36:56,520 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:37:06,490 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:37:06,490 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:37:06,490 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:37:06,490 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:37:06,490 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:37:16,461 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:37:16,461 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:37:16,461 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:37:16,461 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:37:16,461 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:37:26,447 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:37:26,447 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:37:26,447 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:37:26,447 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:37:26,447 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:37:36,418 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:37:36,418 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:37:36,418 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:37:36,418 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:37:36,418 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:37:46,388 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:37:46,388 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:37:46,388 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:37:46,388 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:37:46,388 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:37:56,359 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:37:56,359 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:37:56,359 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:37:56,359 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:37:56,359 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:38:06,345 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:38:06,345 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:38:06,345 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:38:06,345 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:38:06,345 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:38:16,316 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:38:16,316 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:38:16,316 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:38:16,316 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:38:16,316 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:38:26,287 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:38:26,287 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:38:26,287 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:38:26,287 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:38:26,287 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:38:36,257 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:38:36,257 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:38:36,257 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:38:36,257 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:38:36,257 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:38:46,243 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:38:46,243 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:38:46,243 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:38:46,243 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:38:46,243 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:38:56,214 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:38:56,214 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:38:56,214 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:38:56,214 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:38:56,214 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:39:06,185 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:39:06,185 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:39:06,185 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:39:06,185 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:39:06,185 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:39:16,155 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:39:16,155 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:39:16,155 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:39:16,155 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:39:16,155 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:39:26,141 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:39:26,141 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:39:26,141 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:39:26,141 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:39:26,141 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:39:36,112 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:39:36,112 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:39:36,112 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:39:36,112 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:39:36,112 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:39:46,083 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:39:46,083 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:39:46,083 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:39:46,083 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:39:46,083 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:39:56,053 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:39:56,053 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:39:56,053 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:39:56,053 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:39:56,053 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:40:06,040 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:40:06,040 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:40:06,040 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:40:06,040 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:40:06,040 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:40:16,010 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:40:16,010 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:40:16,010 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:40:16,010 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:40:16,010 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:40:25,995 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:40:25,995 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:40:25,995 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:40:25,995 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:40:25,995 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:40:35,996 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:40:35,996 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:40:35,996 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:40:35,996 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:40:35,996 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:40:45,981 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:40:45,981 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:40:45,981 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:40:45,981 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:40:45,981 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:40:55,967 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:40:55,967 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:40:55,967 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:40:55,967 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:40:55,967 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:41:05,952 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:41:05,952 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:41:05,952 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:41:05,952 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:41:05,952 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:41:15,954 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:41:15,954 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:41:15,954 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:41:15,954 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:41:15,954 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:41:25,955 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:41:25,955 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:41:25,955 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:41:25,955 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:41:25,955 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:41:35,940 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:41:35,940 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:41:35,940 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:41:35,940 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:41:35,940 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:41:45,926 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:41:45,926 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:41:45,926 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:41:45,926 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:41:45,926 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:41:55,927 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:41:55,927 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:41:55,927 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:41:55,927 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:41:55,927 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:42:05,912 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:42:05,912 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:42:05,912 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:42:05,912 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:42:05,912 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:42:15,898 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:42:15,898 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:42:15,898 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:42:15,898 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:42:15,898 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:42:25,884 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:42:25,884 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:42:25,884 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:42:25,884 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:42:25,884 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:42:35,885 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:42:35,885 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:42:35,885 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:42:35,885 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:42:35,885 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:42:45,870 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:42:45,870 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:42:45,870 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:42:45,870 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:42:45,870 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:42:55,856 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:42:55,856 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:42:55,856 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:42:55,856 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:42:55,856 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:43:05,857 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:43:05,857 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:43:05,857 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:43:05,857 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:43:05,857 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:43:15,842 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:43:15,842 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:43:15,842 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:43:15,842 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:43:15,842 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:43:25,828 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:43:25,828 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:43:25,828 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:43:25,828 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:43:25,828 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:43:35,814 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:43:35,814 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:43:35,814 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:43:35,814 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:43:35,814 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:43:45,815 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:43:45,815 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:43:45,815 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:43:45,815 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:43:45,815 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:43:55,800 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:43:55,800 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:43:55,800 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:43:55,800 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:43:55,800 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:44:05,786 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:44:05,786 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:44:05,786 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:44:05,786 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:44:05,786 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:44:15,771 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:44:15,771 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:44:15,771 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:44:15,771 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:44:15,771 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:44:25,757 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:44:25,757 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:44:25,757 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:44:25,757 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:44:25,757 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:44:35,742 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:44:35,742 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:44:35,742 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:44:35,742 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:44:35,742 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:44:45,728 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:44:45,728 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:44:45,728 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:44:45,728 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:44:45,728 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:44:55,729 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:44:55,729 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:44:55,729 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:44:55,729 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:44:55,729 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:45:05,715 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:45:05,715 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:45:05,715 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:45:05,715 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:45:05,715 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:45:15,716 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:45:15,716 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:45:15,716 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:45:15,716 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:45:15,716 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:45:25,706 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:45:25,706 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:45:25,706 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:45:25,706 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:45:25,706 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:45:35,697 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:45:35,697 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:45:35,697 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:45:35,697 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:45:35,697 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:45:45,688 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:45:45,688 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:45:45,688 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:45:45,688 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:45:45,688 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:45:55,726 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:45:55,726 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:45:55,726 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:45:55,726 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:45:55,726 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:46:05,779 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:46:05,779 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:46:05,779 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:46:05,779 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:46:05,779 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:46:15,833 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:46:15,833 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:46:15,833 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:46:15,833 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:46:15,833 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:46:25,824 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:46:25,824 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:46:25,824 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:46:25,824 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:46:25,824 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:46:35,814 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:46:35,814 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:46:35,814 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:46:35,814 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:46:35,814 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:46:45,805 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:46:45,805 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:46:45,805 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:46:45,805 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:46:45,805 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:46:55,812 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:46:55,812 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:46:55,812 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:46:55,812 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:46:55,812 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:47:05,818 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:47:05,818 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:47:05,818 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:47:05,818 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:47:05,818 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:47:15,809 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:47:15,809 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:47:15,809 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:47:15,809 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:47:15,809 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:47:25,799 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:47:25,799 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:47:25,799 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:47:25,799 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:47:25,799 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:47:35,789 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:47:35,789 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:47:35,789 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:47:35,789 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:47:35,789 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:47:45,779 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:47:45,779 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:47:45,779 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:47:45,779 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:47:45,779 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:47:55,770 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:47:55,770 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:47:55,770 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:47:55,770 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:47:55,770 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:48:05,775 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:48:05,775 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:48:05,775 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:48:05,775 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:48:05,775 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:48:15,781 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:48:15,781 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:48:15,781 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:48:15,781 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:48:15,781 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:48:25,787 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:48:25,787 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:48:25,787 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:48:25,787 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:48:25,787 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:48:35,793 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:48:35,793 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:48:35,793 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:48:35,793 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:48:35,793 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:48:45,783 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:48:45,783 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:48:45,783 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:48:45,783 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:48:45,783 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:48:55,789 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:48:55,789 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:48:55,789 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:48:55,789 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:48:55,789 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:49:05,779 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:49:05,779 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:49:05,779 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:49:05,779 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:49:05,779 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:49:15,769 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:49:15,769 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:49:15,769 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:49:15,769 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:49:15,769 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:49:25,759 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:49:25,759 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:49:25,759 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:49:25,759 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:49:25,759 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:49:35,765 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:49:35,765 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:49:35,765 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:49:35,765 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:49:35,765 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:49:45,756 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:49:45,756 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:49:45,756 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:49:45,756 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:49:45,756 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:49:55,777 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:49:55,777 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:49:55,777 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:49:55,777 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:49:55,777 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:50:05,830 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:50:05,830 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:50:05,830 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:50:05,830 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:50:05,830 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:50:15,851 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:50:15,851 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:50:15,851 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:50:15,851 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:50:15,851 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:50:25,872 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:50:25,872 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:50:25,872 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:50:25,872 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:50:25,872 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:50:35,909 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:50:35,909 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:50:35,909 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:50:35,909 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:50:35,909 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:50:45,931 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:50:45,931 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:50:45,931 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:50:45,931 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:50:45,931 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:50:55,921 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:50:55,921 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:50:55,921 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:50:55,921 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:50:55,921 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:51:05,896 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:51:05,896 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:51:05,896 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:51:05,896 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:51:05,896 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:51:15,886 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:51:15,886 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:51:15,886 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:51:15,886 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:51:15,886 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:51:25,907 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:51:25,907 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:51:25,907 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:51:25,907 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:51:25,907 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:51:35,898 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:51:35,898 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:51:35,898 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:51:35,898 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:51:35,898 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:51:45,888 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:51:45,888 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:51:45,888 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:51:45,888 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:51:45,888 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:51:55,878 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:51:55,878 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:51:55,878 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:51:55,878 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:51:55,878 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:52:05,884 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:52:05,884 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:52:05,884 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:52:05,884 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:52:05,884 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:52:15,876 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:52:15,876 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:52:15,876 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:52:15,876 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:52:15,876 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:52:25,868 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:52:25,868 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:52:25,868 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:52:25,868 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:52:25,868 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:52:35,861 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:52:35,861 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:52:35,861 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:52:35,861 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:52:35,861 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:52:45,869 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:52:45,869 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:52:45,869 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:52:45,869 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:52:45,869 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:52:55,862 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:52:55,862 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:52:55,862 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:52:55,862 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:52:55,862 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:53:05,885 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:53:05,885 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:53:05,885 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:53:05,885 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:53:05,885 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:53:15,893 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:53:15,893 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:53:15,893 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:53:15,893 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:53:15,893 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:53:25,902 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:53:25,902 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:53:25,902 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:53:25,902 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:53:25,902 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:53:35,910 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:53:35,910 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:53:35,910 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:53:35,910 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:53:35,910 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:53:45,902 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:53:45,902 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:53:45,902 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:53:45,902 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:53:45,902 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:53:55,910 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:53:55,910 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:53:55,910 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:53:55,910 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:53:55,910 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:54:05,903 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:54:05,903 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:54:05,903 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:54:05,903 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:54:05,903 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:54:15,911 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:54:15,911 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:54:15,911 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:54:15,911 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:54:15,911 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:54:25,904 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:54:25,904 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:54:25,904 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:54:25,904 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:54:25,904 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:54:35,912 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:54:35,912 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:54:35,912 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:54:35,912 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:54:35,912 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:54:45,904 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:54:45,904 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:54:45,904 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:54:45,904 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:54:45,904 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:54:55,912 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:54:55,912 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:54:55,912 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:54:55,912 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:54:55,912 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:55:05,920 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:55:05,920 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:55:05,920 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:55:05,920 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:55:05,920 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:55:15,929 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:55:15,929 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:55:15,929 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:55:15,929 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:55:15,929 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:55:25,937 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:55:25,937 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:55:25,937 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:55:25,937 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:55:25,937 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:55:35,945 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:55:35,945 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:55:35,945 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:55:35,945 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:55:35,945 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:55:45,953 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:55:45,953 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:55:45,953 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:55:45,953 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:55:45,953 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:55:55,992 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:55:55,992 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:55:55,992 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:55:55,992 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:55:55,992 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:56:06,000 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:56:06,000 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:56:06,000 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:56:06,000 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:56:06,000 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:56:15,993 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:56:15,993 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:56:15,993 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:56:15,993 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:56:15,993 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:56:25,985 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:56:25,985 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:56:25,985 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:56:25,985 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:56:25,985 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:56:35,994 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:56:35,994 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:56:35,994 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:56:35,994 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:56:35,994 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:56:45,986 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:56:45,986 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:56:45,986 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:56:45,986 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:56:45,986 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:56:55,979 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:56:55,979 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:56:55,979 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:56:55,979 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:56:55,979 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:57:05,987 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:57:05,987 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:57:05,987 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:57:05,987 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:57:05,987 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:57:15,996 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:57:15,996 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:57:15,996 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:57:15,996 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:57:15,996 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:57:25,989 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:57:25,989 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:57:25,989 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:57:25,989 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:57:25,989 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:57:35,998 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:57:35,998 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:57:35,998 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:57:35,998 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:57:35,998 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:57:46,038 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:57:46,038 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:57:46,038 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:57:46,038 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:57:46,038 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:57:56,047 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:57:56,047 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:57:56,047 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:57:56,047 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:57:56,047 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:58:06,087 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:58:06,087 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:58:06,087 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:58:06,087 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:58:06,087 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:58:16,112 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:58:16,112 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:58:16,112 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:58:16,112 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:58:16,112 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:58:26,136 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:58:26,136 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:58:26,136 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:58:26,136 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:58:26,136 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:58:36,130 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:58:36,130 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:58:36,130 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:58:36,130 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:58:36,130 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:58:46,154 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:58:46,154 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:58:46,154 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:58:46,154 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:58:46,154 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:58:56,179 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:58:56,179 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:58:56,179 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:58:56,179 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:58:56,179 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:59:06,188 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:59:06,188 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:59:06,188 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:59:06,188 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:59:06,188 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:59:16,181 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:59:16,181 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:59:16,181 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:59:16,181 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:59:16,181 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:59:26,174 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:59:26,174 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:59:26,174 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:59:26,174 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:59:26,174 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:59:36,168 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:59:36,168 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:59:36,168 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:59:36,168 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:59:36,168 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:59:46,192 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:59:46,192 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:59:46,192 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:59:46,192 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:59:46,192 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 15:59:56,201 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 15:59:56,201 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 15:59:56,201 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 15:59:56,201 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 15:59:56,201 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:00:06,226 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:00:06,226 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:00:06,226 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:00:06,226 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:00:06,226 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:00:16,219 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:00:16,219 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:00:16,219 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:00:16,219 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:00:16,219 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:00:26,213 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:00:26,213 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:00:26,213 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:00:26,213 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:00:26,213 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:00:36,222 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:00:36,222 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:00:36,222 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:00:36,222 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:00:36,222 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:00:46,262 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:00:46,262 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:00:46,262 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:00:46,262 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:00:46,262 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:00:56,271 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:00:56,271 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:00:56,271 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:00:56,271 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:00:56,271 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:01:06,280 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:01:06,280 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:01:06,280 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:01:06,280 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:01:06,280 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:01:16,273 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:01:16,273 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:01:16,273 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:01:16,273 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:01:16,273 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:01:26,266 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:01:26,266 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:01:26,266 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:01:26,266 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:01:26,266 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:01:36,275 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:01:36,275 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:01:36,275 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:01:36,275 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:01:36,275 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:01:46,284 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:01:46,284 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:01:46,284 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:01:46,284 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:01:46,284 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:01:56,262 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:01:56,262 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:01:56,262 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:01:56,262 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:01:56,262 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:02:06,255 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:02:06,255 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:02:06,255 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:02:06,255 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:02:06,255 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:02:16,265 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:02:16,265 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:02:16,265 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:02:16,265 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:02:16,265 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:02:26,258 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:02:26,258 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:02:26,258 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:02:26,258 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:02:26,258 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:02:36,252 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:02:36,252 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:02:36,252 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:02:36,252 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:02:36,252 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:02:46,245 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:02:46,245 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:02:46,245 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:02:46,245 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:02:46,245 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:02:56,239 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:02:56,239 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:02:56,239 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:02:56,239 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:02:56,239 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:03:06,233 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:03:06,233 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:03:06,233 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:03:06,233 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:03:06,233 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:03:16,242 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:03:16,242 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:03:16,242 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:03:16,242 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:03:16,242 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:03:26,235 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:03:26,235 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:03:26,235 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:03:26,235 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:03:26,235 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:03:36,229 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:03:36,229 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:03:36,229 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:03:36,229 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:03:36,229 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:03:46,238 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:03:46,238 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:03:46,238 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:03:46,238 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:03:46,238 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:03:56,232 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:03:56,232 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:03:56,232 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:03:56,232 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:03:56,232 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:04:06,257 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:04:06,257 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:04:06,257 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:04:06,257 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:04:06,257 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:04:16,297 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:04:16,297 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:04:16,297 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:04:16,297 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:04:16,297 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:04:26,306 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:04:26,306 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:04:26,306 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:04:26,306 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:04:26,306 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:04:36,302 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:04:36,302 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:04:36,302 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:04:36,302 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:04:36,302 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:04:46,279 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:04:46,279 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:04:46,279 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:04:46,279 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:04:46,279 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:04:56,272 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:04:56,272 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:04:56,272 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:04:56,272 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:04:56,272 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:05:06,266 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:05:06,266 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:05:06,266 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:05:06,266 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:05:06,266 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:05:16,243 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:05:16,243 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:05:16,243 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:05:16,243 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:05:16,243 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:05:26,236 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:05:26,236 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:05:26,236 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:05:26,236 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:05:26,236 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:05:36,229 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:05:36,229 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:05:36,229 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:05:36,229 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:05:36,229 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:05:46,207 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:05:46,207 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:05:46,207 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:05:46,207 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:05:46,207 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:05:56,216 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:05:56,216 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:05:56,216 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:05:56,216 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:05:56,216 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:06:06,209 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:06:06,209 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:06:06,209 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:06:06,209 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:06:06,209 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:06:16,202 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:06:16,202 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:06:16,202 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:06:16,202 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:06:16,202 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:06:26,180 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:06:26,180 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:06:26,180 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:06:26,180 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:06:26,180 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:06:36,157 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:06:36,157 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:06:36,157 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:06:36,157 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:06:36,157 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:06:46,151 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:06:46,151 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:06:46,151 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:06:46,151 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:06:46,151 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:06:56,144 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:06:56,144 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:06:56,144 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:06:56,144 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:06:56,144 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:07:06,106 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:07:06,106 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:07:06,106 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:07:06,106 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:07:06,106 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:07:16,083 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:07:16,083 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:07:16,083 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:07:16,083 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:07:16,083 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:07:26,077 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:07:26,077 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:07:26,077 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:07:26,077 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:07:26,077 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:07:36,054 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:07:36,054 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:07:36,054 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:07:36,054 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:07:36,054 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:07:46,032 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:07:46,032 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:07:46,032 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:07:46,032 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:07:46,032 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:07:56,009 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:07:56,009 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:07:56,009 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:07:56,009 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:07:56,009 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:08:06,003 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:08:06,003 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:08:06,003 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:08:06,003 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:08:06,003 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:08:16,011 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:08:16,011 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:08:16,011 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:08:16,011 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:08:16,011 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:08:25,989 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:08:25,989 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:08:25,989 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:08:25,989 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:08:25,989 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:08:35,967 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:08:35,967 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:08:35,967 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:08:35,967 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:08:35,967 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:08:45,944 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:08:45,944 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:08:45,944 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:08:45,944 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:08:45,944 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:08:55,937 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:08:55,937 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:08:55,937 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:08:55,937 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:08:55,937 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:09:05,915 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:09:05,915 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:09:05,915 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:09:05,915 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:09:05,915 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:09:15,893 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:09:15,893 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:09:15,893 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:09:15,893 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:09:15,893 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:09:25,886 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:09:25,886 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:09:25,886 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:09:25,886 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:09:25,886 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:09:35,872 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:09:35,872 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:09:35,872 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:09:35,872 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:09:35,872 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:09:45,859 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:09:45,859 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:09:45,859 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:09:45,859 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:09:45,859 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:09:55,846 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:09:55,846 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:09:55,846 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:09:55,846 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:09:55,846 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:10:05,864 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:10:05,864 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:10:05,864 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:10:05,864 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:10:05,864 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:10:15,851 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:10:15,851 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:10:15,851 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:10:15,851 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:10:15,851 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:10:25,838 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:10:25,838 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:10:25,838 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:10:25,838 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:10:25,838 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:10:35,825 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:10:35,825 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:10:35,825 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:10:35,825 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:10:35,825 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:10:45,827 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:10:45,827 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:10:45,827 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:10:45,827 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:10:45,827 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:10:55,814 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:10:55,814 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:10:55,814 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:10:55,814 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:10:55,814 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:11:05,801 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:11:05,801 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:11:05,801 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:11:05,801 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:11:05,801 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:11:15,804 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:11:15,804 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:11:15,804 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:11:15,804 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:11:15,804 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:11:25,791 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:11:25,791 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:11:25,791 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:11:25,791 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:11:25,791 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:11:35,777 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:11:35,777 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:11:35,777 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:11:35,777 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:11:35,777 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:11:45,780 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:11:45,780 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:11:45,780 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:11:45,780 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:11:45,780 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:11:55,767 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:11:55,767 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:11:55,767 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:11:55,767 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:11:55,767 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:12:05,770 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:12:05,770 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:12:05,770 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:12:05,770 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:12:05,770 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:12:15,756 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:12:15,756 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:12:15,756 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:12:15,756 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:12:15,756 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:12:25,743 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:12:25,743 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:12:25,743 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:12:25,743 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:12:25,743 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:12:35,746 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:12:35,746 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:12:35,746 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:12:35,746 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:12:35,746 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:12:45,733 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:12:45,733 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:12:45,733 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:12:45,733 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:12:45,733 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:12:55,720 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:12:55,720 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:12:55,720 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:12:55,720 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:12:55,720 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:13:05,707 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:13:05,707 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:13:05,707 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:13:05,707 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:13:05,707 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:13:15,709 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:13:15,709 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:13:15,709 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:13:15,709 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:13:15,709 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:13:25,696 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:13:25,696 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:13:25,696 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:13:25,696 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:13:25,696 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:13:35,683 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:13:35,683 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:13:35,683 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:13:35,683 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:13:35,683 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:13:45,670 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:13:45,670 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:13:45,670 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:13:45,670 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:13:45,670 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:13:55,673 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:13:55,673 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:13:55,673 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:13:55,673 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:13:55,673 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:14:05,660 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:14:05,660 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:14:05,660 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:14:05,660 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:14:05,660 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:14:15,662 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:14:15,662 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:14:15,662 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:14:15,662 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:14:15,662 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:14:25,649 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:14:25,649 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:14:25,649 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:14:25,649 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:14:25,649 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:14:35,639 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:14:35,639 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:14:35,639 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:14:35,639 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:14:35,639 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:14:45,629 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:14:45,629 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:14:45,629 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:14:45,629 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:14:45,629 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:14:55,635 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:14:55,635 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:14:55,635 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:14:55,635 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:14:55,635 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:15:05,626 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:15:05,626 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:15:05,626 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:15:05,626 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:15:05,626 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:15:15,631 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:15:15,631 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:15:15,631 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:15:15,631 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:15:15,631 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:15:25,622 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:15:25,622 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:15:25,622 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:15:25,622 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:15:25,622 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:15:35,612 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:15:35,612 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:15:35,612 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:15:35,612 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:15:35,612 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:15:45,602 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:15:45,602 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:15:45,602 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:15:45,602 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:15:45,602 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:15:55,608 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:15:55,608 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:15:55,608 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:15:55,608 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:15:55,608 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:16:05,598 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:16:05,598 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:16:05,598 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:16:05,598 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:16:05,598 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:16:15,589 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:16:15,589 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:16:15,589 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:16:15,589 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:16:15,589 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:16:25,595 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:16:25,595 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:16:25,595 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:16:25,595 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:16:25,595 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:16:35,585 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:16:35,585 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:16:35,585 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:16:35,585 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:16:35,585 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:16:45,575 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:16:45,575 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:16:45,575 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:16:45,575 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:16:45,575 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:16:55,565 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:16:55,565 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:16:55,565 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:16:55,565 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:16:55,565 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:17:05,571 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:17:05,571 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:17:05,571 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:17:05,571 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:17:05,571 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:17:15,562 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:17:15,562 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:17:15,562 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:17:15,562 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:17:15,562 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:17:25,567 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:17:25,567 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:17:25,567 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:17:25,567 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:17:25,567 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:17:35,558 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:17:35,558 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:17:35,558 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:17:35,558 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:17:35,558 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:17:45,548 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:17:45,548 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:17:45,548 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:17:45,548 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:17:45,548 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:17:55,538 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:17:55,538 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:17:55,538 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:17:55,538 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:17:55,538 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:18:05,529 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:18:05,529 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:18:05,529 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:18:05,529 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:18:05,529 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:18:15,519 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:18:15,519 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:18:15,519 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:18:15,519 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:18:15,519 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:18:25,509 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:18:25,509 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:18:25,509 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:18:25,509 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:18:25,509 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:18:35,499 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:18:35,499 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:18:35,499 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:18:35,499 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:18:35,499 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:18:45,490 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:18:45,490 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:18:45,490 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:18:45,490 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:18:45,490 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:18:55,480 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:18:55,480 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:18:55,480 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:18:55,480 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:18:55,480 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:19:05,470 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:19:05,470 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:19:05,470 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:19:05,470 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:19:05,470 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:19:15,476 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:19:15,476 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:19:15,476 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:19:15,476 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:19:15,476 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:19:25,466 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:19:25,466 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:19:25,466 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:19:25,466 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:19:25,466 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:19:35,473 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:19:35,473 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:19:35,473 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:19:35,473 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:19:35,473 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:19:45,449 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:19:45,449 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:19:45,449 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:19:45,449 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:19:45,449 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:19:55,456 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:19:55,456 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:19:55,456 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:19:55,456 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:19:55,456 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:20:05,448 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:20:05,448 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:20:05,448 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:20:05,448 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:20:05,448 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:20:15,455 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:20:15,455 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:20:15,455 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:20:15,455 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:20:15,455 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:20:25,446 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:20:25,446 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:20:25,446 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:20:25,446 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:20:25,446 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:20:35,453 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:20:35,453 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:20:35,453 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:20:35,453 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:20:35,453 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:20:45,445 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:20:45,445 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:20:45,445 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:20:45,445 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:20:45,445 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:20:55,436 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:20:55,436 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:20:55,436 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:20:55,436 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:20:55,436 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:21:05,444 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:21:05,444 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:21:05,444 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:21:05,444 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:21:05,444 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:21:15,451 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:21:15,451 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:21:15,451 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:21:15,451 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:21:15,451 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:21:25,442 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:21:25,442 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:21:25,442 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:21:25,442 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:21:25,442 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:21:35,434 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:21:35,434 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:21:35,434 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:21:35,434 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:21:35,434 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:21:45,456 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:21:45,456 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:21:45,456 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:21:45,456 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:21:45,456 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:21:55,448 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:21:55,448 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:21:55,448 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:21:55,448 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:21:55,448 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:22:05,439 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:22:05,439 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:22:05,439 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:22:05,439 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:22:05,439 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:22:15,431 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:22:15,431 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:22:15,431 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:22:15,431 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:22:15,431 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:22:25,438 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:22:25,438 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:22:25,438 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:22:25,438 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:22:25,438 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:22:35,429 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:22:35,429 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:22:35,429 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:22:35,429 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:22:35,429 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:22:45,421 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:22:45,421 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:22:45,421 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:22:45,421 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:22:45,421 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:22:55,412 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:22:55,412 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:22:55,412 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:22:55,412 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:22:55,412 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:23:05,419 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:23:05,419 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:23:05,419 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:23:05,419 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:23:05,419 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:23:15,411 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:23:15,411 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:23:15,411 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:23:15,411 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:23:15,411 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:23:25,402 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:23:25,402 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:23:25,402 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:23:25,402 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:23:25,402 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:23:35,394 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:23:35,394 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:23:35,394 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:23:35,394 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:23:35,394 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:23:45,401 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:23:45,401 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:23:45,401 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:23:45,401 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:23:45,401 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:23:55,408 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:23:55,408 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:23:55,408 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:23:55,408 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:23:55,408 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:24:05,400 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:24:05,400 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:24:05,400 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:24:05,400 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:24:05,400 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:24:15,407 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:24:15,407 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:24:15,407 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:24:15,407 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:24:15,407 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:24:25,398 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:24:25,398 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:24:25,398 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:24:25,398 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:24:25,398 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:24:35,390 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:24:35,390 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:24:35,390 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:24:35,390 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:24:35,390 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:24:45,382 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:24:45,382 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:24:45,382 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:24:45,382 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:24:45,382 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:24:55,374 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:24:55,374 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:24:55,374 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:24:55,374 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:24:55,374 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:25:05,366 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:25:05,366 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:25:05,366 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:25:05,366 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:25:05,366 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:25:15,373 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:25:15,373 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:25:15,373 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:25:15,373 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:25:15,373 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:25:25,365 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:25:25,365 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:25:25,365 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:25:25,365 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:25:25,365 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:25:35,357 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:25:35,357 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:25:35,357 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:25:35,357 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:25:35,357 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:25:45,365 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:25:45,365 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:25:45,365 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:25:45,365 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:25:45,365 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:25:55,357 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:25:55,357 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:25:55,357 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:25:55,357 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:25:55,357 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:26:05,349 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:26:05,349 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:26:05,349 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:26:05,349 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:26:05,349 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:26:15,341 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:26:15,341 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:26:15,341 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:26:15,341 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:26:15,341 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:26:25,348 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:26:25,348 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:26:25,348 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:26:25,348 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:26:25,348 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:26:35,340 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:26:35,340 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:26:35,340 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:26:35,340 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:26:35,340 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:26:45,332 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:26:45,332 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:26:45,332 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:26:45,332 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:26:45,332 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:26:55,324 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:26:55,324 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:26:55,324 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:26:55,324 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:26:55,324 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:27:05,332 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:27:05,332 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:27:05,332 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:27:05,332 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:27:05,332 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:27:15,324 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:27:15,324 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:27:15,324 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:27:15,324 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:27:15,324 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:27:25,315 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:27:25,315 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:27:25,315 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:27:25,315 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:27:25,315 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:27:35,307 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:27:35,307 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:27:35,307 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:27:35,307 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:27:35,307 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:27:45,299 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:27:45,299 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:27:45,299 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:27:45,299 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:27:45,299 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:27:55,307 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:27:55,307 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:27:55,307 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:27:55,307 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:27:55,307 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:28:05,299 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:28:05,299 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:28:05,299 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:28:05,299 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:28:05,299 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:28:15,306 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:28:15,306 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:28:15,306 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:28:15,306 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:28:15,306 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:28:25,314 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:28:25,314 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:28:25,314 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:28:25,314 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:28:25,314 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:28:35,306 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:28:35,306 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:28:35,306 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:28:35,306 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:28:35,306 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:28:45,298 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:28:45,298 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:28:45,298 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:28:45,298 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:28:45,298 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:28:55,305 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:28:55,305 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:28:55,305 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:28:55,305 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:28:55,305 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:29:05,297 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:29:05,297 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:29:05,297 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:29:05,297 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:29:05,297 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:29:15,289 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:29:15,289 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:29:15,289 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:29:15,289 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:29:15,289 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:29:25,281 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:29:25,281 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:29:25,281 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:29:25,281 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:29:25,281 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:29:35,258 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:29:35,258 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:29:35,258 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:29:35,258 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:29:35,258 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:29:45,265 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:29:45,265 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:29:45,265 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:29:45,265 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:29:45,265 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:29:55,258 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:29:55,258 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:29:55,258 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:29:55,258 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:29:55,258 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:30:05,265 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:30:05,265 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:30:05,265 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:30:05,265 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:30:05,265 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:30:15,257 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:30:15,257 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:30:15,257 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:30:15,257 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:30:15,257 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:30:25,250 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:30:25,250 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:30:25,250 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:30:25,250 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:30:25,250 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:30:35,226 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:30:35,226 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:30:35,226 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:30:35,226 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:30:35,226 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:30:45,218 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:30:45,218 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:30:45,218 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:30:45,218 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:30:45,218 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:30:55,226 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:30:55,226 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:30:55,226 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:30:55,226 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:30:55,226 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:31:05,218 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:31:05,218 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:31:05,218 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:31:05,218 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:31:05,218 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:31:15,226 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:31:15,226 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:31:15,226 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:31:15,226 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:31:15,226 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:31:25,218 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:31:25,218 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:31:25,218 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:31:25,218 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:31:25,218 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:31:35,210 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:31:35,210 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:31:35,210 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:31:35,210 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:31:35,210 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:31:45,218 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:31:45,218 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:31:45,218 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:31:45,218 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:31:45,218 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:31:55,225 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:31:55,225 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:31:55,225 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:31:55,225 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:31:55,225 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:32:05,218 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:32:05,218 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:32:05,218 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:32:05,218 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:32:05,218 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:32:15,210 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:32:15,210 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:32:15,210 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:32:15,210 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:32:15,210 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:32:25,233 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:32:25,233 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:32:25,233 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:32:25,233 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:32:25,233 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:32:35,225 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:32:35,225 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:32:35,225 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:32:35,225 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:32:35,225 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:32:45,217 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:32:45,217 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:32:45,217 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:32:45,217 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:32:45,217 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:32:55,209 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:32:55,209 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:32:55,209 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:32:55,209 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:32:55,209 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:33:05,217 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:33:05,217 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:33:05,217 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:33:05,217 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:33:05,217 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:33:15,209 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:33:15,209 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:33:15,209 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:33:15,209 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:33:15,209 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:33:25,217 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:33:25,217 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:33:25,217 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:33:25,217 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:33:25,217 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:33:35,209 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:33:35,209 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:33:35,209 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:33:35,209 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:33:35,209 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:33:45,201 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:33:45,201 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:33:45,201 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:33:45,201 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:33:45,201 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:33:55,193 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:33:55,193 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:33:55,193 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:33:55,193 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:33:55,193 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:34:05,170 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:34:05,170 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:34:05,170 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:34:05,170 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:34:05,170 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:34:15,178 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:34:15,178 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:34:15,178 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:34:15,178 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:34:15,178 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:34:25,170 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:34:25,170 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:34:25,170 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:34:25,170 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:34:25,170 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:34:35,178 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:34:35,178 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:34:35,178 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:34:35,178 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:34:35,178 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:34:45,154 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:34:45,154 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:34:45,154 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:34:45,154 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:34:45,154 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:34:55,146 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:34:55,146 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:34:55,146 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:34:55,146 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:34:55,146 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:35:05,139 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:35:05,139 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:35:05,139 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:35:05,139 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:35:05,139 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:35:15,146 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:35:15,146 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:35:15,146 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:35:15,146 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:35:15,146 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:35:25,139 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:35:25,139 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:35:25,139 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:35:25,139 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:35:25,139 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:35:35,131 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:35:35,131 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:35:35,131 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:35:35,131 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:35:35,131 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:35:45,139 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:35:45,139 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:35:45,139 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:35:45,139 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:35:45,139 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:35:55,131 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:35:55,131 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:35:55,131 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:35:55,131 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:35:55,131 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:36:05,123 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:36:05,123 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:36:05,123 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:36:05,123 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:36:05,123 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:36:15,115 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:36:15,115 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:36:15,115 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:36:15,115 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:36:15,115 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:36:25,107 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:36:25,107 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:36:25,107 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:36:25,107 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:36:25,107 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:36:35,115 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:36:35,115 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:36:35,115 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:36:35,115 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:36:35,115 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:36:45,107 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:36:45,107 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:36:45,107 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:36:45,107 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:36:45,107 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:36:55,115 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:36:55,115 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:36:55,115 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:36:55,115 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:36:55,115 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:37:05,107 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:37:05,107 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:37:05,107 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:37:05,107 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:37:05,107 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:37:15,100 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:37:15,100 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:37:15,100 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:37:15,100 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:37:15,100 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:37:25,092 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:37:25,092 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:37:25,092 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:37:25,092 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:37:25,092 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:37:35,084 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:37:35,084 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:37:35,084 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:37:35,084 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:37:35,084 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:37:45,092 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:37:45,092 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:37:45,092 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:37:45,092 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:37:45,092 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:37:55,084 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:37:55,084 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:37:55,084 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:37:55,084 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:37:55,084 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:38:05,076 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:38:05,076 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:38:05,076 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:38:05,076 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:38:05,076 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:38:15,068 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:38:15,068 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:38:15,068 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:38:15,068 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:38:15,068 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:38:25,076 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:38:25,076 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:38:25,076 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:38:25,076 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:38:25,076 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:38:35,068 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:38:35,068 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:38:35,068 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:38:35,068 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:38:35,068 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:38:45,072 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:38:45,072 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:38:45,072 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:38:45,072 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:38:45,072 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:38:55,077 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:38:55,077 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:38:55,077 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:38:55,077 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:38:55,077 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:39:05,113 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:39:05,113 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:39:05,113 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:39:05,113 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:39:05,113 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:39:15,117 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:39:15,117 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:39:15,117 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:39:15,117 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:39:15,117 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:39:25,122 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:39:25,122 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:39:25,122 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:39:25,122 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:39:25,122 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:39:35,142 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:39:35,142 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:39:35,142 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:39:35,142 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:39:35,142 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:39:45,162 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:39:45,162 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:39:45,162 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:39:45,162 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:39:45,162 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:39:55,167 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:39:55,167 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:39:55,167 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:39:55,167 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:39:55,167 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:40:05,187 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:40:05,187 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:40:05,187 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:40:05,187 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:40:05,187 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:40:15,191 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:40:15,191 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:40:15,191 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:40:15,191 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:40:15,191 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:40:25,196 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:40:25,196 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:40:25,196 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:40:25,196 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:40:25,196 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:40:35,200 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:40:35,200 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:40:35,200 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:40:35,200 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:40:35,200 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:40:45,221 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:40:45,221 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:40:45,221 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:40:45,221 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:40:45,221 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:40:55,225 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:40:55,225 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:40:55,225 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:40:55,225 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:40:55,225 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:41:05,230 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:41:05,230 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:41:05,230 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:41:05,230 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:41:05,230 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:41:15,250 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:41:15,250 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:41:15,250 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:41:15,250 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:41:15,250 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:41:25,254 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:41:25,254 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:41:25,254 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:41:25,254 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:41:25,254 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:41:35,259 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:41:35,259 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:41:35,259 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:41:35,259 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:41:35,259 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:41:45,279 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:41:45,279 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:41:45,279 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:41:45,279 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:41:45,279 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:41:55,284 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:41:55,284 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:41:55,284 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:41:55,284 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:41:55,284 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:42:05,304 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:42:05,304 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:42:05,304 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:42:05,304 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:42:05,304 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:42:15,308 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:42:15,308 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:42:15,308 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:42:15,308 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:42:15,308 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:42:25,313 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:42:25,313 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:42:25,313 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:42:25,313 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:42:25,313 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:42:35,317 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:42:35,317 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:42:35,317 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:42:35,317 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:42:35,317 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:42:45,338 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:42:45,338 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:42:45,338 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:42:45,338 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:42:45,338 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:42:55,342 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:42:55,342 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:42:55,342 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:42:55,342 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:42:55,342 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:43:05,347 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:43:05,347 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:43:05,347 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:43:05,347 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:43:05,347 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:43:15,367 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:43:15,367 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:43:15,367 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:43:15,367 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:43:15,367 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:43:25,371 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:43:25,371 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:43:25,371 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:43:25,371 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:43:25,371 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:43:35,392 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:43:35,392 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:43:35,392 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:43:35,392 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:43:35,392 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:43:45,389 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:43:45,389 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:43:45,389 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:43:45,389 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:43:45,389 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:43:55,402 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:43:55,402 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:43:55,402 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:43:55,402 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:43:55,402 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:44:05,399 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:44:05,399 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:44:05,399 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:44:05,399 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:44:05,399 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:44:15,396 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:44:15,396 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:44:15,396 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:44:15,396 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:44:15,396 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:44:25,393 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:44:25,393 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:44:25,393 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:44:25,393 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:44:25,393 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:44:35,390 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:44:35,390 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:44:35,390 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:44:35,390 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:44:35,390 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:44:45,387 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:44:45,387 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:44:45,387 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:44:45,387 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:44:45,387 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:44:55,384 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:44:55,384 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:44:55,384 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:44:55,384 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:44:55,384 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:45:05,397 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:45:05,397 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:45:05,397 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:45:05,397 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:45:05,397 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:45:15,409 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:45:15,409 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:45:15,409 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:45:15,409 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:45:15,409 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:45:25,406 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:45:25,406 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:45:25,406 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:45:25,406 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:45:25,406 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:45:35,419 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:45:35,419 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:45:35,419 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:45:35,419 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:45:35,419 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:45:45,416 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:45:45,416 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:45:45,416 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:45:45,416 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:45:45,416 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:45:55,429 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:45:55,429 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:45:55,429 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:45:55,429 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:45:55,429 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:46:05,426 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:46:05,426 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:46:05,426 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:46:05,426 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:46:05,426 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:46:15,423 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:46:15,423 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:46:15,423 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:46:15,423 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:46:15,423 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:46:25,436 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:46:25,436 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:46:25,436 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:46:25,436 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:46:25,436 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:46:35,417 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:46:35,417 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:46:35,417 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:46:35,417 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:46:35,417 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:46:45,414 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:46:45,414 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:46:45,414 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:46:45,414 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:46:45,414 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:46:55,411 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:46:55,411 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:46:55,411 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:46:55,411 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:46:55,411 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:47:05,424 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:47:05,424 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:47:05,424 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:47:05,424 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:47:05,424 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:47:15,436 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:47:15,436 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:47:15,436 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:47:15,436 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:47:15,436 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:47:25,433 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:47:25,433 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:47:25,433 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:47:25,433 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:47:25,433 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:47:35,431 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:47:35,431 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:47:35,431 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:47:35,431 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:47:35,431 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:47:45,443 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:47:45,443 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:47:45,443 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:47:45,443 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:47:45,443 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:47:55,456 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:47:55,456 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:47:55,456 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:47:55,456 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:47:55,456 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:48:05,453 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:48:05,453 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:48:05,453 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:48:05,453 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:48:05,453 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:48:15,450 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:48:15,450 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:48:15,450 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:48:15,450 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:48:15,450 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:48:25,447 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:48:25,447 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:48:25,447 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:48:25,447 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:48:25,447 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:48:35,460 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:48:35,460 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:48:35,460 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:48:35,460 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:48:35,460 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:48:45,470 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:48:45,470 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:48:45,470 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:48:45,470 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:48:45,470 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:48:55,464 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:48:55,464 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:48:55,464 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:48:55,464 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:48:55,464 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:49:05,474 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:49:05,474 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:49:05,474 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:49:05,474 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:49:05,474 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:49:15,468 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:49:15,468 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:49:15,468 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:49:15,468 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:49:15,468 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:49:25,463 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:49:25,463 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:49:25,463 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:49:25,463 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:49:25,463 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:49:35,457 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:49:35,457 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:49:35,457 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:49:35,457 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:49:35,457 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:49:45,451 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:49:45,451 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:49:45,451 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:49:45,451 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:49:45,451 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:49:55,461 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:49:55,461 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:49:55,461 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:49:55,461 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:49:55,461 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:50:05,455 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:50:05,455 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:50:05,455 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:50:05,455 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:50:05,455 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:50:15,481 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:50:15,481 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:50:15,481 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:50:15,481 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:50:15,481 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:50:25,506 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:50:25,506 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:50:25,506 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:50:25,506 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:50:25,506 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:50:35,501 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:50:35,501 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:50:35,501 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:50:35,501 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:50:35,501 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:50:45,511 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:50:45,511 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:50:45,511 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:50:45,511 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:50:45,511 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:50:55,505 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:50:55,505 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:50:55,505 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:50:55,505 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:50:55,505 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:51:05,546 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:51:05,546 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:51:05,546 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:51:05,546 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:51:05,546 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:51:15,556 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:51:15,556 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:51:15,556 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:51:15,556 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:51:15,556 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:51:25,550 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:51:25,550 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:51:25,550 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:51:25,550 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:51:25,550 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:51:35,545 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:51:35,545 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:51:35,545 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:51:35,545 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:51:35,545 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:51:45,555 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:51:45,555 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:51:45,555 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:51:45,555 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:51:45,555 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:51:55,549 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:51:55,549 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:51:55,549 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:51:55,549 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:51:55,549 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:52:05,559 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:52:05,559 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:52:05,559 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:52:05,559 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:52:05,559 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:52:15,553 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:52:15,553 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:52:15,553 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:52:15,553 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:52:15,553 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:52:25,563 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:52:25,563 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:52:25,563 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:52:25,563 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:52:25,563 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:52:35,557 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:52:35,557 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:52:35,557 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:52:35,557 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:52:35,557 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:52:45,552 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:52:45,552 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:52:45,552 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:52:45,552 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:52:45,552 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:52:55,546 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:52:55,546 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:52:55,546 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:52:55,546 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:52:55,546 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:53:05,556 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:53:05,556 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:53:05,556 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:53:05,556 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:53:05,556 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:53:15,566 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:53:15,566 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:53:15,566 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:53:15,566 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:53:15,566 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:53:25,560 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:53:25,560 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:53:25,560 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:53:25,560 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:53:25,560 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:53:35,554 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:53:35,554 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:53:35,554 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:53:35,554 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:53:35,554 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:53:45,548 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:53:45,548 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:53:45,548 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:53:45,548 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:53:45,548 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:53:55,557 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:53:55,557 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:53:55,557 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:53:55,557 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:53:55,557 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:54:05,550 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:54:05,550 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:54:05,550 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:54:05,550 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:54:05,550 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:54:15,544 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:54:15,544 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:54:15,544 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:54:15,544 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:54:15,544 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:54:25,553 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:54:25,553 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:54:25,553 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:54:25,553 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:54:25,553 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:54:35,562 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:54:35,562 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:54:35,562 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:54:35,562 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:54:35,562 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:54:45,555 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:54:45,555 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:54:45,555 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:54:45,555 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:54:45,555 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:54:55,564 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:54:55,564 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:54:55,564 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:54:55,564 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:54:55,564 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:55:05,558 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:55:05,558 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:55:05,558 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:55:05,558 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:55:05,558 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:55:15,551 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:55:15,551 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:55:15,551 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:55:15,551 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:55:15,551 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:55:25,560 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:55:25,560 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:55:25,560 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:55:25,560 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:55:25,560 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:55:35,553 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:55:35,553 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:55:35,553 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:55:35,553 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:55:35,553 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:55:45,562 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:55:45,562 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:55:45,562 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:55:45,562 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:55:45,562 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:55:55,556 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:55:55,556 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:55:55,556 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:55:55,556 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:55:55,556 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:56:05,549 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:56:05,549 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:56:05,549 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:56:05,549 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:56:05,549 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:56:15,543 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:56:15,543 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:56:15,543 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:56:15,543 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:56:15,543 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:56:25,552 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:56:25,552 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:56:25,552 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:56:25,552 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:56:25,552 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:56:35,545 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:56:35,545 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:56:35,545 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:56:35,545 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:56:35,545 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:56:45,538 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:56:45,538 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:56:45,538 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:56:45,538 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:56:45,538 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:56:55,516 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:56:55,516 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:56:55,516 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:56:55,516 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:56:55,516 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:57:05,525 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:57:05,525 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:57:05,525 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:57:05,525 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:57:05,525 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:57:15,534 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:57:15,534 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:57:15,534 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:57:15,534 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:57:15,534 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:57:25,528 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:57:25,528 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:57:25,528 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:57:25,528 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:57:25,528 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:57:35,521 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:57:35,521 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:57:35,521 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:57:35,521 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:57:35,521 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:57:45,530 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:57:45,530 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:57:45,530 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:57:45,530 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:57:45,530 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:57:55,539 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:57:55,539 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:57:55,539 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:57:55,539 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:57:55,539 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:58:05,533 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:58:05,533 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:58:05,533 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:58:05,533 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:58:05,533 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:58:15,542 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:58:15,542 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:58:15,542 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:58:15,542 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:58:15,542 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:58:25,551 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:58:25,551 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:58:25,551 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:58:25,551 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:58:25,551 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:58:35,560 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:58:35,560 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:58:35,560 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:58:35,560 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:58:35,560 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:58:45,553 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:58:45,553 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:58:45,553 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:58:45,553 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:58:45,553 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:58:55,546 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:58:55,546 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:58:55,546 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:58:55,546 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:58:55,546 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:59:05,554 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:59:05,554 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:59:05,554 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:59:05,554 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:59:05,554 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:59:15,547 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:59:15,547 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:59:15,547 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:59:15,547 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:59:15,547 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:59:25,540 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:59:25,540 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:59:25,540 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:59:25,540 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:59:25,540 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:59:35,533 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:59:35,533 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:59:35,533 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:59:35,533 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:59:35,533 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:59:45,526 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:59:45,526 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:59:45,526 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:59:45,526 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:59:45,526 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 16:59:55,551 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 16:59:55,551 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 16:59:55,551 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 16:59:55,551 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 16:59:55,551 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 17:00:05,559 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 17:00:05,559 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 17:00:05,559 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 17:00:05,559 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 17:00:05,559 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 17:00:15,568 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 17:00:15,568 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 17:00:15,568 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 17:00:15,568 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 17:00:15,568 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 17:00:25,561 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 17:00:25,561 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 17:00:25,561 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 17:00:25,561 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 17:00:25,561 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 17:00:35,570 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 17:00:35,570 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 17:00:35,570 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 17:00:35,570 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 17:00:35,570 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 17:00:45,563 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 17:00:45,563 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 17:00:45,563 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 17:00:45,563 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 17:00:45,563 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 17:00:55,571 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 17:00:55,571 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 17:00:55,571 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 17:00:55,571 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 17:00:55,571 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 17:01:05,564 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 17:01:05,564 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 17:01:05,564 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 17:01:05,564 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 17:01:05,564 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 17:01:15,557 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 17:01:15,557 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 17:01:15,557 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 17:01:15,557 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 17:01:15,557 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 17:01:25,566 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 17:01:25,566 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 17:01:25,566 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 17:01:25,566 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 17:01:25,566 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 17:01:35,559 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 17:01:35,559 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 17:01:35,559 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 17:01:35,559 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 17:01:35,559 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 17:01:45,568 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 17:01:45,568 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 17:01:45,568 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 17:01:45,568 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 17:01:45,568 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 17:01:55,561 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 17:01:55,561 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 17:01:55,561 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 17:01:55,561 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 17:01:55,561 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 17:02:05,554 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 17:02:05,554 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 17:02:05,554 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 17:02:05,554 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 17:02:05,554 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 17:02:15,547 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 17:02:15,547 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 17:02:15,547 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 17:02:15,547 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 17:02:15,547 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 17:02:25,540 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 17:02:25,540 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 17:02:25,540 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 17:02:25,540 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 17:02:25,540 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 17:02:35,564 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 17:02:35,564 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 17:02:35,564 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 17:02:35,564 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 17:02:35,564 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 17:02:45,557 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 17:02:45,557 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 17:02:45,557 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 17:02:45,557 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 17:02:45,557 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 17:02:55,550 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 17:02:55,550 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 17:02:55,550 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 17:02:55,550 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 17:02:55,550 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 17:03:05,543 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 17:03:05,543 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 17:03:05,543 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 17:03:05,543 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 17:03:05,543 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 17:03:15,536 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 17:03:15,536 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 17:03:15,536 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 17:03:15,536 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 17:03:15,536 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 17:03:25,545 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 17:03:25,545 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 17:03:25,545 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 17:03:25,545 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 17:03:25,545 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 17:03:35,553 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 17:03:35,553 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 17:03:35,553 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 17:03:35,553 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 17:03:35,553 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 17:03:45,546 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 17:03:45,546 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 17:03:45,546 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 17:03:45,546 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 17:03:45,546 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 17:03:55,539 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 17:03:55,539 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 17:03:55,539 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 17:03:55,539 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 17:03:55,539 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 17:04:05,548 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 17:04:05,548 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 17:04:05,548 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 17:04:05,548 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 17:04:05,548 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 17:04:15,540 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 17:04:15,540 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 17:04:15,540 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 17:04:15,540 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 17:04:15,540 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 17:04:25,549 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 17:04:25,549 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 17:04:25,549 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 17:04:25,549 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 17:04:25,549 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 17:04:35,542 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 17:04:35,542 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 17:04:35,542 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 17:04:35,542 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 17:04:35,542 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 17:04:45,535 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 17:04:45,535 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 17:04:45,535 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 17:04:45,535 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 17:04:45,535 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 17:04:55,528 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 17:04:55,528 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 17:04:55,528 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 17:04:55,528 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 17:04:55,528 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 17:05:05,536 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 17:05:05,536 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 17:05:05,536 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 17:05:05,536 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 17:05:05,536 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 17:05:15,529 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 17:05:15,529 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 17:05:15,529 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 17:05:15,529 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 17:05:15,529 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 17:05:25,522 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 17:05:25,522 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 17:05:25,522 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 17:05:25,522 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 17:05:25,522 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 17:05:35,515 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 17:05:35,515 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 17:05:35,515 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 17:05:35,515 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 17:05:35,515 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 17:05:45,508 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 17:05:45,508 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 17:05:45,508 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 17:05:45,508 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 17:05:45,508 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 17:05:55,516 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 17:05:55,516 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 17:05:55,516 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 17:05:55,516 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 17:05:55,516 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 17:06:05,509 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 17:06:05,509 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 17:06:05,509 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 17:06:05,509 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 17:06:05,509 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 17:06:15,502 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 17:06:15,502 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 17:06:15,502 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 17:06:15,502 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 17:06:15,502 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 17:06:25,511 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 17:06:25,511 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 17:06:25,511 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 17:06:25,511 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 17:06:25,511 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 17:06:35,503 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 17:06:35,503 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 17:06:35,503 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 17:06:35,503 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 17:06:35,503 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 17:06:45,496 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 17:06:45,496 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 17:06:45,496 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 17:06:45,496 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 17:06:45,496 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 17:06:55,489 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 17:06:55,489 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 17:06:55,489 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 17:06:55,489 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 17:06:55,489 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 17:07:05,498 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 17:07:05,498 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 17:07:05,498 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 17:07:05,498 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 17:07:05,498 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 17:07:15,506 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 17:07:15,506 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 17:07:15,506 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 17:07:15,506 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 17:07:15,506 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 17:07:25,499 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 17:07:25,499 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 17:07:25,499 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 17:07:25,499 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 17:07:25,499 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 17:07:35,492 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 17:07:35,492 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 17:07:35,492 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 17:07:35,492 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 17:07:35,492 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 17:07:45,485 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 17:07:45,485 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 17:07:45,485 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 17:07:45,485 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 17:07:45,485 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 17:07:55,478 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 17:07:55,478 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 17:07:55,478 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 17:07:55,478 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 17:07:55,478 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 17:08:05,486 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 17:08:05,486 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 17:08:05,486 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 17:08:05,486 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 17:08:05,486 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 17:08:15,479 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 17:08:15,479 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 17:08:15,479 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 17:08:15,479 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 17:08:15,479 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 17:08:25,472 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 17:08:25,472 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 17:08:25,472 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 17:08:25,472 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 17:08:25,472 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
2012-06-26 17:08:35,481 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer start...
2012-06-26 17:08:35,481 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - config_expired_time=210 second!
2012-06-26 17:08:35,481 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - befor clear store size count=0
2012-06-26 17:08:35,481 [pool-1-thread-1 ] [DEBUG] .q.m.i.InMemorySessionStore - after clear store size count=0
2012-06-26 17:08:35,481 [pool-1-thread-1 ] [INFO ] c.c.q.m.PosServer           - clean expired server session timer end...
